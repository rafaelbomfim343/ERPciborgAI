"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@visactor+vgrammar-core@0.16.11";
exports.ids = ["vendor-chunks/@visactor+vgrammar-core@0.16.11"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/axis.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/axis.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Axis: () => (/* binding */ Axis),\n/* harmony export */   generateCircleAxisAttributes: () => (/* binding */ generateCircleAxisAttributes),\n/* harmony export */   generateCoordinateAxisAttribute: () => (/* binding */ generateCoordinateAxisAttribute),\n/* harmony export */   generateLineAxisAttributes: () => (/* binding */ generateLineAxisAttributes),\n/* harmony export */   registerAxis: () => (/* binding */ registerAxis),\n/* harmony export */   registerCircleAxis: () => (/* binding */ registerCircleAxis),\n/* harmony export */   registerLineAxis: () => (/* binding */ registerLineAxis)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/axis/line.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/axis/circle.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scale.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateLineAxisAttributes = (scale, theme, addition, tickCount) => {\n    var _a, _b, _c, _d;\n    const axisTheme = null !== (_b = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.axis) && void 0 !== _b ? _b : {};\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, axisTheme, null != addition ? addition : {});\n    const items = [ (null !== (_d = null === (_c = scale.tickData) || void 0 === _c ? void 0 : _c.call(scale, tickCount)) && void 0 !== _d ? _d : []).map((tick => ({\n        id: tick.index,\n        label: tick.tick,\n        value: tick.value,\n        rawValue: tick.tick\n    }))) ];\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, axisTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nconst generateCircleAxisAttributes = (scale, theme, addition, tickCount) => {\n    var _a, _b, _c, _d;\n    const axisTheme = null !== (_b = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleAxis) && void 0 !== _b ? _b : {};\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, axisTheme, null != addition ? addition : {});\n    const items = [ (null !== (_d = null === (_c = scale.tickData) || void 0 === _c ? void 0 : _c.call(scale, tickCount)) && void 0 !== _d ? _d : []).map((tick => ({\n        id: tick.index,\n        label: tick.tick,\n        value: tick.value,\n        rawValue: tick.tick\n    }))) ];\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, axisTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nconst generateCoordinateAxisAttribute = (scale, coordinate, inside, baseValue, layout, isGrid) => {\n    var _a;\n    const axisPosition = scale.getCoordinateAxisPosition();\n    layout && \"auto\" === layout.position && (layout.position = inside ? \"content\" : axisPosition);\n    const axisPoints = scale.getCoordinateAxisPoints(baseValue);\n    if (axisPoints) {\n        const res = {\n            start: axisPoints[0],\n            end: axisPoints[1],\n            verticalFactor: (\"top\" === axisPosition || \"left\" === axisPosition ? -1 : 1) * (inside ? -1 : 1) * ((null === (_a = scale.getSpec().range) || void 0 === _a ? void 0 : _a.reversed) ? -1 : 1)\n        };\n        if (isGrid && \"polar\" === coordinate.type) {\n            const angle = coordinate.angle();\n            res.center = coordinate.origin(), res.startAngle = angle[0], res.endAngle = angle[1];\n        }\n        return res;\n    }\n    const radius = coordinate.radius(), angle = coordinate.angle();\n    return {\n        center: coordinate.origin(),\n        radius: radius[1],\n        innerRadius: radius[0],\n        inside: inside,\n        startAngle: angle[0],\n        endAngle: angle[1]\n    };\n};\n\nclass Axis extends _scale__WEBPACK_IMPORTED_MODULE_1__.ScaleComponent {\n    constructor(view, group, mode) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, \n        this.mode = mode;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.axisType(spec.axisType), this.tickCount(spec.tickCount), \n        this.inside(spec.inside), this.baseValue(spec.baseValue), this;\n    }\n    scale(scale) {\n        return super.scale(scale), this._axisComponentType = null, this;\n    }\n    axisType(axisType) {\n        return this.spec.axisType = axisType, this._axisComponentType = null, this._prepareRejoin(), \n        this.commit(), this;\n    }\n    addGraphicItem(attrs, groupKey) {\n        const initialAttributes = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            x: 0,\n            y: 0,\n            start: {\n                x: 0,\n                y: 0\n            },\n            end: {\n                x: 0,\n                y: 0\n            }\n        }, attrs), graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.createGraphicComponent(this._getAxisComponentType(), initialAttributes, {\n            mode: this.mode,\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    tickCount(tickCount) {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n        return scaleGrammar && scaleGrammar.tickCount(tickCount), this.setFunctionSpec(tickCount, \"tickCount\");\n    }\n    inside(inside) {\n        return this.setFunctionSpec(inside, \"inside\");\n    }\n    baseValue(baseValue) {\n        return this.setFunctionSpec(baseValue, \"baseValue\");\n    }\n    getAxisComponentType() {\n        return this._axisComponentType;\n    }\n    _updateComponentEncoders() {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale, encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme();\n                    let addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__.invokeEncoder)(encoder, datum, element, parameters);\n                    const inside = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.inside, parameters, datum, element), baseValue = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.baseValue, parameters, datum, element), coordinate = null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getCoordinate) || void 0 === _a ? void 0 : _a.call(scaleGrammar);\n                    coordinate && (addition = Object.assign(generateCoordinateAxisAttribute(scaleGrammar, coordinate, inside, baseValue, this.spec.layout), addition));\n                    const scale = null === (_b = null == scaleGrammar ? void 0 : scaleGrammar.getScale) || void 0 === _b ? void 0 : _b.call(scaleGrammar), tickCount = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.tickCount, parameters, datum, element);\n                    switch (this._getAxisComponentType()) {\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis:\n                        return generateLineAxisAttributes(scale, theme, addition, tickCount);\n\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis:\n                        return generateCircleAxisAttributes(scale, theme, addition, tickCount);\n                    }\n                    return addition;\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    _getAxisComponentType() {\n        var _a;\n        if (this._axisComponentType) return this._axisComponentType;\n        let type = this.spec.axisType;\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(type)) {\n            const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n            type = (null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getCoordinate) || void 0 === _a ? void 0 : _a.call(scaleGrammar)) ? scaleGrammar.getCoordinateAxisPoints() ? \"line\" : \"circle\" : \"line\";\n        }\n        return this._axisComponentType = \"circle\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis : _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis, \n        this._axisComponentType;\n    }\n}\n\nAxis.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis;\n\nconst registerAxis = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.LineAxis(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.CircleAxis(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, Axis);\n};\n\nconst registerLineAxis = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.LineAxis(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, Axis);\n};\n\nconst registerCircleAxis = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.CircleAxis(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.axis, Axis);\n};\n//# sourceMappingURL=axis.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2F4aXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7O0FBRXNEOztBQUV2RDs7QUFFaEI7O0FBRVk7O0FBRUY7O0FBRVQ7O0FBRW5DO0FBQ1A7QUFDQTtBQUNBLHVCQUF1Qiw0REFBSyxHQUFHLDZDQUE2QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsNERBQUssR0FBRztBQUNuQjtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDOztBQUVPO0FBQ1A7QUFDQTtBQUNBLHVCQUF1Qiw0REFBSyxHQUFHLDZDQUE2QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsNERBQUssR0FBRztBQUNuQjtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTyxtQkFBbUIsa0RBQWM7QUFDeEM7QUFDQSxvQkFBb0IsdURBQWEseUNBQXlDLHVEQUFhO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQUs7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0JBQXdCLGtEQUFPO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDREQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBUTtBQUNyQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGlFQUFhO0FBQ2hELG1DQUFtQywrREFBa0IsNERBQTRELCtEQUFrQjtBQUNuSTtBQUNBLHVLQUF1SywrREFBa0I7QUFDekw7QUFDQSwyQkFBMkIsa0RBQVE7QUFDbkM7O0FBRUEsMkJBQTJCLGtEQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMsS0FBSztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQUs7QUFDakIsaUNBQWlDLDREQUFRO0FBQ3pDO0FBQ0E7QUFDQSw2REFBNkQsa0RBQVEsY0FBYyxrREFBUTtBQUMzRjtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLHVEQUFhOztBQUUzQjtBQUNQLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLG9DQUFvQyxrRUFBaUI7QUFDbEcsSUFBSSxrREFBTywwQkFBMEIsa0RBQVEsMkJBQTJCLG9FQUFtQjtBQUMzRixJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQzs7QUFFTztBQUNQLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLG9DQUFvQyxrRUFBaUI7QUFDbEcsSUFBSSxrREFBTyxtQkFBbUIsdURBQWE7QUFDM0M7O0FBRU87QUFDUCxJQUFJLGtEQUFPLDBCQUEwQixrREFBUSwyQkFBMkIsb0VBQW1CO0FBQzNGLElBQUksa0RBQU8sbUJBQW1CLHVEQUFhO0FBQzNDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9heGlzLmpzPzEyMzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIGlzU3RyaW5nLCBtZXJnZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IENpcmNsZUF4aXMgYXMgQ2lyY2xlQXhpc0NvbXBvbmVudCwgTGluZUF4aXMgYXMgTGluZUF4aXNDb21wb25lbnQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBBeGlzRW51bSwgQ29tcG9uZW50RW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBTY2FsZUNvbXBvbmVudCB9IGZyb20gXCIuL3NjYWxlXCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXIgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlTGluZUF4aXNBdHRyaWJ1dGVzID0gKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24sIHRpY2tDb3VudCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCBheGlzVGhlbWUgPSBudWxsICE9PSAoX2IgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmF4aXMpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHt9O1xuICAgIGlmICghc2NhbGUpIHJldHVybiBtZXJnZSh7fSwgYXhpc1RoZW1lLCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG4gICAgY29uc3QgaXRlbXMgPSBbIChudWxsICE9PSAoX2QgPSBudWxsID09PSAoX2MgPSBzY2FsZS50aWNrRGF0YSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmNhbGwoc2NhbGUsIHRpY2tDb3VudCkpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IFtdKS5tYXAoKHRpY2sgPT4gKHtcbiAgICAgICAgaWQ6IHRpY2suaW5kZXgsXG4gICAgICAgIGxhYmVsOiB0aWNrLnRpY2ssXG4gICAgICAgIHZhbHVlOiB0aWNrLnZhbHVlLFxuICAgICAgICByYXdWYWx1ZTogdGljay50aWNrXG4gICAgfSkpKSBdO1xuICAgIHJldHVybiBtZXJnZSh7fSwgYXhpc1RoZW1lLCB7XG4gICAgICAgIGl0ZW1zOiBpdGVtc1xuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUNpcmNsZUF4aXNBdHRyaWJ1dGVzID0gKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24sIHRpY2tDb3VudCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCBheGlzVGhlbWUgPSBudWxsICE9PSAoX2IgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmNpcmNsZUF4aXMpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHt9O1xuICAgIGlmICghc2NhbGUpIHJldHVybiBtZXJnZSh7fSwgYXhpc1RoZW1lLCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG4gICAgY29uc3QgaXRlbXMgPSBbIChudWxsICE9PSAoX2QgPSBudWxsID09PSAoX2MgPSBzY2FsZS50aWNrRGF0YSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmNhbGwoc2NhbGUsIHRpY2tDb3VudCkpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IFtdKS5tYXAoKHRpY2sgPT4gKHtcbiAgICAgICAgaWQ6IHRpY2suaW5kZXgsXG4gICAgICAgIGxhYmVsOiB0aWNrLnRpY2ssXG4gICAgICAgIHZhbHVlOiB0aWNrLnZhbHVlLFxuICAgICAgICByYXdWYWx1ZTogdGljay50aWNrXG4gICAgfSkpKSBdO1xuICAgIHJldHVybiBtZXJnZSh7fSwgYXhpc1RoZW1lLCB7XG4gICAgICAgIGl0ZW1zOiBpdGVtc1xuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUNvb3JkaW5hdGVBeGlzQXR0cmlidXRlID0gKHNjYWxlLCBjb29yZGluYXRlLCBpbnNpZGUsIGJhc2VWYWx1ZSwgbGF5b3V0LCBpc0dyaWQpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYXhpc1Bvc2l0aW9uID0gc2NhbGUuZ2V0Q29vcmRpbmF0ZUF4aXNQb3NpdGlvbigpO1xuICAgIGxheW91dCAmJiBcImF1dG9cIiA9PT0gbGF5b3V0LnBvc2l0aW9uICYmIChsYXlvdXQucG9zaXRpb24gPSBpbnNpZGUgPyBcImNvbnRlbnRcIiA6IGF4aXNQb3NpdGlvbik7XG4gICAgY29uc3QgYXhpc1BvaW50cyA9IHNjYWxlLmdldENvb3JkaW5hdGVBeGlzUG9pbnRzKGJhc2VWYWx1ZSk7XG4gICAgaWYgKGF4aXNQb2ludHMpIHtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgc3RhcnQ6IGF4aXNQb2ludHNbMF0sXG4gICAgICAgICAgICBlbmQ6IGF4aXNQb2ludHNbMV0sXG4gICAgICAgICAgICB2ZXJ0aWNhbEZhY3RvcjogKFwidG9wXCIgPT09IGF4aXNQb3NpdGlvbiB8fCBcImxlZnRcIiA9PT0gYXhpc1Bvc2l0aW9uID8gLTEgOiAxKSAqIChpbnNpZGUgPyAtMSA6IDEpICogKChudWxsID09PSAoX2EgPSBzY2FsZS5nZXRTcGVjKCkucmFuZ2UpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5yZXZlcnNlZCkgPyAtMSA6IDEpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChpc0dyaWQgJiYgXCJwb2xhclwiID09PSBjb29yZGluYXRlLnR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gY29vcmRpbmF0ZS5hbmdsZSgpO1xuICAgICAgICAgICAgcmVzLmNlbnRlciA9IGNvb3JkaW5hdGUub3JpZ2luKCksIHJlcy5zdGFydEFuZ2xlID0gYW5nbGVbMF0sIHJlcy5lbmRBbmdsZSA9IGFuZ2xlWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGNvbnN0IHJhZGl1cyA9IGNvb3JkaW5hdGUucmFkaXVzKCksIGFuZ2xlID0gY29vcmRpbmF0ZS5hbmdsZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNlbnRlcjogY29vcmRpbmF0ZS5vcmlnaW4oKSxcbiAgICAgICAgcmFkaXVzOiByYWRpdXNbMV0sXG4gICAgICAgIGlubmVyUmFkaXVzOiByYWRpdXNbMF0sXG4gICAgICAgIGluc2lkZTogaW5zaWRlLFxuICAgICAgICBzdGFydEFuZ2xlOiBhbmdsZVswXSxcbiAgICAgICAgZW5kQW5nbGU6IGFuZ2xlWzFdXG4gICAgfTtcbn07XG5cbmV4cG9ydCBjbGFzcyBBeGlzIGV4dGVuZHMgU2NhbGVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIGdyb3VwLCBtb2RlKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIENvbXBvbmVudEVudW0uYXhpcywgZ3JvdXApLCB0aGlzLnNwZWMuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0uYXhpcywgXG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgfVxuICAgIHBhcnNlQWRkaXRpb24oc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2VBZGRpdGlvbihzcGVjKSwgdGhpcy5heGlzVHlwZShzcGVjLmF4aXNUeXBlKSwgdGhpcy50aWNrQ291bnQoc3BlYy50aWNrQ291bnQpLCBcbiAgICAgICAgdGhpcy5pbnNpZGUoc3BlYy5pbnNpZGUpLCB0aGlzLmJhc2VWYWx1ZShzcGVjLmJhc2VWYWx1ZSksIHRoaXM7XG4gICAgfVxuICAgIHNjYWxlKHNjYWxlKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5zY2FsZShzY2FsZSksIHRoaXMuX2F4aXNDb21wb25lbnRUeXBlID0gbnVsbCwgdGhpcztcbiAgICB9XG4gICAgYXhpc1R5cGUoYXhpc1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5heGlzVHlwZSA9IGF4aXNUeXBlLCB0aGlzLl9heGlzQ29tcG9uZW50VHlwZSA9IG51bGwsIHRoaXMuX3ByZXBhcmVSZWpvaW4oKSwgXG4gICAgICAgIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGFkZEdyYXBoaWNJdGVtKGF0dHJzLCBncm91cEtleSkge1xuICAgICAgICBjb25zdCBpbml0aWFsQXR0cmlidXRlcyA9IG1lcmdlKHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgc3RhcnQ6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmQ6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgYXR0cnMpLCBncmFwaGljSXRlbSA9IEZhY3RvcnkuY3JlYXRlR3JhcGhpY0NvbXBvbmVudCh0aGlzLl9nZXRBeGlzQ29tcG9uZW50VHlwZSgpLCBpbml0aWFsQXR0cmlidXRlcywge1xuICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgc2tpcERlZmF1bHQ6IHRoaXMuc3BlYy5za2lwVGhlbWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdXBlci5hZGRHcmFwaGljSXRlbShpbml0aWFsQXR0cmlidXRlcywgZ3JvdXBLZXksIGdyYXBoaWNJdGVtKTtcbiAgICB9XG4gICAgdGlja0NvdW50KHRpY2tDb3VudCkge1xuICAgICAgICBjb25zdCBzY2FsZUdyYW1tYXIgPSBpc1N0cmluZyh0aGlzLnNwZWMuc2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZCh0aGlzLnNwZWMuc2NhbGUpIDogdGhpcy5zcGVjLnNjYWxlO1xuICAgICAgICByZXR1cm4gc2NhbGVHcmFtbWFyICYmIHNjYWxlR3JhbW1hci50aWNrQ291bnQodGlja0NvdW50KSwgdGhpcy5zZXRGdW5jdGlvblNwZWModGlja0NvdW50LCBcInRpY2tDb3VudFwiKTtcbiAgICB9XG4gICAgaW5zaWRlKGluc2lkZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMoaW5zaWRlLCBcImluc2lkZVwiKTtcbiAgICB9XG4gICAgYmFzZVZhbHVlKGJhc2VWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMoYmFzZVZhbHVlLCBcImJhc2VWYWx1ZVwiKTtcbiAgICB9XG4gICAgZ2V0QXhpc0NvbXBvbmVudFR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9heGlzQ29tcG9uZW50VHlwZTtcbiAgICB9XG4gICAgX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCkge1xuICAgICAgICBjb25zdCBzY2FsZUdyYW1tYXIgPSBpc1N0cmluZyh0aGlzLnNwZWMuc2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZCh0aGlzLnNwZWMuc2NhbGUpIDogdGhpcy5zcGVjLnNjYWxlLCBlbmNvZGVycyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdXBkYXRlOiB7fVxuICAgICAgICB9LCB0aGlzLnNwZWMuZW5jb2RlKSwgY29tcG9uZW50RW5jb2RlcnMgPSBPYmplY3Qua2V5cyhlbmNvZGVycykucmVkdWNlKCgocmVzLCBzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IGVuY29kZXJzW3N0YXRlXTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmIChyZXNbc3RhdGVdID0ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhlbWUgPSB0aGlzLnNwZWMuc2tpcFRoZW1lID8gbnVsbCA6IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFkZGl0aW9uID0gaW52b2tlRW5jb2RlcihlbmNvZGVyLCBkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc2lkZSA9IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLnNwZWMuaW5zaWRlLCBwYXJhbWV0ZXJzLCBkYXR1bSwgZWxlbWVudCksIGJhc2VWYWx1ZSA9IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLnNwZWMuYmFzZVZhbHVlLCBwYXJhbWV0ZXJzLCBkYXR1bSwgZWxlbWVudCksIGNvb3JkaW5hdGUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHNjYWxlR3JhbW1hciA/IHZvaWQgMCA6IHNjYWxlR3JhbW1hci5nZXRDb29yZGluYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2FsbChzY2FsZUdyYW1tYXIpO1xuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlICYmIChhZGRpdGlvbiA9IE9iamVjdC5hc3NpZ24oZ2VuZXJhdGVDb29yZGluYXRlQXhpc0F0dHJpYnV0ZShzY2FsZUdyYW1tYXIsIGNvb3JkaW5hdGUsIGluc2lkZSwgYmFzZVZhbHVlLCB0aGlzLnNwZWMubGF5b3V0KSwgYWRkaXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBudWxsID09PSAoX2IgPSBudWxsID09IHNjYWxlR3JhbW1hciA/IHZvaWQgMCA6IHNjYWxlR3JhbW1hci5nZXRTY2FsZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoc2NhbGVHcmFtbWFyKSwgdGlja0NvdW50ID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3BlYy50aWNrQ291bnQsIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9nZXRBeGlzQ29tcG9uZW50VHlwZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBBeGlzRW51bS5saW5lQXhpczpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUxpbmVBeGlzQXR0cmlidXRlcyhzY2FsZSwgdGhlbWUsIGFkZGl0aW9uLCB0aWNrQ291bnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBBeGlzRW51bS5jaXJjbGVBeGlzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlQ2lyY2xlQXhpc0F0dHJpYnV0ZXMoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbiwgdGlja0NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkaXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHJlcztcbiAgICAgICAgfSksIHt9KTtcbiAgICAgICAgdGhpcy5fZW5jb2RlcnMgPSBjb21wb25lbnRFbmNvZGVycztcbiAgICB9XG4gICAgX2dldEF4aXNDb21wb25lbnRUeXBlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLl9heGlzQ29tcG9uZW50VHlwZSkgcmV0dXJuIHRoaXMuX2F4aXNDb21wb25lbnRUeXBlO1xuICAgICAgICBsZXQgdHlwZSA9IHRoaXMuc3BlYy5heGlzVHlwZTtcbiAgICAgICAgaWYgKGlzTmlsKHR5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZUdyYW1tYXIgPSBpc1N0cmluZyh0aGlzLnNwZWMuc2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZCh0aGlzLnNwZWMuc2NhbGUpIDogdGhpcy5zcGVjLnNjYWxlO1xuICAgICAgICAgICAgdHlwZSA9IChudWxsID09PSAoX2EgPSBudWxsID09IHNjYWxlR3JhbW1hciA/IHZvaWQgMCA6IHNjYWxlR3JhbW1hci5nZXRDb29yZGluYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2FsbChzY2FsZUdyYW1tYXIpKSA/IHNjYWxlR3JhbW1hci5nZXRDb29yZGluYXRlQXhpc1BvaW50cygpID8gXCJsaW5lXCIgOiBcImNpcmNsZVwiIDogXCJsaW5lXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2F4aXNDb21wb25lbnRUeXBlID0gXCJjaXJjbGVcIiA9PT0gdHlwZSA/IEF4aXNFbnVtLmNpcmNsZUF4aXMgOiBBeGlzRW51bS5saW5lQXhpcywgXG4gICAgICAgIHRoaXMuX2F4aXNDb21wb25lbnRUeXBlO1xuICAgIH1cbn1cblxuQXhpcy5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS5heGlzO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJBeGlzID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KEF4aXNFbnVtLmxpbmVBeGlzLCAoKGF0dHJzLCBvcHRpb25zKSA9PiBuZXcgTGluZUF4aXNDb21wb25lbnQoYXR0cnMsIG9wdGlvbnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KEF4aXNFbnVtLmNpcmNsZUF4aXMsIChhdHRycyA9PiBuZXcgQ2lyY2xlQXhpc0NvbXBvbmVudChhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLmF4aXMsIEF4aXMpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTGluZUF4aXMgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoQXhpc0VudW0ubGluZUF4aXMsICgoYXR0cnMsIG9wdGlvbnMpID0+IG5ldyBMaW5lQXhpc0NvbXBvbmVudChhdHRycywgb3B0aW9ucykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLmF4aXMsIEF4aXMpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQ2lyY2xlQXhpcyA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChBeGlzRW51bS5jaXJjbGVBeGlzLCAoYXR0cnMgPT4gbmV3IENpcmNsZUF4aXNDb21wb25lbnQoYXR0cnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50RW51bS5heGlzLCBBeGlzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1heGlzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/axis.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/datazoom.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/datazoom.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Datazoom: () => (/* binding */ Datazoom),\n/* harmony export */   generateDatazoomAttributes: () => (/* binding */ generateDatazoomAttributes),\n/* harmony export */   registerDataZoom: () => (/* binding */ registerDataZoom)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/data-zoom/data-zoom.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _interactions_datazoom_filter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../interactions/datazoom-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/datazoom-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateDatazoomAttributes = (data, theme, addition) => {\n    var _a;\n    const datazoomTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.datazoom;\n    return data ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, datazoomTheme, {\n        previewData: data\n    }, null != addition ? addition : {}) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, datazoomTheme, null != addition ? addition : {});\n};\n\nclass Datazoom extends _view_component__WEBPACK_IMPORTED_MODULE_1__.Component {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom;\n    }\n    parseAddition(spec) {\n        var _a;\n        super.parseAddition(spec);\n        const {data: data, x: x, y: y, x1: x1, y1: y1} = null !== (_a = spec.preview) && void 0 !== _a ? _a : {};\n        return this.preview(data, x, y, x1, y1), this._updateComponentEncoders(), this;\n    }\n    preview(data, x, y, x1, y1) {\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.preview)) {\n            const lastData = this.spec.preview.data, lastDataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(lastData) ? this.view.getDataById(lastData) : lastData;\n            this.detach(lastDataGrammar), this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(this.spec.preview.x, this.view)), \n            this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(this.spec.preview.y, this.view)), this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(this.spec.preview.x1, this.view)), \n            this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(this.spec.preview.y1, this.view));\n        }\n        if (this.spec.preview = void 0, data) {\n            this.spec.preview = {\n                data: data,\n                x: x,\n                y: y,\n                x1: x1,\n                y1: y1\n            };\n            const dataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(data) ? this.view.getDataById(data) : data;\n            this.attach(dataGrammar), this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(x, this.view)), this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(y, this.view)), \n            this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(x1, this.view)), this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.parseEncodeType)(y1, this.view));\n        }\n        return this._updateComponentEncoders(), this.commit(), this;\n    }\n    setStartEndValue(start, end) {\n        const datazoom = this.getGroupGraphicItem();\n        return datazoom && datazoom.setStartAndEnd && datazoom.setStartAndEnd(start, end), \n        this;\n    }\n    getStartEndValue() {\n        const datazoom = this.getGroupGraphicItem();\n        if (datazoom) {\n            const state = datazoom.state;\n            return {\n                start: state.start,\n                end: state.end\n            };\n        }\n        return null;\n    }\n    addGraphicItem(attrs, groupKey) {\n        var _a;\n        const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), initialAttributes = Object.assign({}, null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.datazoom, attrs), graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.createGraphicComponent(this.componentType, initialAttributes, {\n            skipDefault: this.spec.skipTheme\n        });\n        return this.setDatazoomHandlers(graphicItem), super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    reuse(grammar) {\n        return super.reuse(grammar), this.setDatazoomHandlers(), this;\n    }\n    _updateComponentEncoders() {\n        var _a;\n        const data = null === (_a = this.spec.preview) || void 0 === _a ? void 0 : _a.data, dataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(data) ? this.view.getDataById(data) : data, encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)(encoder, datum, element, parameters);\n                    return generateDatazoomAttributes(null === (_a = null == dataGrammar ? void 0 : dataGrammar.getValue) || void 0 === _a ? void 0 : _a.call(dataGrammar), theme, addition);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    invertDatazoomRatio(ratio) {\n        const scale = this.getDatazoomMainScale();\n        if (scale) {\n            const range = scale.range(), scaledValue = (range[range.length - 1] - range[0]) * ratio + range[0];\n            return scale.invert(scaledValue);\n        }\n        return null;\n    }\n    getDatazoomMainScale() {\n        var _a, _b;\n        const datazoom = this.getGroupGraphicItem();\n        if (datazoom && this.spec.preview) {\n            const scale = \"top\" === datazoom.attribute.orient || \"bottom\" === datazoom.attribute.orient ? null === (_a = this.spec.preview.x) || void 0 === _a ? void 0 : _a.scale : null === (_b = this.spec.preview.y) || void 0 === _b ? void 0 : _b.scale, scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(scale) ? this.view.getScaleById(scale) : scale;\n            return null == scaleGrammar ? void 0 : scaleGrammar.getScale();\n        }\n        return null;\n    }\n    setDatazoomHandlers(graphicItem) {\n        var _a;\n        const datazoom = null != graphicItem ? graphicItem : this.getGroupGraphicItem();\n        datazoom.setStatePointToData((state => {\n            var _a;\n            return this.spec.preview && null !== (_a = this.invertDatazoomRatio(state)) && void 0 !== _a ? _a : state;\n        }));\n        const {data: data, x: x, y: y, x1: x1, y1: y1} = null !== (_a = this.spec.preview) && void 0 !== _a ? _a : {};\n        datazoom.setPreviewPointsX((datum => {\n            if (x && data) return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)({\n                x: x\n            }, datum, this.elements[0], this.parameters()).x;\n        })), datazoom.setPreviewPointsY((datum => {\n            if (y && data) return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)({\n                y: y\n            }, datum, this.elements[0], this.parameters()).y;\n        })), datazoom.setPreviewPointsX1((datum => {\n            if (x1 && data) return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)({\n                x1: x1\n            }, datum, this.elements[0], this.parameters()).x1;\n        })), datazoom.setPreviewPointsY1((datum => {\n            if (y1 && data) return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)({\n                y1: y1\n            }, datum, this.elements[0], this.parameters()).y1;\n        }));\n    }\n}\n\nDatazoom.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom;\n\nconst registerDataZoom = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.DataZoom(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom, Datazoom), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_10__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_10__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerInteraction(_interactions_datazoom_filter__WEBPACK_IMPORTED_MODULE_11__.DatazoomFilter.type, _interactions_datazoom_filter__WEBPACK_IMPORTED_MODULE_11__.DatazoomFilter);\n};\n//# sourceMappingURL=datazoom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2RhdGF6b29tLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2RTs7QUFFWjs7QUFFbEI7O0FBRU07O0FBRVA7O0FBRUU7O0FBRU47O0FBRXVCOztBQUVKOztBQUV0RDtBQUNQO0FBQ0E7QUFDQSxrQkFBa0IsNERBQUssR0FBRztBQUMxQjtBQUNBLEtBQUssa0NBQWtDLElBQUksNERBQUssR0FBRyxpREFBaUQ7QUFDcEc7O0FBRU8sdUJBQXVCLHNEQUFTO0FBQ3ZDO0FBQ0Esb0JBQW9CLHVEQUFhLDZDQUE2Qyx1REFBYTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsd0NBQXdDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNERBQUs7QUFDbEIsdUVBQXVFLDREQUFRO0FBQy9FLHNEQUFzRCw0REFBZTtBQUNyRSx3QkFBd0IsNERBQWUsK0NBQStDLDREQUFlO0FBQ3JHLHdCQUF3Qiw0REFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNERBQVE7QUFDeEMsa0RBQWtELDREQUFlLDZCQUE2Qiw0REFBZTtBQUM3Ryx3QkFBd0IsNERBQWUsOEJBQThCLDREQUFlO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9IQUFvSCwySEFBMkgsa0RBQU87QUFDdFA7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwR0FBMEcsNERBQVE7QUFDbEg7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsaUVBQWE7QUFDcEg7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTLEtBQUs7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOFFBQThRLDREQUFRO0FBQ3RSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsd0NBQXdDO0FBQ3ZEO0FBQ0Esa0NBQWtDLGlFQUFhO0FBQy9DO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxrQ0FBa0MsaUVBQWE7QUFDL0M7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULG1DQUFtQyxpRUFBYTtBQUNoRDtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsbUNBQW1DLGlFQUFhO0FBQ2hEO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBOztBQUVBLHlCQUF5Qix1REFBYTs7QUFFL0I7QUFDUCxJQUFJLGtEQUFPLDBCQUEwQix1REFBYSx5QkFBeUIsa0VBQWlCO0FBQzVGLElBQUksa0RBQU8sbUJBQW1CLHVEQUFhLHNCQUFzQix1REFBSyxDQUFDLHlEQUFNLEVBQUUsOERBQVc7QUFDMUYsSUFBSSxrREFBTyxxQkFBcUIsMEVBQWMsT0FBTywwRUFBYztBQUNuRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9jb21wb25lbnQvZGF0YXpvb20uanM/YjA2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhWm9vbSBhcyBEYXRhem9vbUNvbXBvbmVudCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IGlzTmlsLCBpc1N0cmluZywgbWVyZ2UsIG1peGluIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50RW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZW5jb2RlXCI7XG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi92aWV3L2NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBwYXJzZUVuY29kZVR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvbWFya1wiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBEYXRhem9vbUZpbHRlciB9IGZyb20gXCIuLi9pbnRlcmFjdGlvbnMvZGF0YXpvb20tZmlsdGVyXCI7XG5cbmltcG9ydCB7IEZpbHRlciwgRmlsdGVyTWl4aW4gfSBmcm9tIFwiLi4vaW50ZXJhY3Rpb25zL2ZpbHRlclwiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVEYXRhem9vbUF0dHJpYnV0ZXMgPSAoZGF0YSwgdGhlbWUsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGRhdGF6b29tVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmRhdGF6b29tO1xuICAgIHJldHVybiBkYXRhID8gbWVyZ2Uoe30sIGRhdGF6b29tVGhlbWUsIHtcbiAgICAgICAgcHJldmlld0RhdGE6IGRhdGFcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSkgOiBtZXJnZSh7fSwgZGF0YXpvb21UaGVtZSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNsYXNzIERhdGF6b29tIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBncm91cCkge1xuICAgICAgICBzdXBlcih2aWV3LCBDb21wb25lbnRFbnVtLmRhdGF6b29tLCBncm91cCksIHRoaXMuc3BlYy5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS5kYXRhem9vbTtcbiAgICB9XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIucGFyc2VBZGRpdGlvbihzcGVjKTtcbiAgICAgICAgY29uc3Qge2RhdGE6IGRhdGEsIHg6IHgsIHk6IHksIHgxOiB4MSwgeTE6IHkxfSA9IG51bGwgIT09IChfYSA9IHNwZWMucHJldmlldykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge307XG4gICAgICAgIHJldHVybiB0aGlzLnByZXZpZXcoZGF0YSwgeCwgeSwgeDEsIHkxKSwgdGhpcy5fdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSwgdGhpcztcbiAgICB9XG4gICAgcHJldmlldyhkYXRhLCB4LCB5LCB4MSwgeTEpIHtcbiAgICAgICAgaWYgKCFpc05pbCh0aGlzLnNwZWMucHJldmlldykpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3REYXRhID0gdGhpcy5zcGVjLnByZXZpZXcuZGF0YSwgbGFzdERhdGFHcmFtbWFyID0gaXNTdHJpbmcobGFzdERhdGEpID8gdGhpcy52aWV3LmdldERhdGFCeUlkKGxhc3REYXRhKSA6IGxhc3REYXRhO1xuICAgICAgICAgICAgdGhpcy5kZXRhY2gobGFzdERhdGFHcmFtbWFyKSwgdGhpcy5kZXRhY2gocGFyc2VFbmNvZGVUeXBlKHRoaXMuc3BlYy5wcmV2aWV3LngsIHRoaXMudmlldykpLCBcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKHBhcnNlRW5jb2RlVHlwZSh0aGlzLnNwZWMucHJldmlldy55LCB0aGlzLnZpZXcpKSwgdGhpcy5kZXRhY2gocGFyc2VFbmNvZGVUeXBlKHRoaXMuc3BlYy5wcmV2aWV3LngxLCB0aGlzLnZpZXcpKSwgXG4gICAgICAgICAgICB0aGlzLmRldGFjaChwYXJzZUVuY29kZVR5cGUodGhpcy5zcGVjLnByZXZpZXcueTEsIHRoaXMudmlldykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNwZWMucHJldmlldyA9IHZvaWQgMCwgZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5zcGVjLnByZXZpZXcgPSB7XG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgeDE6IHgxLFxuICAgICAgICAgICAgICAgIHkxOiB5MVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFHcmFtbWFyID0gaXNTdHJpbmcoZGF0YSkgPyB0aGlzLnZpZXcuZ2V0RGF0YUJ5SWQoZGF0YSkgOiBkYXRhO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2goZGF0YUdyYW1tYXIpLCB0aGlzLmF0dGFjaChwYXJzZUVuY29kZVR5cGUoeCwgdGhpcy52aWV3KSksIHRoaXMuYXR0YWNoKHBhcnNlRW5jb2RlVHlwZSh5LCB0aGlzLnZpZXcpKSwgXG4gICAgICAgICAgICB0aGlzLmF0dGFjaChwYXJzZUVuY29kZVR5cGUoeDEsIHRoaXMudmlldykpLCB0aGlzLmF0dGFjaChwYXJzZUVuY29kZVR5cGUoeTEsIHRoaXMudmlldykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVDb21wb25lbnRFbmNvZGVycygpLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBzZXRTdGFydEVuZFZhbHVlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3QgZGF0YXpvb20gPSB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKTtcbiAgICAgICAgcmV0dXJuIGRhdGF6b29tICYmIGRhdGF6b29tLnNldFN0YXJ0QW5kRW5kICYmIGRhdGF6b29tLnNldFN0YXJ0QW5kRW5kKHN0YXJ0LCBlbmQpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgZ2V0U3RhcnRFbmRWYWx1ZSgpIHtcbiAgICAgICAgY29uc3QgZGF0YXpvb20gPSB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKTtcbiAgICAgICAgaWYgKGRhdGF6b29tKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGRhdGF6b29tLnN0YXRlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhdGUuc3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kOiBzdGF0ZS5lbmRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGFkZEdyYXBoaWNJdGVtKGF0dHJzLCBncm91cEtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHRoZW1lID0gdGhpcy5zcGVjLnNraXBUaGVtZSA/IG51bGwgOiB0aGlzLnZpZXcuZ2V0Q3VycmVudFRoZW1lKCksIGluaXRpYWxBdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5kYXRhem9vbSwgYXR0cnMpLCBncmFwaGljSXRlbSA9IEZhY3RvcnkuY3JlYXRlR3JhcGhpY0NvbXBvbmVudCh0aGlzLmNvbXBvbmVudFR5cGUsIGluaXRpYWxBdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICBza2lwRGVmYXVsdDogdGhpcy5zcGVjLnNraXBUaGVtZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RGF0YXpvb21IYW5kbGVycyhncmFwaGljSXRlbSksIHN1cGVyLmFkZEdyYXBoaWNJdGVtKGluaXRpYWxBdHRyaWJ1dGVzLCBncm91cEtleSwgZ3JhcGhpY0l0ZW0pO1xuICAgIH1cbiAgICByZXVzZShncmFtbWFyKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5yZXVzZShncmFtbWFyKSwgdGhpcy5zZXREYXRhem9vbUhhbmRsZXJzKCksIHRoaXM7XG4gICAgfVxuICAgIF91cGRhdGVDb21wb25lbnRFbmNvZGVycygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkYXRhID0gbnVsbCA9PT0gKF9hID0gdGhpcy5zcGVjLnByZXZpZXcpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5kYXRhLCBkYXRhR3JhbW1hciA9IGlzU3RyaW5nKGRhdGEpID8gdGhpcy52aWV3LmdldERhdGFCeUlkKGRhdGEpIDogZGF0YSwgZW5jb2RlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHVwZGF0ZToge31cbiAgICAgICAgfSwgdGhpcy5zcGVjLmVuY29kZSksIGNvbXBvbmVudEVuY29kZXJzID0gT2JqZWN0LmtleXMoZW5jb2RlcnMpLnJlZHVjZSgoKHJlcywgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGVyc1tzdGF0ZV07XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAocmVzW3N0YXRlXSA9IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhlbWUgPSB0aGlzLnNwZWMuc2tpcFRoZW1lID8gbnVsbCA6IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKSwgYWRkaXRpb24gPSBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlRGF0YXpvb21BdHRyaWJ1dGVzKG51bGwgPT09IChfYSA9IG51bGwgPT0gZGF0YUdyYW1tYXIgPyB2b2lkIDAgOiBkYXRhR3JhbW1hci5nZXRWYWx1ZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmNhbGwoZGF0YUdyYW1tYXIpLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCByZXM7XG4gICAgICAgIH0pLCB7fSk7XG4gICAgICAgIHRoaXMuX2VuY29kZXJzID0gY29tcG9uZW50RW5jb2RlcnM7XG4gICAgfVxuICAgIGludmVydERhdGF6b29tUmF0aW8ocmF0aW8pIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLmdldERhdGF6b29tTWFpblNjYWxlKCk7XG4gICAgICAgIGlmIChzY2FsZSkge1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBzY2FsZS5yYW5nZSgpLCBzY2FsZWRWYWx1ZSA9IChyYW5nZVtyYW5nZS5sZW5ndGggLSAxXSAtIHJhbmdlWzBdKSAqIHJhdGlvICsgcmFuZ2VbMF07XG4gICAgICAgICAgICByZXR1cm4gc2NhbGUuaW52ZXJ0KHNjYWxlZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZ2V0RGF0YXpvb21NYWluU2NhbGUoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGRhdGF6b29tID0gdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCk7XG4gICAgICAgIGlmIChkYXRhem9vbSAmJiB0aGlzLnNwZWMucHJldmlldykge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBcInRvcFwiID09PSBkYXRhem9vbS5hdHRyaWJ1dGUub3JpZW50IHx8IFwiYm90dG9tXCIgPT09IGRhdGF6b29tLmF0dHJpYnV0ZS5vcmllbnQgPyBudWxsID09PSAoX2EgPSB0aGlzLnNwZWMucHJldmlldy54KSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc2NhbGUgOiBudWxsID09PSAoX2IgPSB0aGlzLnNwZWMucHJldmlldy55KSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2Iuc2NhbGUsIHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQoc2NhbGUpIDogc2NhbGU7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCA9PSBzY2FsZUdyYW1tYXIgPyB2b2lkIDAgOiBzY2FsZUdyYW1tYXIuZ2V0U2NhbGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2V0RGF0YXpvb21IYW5kbGVycyhncmFwaGljSXRlbSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRhdGF6b29tID0gbnVsbCAhPSBncmFwaGljSXRlbSA/IGdyYXBoaWNJdGVtIDogdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCk7XG4gICAgICAgIGRhdGF6b29tLnNldFN0YXRlUG9pbnRUb0RhdGEoKHN0YXRlID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNwZWMucHJldmlldyAmJiBudWxsICE9PSAoX2EgPSB0aGlzLmludmVydERhdGF6b29tUmF0aW8oc3RhdGUpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBzdGF0ZTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCB7ZGF0YTogZGF0YSwgeDogeCwgeTogeSwgeDE6IHgxLCB5MTogeTF9ID0gbnVsbCAhPT0gKF9hID0gdGhpcy5zcGVjLnByZXZpZXcpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9O1xuICAgICAgICBkYXRhem9vbS5zZXRQcmV2aWV3UG9pbnRzWCgoZGF0dW0gPT4ge1xuICAgICAgICAgICAgaWYgKHggJiYgZGF0YSkgcmV0dXJuIGludm9rZUVuY29kZXIoe1xuICAgICAgICAgICAgICAgIHg6IHhcbiAgICAgICAgICAgIH0sIGRhdHVtLCB0aGlzLmVsZW1lbnRzWzBdLCB0aGlzLnBhcmFtZXRlcnMoKSkueDtcbiAgICAgICAgfSkpLCBkYXRhem9vbS5zZXRQcmV2aWV3UG9pbnRzWSgoZGF0dW0gPT4ge1xuICAgICAgICAgICAgaWYgKHkgJiYgZGF0YSkgcmV0dXJuIGludm9rZUVuY29kZXIoe1xuICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgIH0sIGRhdHVtLCB0aGlzLmVsZW1lbnRzWzBdLCB0aGlzLnBhcmFtZXRlcnMoKSkueTtcbiAgICAgICAgfSkpLCBkYXRhem9vbS5zZXRQcmV2aWV3UG9pbnRzWDEoKGRhdHVtID0+IHtcbiAgICAgICAgICAgIGlmICh4MSAmJiBkYXRhKSByZXR1cm4gaW52b2tlRW5jb2Rlcih7XG4gICAgICAgICAgICAgICAgeDE6IHgxXG4gICAgICAgICAgICB9LCBkYXR1bSwgdGhpcy5lbGVtZW50c1swXSwgdGhpcy5wYXJhbWV0ZXJzKCkpLngxO1xuICAgICAgICB9KSksIGRhdGF6b29tLnNldFByZXZpZXdQb2ludHNZMSgoZGF0dW0gPT4ge1xuICAgICAgICAgICAgaWYgKHkxICYmIGRhdGEpIHJldHVybiBpbnZva2VFbmNvZGVyKHtcbiAgICAgICAgICAgICAgICB5MTogeTFcbiAgICAgICAgICAgIH0sIGRhdHVtLCB0aGlzLmVsZW1lbnRzWzBdLCB0aGlzLnBhcmFtZXRlcnMoKSkueTE7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbkRhdGF6b29tLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLmRhdGF6b29tO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJEYXRhWm9vbSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChDb21wb25lbnRFbnVtLmRhdGF6b29tLCAoYXR0cnMgPT4gbmV3IERhdGF6b29tQ29tcG9uZW50KGF0dHJzKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudEVudW0uZGF0YXpvb20sIERhdGF6b29tKSwgbWl4aW4oRmlsdGVyLCBGaWx0ZXJNaXhpbiksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihEYXRhem9vbUZpbHRlci50eXBlLCBEYXRhem9vbUZpbHRlcik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YXpvb20uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/datazoom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/grid.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/grid.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Grid: () => (/* binding */ Grid),\n/* harmony export */   generateCircleAxisGridAttributes: () => (/* binding */ generateCircleAxisGridAttributes),\n/* harmony export */   generateLineAxisGridAttributes: () => (/* binding */ generateLineAxisGridAttributes),\n/* harmony export */   registerCircleGrid: () => (/* binding */ registerCircleGrid),\n/* harmony export */   registerGrid: () => (/* binding */ registerGrid),\n/* harmony export */   registerLineGrid: () => (/* binding */ registerLineGrid)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/axis/grid/line.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/axis/grid/circle.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scale.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _axis__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./axis */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/axis.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateLineAxisGridAttributes = (scale, theme, addition, tickCount) => {\n    var _a, _b, _c, _d;\n    const gridTheme = null !== (_b = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.grid) && void 0 !== _b ? _b : {};\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, gridTheme, null != addition ? addition : {});\n    const items = (null !== (_d = null === (_c = scale.tickData) || void 0 === _c ? void 0 : _c.call(scale, tickCount)) && void 0 !== _d ? _d : []).map((tick => ({\n        id: tick.index,\n        label: tick.tick,\n        value: tick.value,\n        rawValue: tick.tick\n    })));\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, gridTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nconst generateCircleAxisGridAttributes = (scale, theme, addition, tickCount) => {\n    var _a, _b, _c, _d;\n    const gridTheme = null !== (_b = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleGrid) && void 0 !== _b ? _b : {};\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, gridTheme, null != addition ? addition : {});\n    const items = (null !== (_d = null === (_c = scale.tickData) || void 0 === _c ? void 0 : _c.call(scale, tickCount)) && void 0 !== _d ? _d : []).map((tick => ({\n        id: tick.index,\n        label: tick.tick,\n        value: tick.value,\n        rawValue: tick.tick\n    })));\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, gridTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nclass Grid extends _scale__WEBPACK_IMPORTED_MODULE_1__.ScaleComponent {\n    constructor(view, group, mode) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, \n        this.mode = mode;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.target(spec.target), this.gridType(spec.gridType), \n        this.gridShape(spec.gridShape), this;\n    }\n    scale(scale) {\n        return super.scale(scale), this._gridComponentType = null, this;\n    }\n    gridType(gridType) {\n        return this.spec.gridType = gridType, this._gridComponentType = null, this._prepareRejoin(), \n        this.commit(), this;\n    }\n    gridShape(gridShape) {\n        return this.spec.gridShape = gridShape, this.commit(), this;\n    }\n    target(axis) {\n        if (this.spec.target) {\n            const prevAxis = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.target) ? this.view.getMarkById(this.spec.target) : this.spec.target;\n            this.detach(prevAxis);\n        }\n        this.spec.target = axis;\n        const nextAxis = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(axis) ? this.view.getMarkById(axis) : axis;\n        return this.attach(nextAxis), this._targetAxis = nextAxis, this._gridComponentType = null, \n        this._updateComponentEncoders(), this.commit(), this;\n    }\n    tickCount(tickCount) {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n        return scaleGrammar && scaleGrammar.tickCount(tickCount), this.setFunctionSpec(tickCount, \"tickCount\");\n    }\n    inside(inside) {\n        return this.setFunctionSpec(inside, \"inside\");\n    }\n    baseValue(baseValue) {\n        return this.setFunctionSpec(baseValue, \"baseValue\");\n    }\n    addGraphicItem(attrs, groupKey) {\n        const initialAttributes = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            x: 0,\n            y: 0,\n            start: {\n                x: 0,\n                y: 0\n            },\n            end: {\n                x: 0,\n                y: 0\n            }\n        }, attrs), graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.createGraphicComponent(this._getGridComponentType(), initialAttributes, {\n            mode: this.mode,\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b, _c, _d;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme();\n                    let scaleGrammar, addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__.invokeEncoder)(encoder, datum, element, parameters);\n                    const baseValue = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.baseValue, parameters, datum, element);\n                    if (this._targetAxis) {\n                        const targetScale = null === (_a = this._targetAxis.getSpec()) || void 0 === _a ? void 0 : _a.scale;\n                        scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(targetScale) ? this.view.getScaleById(targetScale) : targetScale;\n                        const targetElement = this._targetAxis.elements[0];\n                        if (targetElement) switch (this._getGridComponentType()) {\n                          case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid:\n                            addition = Object.assign({\n                                x: targetElement.getGraphicAttribute(\"x\"),\n                                y: targetElement.getGraphicAttribute(\"y\"),\n                                start: targetElement.getGraphicAttribute(\"start\"),\n                                end: targetElement.getGraphicAttribute(\"end\"),\n                                verticalFactor: null !== (_b = targetElement.getGraphicAttribute(\"verticalFactor\")) && void 0 !== _b ? _b : 1\n                            }, addition);\n                            break;\n\n                          case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid:\n                            addition = Object.assign({\n                                x: targetElement.getGraphicAttribute(\"x\"),\n                                y: targetElement.getGraphicAttribute(\"y\"),\n                                center: targetElement.getGraphicAttribute(\"center\"),\n                                radius: targetElement.getGraphicAttribute(\"radius\"),\n                                innerRadius: targetElement.getGraphicAttribute(\"innerRadius\"),\n                                inside: targetElement.getGraphicAttribute(\"inside\"),\n                                startAngle: targetElement.getGraphicAttribute(\"startAngle\"),\n                                endAngle: targetElement.getGraphicAttribute(\"endAngle\")\n                            }, addition);\n                        }\n                    } else {\n                        scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n                        const inside = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.inside, parameters, datum, element), coordinate = null === (_c = null == scaleGrammar ? void 0 : scaleGrammar.getCoordinate) || void 0 === _c ? void 0 : _c.call(scaleGrammar);\n                        coordinate && (addition = Object.assign((0,_axis__WEBPACK_IMPORTED_MODULE_7__.generateCoordinateAxisAttribute)(scaleGrammar, coordinate, inside, baseValue, this.spec.layout, !0), addition));\n                    }\n                    this._getGridComponentType() === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid && (addition = \"line\" !== this.spec.gridShape && this.spec.gridShape ? Object.assign({\n                        center: addition.start,\n                        closed: !0\n                    }, addition, {\n                        type: this.spec.gridShape\n                    }) : Object.assign({}, addition, {\n                        type: \"line\"\n                    }));\n                    const scale = null === (_d = null == scaleGrammar ? void 0 : scaleGrammar.getScale) || void 0 === _d ? void 0 : _d.call(scaleGrammar), tickCount = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.tickCount, parameters, datum, element);\n                    switch (this._getGridComponentType()) {\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid:\n                        return generateLineAxisGridAttributes(scale, theme, addition, tickCount);\n\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid:\n                        return generateCircleAxisGridAttributes(scale, theme, addition, tickCount);\n                    }\n                    return addition;\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    _getGridComponentType() {\n        var _a;\n        if (this._gridComponentType) return this._gridComponentType;\n        if (this.spec.gridType) if (\"circle\" === this.spec.gridType) this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid; else this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid; else if (this._targetAxis) {\n            switch (this._targetAxis.getAxisComponentType()) {\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.circleAxis:\n                this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid;\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_2__.AxisEnum.lineAxis:\n              default:\n                this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid;\n            }\n        } else if (this.spec.scale) {\n            const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n            this._gridComponentType = (null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getCoordinate) || void 0 === _a ? void 0 : _a.call(scaleGrammar)) ? scaleGrammar.getCoordinateAxisPoints() ? _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid : _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid : _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid;\n        } else this._gridComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid;\n        return this._gridComponentType;\n    }\n}\n\nGrid.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid;\n\nconst registerGrid = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.LineAxisGrid(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.CircleAxisGrid(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, Grid);\n};\n\nconst registerLineGrid = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.lineAxisGrid, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.LineAxisGrid(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, Grid);\n};\n\nconst registerCircleGrid = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.GridEnum.circleAxisGrid, ((attrs, options) => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.CircleAxisGrid(attrs, options))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.grid, Grid);\n};\n//# sourceMappingURL=grid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2dyaWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtRDs7QUFFeUI7O0FBRVQ7O0FBRTFCOztBQUVZOztBQUVGOztBQUVNOztBQUVmOztBQUVuQztBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsNERBQUssR0FBRyw2Q0FBNkM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTztBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsNERBQUssR0FBRyw2Q0FBNkM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTyxtQkFBbUIsa0RBQWM7QUFDeEM7QUFDQSxvQkFBb0IsdURBQWEseUNBQXlDLHVEQUFhO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNERBQVE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNERBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDREQUFLO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdCQUF3QixrREFBTztBQUN4QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxpRUFBYTtBQUM5RCxzQ0FBc0MsK0RBQWtCO0FBQ3hEO0FBQ0E7QUFDQSx1Q0FBdUMsNERBQVE7QUFDL0M7QUFDQTtBQUNBLCtCQUErQixrREFBUTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7O0FBRUEsK0JBQStCLGtEQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLHNCQUFzQjtBQUN0Qix1Q0FBdUMsNERBQVE7QUFDL0MsdUNBQXVDLCtEQUFrQjtBQUN6RCxnRUFBZ0Usc0VBQStCO0FBQy9GO0FBQ0EscURBQXFELGtEQUFRO0FBQzdEO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxxQkFBcUIsb0JBQW9CO0FBQ3pDO0FBQ0EscUJBQXFCO0FBQ3JCLHVLQUF1SywrREFBa0I7QUFDekw7QUFDQSwyQkFBMkIsa0RBQVE7QUFDbkM7O0FBRUEsMkJBQTJCLGtEQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMsS0FBSztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0Ysa0RBQVEsaUJBQWlCLCtCQUErQixrREFBUSxlQUFlO0FBQzlLO0FBQ0EsbUJBQW1CLGtEQUFRO0FBQzNCLDBDQUEwQyxrREFBUTtBQUNsRDs7QUFFQSxtQkFBbUIsa0RBQVE7QUFDM0I7QUFDQSwwQ0FBMEMsa0RBQVE7QUFDbEQ7QUFDQSxVQUFVO0FBQ1YsaUNBQWlDLDREQUFRO0FBQ3pDLGdOQUFnTixrREFBUSxnQkFBZ0Isa0RBQVEsa0JBQWtCLGtEQUFRO0FBQzFRLFVBQVUsK0JBQStCLGtEQUFRO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsdURBQWE7O0FBRTNCO0FBQ1AsSUFBSSxrREFBTywwQkFBMEIsa0RBQVEsd0NBQXdDLHNFQUFZO0FBQ2pHLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLDBDQUEwQyx3RUFBYztBQUNyRyxJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQzs7QUFFTztBQUNQLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLHdDQUF3QyxzRUFBWTtBQUNqRyxJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQzs7QUFFTztBQUNQLElBQUksa0RBQU8sMEJBQTBCLGtEQUFRLDBDQUEwQyx3RUFBYztBQUNyRyxJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9jb21wb25lbnQvZ3JpZC5qcz9kMDMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzU3RyaW5nLCBtZXJnZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IENpcmNsZUF4aXNHcmlkLCBMaW5lQXhpc0dyaWQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBBeGlzRW51bSwgQ29tcG9uZW50RW51bSwgR3JpZEVudW0gfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgU2NhbGVDb21wb25lbnQgfSBmcm9tIFwiLi9zY2FsZVwiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZW5jb2RlXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmltcG9ydCB7IGdlbmVyYXRlQ29vcmRpbmF0ZUF4aXNBdHRyaWJ1dGUgfSBmcm9tIFwiLi9heGlzXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUxpbmVBeGlzR3JpZEF0dHJpYnV0ZXMgPSAoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbiwgdGlja0NvdW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGdyaWRUaGVtZSA9IG51bGwgIT09IChfYiA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZ3JpZCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDoge307XG4gICAgaWYgKCFzY2FsZSkgcmV0dXJuIG1lcmdlKHt9LCBncmlkVGhlbWUsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbiAgICBjb25zdCBpdGVtcyA9IChudWxsICE9PSAoX2QgPSBudWxsID09PSAoX2MgPSBzY2FsZS50aWNrRGF0YSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmNhbGwoc2NhbGUsIHRpY2tDb3VudCkpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IFtdKS5tYXAoKHRpY2sgPT4gKHtcbiAgICAgICAgaWQ6IHRpY2suaW5kZXgsXG4gICAgICAgIGxhYmVsOiB0aWNrLnRpY2ssXG4gICAgICAgIHZhbHVlOiB0aWNrLnZhbHVlLFxuICAgICAgICByYXdWYWx1ZTogdGljay50aWNrXG4gICAgfSkpKTtcbiAgICByZXR1cm4gbWVyZ2Uoe30sIGdyaWRUaGVtZSwge1xuICAgICAgICBpdGVtczogaXRlbXNcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVDaXJjbGVBeGlzR3JpZEF0dHJpYnV0ZXMgPSAoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbiwgdGlja0NvdW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGdyaWRUaGVtZSA9IG51bGwgIT09IChfYiA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2lyY2xlR3JpZCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDoge307XG4gICAgaWYgKCFzY2FsZSkgcmV0dXJuIG1lcmdlKHt9LCBncmlkVGhlbWUsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbiAgICBjb25zdCBpdGVtcyA9IChudWxsICE9PSAoX2QgPSBudWxsID09PSAoX2MgPSBzY2FsZS50aWNrRGF0YSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmNhbGwoc2NhbGUsIHRpY2tDb3VudCkpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IFtdKS5tYXAoKHRpY2sgPT4gKHtcbiAgICAgICAgaWQ6IHRpY2suaW5kZXgsXG4gICAgICAgIGxhYmVsOiB0aWNrLnRpY2ssXG4gICAgICAgIHZhbHVlOiB0aWNrLnZhbHVlLFxuICAgICAgICByYXdWYWx1ZTogdGljay50aWNrXG4gICAgfSkpKTtcbiAgICByZXR1cm4gbWVyZ2Uoe30sIGdyaWRUaGVtZSwge1xuICAgICAgICBpdGVtczogaXRlbXNcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY2xhc3MgR3JpZCBleHRlbmRzIFNjYWxlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBncm91cCwgbW9kZSkge1xuICAgICAgICBzdXBlcih2aWV3LCBDb21wb25lbnRFbnVtLmdyaWQsIGdyb3VwKSwgdGhpcy5zcGVjLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLmdyaWQsIFxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgIH1cbiAgICBwYXJzZUFkZGl0aW9uKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnBhcnNlQWRkaXRpb24oc3BlYyksIHRoaXMudGFyZ2V0KHNwZWMudGFyZ2V0KSwgdGhpcy5ncmlkVHlwZShzcGVjLmdyaWRUeXBlKSwgXG4gICAgICAgIHRoaXMuZ3JpZFNoYXBlKHNwZWMuZ3JpZFNoYXBlKSwgdGhpcztcbiAgICB9XG4gICAgc2NhbGUoc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNjYWxlKHNjYWxlKSwgdGhpcy5fZ3JpZENvbXBvbmVudFR5cGUgPSBudWxsLCB0aGlzO1xuICAgIH1cbiAgICBncmlkVHlwZShncmlkVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmdyaWRUeXBlID0gZ3JpZFR5cGUsIHRoaXMuX2dyaWRDb21wb25lbnRUeXBlID0gbnVsbCwgdGhpcy5fcHJlcGFyZVJlam9pbigpLCBcbiAgICAgICAgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgZ3JpZFNoYXBlKGdyaWRTaGFwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmdyaWRTaGFwZSA9IGdyaWRTaGFwZSwgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgdGFyZ2V0KGF4aXMpIHtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy50YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZBeGlzID0gaXNTdHJpbmcodGhpcy5zcGVjLnRhcmdldCkgPyB0aGlzLnZpZXcuZ2V0TWFya0J5SWQodGhpcy5zcGVjLnRhcmdldCkgOiB0aGlzLnNwZWMudGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5kZXRhY2gocHJldkF4aXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BlYy50YXJnZXQgPSBheGlzO1xuICAgICAgICBjb25zdCBuZXh0QXhpcyA9IGlzU3RyaW5nKGF4aXMpID8gdGhpcy52aWV3LmdldE1hcmtCeUlkKGF4aXMpIDogYXhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoKG5leHRBeGlzKSwgdGhpcy5fdGFyZ2V0QXhpcyA9IG5leHRBeGlzLCB0aGlzLl9ncmlkQ29tcG9uZW50VHlwZSA9IG51bGwsIFxuICAgICAgICB0aGlzLl91cGRhdGVDb21wb25lbnRFbmNvZGVycygpLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICB0aWNrQ291bnQodGlja0NvdW50KSB7XG4gICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zY2FsZSkgOiB0aGlzLnNwZWMuc2NhbGU7XG4gICAgICAgIHJldHVybiBzY2FsZUdyYW1tYXIgJiYgc2NhbGVHcmFtbWFyLnRpY2tDb3VudCh0aWNrQ291bnQpLCB0aGlzLnNldEZ1bmN0aW9uU3BlYyh0aWNrQ291bnQsIFwidGlja0NvdW50XCIpO1xuICAgIH1cbiAgICBpbnNpZGUoaW5zaWRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhpbnNpZGUsIFwiaW5zaWRlXCIpO1xuICAgIH1cbiAgICBiYXNlVmFsdWUoYmFzZVZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhiYXNlVmFsdWUsIFwiYmFzZVZhbHVlXCIpO1xuICAgIH1cbiAgICBhZGRHcmFwaGljSXRlbShhdHRycywgZ3JvdXBLZXkpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbEF0dHJpYnV0ZXMgPSBtZXJnZSh7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5kOiB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGF0dHJzKSwgZ3JhcGhpY0l0ZW0gPSBGYWN0b3J5LmNyZWF0ZUdyYXBoaWNDb21wb25lbnQodGhpcy5fZ2V0R3JpZENvbXBvbmVudFR5cGUoKSwgaW5pdGlhbEF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgIHNraXBEZWZhdWx0OiB0aGlzLnNwZWMuc2tpcFRoZW1lXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3VwZXIuYWRkR3JhcGhpY0l0ZW0oaW5pdGlhbEF0dHJpYnV0ZXMsIGdyb3VwS2V5LCBncmFwaGljSXRlbSk7XG4gICAgfVxuICAgIF91cGRhdGVDb21wb25lbnRFbmNvZGVycygpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHVwZGF0ZToge31cbiAgICAgICAgfSwgdGhpcy5zcGVjLmVuY29kZSksIGNvbXBvbmVudEVuY29kZXJzID0gT2JqZWN0LmtleXMoZW5jb2RlcnMpLnJlZHVjZSgoKHJlcywgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGVyc1tzdGF0ZV07XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAocmVzW3N0YXRlXSA9IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhlbWUgPSB0aGlzLnNwZWMuc2tpcFRoZW1lID8gbnVsbCA6IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjYWxlR3JhbW1hciwgYWRkaXRpb24gPSBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVZhbHVlID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3BlYy5iYXNlVmFsdWUsIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RhcmdldEF4aXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFNjYWxlID0gbnVsbCA9PT0gKF9hID0gdGhpcy5fdGFyZ2V0QXhpcy5nZXRTcGVjKCkpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRhcmdldFNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGFyZ2V0U2NhbGUpIDogdGFyZ2V0U2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gdGhpcy5fdGFyZ2V0QXhpcy5lbGVtZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRFbGVtZW50KSBzd2l0Y2ggKHRoaXMuX2dldEdyaWRDb21wb25lbnRUeXBlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBHcmlkRW51bS5saW5lQXhpc0dyaWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb24gPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHRhcmdldEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInN0YXJ0XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHRhcmdldEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImVuZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxGYWN0b3I6IG51bGwgIT09IChfYiA9IHRhcmdldEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInZlcnRpY2FsRmFjdG9yXCIpKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgR3JpZEVudW0uY2lyY2xlQXhpc0dyaWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb24gPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJjZW50ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicmFkaXVzXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclJhZGl1czogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiaW5uZXJSYWRpdXNcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2lkZTogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiaW5zaWRlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiB0YXJnZXRFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdGFydEFuZ2xlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZTogdGFyZ2V0RWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZW5kQW5nbGVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZUdyYW1tYXIgPSBpc1N0cmluZyh0aGlzLnNwZWMuc2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZCh0aGlzLnNwZWMuc2NhbGUpIDogdGhpcy5zcGVjLnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3BlYy5pbnNpZGUsIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KSwgY29vcmRpbmF0ZSA9IG51bGwgPT09IChfYyA9IG51bGwgPT0gc2NhbGVHcmFtbWFyID8gdm9pZCAwIDogc2NhbGVHcmFtbWFyLmdldENvb3JkaW5hdGUpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy5jYWxsKHNjYWxlR3JhbW1hcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlICYmIChhZGRpdGlvbiA9IE9iamVjdC5hc3NpZ24oZ2VuZXJhdGVDb29yZGluYXRlQXhpc0F0dHJpYnV0ZShzY2FsZUdyYW1tYXIsIGNvb3JkaW5hdGUsIGluc2lkZSwgYmFzZVZhbHVlLCB0aGlzLnNwZWMubGF5b3V0LCAhMCksIGFkZGl0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0R3JpZENvbXBvbmVudFR5cGUoKSA9PT0gR3JpZEVudW0ubGluZUF4aXNHcmlkICYmIChhZGRpdGlvbiA9IFwibGluZVwiICE9PSB0aGlzLnNwZWMuZ3JpZFNoYXBlICYmIHRoaXMuc3BlYy5ncmlkU2hhcGUgPyBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogYWRkaXRpb24uc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZWQ6ICEwXG4gICAgICAgICAgICAgICAgICAgIH0sIGFkZGl0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnNwZWMuZ3JpZFNoYXBlXG4gICAgICAgICAgICAgICAgICAgIH0pIDogT2JqZWN0LmFzc2lnbih7fSwgYWRkaXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibGluZVwiXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBudWxsID09PSAoX2QgPSBudWxsID09IHNjYWxlR3JhbW1hciA/IHZvaWQgMCA6IHNjYWxlR3JhbW1hci5nZXRTY2FsZSkgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kLmNhbGwoc2NhbGVHcmFtbWFyKSwgdGlja0NvdW50ID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3BlYy50aWNrQ291bnQsIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9nZXRHcmlkQ29tcG9uZW50VHlwZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBHcmlkRW51bS5saW5lQXhpc0dyaWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVMaW5lQXhpc0dyaWRBdHRyaWJ1dGVzKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24sIHRpY2tDb3VudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIEdyaWRFbnVtLmNpcmNsZUF4aXNHcmlkOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlQ2lyY2xlQXhpc0dyaWRBdHRyaWJ1dGVzKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24sIHRpY2tDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZGl0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCByZXM7XG4gICAgICAgIH0pLCB7fSk7XG4gICAgICAgIHRoaXMuX2VuY29kZXJzID0gY29tcG9uZW50RW5jb2RlcnM7XG4gICAgfVxuICAgIF9nZXRHcmlkQ29tcG9uZW50VHlwZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5fZ3JpZENvbXBvbmVudFR5cGUpIHJldHVybiB0aGlzLl9ncmlkQ29tcG9uZW50VHlwZTtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy5ncmlkVHlwZSkgaWYgKFwiY2lyY2xlXCIgPT09IHRoaXMuc3BlYy5ncmlkVHlwZSkgdGhpcy5fZ3JpZENvbXBvbmVudFR5cGUgPSBHcmlkRW51bS5jaXJjbGVBeGlzR3JpZDsgZWxzZSB0aGlzLl9ncmlkQ29tcG9uZW50VHlwZSA9IEdyaWRFbnVtLmxpbmVBeGlzR3JpZDsgZWxzZSBpZiAodGhpcy5fdGFyZ2V0QXhpcykge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl90YXJnZXRBeGlzLmdldEF4aXNDb21wb25lbnRUeXBlKCkpIHtcbiAgICAgICAgICAgICAgY2FzZSBBeGlzRW51bS5jaXJjbGVBeGlzOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dyaWRDb21wb25lbnRUeXBlID0gR3JpZEVudW0uY2lyY2xlQXhpc0dyaWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBBeGlzRW51bS5saW5lQXhpczpcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9ncmlkQ29tcG9uZW50VHlwZSA9IEdyaWRFbnVtLmxpbmVBeGlzR3JpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNwZWMuc2NhbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zY2FsZSkgOiB0aGlzLnNwZWMuc2NhbGU7XG4gICAgICAgICAgICB0aGlzLl9ncmlkQ29tcG9uZW50VHlwZSA9IChudWxsID09PSAoX2EgPSBudWxsID09IHNjYWxlR3JhbW1hciA/IHZvaWQgMCA6IHNjYWxlR3JhbW1hci5nZXRDb29yZGluYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2FsbChzY2FsZUdyYW1tYXIpKSA/IHNjYWxlR3JhbW1hci5nZXRDb29yZGluYXRlQXhpc1BvaW50cygpID8gR3JpZEVudW0ubGluZUF4aXNHcmlkIDogR3JpZEVudW0uY2lyY2xlQXhpc0dyaWQgOiBHcmlkRW51bS5saW5lQXhpc0dyaWQ7XG4gICAgICAgIH0gZWxzZSB0aGlzLl9ncmlkQ29tcG9uZW50VHlwZSA9IEdyaWRFbnVtLmxpbmVBeGlzR3JpZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyaWRDb21wb25lbnRUeXBlO1xuICAgIH1cbn1cblxuR3JpZC5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS5ncmlkO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcmlkID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KEdyaWRFbnVtLmxpbmVBeGlzR3JpZCwgKChhdHRycywgb3B0aW9ucykgPT4gbmV3IExpbmVBeGlzR3JpZChhdHRycywgb3B0aW9ucykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoR3JpZEVudW0uY2lyY2xlQXhpc0dyaWQsICgoYXR0cnMsIG9wdGlvbnMpID0+IG5ldyBDaXJjbGVBeGlzR3JpZChhdHRycywgb3B0aW9ucykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLmdyaWQsIEdyaWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTGluZUdyaWQgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoR3JpZEVudW0ubGluZUF4aXNHcmlkLCAoKGF0dHJzLCBvcHRpb25zKSA9PiBuZXcgTGluZUF4aXNHcmlkKGF0dHJzLCBvcHRpb25zKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudEVudW0uZ3JpZCwgR3JpZCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJDaXJjbGVHcmlkID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KEdyaWRFbnVtLmNpcmNsZUF4aXNHcmlkLCAoKGF0dHJzLCBvcHRpb25zKSA9PiBuZXcgQ2lyY2xlQXhpc0dyaWQoYXR0cnMsIG9wdGlvbnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50RW51bS5ncmlkLCBHcmlkKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmlkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/grid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/index.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/index.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerAxis: () => (/* reexport safe */ _axis__WEBPACK_IMPORTED_MODULE_0__.registerAxis),\n/* harmony export */   registerCircleAxis: () => (/* reexport safe */ _axis__WEBPACK_IMPORTED_MODULE_0__.registerCircleAxis),\n/* harmony export */   registerCircleGrid: () => (/* reexport safe */ _grid__WEBPACK_IMPORTED_MODULE_7__.registerCircleGrid),\n/* harmony export */   registerDataZoom: () => (/* reexport safe */ _datazoom__WEBPACK_IMPORTED_MODULE_4__.registerDataZoom),\n/* harmony export */   registerGrid: () => (/* reexport safe */ _grid__WEBPACK_IMPORTED_MODULE_7__.registerGrid),\n/* harmony export */   registerLabel: () => (/* reexport safe */ _label__WEBPACK_IMPORTED_MODULE_3__.registerLabel),\n/* harmony export */   registerLegend: () => (/* reexport safe */ _legend__WEBPACK_IMPORTED_MODULE_1__.registerLegend),\n/* harmony export */   registerLineAxis: () => (/* reexport safe */ _axis__WEBPACK_IMPORTED_MODULE_0__.registerLineAxis),\n/* harmony export */   registerLineGrid: () => (/* reexport safe */ _grid__WEBPACK_IMPORTED_MODULE_7__.registerLineGrid),\n/* harmony export */   registerPlayer: () => (/* reexport safe */ _player__WEBPACK_IMPORTED_MODULE_5__.registerPlayer),\n/* harmony export */   registerScrollbar: () => (/* reexport safe */ _scrollbar__WEBPACK_IMPORTED_MODULE_8__.registerScrollbar),\n/* harmony export */   registerSlider: () => (/* reexport safe */ _slider__WEBPACK_IMPORTED_MODULE_2__.registerSlider),\n/* harmony export */   registerTitle: () => (/* reexport safe */ _title__WEBPACK_IMPORTED_MODULE_6__.registerTitle)\n/* harmony export */ });\n/* harmony import */ var _axis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./axis */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/axis.js\");\n/* harmony import */ var _legend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./legend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/legend.js\");\n/* harmony import */ var _slider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./slider */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/slider.js\");\n/* harmony import */ var _label__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./label */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/label.js\");\n/* harmony import */ var _datazoom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./datazoom */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/datazoom.js\");\n/* harmony import */ var _player__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./player */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/player.js\");\n/* harmony import */ var _title__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./title */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/title.js\");\n/* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./grid */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/grid.js\");\n/* harmony import */ var _scrollbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./scrollbar */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scrollbar.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEU7O0FBRWxDOztBQUVBOztBQUVGOztBQUVNOztBQUVKOztBQUVGOztBQUVvQzs7QUFFNUI7QUFDaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9pbmRleC5qcz84ZjUzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IHJlZ2lzdGVyQXhpcywgcmVnaXN0ZXJDaXJjbGVBeGlzLCByZWdpc3RlckxpbmVBeGlzIH0gZnJvbSBcIi4vYXhpc1wiO1xuXG5leHBvcnQgeyByZWdpc3RlckxlZ2VuZCB9IGZyb20gXCIuL2xlZ2VuZFwiO1xuXG5leHBvcnQgeyByZWdpc3RlclNsaWRlciB9IGZyb20gXCIuL3NsaWRlclwiO1xuXG5leHBvcnQgeyByZWdpc3RlckxhYmVsIH0gZnJvbSBcIi4vbGFiZWxcIjtcblxuZXhwb3J0IHsgcmVnaXN0ZXJEYXRhWm9vbSB9IGZyb20gXCIuL2RhdGF6b29tXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyVGl0bGUgfSBmcm9tIFwiLi90aXRsZVwiO1xuXG5leHBvcnQgeyByZWdpc3RlckdyaWQsIHJlZ2lzdGVyQ2lyY2xlR3JpZCwgcmVnaXN0ZXJMaW5lR3JpZCB9IGZyb20gXCIuL2dyaWRcIjtcblxuZXhwb3J0IHsgcmVnaXN0ZXJTY3JvbGxiYXIgfSBmcm9tIFwiLi9zY3JvbGxiYXJcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/label.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/label.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Label: () => (/* binding */ Label),\n/* harmony export */   generateLabelAttributes: () => (/* binding */ generateLabelAttributes),\n/* harmony export */   registerLabel: () => (/* binding */ registerLabel)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/label/dataLabel.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\nvar __rest = undefined && undefined.__rest || function(s, e) {\n    var t = {};\n    for (var p in s) Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0 && (t[p] = s[p]);\n    if (null != s && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var i = 0;\n        for (p = Object.getOwnPropertySymbols(s); i < p.length; i++) e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]) && (t[p[i]] = s[p[i]]);\n    }\n    return t;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateLabelAttributes = (marks, groupSize, encoder, labelStyle, parameters, theme = {}) => {\n    var _a;\n    const labelTheme = null === (_a = theme.components) || void 0 === _a ? void 0 : _a.dataLabel, dataLabels = marks.map(((mark, index) => {\n        var _a, _b, _c, _d, _e;\n        const labelParameters = Object.assign(Object.assign({}, parameters), {\n            labelIndex: index\n        }), addition = null !== (_a = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(labelStyle, labelParameters, mark)) && void 0 !== _a ? _a : {}, {components: components = {}} = theme;\n        let currentTheme = {};\n        switch (mark.markType) {\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.line:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.area:\n            currentTheme = \"line\" === addition.type ? components.lineLabel : \"area\" === addition.type ? components.areaLabel : components.lineDataLabel;\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.rect:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.rect3d:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.interval:\n            currentTheme = components.rectLabel;\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.symbol:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.circle:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.cell:\n            currentTheme = components.symbolLabel;\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.arc:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.arc3d:\n            currentTheme = components.arcLabel;\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.polygon:\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.path:\n          default:\n            currentTheme = components.pointLabel;\n        }\n        const data = null !== (_b = addition.data) && void 0 !== _b ? _b : [], themeDatum = null !== (_d = null === (_c = null == currentTheme ? void 0 : currentTheme.data) || void 0 === _c ? void 0 : _c[0]) && void 0 !== _d ? _d : {};\n        if (data && data.length > 0) data.forEach(((d, index) => {\n            if (mark.elements[index]) {\n                const attributes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_2__.invokeEncoder)(encoder, d, mark.elements[index], labelParameters);\n                (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(d, themeDatum, attributes);\n            }\n        })); else {\n            const mergeAttributes = (attributes, themeDatum) => {\n                const {data: labelData} = attributes, restAttribute = __rest(attributes, [ \"data\" ]);\n                return Object.assign(Object.assign({}, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({}, themeDatum, restAttribute)), {\n                    data: labelData\n                });\n            };\n            mark.elements.forEach((element => {\n                if (\"willRelease\" !== element.getGraphicItem().releaseStatus) if (mark.isCollectionMark()) {\n                    element.getDatum().forEach((entry => {\n                        const attributes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_2__.invokeEncoder)(encoder, entry, element, labelParameters);\n                        data.push(mergeAttributes(attributes, themeDatum));\n                    }));\n                } else {\n                    const attributes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_2__.invokeEncoder)(encoder, element.getDatum(), element, labelParameters);\n                    data.push(mergeAttributes(attributes, themeDatum));\n                }\n            }));\n        }\n        const graphicItemName = null === (_e = mark.graphicItem) || void 0 === _e ? void 0 : _e.name, result = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({}, currentTheme, {\n            baseMarkGroupName: graphicItemName,\n            getBaseMarks: () => mark.elements.map((element => element.getGraphicItem()))\n        }, null != addition ? addition : {});\n        return result.data = null != data ? data : currentTheme.data, result;\n    })).filter((label => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(label))), result = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({}, labelTheme, {\n        size: groupSize\n    });\n    return result.dataLabels = dataLabels, result;\n};\n\nclass Label extends _view_component__WEBPACK_IMPORTED_MODULE_5__.Component {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.labelStyle(spec.labelStyle), this.size(spec.size), \n        this.target(spec.target), this;\n    }\n    labelStyle(style) {\n        return this.setFunctionSpec(style, \"labelStyle\");\n    }\n    size(size) {\n        return this.setFunctionSpec(size, \"size\");\n    }\n    target(mark) {\n        if (this.spec.target) {\n            const prevMarks = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.array)(this.spec.target).map((m => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(m) ? this.view.getMarkById(m) : m));\n            this.detach(prevMarks);\n        }\n        if (this.spec.target = mark, mark) {\n            const nextMarks = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.array)(mark).map((m => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(m) ? this.view.getMarkById(m) : m));\n            this.attach(nextMarks);\n        }\n        return this.commit(), this;\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b, _c, _d;\n                    const marks = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.array)(this.spec.target).map((m => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(m) ? this.view.getMarkById(m) : m)), groupGraphicItem = null === (_b = null === (_a = this.group) || void 0 === _a ? void 0 : _a.getGroupGraphicItem) || void 0 === _b ? void 0 : _b.call(_a);\n                    let size = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(this.spec.size, parameters);\n                    size || (size = groupGraphicItem ? {\n                        width: null !== (_c = groupGraphicItem.attribute.width) && void 0 !== _c ? _c : groupGraphicItem.AABBBounds.width(),\n                        height: null !== (_d = groupGraphicItem.attribute.height) && void 0 !== _d ? _d : groupGraphicItem.AABBBounds.height()\n                    } : {\n                        width: 1 / 0,\n                        height: 1 / 0\n                    });\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme();\n                    return generateLabelAttributes(marks, size, encoder, this.spec.labelStyle, parameters, theme);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n}\n\nLabel.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label;\n\nconst registerLabel = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.DataLabel(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.ComponentEnum.label, Label);\n};\n//# sourceMappingURL=label.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2xhYmVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLFNBQUksSUFBSSxTQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGNBQWM7QUFDaEU7QUFDQTtBQUNBOztBQUVpRTs7QUFFUjs7QUFFTzs7QUFFbEI7O0FBRU87O0FBRUY7O0FBRVQ7O0FBRW5DLDhGQUE4RjtBQUNyRztBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQSxTQUFTLDZCQUE2QiwrREFBa0IsK0RBQStELEdBQUcsNkJBQTZCO0FBQ3ZKO0FBQ0E7QUFDQSxlQUFlLHlEQUFlO0FBQzlCLGVBQWUseURBQWU7QUFDOUI7QUFDQTs7QUFFQSxlQUFlLHlEQUFlO0FBQzlCLGVBQWUseURBQWU7QUFDOUIsZUFBZSx5REFBZTtBQUM5QjtBQUNBOztBQUVBLGVBQWUseURBQWU7QUFDOUIsZUFBZSx5REFBZTtBQUM5QixlQUFlLHlEQUFlO0FBQzlCO0FBQ0E7O0FBRUEsZUFBZSx5REFBZTtBQUM5QixlQUFlLHlEQUFlO0FBQzlCO0FBQ0E7O0FBRUEsZUFBZSx5REFBZTtBQUM5QixlQUFlLHlEQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxpRUFBYTtBQUNoRCxnQkFBZ0IsNERBQUs7QUFDckI7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBLHVCQUF1QixpQkFBaUI7QUFDeEMscURBQXFELEVBQUUsNERBQUssR0FBRztBQUMvRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxpRUFBYTtBQUN4RDtBQUNBLHFCQUFxQjtBQUNyQixrQkFBa0I7QUFDbEIsdUNBQXVDLGlFQUFhO0FBQ3BEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSwrR0FBK0csNERBQUssR0FBRztBQUN2SDtBQUNBO0FBQ0EsU0FBUyxrQ0FBa0M7QUFDM0M7QUFDQSxLQUFLLHFCQUFxQiw0REFBSyxvQkFBb0IsNERBQUssR0FBRztBQUMzRDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVPLG9CQUFvQixzREFBUztBQUNwQztBQUNBLG9CQUFvQix1REFBYSwwQ0FBMEMsdURBQWE7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdURBQUssNkJBQTZCLDREQUFRO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix1REFBSyxpQkFBaUIsNERBQVE7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsdURBQUssNkJBQTZCLDREQUFRO0FBQzVFLCtCQUErQiwrREFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMsS0FBSztBQUNkO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsdURBQWE7O0FBRTVCO0FBQ1AsSUFBSSxrREFBTywwQkFBMEIsdURBQWEsc0JBQXNCLG1FQUFTO0FBQ2pGLElBQUksa0RBQU8sbUJBQW1CLHVEQUFhO0FBQzNDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9sYWJlbC5qcz8yYzkyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDAgJiYgKHRbcF0gPSBzW3BdKTtcbiAgICBpZiAobnVsbCAhPSBzICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGZvciAocCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSAmJiAodFtwW2ldXSA9IHNbcFtpXV0pO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5cbmltcG9ydCB7IGFycmF5LCBpc05pbCwgaXNTdHJpbmcsIG1lcmdlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgRGF0YUxhYmVsIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50RW51bSwgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi92aWV3L2NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZW5jb2RlXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUxhYmVsQXR0cmlidXRlcyA9IChtYXJrcywgZ3JvdXBTaXplLCBlbmNvZGVyLCBsYWJlbFN0eWxlLCBwYXJhbWV0ZXJzLCB0aGVtZSA9IHt9KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGxhYmVsVGhlbWUgPSBudWxsID09PSAoX2EgPSB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZGF0YUxhYmVsLCBkYXRhTGFiZWxzID0gbWFya3MubWFwKCgobWFyaywgaW5kZXgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgY29uc3QgbGFiZWxQYXJhbWV0ZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJhbWV0ZXJzKSwge1xuICAgICAgICAgICAgbGFiZWxJbmRleDogaW5kZXhcbiAgICAgICAgfSksIGFkZGl0aW9uID0gbnVsbCAhPT0gKF9hID0gaW52b2tlRnVuY3Rpb25UeXBlKGxhYmVsU3R5bGUsIGxhYmVsUGFyYW1ldGVycywgbWFyaykpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9LCB7Y29tcG9uZW50czogY29tcG9uZW50cyA9IHt9fSA9IHRoZW1lO1xuICAgICAgICBsZXQgY3VycmVudFRoZW1lID0ge307XG4gICAgICAgIHN3aXRjaCAobWFyay5tYXJrVHlwZSkge1xuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLmxpbmU6XG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuYXJlYTpcbiAgICAgICAgICAgIGN1cnJlbnRUaGVtZSA9IFwibGluZVwiID09PSBhZGRpdGlvbi50eXBlID8gY29tcG9uZW50cy5saW5lTGFiZWwgOiBcImFyZWFcIiA9PT0gYWRkaXRpb24udHlwZSA/IGNvbXBvbmVudHMuYXJlYUxhYmVsIDogY29tcG9uZW50cy5saW5lRGF0YUxhYmVsO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5yZWN0OlxuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLnJlY3QzZDpcbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5pbnRlcnZhbDpcbiAgICAgICAgICAgIGN1cnJlbnRUaGVtZSA9IGNvbXBvbmVudHMucmVjdExhYmVsO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5zeW1ib2w6XG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuY2lyY2xlOlxuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLmNlbGw6XG4gICAgICAgICAgICBjdXJyZW50VGhlbWUgPSBjb21wb25lbnRzLnN5bWJvbExhYmVsO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5hcmM6XG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuYXJjM2Q6XG4gICAgICAgICAgICBjdXJyZW50VGhlbWUgPSBjb21wb25lbnRzLmFyY0xhYmVsO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5wb2x5Z29uOlxuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLnBhdGg6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGN1cnJlbnRUaGVtZSA9IGNvbXBvbmVudHMucG9pbnRMYWJlbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gbnVsbCAhPT0gKF9iID0gYWRkaXRpb24uZGF0YSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogW10sIHRoZW1lRGF0dW0gPSBudWxsICE9PSAoX2QgPSBudWxsID09PSAoX2MgPSBudWxsID09IGN1cnJlbnRUaGVtZSA/IHZvaWQgMCA6IGN1cnJlbnRUaGVtZS5kYXRhKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2NbMF0pICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IHt9O1xuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIGRhdGEuZm9yRWFjaCgoKGQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAobWFyay5lbGVtZW50c1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gaW52b2tlRW5jb2RlcihlbmNvZGVyLCBkLCBtYXJrLmVsZW1lbnRzW2luZGV4XSwgbGFiZWxQYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICBtZXJnZShkLCB0aGVtZURhdHVtLCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpOyBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlQXR0cmlidXRlcyA9IChhdHRyaWJ1dGVzLCB0aGVtZURhdHVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qge2RhdGE6IGxhYmVsRGF0YX0gPSBhdHRyaWJ1dGVzLCByZXN0QXR0cmlidXRlID0gX19yZXN0KGF0dHJpYnV0ZXMsIFsgXCJkYXRhXCIgXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbWVyZ2Uoe30sIHRoZW1lRGF0dW0sIHJlc3RBdHRyaWJ1dGUpKSwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBsYWJlbERhdGFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChcIndpbGxSZWxlYXNlXCIgIT09IGVsZW1lbnQuZ2V0R3JhcGhpY0l0ZW0oKS5yZWxlYXNlU3RhdHVzKSBpZiAobWFyay5pc0NvbGxlY3Rpb25NYXJrKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5nZXREYXR1bSgpLmZvckVhY2goKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGVudHJ5LCBlbGVtZW50LCBsYWJlbFBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKG1lcmdlQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCB0aGVtZURhdHVtKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gaW52b2tlRW5jb2RlcihlbmNvZGVyLCBlbGVtZW50LmdldERhdHVtKCksIGVsZW1lbnQsIGxhYmVsUGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChtZXJnZUF0dHJpYnV0ZXMoYXR0cmlidXRlcywgdGhlbWVEYXR1bSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncmFwaGljSXRlbU5hbWUgPSBudWxsID09PSAoX2UgPSBtYXJrLmdyYXBoaWNJdGVtKSB8fCB2b2lkIDAgPT09IF9lID8gdm9pZCAwIDogX2UubmFtZSwgcmVzdWx0ID0gbWVyZ2Uoe30sIGN1cnJlbnRUaGVtZSwge1xuICAgICAgICAgICAgYmFzZU1hcmtHcm91cE5hbWU6IGdyYXBoaWNJdGVtTmFtZSxcbiAgICAgICAgICAgIGdldEJhc2VNYXJrczogKCkgPT4gbWFyay5lbGVtZW50cy5tYXAoKGVsZW1lbnQgPT4gZWxlbWVudC5nZXRHcmFwaGljSXRlbSgpKSlcbiAgICAgICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGEgPSBudWxsICE9IGRhdGEgPyBkYXRhIDogY3VycmVudFRoZW1lLmRhdGEsIHJlc3VsdDtcbiAgICB9KSkuZmlsdGVyKChsYWJlbCA9PiAhaXNOaWwobGFiZWwpKSksIHJlc3VsdCA9IG1lcmdlKHt9LCBsYWJlbFRoZW1lLCB7XG4gICAgICAgIHNpemU6IGdyb3VwU2l6ZVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQuZGF0YUxhYmVscyA9IGRhdGFMYWJlbHMsIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjbGFzcyBMYWJlbCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIodmlldywgQ29tcG9uZW50RW51bS5sYWJlbCwgZ3JvdXApLCB0aGlzLnNwZWMuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0ubGFiZWw7XG4gICAgfVxuICAgIHBhcnNlQWRkaXRpb24oc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2VBZGRpdGlvbihzcGVjKSwgdGhpcy5sYWJlbFN0eWxlKHNwZWMubGFiZWxTdHlsZSksIHRoaXMuc2l6ZShzcGVjLnNpemUpLCBcbiAgICAgICAgdGhpcy50YXJnZXQoc3BlYy50YXJnZXQpLCB0aGlzO1xuICAgIH1cbiAgICBsYWJlbFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhzdHlsZSwgXCJsYWJlbFN0eWxlXCIpO1xuICAgIH1cbiAgICBzaXplKHNpemUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKHNpemUsIFwic2l6ZVwiKTtcbiAgICB9XG4gICAgdGFyZ2V0KG1hcmspIHtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy50YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZNYXJrcyA9IGFycmF5KHRoaXMuc3BlYy50YXJnZXQpLm1hcCgobSA9PiBpc1N0cmluZyhtKSA/IHRoaXMudmlldy5nZXRNYXJrQnlJZChtKSA6IG0pKTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKHByZXZNYXJrcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3BlYy50YXJnZXQgPSBtYXJrLCBtYXJrKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0TWFya3MgPSBhcnJheShtYXJrKS5tYXAoKG0gPT4gaXNTdHJpbmcobSkgPyB0aGlzLnZpZXcuZ2V0TWFya0J5SWQobSkgOiBtKSk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaChuZXh0TWFya3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBfdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZXJzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB1cGRhdGU6IHt9XG4gICAgICAgIH0sIHRoaXMuc3BlYy5lbmNvZGUpLCBjb21wb25lbnRFbmNvZGVycyA9IE9iamVjdC5rZXlzKGVuY29kZXJzKS5yZWR1Y2UoKChyZXMsIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyID0gZW5jb2RlcnNbc3RhdGVdO1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgKHJlc1tzdGF0ZV0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IChkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtzID0gYXJyYXkodGhpcy5zcGVjLnRhcmdldCkubWFwKChtID0+IGlzU3RyaW5nKG0pID8gdGhpcy52aWV3LmdldE1hcmtCeUlkKG0pIDogbSkpLCBncm91cEdyYXBoaWNJdGVtID0gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gdGhpcy5ncm91cCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmdldEdyb3VwR3JhcGhpY0l0ZW0pIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpemUgPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLnNpemUsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICBzaXplIHx8IChzaXplID0gZ3JvdXBHcmFwaGljSXRlbSA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBudWxsICE9PSAoX2MgPSBncm91cEdyYXBoaWNJdGVtLmF0dHJpYnV0ZS53aWR0aCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogZ3JvdXBHcmFwaGljSXRlbS5BQUJCQm91bmRzLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG51bGwgIT09IChfZCA9IGdyb3VwR3JhcGhpY0l0ZW0uYXR0cmlidXRlLmhlaWdodCkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogZ3JvdXBHcmFwaGljSXRlbS5BQUJCQm91bmRzLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMSAvIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEgLyAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuc3BlYy5za2lwVGhlbWUgPyBudWxsIDogdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVMYWJlbEF0dHJpYnV0ZXMobWFya3MsIHNpemUsIGVuY29kZXIsIHRoaXMuc3BlYy5sYWJlbFN0eWxlLCBwYXJhbWV0ZXJzLCB0aGVtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHJlcztcbiAgICAgICAgfSksIHt9KTtcbiAgICAgICAgdGhpcy5fZW5jb2RlcnMgPSBjb21wb25lbnRFbmNvZGVycztcbiAgICB9XG59XG5cbkxhYmVsLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLmxhYmVsO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJMYWJlbCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpY0NvbXBvbmVudChDb21wb25lbnRFbnVtLmxhYmVsLCAoYXR0cnMgPT4gbmV3IERhdGFMYWJlbChhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLmxhYmVsLCBMYWJlbCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFiZWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/label.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/legend.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/legend.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Legend: () => (/* binding */ Legend),\n/* harmony export */   generateColorLegendAttributes: () => (/* binding */ generateColorLegendAttributes),\n/* harmony export */   generateDiscreteLegendAttributes: () => (/* binding */ generateDiscreteLegendAttributes),\n/* harmony export */   generateSizeLegendAttributes: () => (/* binding */ generateSizeLegendAttributes),\n/* harmony export */   registerLegend: () => (/* binding */ registerLegend)\n/* harmony export */ });\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/legend/discrete/discrete.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/legend/color/color.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/legend/size/size.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scale.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _interactions_legend_filter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../interactions/legend-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/legend-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateDiscreteLegendAttributes = (scale, theme, addition, shapeScale) => {\n    var _a;\n    const legendTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.discreteLegend;\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, null != addition ? addition : {});\n    const items = Array.from(new Set((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(scale.domain()))).map(((item, index) => {\n        var _a, _b, _c, _d, _e, _f;\n        const value = scale.scale(item), color = (0,_parse_util__WEBPACK_IMPORTED_MODULE_2__.parseColor)(value), shape = color ? Object.assign(Object.assign({}, null !== (_c = null === (_b = null === (_a = null == legendTheme ? void 0 : legendTheme.items) || void 0 === _a ? void 0 : _a[0]) || void 0 === _b ? void 0 : _b.shape) && void 0 !== _c ? _c : {}), {\n            fill: color,\n            stroke: color\n        }) : null !== (_f = null === (_e = null === (_d = null == legendTheme ? void 0 : legendTheme.items) || void 0 === _d ? void 0 : _d[0]) || void 0 === _e ? void 0 : _e.shape) && void 0 !== _f ? _f : {};\n        return shapeScale && Object.assign(shape, {\n            symbolType: shapeScale.scale(item)\n        }), {\n            label: item.toString(),\n            id: item,\n            shape: shape,\n            index: index\n        };\n    }));\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, {\n        items: items\n    }, null != addition ? addition : {});\n};\n\nconst generateColorLegendAttributes = (scale, theme, addition) => {\n    var _a;\n    const legendTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.colorLegend;\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, null != addition ? addition : {});\n    const domain = scale.domain();\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, {\n        colors: scale.range().slice(),\n        min: domain[0],\n        max: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.last)(domain)\n    }, null != addition ? addition : {});\n};\n\nconst generateSizeLegendAttributes = (scale, theme, addition) => {\n    var _a;\n    const legendTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.sizeLegend;\n    if (!scale) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, null != addition ? addition : {});\n    const domain = scale.domain(), attributes = {\n        min: domain[0],\n        max: domain[domain.length - 1],\n        value: [ domain[0], domain[domain.length - 1] ]\n    };\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, legendTheme, attributes, null != addition ? addition : {});\n};\n\nclass Legend extends _scale__WEBPACK_IMPORTED_MODULE_3__.ScaleComponent {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_4__.ComponentEnum.legend, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.ComponentEnum.legend, \n        this.spec.legendType = \"auto\";\n    }\n    parseAddition(spec) {\n        return this.shapeScale(spec.shapeScale), super.parseAddition(spec), this.legendType(spec.legendType), \n        this;\n    }\n    scale(scale) {\n        return super.scale(scale), this._legendComponentType = null, this;\n    }\n    shapeScale(shapeScale) {\n        if (this.spec.shapeScale) {\n            const lastScaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec.shapeScale) ? this.view.getScaleById(this.spec.shapeScale) : this.spec.shapeScale;\n            this.detach(lastScaleGrammar), this.spec.shapeScale = void 0;\n        }\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(shapeScale) ? this.view.getScaleById(shapeScale) : shapeScale;\n        return this.spec.shapeScale = scaleGrammar, this.attach(scaleGrammar), this.commit(), \n        this;\n    }\n    legendType(legendType) {\n        return this.spec.legendType = legendType, this._legendComponentType = null, this._prepareRejoin(), \n        this.commit(), this;\n    }\n    isContinuousLegend() {\n        return this._getLegendComponentType() !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.discreteLegend;\n    }\n    setSelected(selectedValues) {\n        return this.getGroupGraphicItem().setSelected(selectedValues), this;\n    }\n    addGraphicItem(attrs, groupKey) {\n        const graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.createGraphicComponent(this._getLegendComponentType(), attrs, {\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(attrs, groupKey, graphicItem);\n    }\n    _updateComponentEncoders() {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale, shapeScaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec.shapeScale) ? this.view.getScaleById(this.spec.shapeScale) : this.spec.shapeScale, encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)(encoder, datum, element, parameters), scale = null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getScale) || void 0 === _a ? void 0 : _a.call(scaleGrammar);\n                    switch (this._getLegendComponentType()) {\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.discreteLegend:\n                        return generateDiscreteLegendAttributes(scale, theme, addition, null === (_b = null == shapeScaleGrammar ? void 0 : shapeScaleGrammar.getScale) || void 0 === _b ? void 0 : _b.call(shapeScaleGrammar));\n\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.colorLegend:\n                        return generateColorLegendAttributes(scale, theme, addition);\n\n                      case _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.sizeLegend:\n                        return generateSizeLegendAttributes(scale, theme, addition);\n                    }\n                    return addition;\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    _getLegendComponentType() {\n        var _a;\n        if (this._legendComponentType) return this._legendComponentType;\n        if (this.spec.legendType && \"auto\" !== this.spec.legendType) this._legendComponentType = \"color\" === this.spec.legendType ? \"colorLegend\" : \"size\" === this.spec.legendType ? \"sizeLegend\" : \"discreteLegend\"; else {\n            const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale, scaleType = null === (_a = null == scaleGrammar ? void 0 : scaleGrammar.getScaleType) || void 0 === _a ? void 0 : _a.call(scaleGrammar);\n            if (scaleType && (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_8__.isContinuous)(scaleType)) {\n                const range = scaleGrammar.getScale().range();\n                (0,_parse_util__WEBPACK_IMPORTED_MODULE_2__.parseColor)(null == range ? void 0 : range[0]) ? this._legendComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.colorLegend : this._legendComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.sizeLegend;\n            } else this._legendComponentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.discreteLegend;\n        }\n        return this._legendComponentType;\n    }\n}\n\nLegend.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.ComponentEnum.legend;\n\nconst registerLegend = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.discreteLegend, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.DiscreteLegend(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.colorLegend, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_10__.ColorContinuousLegend(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.LegendEnum.sizeLegend, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_11__.SizeContinuousLegend(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.ComponentEnum.legend, Legend), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_13__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_13__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerInteraction(_interactions_legend_filter__WEBPACK_IMPORTED_MODULE_14__.LegendFilter.type, _interactions_legend_filter__WEBPACK_IMPORTED_MODULE_14__.LegendFilter);\n};\n//# sourceMappingURL=legend.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L2xlZ2VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnRDs7QUFFMkQ7O0FBRXBDOztBQUVaOztBQUVoQjs7QUFFRjs7QUFFWTs7QUFFWDs7QUFFbUI7O0FBRUE7O0FBRXREO0FBQ1A7QUFDQTtBQUNBLHVCQUF1Qiw0REFBSyxHQUFHLCtDQUErQztBQUM5RSxxQ0FBcUMsdURBQUs7QUFDMUM7QUFDQSxpREFBaUQsdURBQVUsdURBQXVELG9NQUFvTTtBQUN0VDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTztBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsNERBQUssR0FBRywrQ0FBK0M7QUFDOUU7QUFDQSxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBLGFBQWEsc0RBQUk7QUFDakIsS0FBSyxrQ0FBa0M7QUFDdkM7O0FBRU87QUFDUDtBQUNBO0FBQ0EsdUJBQXVCLDREQUFLLEdBQUcsK0NBQStDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFLLEdBQUcsMkRBQTJEO0FBQzlFOztBQUVPLHFCQUFxQixrREFBYztBQUMxQztBQUNBLG9CQUFvQix1REFBYSwyQ0FBMkMsdURBQWE7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw0REFBUTtBQUM3QztBQUNBO0FBQ0EsNkJBQTZCLDREQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0RBQVU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrREFBTztBQUNuQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNERBQVEsbUdBQW1HLDREQUFRO0FBQ2hKO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLGlFQUFhO0FBQ3BIO0FBQ0EsMkJBQTJCLG9EQUFVO0FBQ3JDOztBQUVBLDJCQUEyQixvREFBVTtBQUNyQzs7QUFFQSwyQkFBMkIsb0RBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUyxLQUFLO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVOQUF1TjtBQUN2TixpQ0FBaUMsNERBQVE7QUFDekMsNkJBQTZCLDhEQUFZO0FBQ3pDO0FBQ0EsZ0JBQWdCLHVEQUFVLGtFQUFrRSxvREFBVSwyQ0FBMkMsb0RBQVU7QUFDM0osY0FBYyxpQ0FBaUMsb0RBQVU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLHVEQUFhOztBQUU3QjtBQUNQLElBQUksa0RBQU8sMEJBQTBCLG9EQUFVLCtCQUErQix3RUFBYztBQUM1RixJQUFJLGtEQUFPLDBCQUEwQixvREFBVSw0QkFBNEIsZ0ZBQXFCO0FBQ2hHLElBQUksa0RBQU8sMEJBQTBCLG9EQUFVLDJCQUEyQiwrRUFBb0I7QUFDOUYsSUFBSSxrREFBTyxtQkFBbUIsdURBQWEsa0JBQWtCLHdEQUFLLENBQUMseURBQU0sRUFBRSw4REFBVztBQUN0RixJQUFJLGtEQUFPLHFCQUFxQixzRUFBWSxPQUFPLHNFQUFZO0FBQy9EO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9sZWdlbmQuanM/NDNkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0NvbnRpbnVvdXMgfSBmcm9tIFwiQHZpc2FjdG9yL3ZzY2FsZVwiO1xuXG5pbXBvcnQgeyBEaXNjcmV0ZUxlZ2VuZCwgQ29sb3JDb250aW51b3VzTGVnZW5kLCBTaXplQ29udGludW91c0xlZ2VuZCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IGFycmF5LCBpc1N0cmluZywgbWVyZ2UsIGxhc3QsIG1peGluIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50RW51bSwgTGVnZW5kRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBwYXJzZUNvbG9yIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgU2NhbGVDb21wb25lbnQgfSBmcm9tIFwiLi9zY2FsZVwiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZW5jb2RlXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IExlZ2VuZEZpbHRlciB9IGZyb20gXCIuLi9pbnRlcmFjdGlvbnMvbGVnZW5kLWZpbHRlclwiO1xuXG5pbXBvcnQgeyBGaWx0ZXIsIEZpbHRlck1peGluIH0gZnJvbSBcIi4uL2ludGVyYWN0aW9ucy9maWx0ZXJcIjtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlRGlzY3JldGVMZWdlbmRBdHRyaWJ1dGVzID0gKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24sIHNoYXBlU2NhbGUpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbGVnZW5kVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmRpc2NyZXRlTGVnZW5kO1xuICAgIGlmICghc2NhbGUpIHJldHVybiBtZXJnZSh7fSwgbGVnZW5kVGhlbWUsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbiAgICBjb25zdCBpdGVtcyA9IEFycmF5LmZyb20obmV3IFNldChhcnJheShzY2FsZS5kb21haW4oKSkpKS5tYXAoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzY2FsZS5zY2FsZShpdGVtKSwgY29sb3IgPSBwYXJzZUNvbG9yKHZhbHVlKSwgc2hhcGUgPSBjb2xvciA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbnVsbCAhPT0gKF9jID0gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSBsZWdlbmRUaGVtZSA/IHZvaWQgMCA6IGxlZ2VuZFRoZW1lLml0ZW1zKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2FbMF0pIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5zaGFwZSkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDoge30pLCB7XG4gICAgICAgICAgICBmaWxsOiBjb2xvcixcbiAgICAgICAgICAgIHN0cm9rZTogY29sb3JcbiAgICAgICAgfSkgOiBudWxsICE9PSAoX2YgPSBudWxsID09PSAoX2UgPSBudWxsID09PSAoX2QgPSBudWxsID09IGxlZ2VuZFRoZW1lID8gdm9pZCAwIDogbGVnZW5kVGhlbWUuaXRlbXMpIHx8IHZvaWQgMCA9PT0gX2QgPyB2b2lkIDAgOiBfZFswXSkgfHwgdm9pZCAwID09PSBfZSA/IHZvaWQgMCA6IF9lLnNoYXBlKSAmJiB2b2lkIDAgIT09IF9mID8gX2YgOiB7fTtcbiAgICAgICAgcmV0dXJuIHNoYXBlU2NhbGUgJiYgT2JqZWN0LmFzc2lnbihzaGFwZSwge1xuICAgICAgICAgICAgc3ltYm9sVHlwZTogc2hhcGVTY2FsZS5zY2FsZShpdGVtKVxuICAgICAgICB9KSwge1xuICAgICAgICAgICAgbGFiZWw6IGl0ZW0udG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGlkOiBpdGVtLFxuICAgICAgICAgICAgc2hhcGU6IHNoYXBlLFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH07XG4gICAgfSkpO1xuICAgIHJldHVybiBtZXJnZSh7fSwgbGVnZW5kVGhlbWUsIHtcbiAgICAgICAgaXRlbXM6IGl0ZW1zXG4gICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQ29sb3JMZWdlbmRBdHRyaWJ1dGVzID0gKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbGVnZW5kVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmNvbG9yTGVnZW5kO1xuICAgIGlmICghc2NhbGUpIHJldHVybiBtZXJnZSh7fSwgbGVnZW5kVGhlbWUsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbiAgICBjb25zdCBkb21haW4gPSBzY2FsZS5kb21haW4oKTtcbiAgICByZXR1cm4gbWVyZ2Uoe30sIGxlZ2VuZFRoZW1lLCB7XG4gICAgICAgIGNvbG9yczogc2NhbGUucmFuZ2UoKS5zbGljZSgpLFxuICAgICAgICBtaW46IGRvbWFpblswXSxcbiAgICAgICAgbWF4OiBsYXN0KGRvbWFpbilcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVTaXplTGVnZW5kQXR0cmlidXRlcyA9IChzY2FsZSwgdGhlbWUsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGxlZ2VuZFRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zaXplTGVnZW5kO1xuICAgIGlmICghc2NhbGUpIHJldHVybiBtZXJnZSh7fSwgbGVnZW5kVGhlbWUsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbiAgICBjb25zdCBkb21haW4gPSBzY2FsZS5kb21haW4oKSwgYXR0cmlidXRlcyA9IHtcbiAgICAgICAgbWluOiBkb21haW5bMF0sXG4gICAgICAgIG1heDogZG9tYWluW2RvbWFpbi5sZW5ndGggLSAxXSxcbiAgICAgICAgdmFsdWU6IFsgZG9tYWluWzBdLCBkb21haW5bZG9tYWluLmxlbmd0aCAtIDFdIF1cbiAgICB9O1xuICAgIHJldHVybiBtZXJnZSh7fSwgbGVnZW5kVGhlbWUsIGF0dHJpYnV0ZXMsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjbGFzcyBMZWdlbmQgZXh0ZW5kcyBTY2FsZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIodmlldywgQ29tcG9uZW50RW51bS5sZWdlbmQsIGdyb3VwKSwgdGhpcy5zcGVjLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLmxlZ2VuZCwgXG4gICAgICAgIHRoaXMuc3BlYy5sZWdlbmRUeXBlID0gXCJhdXRvXCI7XG4gICAgfVxuICAgIHBhcnNlQWRkaXRpb24oc3BlYykge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFwZVNjYWxlKHNwZWMuc2hhcGVTY2FsZSksIHN1cGVyLnBhcnNlQWRkaXRpb24oc3BlYyksIHRoaXMubGVnZW5kVHlwZShzcGVjLmxlZ2VuZFR5cGUpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgc2NhbGUoc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNjYWxlKHNjYWxlKSwgdGhpcy5fbGVnZW5kQ29tcG9uZW50VHlwZSA9IG51bGwsIHRoaXM7XG4gICAgfVxuICAgIHNoYXBlU2NhbGUoc2hhcGVTY2FsZSkge1xuICAgICAgICBpZiAodGhpcy5zcGVjLnNoYXBlU2NhbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RTY2FsZUdyYW1tYXIgPSBpc1N0cmluZyh0aGlzLnNwZWMuc2hhcGVTY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zaGFwZVNjYWxlKSA6IHRoaXMuc3BlYy5zaGFwZVNjYWxlO1xuICAgICAgICAgICAgdGhpcy5kZXRhY2gobGFzdFNjYWxlR3JhbW1hciksIHRoaXMuc3BlYy5zaGFwZVNjYWxlID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHNoYXBlU2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZChzaGFwZVNjYWxlKSA6IHNoYXBlU2NhbGU7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuc2hhcGVTY2FsZSA9IHNjYWxlR3JhbW1hciwgdGhpcy5hdHRhY2goc2NhbGVHcmFtbWFyKSwgdGhpcy5jb21taXQoKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIGxlZ2VuZFR5cGUobGVnZW5kVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmxlZ2VuZFR5cGUgPSBsZWdlbmRUeXBlLCB0aGlzLl9sZWdlbmRDb21wb25lbnRUeXBlID0gbnVsbCwgdGhpcy5fcHJlcGFyZVJlam9pbigpLCBcbiAgICAgICAgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgaXNDb250aW51b3VzTGVnZW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TGVnZW5kQ29tcG9uZW50VHlwZSgpICE9PSBMZWdlbmRFbnVtLmRpc2NyZXRlTGVnZW5kO1xuICAgIH1cbiAgICBzZXRTZWxlY3RlZChzZWxlY3RlZFZhbHVlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCkuc2V0U2VsZWN0ZWQoc2VsZWN0ZWRWYWx1ZXMpLCB0aGlzO1xuICAgIH1cbiAgICBhZGRHcmFwaGljSXRlbShhdHRycywgZ3JvdXBLZXkpIHtcbiAgICAgICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSBGYWN0b3J5LmNyZWF0ZUdyYXBoaWNDb21wb25lbnQodGhpcy5fZ2V0TGVnZW5kQ29tcG9uZW50VHlwZSgpLCBhdHRycywge1xuICAgICAgICAgICAgc2tpcERlZmF1bHQ6IHRoaXMuc3BlYy5za2lwVGhlbWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdXBlci5hZGRHcmFwaGljSXRlbShhdHRycywgZ3JvdXBLZXksIGdyYXBoaWNJdGVtKTtcbiAgICB9XG4gICAgX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCkge1xuICAgICAgICBjb25zdCBzY2FsZUdyYW1tYXIgPSBpc1N0cmluZyh0aGlzLnNwZWMuc2NhbGUpID8gdGhpcy52aWV3LmdldFNjYWxlQnlJZCh0aGlzLnNwZWMuc2NhbGUpIDogdGhpcy5zcGVjLnNjYWxlLCBzaGFwZVNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zaGFwZVNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGhpcy5zcGVjLnNoYXBlU2NhbGUpIDogdGhpcy5zcGVjLnNoYXBlU2NhbGUsIGVuY29kZXJzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB1cGRhdGU6IHt9XG4gICAgICAgIH0sIHRoaXMuc3BlYy5lbmNvZGUpLCBjb21wb25lbnRFbmNvZGVycyA9IE9iamVjdC5rZXlzKGVuY29kZXJzKS5yZWR1Y2UoKChyZXMsIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyID0gZW5jb2RlcnNbc3RhdGVdO1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgKHJlc1tzdGF0ZV0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IChkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuc3BlYy5za2lwVGhlbWUgPyBudWxsIDogdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpLCBhZGRpdGlvbiA9IGludm9rZUVuY29kZXIoZW5jb2RlciwgZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpLCBzY2FsZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gc2NhbGVHcmFtbWFyID8gdm9pZCAwIDogc2NhbGVHcmFtbWFyLmdldFNjYWxlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2FsbChzY2FsZUdyYW1tYXIpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX2dldExlZ2VuZENvbXBvbmVudFR5cGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGVnZW5kRW51bS5kaXNjcmV0ZUxlZ2VuZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZURpc2NyZXRlTGVnZW5kQXR0cmlidXRlcyhzY2FsZSwgdGhlbWUsIGFkZGl0aW9uLCBudWxsID09PSAoX2IgPSBudWxsID09IHNoYXBlU2NhbGVHcmFtbWFyID8gdm9pZCAwIDogc2hhcGVTY2FsZUdyYW1tYXIuZ2V0U2NhbGUpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5jYWxsKHNoYXBlU2NhbGVHcmFtbWFyKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIExlZ2VuZEVudW0uY29sb3JMZWdlbmQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVDb2xvckxlZ2VuZEF0dHJpYnV0ZXMoc2NhbGUsIHRoZW1lLCBhZGRpdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIExlZ2VuZEVudW0uc2l6ZUxlZ2VuZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVNpemVMZWdlbmRBdHRyaWJ1dGVzKHNjYWxlLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRpdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgcmVzO1xuICAgICAgICB9KSwge30pO1xuICAgICAgICB0aGlzLl9lbmNvZGVycyA9IGNvbXBvbmVudEVuY29kZXJzO1xuICAgIH1cbiAgICBfZ2V0TGVnZW5kQ29tcG9uZW50VHlwZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5fbGVnZW5kQ29tcG9uZW50VHlwZSkgcmV0dXJuIHRoaXMuX2xlZ2VuZENvbXBvbmVudFR5cGU7XG4gICAgICAgIGlmICh0aGlzLnNwZWMubGVnZW5kVHlwZSAmJiBcImF1dG9cIiAhPT0gdGhpcy5zcGVjLmxlZ2VuZFR5cGUpIHRoaXMuX2xlZ2VuZENvbXBvbmVudFR5cGUgPSBcImNvbG9yXCIgPT09IHRoaXMuc3BlYy5sZWdlbmRUeXBlID8gXCJjb2xvckxlZ2VuZFwiIDogXCJzaXplXCIgPT09IHRoaXMuc3BlYy5sZWdlbmRUeXBlID8gXCJzaXplTGVnZW5kXCIgOiBcImRpc2NyZXRlTGVnZW5kXCI7IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVHcmFtbWFyID0gaXNTdHJpbmcodGhpcy5zcGVjLnNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGhpcy5zcGVjLnNjYWxlKSA6IHRoaXMuc3BlYy5zY2FsZSwgc2NhbGVUeXBlID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSBzY2FsZUdyYW1tYXIgPyB2b2lkIDAgOiBzY2FsZUdyYW1tYXIuZ2V0U2NhbGVUeXBlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2FsbChzY2FsZUdyYW1tYXIpO1xuICAgICAgICAgICAgaWYgKHNjYWxlVHlwZSAmJiBpc0NvbnRpbnVvdXMoc2NhbGVUeXBlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gc2NhbGVHcmFtbWFyLmdldFNjYWxlKCkucmFuZ2UoKTtcbiAgICAgICAgICAgICAgICBwYXJzZUNvbG9yKG51bGwgPT0gcmFuZ2UgPyB2b2lkIDAgOiByYW5nZVswXSkgPyB0aGlzLl9sZWdlbmRDb21wb25lbnRUeXBlID0gTGVnZW5kRW51bS5jb2xvckxlZ2VuZCA6IHRoaXMuX2xlZ2VuZENvbXBvbmVudFR5cGUgPSBMZWdlbmRFbnVtLnNpemVMZWdlbmQ7XG4gICAgICAgICAgICB9IGVsc2UgdGhpcy5fbGVnZW5kQ29tcG9uZW50VHlwZSA9IExlZ2VuZEVudW0uZGlzY3JldGVMZWdlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xlZ2VuZENvbXBvbmVudFR5cGU7XG4gICAgfVxufVxuXG5MZWdlbmQuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0ubGVnZW5kO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJMZWdlbmQgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoTGVnZW5kRW51bS5kaXNjcmV0ZUxlZ2VuZCwgKGF0dHJzID0+IG5ldyBEaXNjcmV0ZUxlZ2VuZChhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoTGVnZW5kRW51bS5jb2xvckxlZ2VuZCwgKGF0dHJzID0+IG5ldyBDb2xvckNvbnRpbnVvdXNMZWdlbmQoYXR0cnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KExlZ2VuZEVudW0uc2l6ZUxlZ2VuZCwgKGF0dHJzID0+IG5ldyBTaXplQ29udGludW91c0xlZ2VuZChhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLmxlZ2VuZCwgTGVnZW5kKSwgbWl4aW4oRmlsdGVyLCBGaWx0ZXJNaXhpbiksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihMZWdlbmRGaWx0ZXIudHlwZSwgTGVnZW5kRmlsdGVyKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZWdlbmQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/legend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/player.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/player.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Player: () => (/* binding */ Player),\n/* harmony export */   generateContinuousPlayerAttributes: () => (/* binding */ generateContinuousPlayerAttributes),\n/* harmony export */   generateDiscretePlayerAttributes: () => (/* binding */ generateDiscretePlayerAttributes),\n/* harmony export */   registerPlayer: () => (/* binding */ registerPlayer)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/player/continuous-player.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/player/discrete-player.js\");\n/* harmony import */ var _graph__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _interactions_player_filter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../interactions/player-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/player-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateContinuousPlayerAttributes = (data, theme, addition) => {\n    var _a;\n    const playerTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.continuousPlayer;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, playerTheme, {\n        data: data,\n        dataIndex: 0\n    }, null != addition ? addition : {});\n};\n\nconst generateDiscretePlayerAttributes = (data, theme, addition) => {\n    var _a;\n    const playerTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.discretePlayer;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, playerTheme, {\n        data: data,\n        dataIndex: 0\n    }, null != addition ? addition : {});\n};\n\nclass Player extends _view_component__WEBPACK_IMPORTED_MODULE_1__.Component {\n    constructor(view, group) {\n        super(view, _graph__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.player, group), this.spec.componentType = _graph__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.player, \n        this.spec.playerType = \"auto\";\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.playerType(spec.playerType), this.source(spec.source), \n        this;\n    }\n    playerType(playerType) {\n        return this.spec.playerType = playerType, this._playerComponentType = null, this._prepareRejoin(), \n        this.commit(), this;\n    }\n    source(source) {\n        var _a;\n        if (this.spec.source) {\n            const lastSource = null === (_a = this.spec) || void 0 === _a ? void 0 : _a.source, lastSourceDataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(lastSource) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(lastSource) ? this.view.getDataById(lastSource) : lastSource;\n            this.detach(lastSourceDataGrammar);\n        }\n        this.spec.source = source;\n        const sourceDataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(source) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(source) ? this.view.getDataById(source) : source;\n        return this.attach(sourceDataGrammar), this.commit(), this;\n    }\n    play() {\n        return this.getGroupGraphicItem().play(), this;\n    }\n    pause() {\n        return this.getGroupGraphicItem().pause(), this;\n    }\n    backward() {\n        return this.getGroupGraphicItem().backward(), this;\n    }\n    forward() {\n        return this.getGroupGraphicItem().forward(), this;\n    }\n    addGraphicItem(attrs, groupKey, newGraphicItem) {\n        const initialAttributes = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            slider: {\n                handlerStyle: {\n                    size: 16\n                }\n            }\n        }, attrs), graphicItem = null != newGraphicItem ? newGraphicItem : _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.createGraphicComponent(this._getPlayerComponentType(), initialAttributes, {\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_6__.invokeEncoder)(encoder, datum, element, parameters), source = this.spec.source, sourceDataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(source) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(source) ? this.view.getDataById(source) : source, sourceData = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(source) ? source : null !== (_a = null == sourceDataGrammar ? void 0 : sourceDataGrammar.getValue()) && void 0 !== _a ? _a : [];\n                    switch (this._getPlayerComponentType()) {\n                      case \"continuousPlayer\":\n                        return generateContinuousPlayerAttributes(sourceData, theme, addition);\n\n                      case \"discretePlayer\":\n                        return generateDiscretePlayerAttributes(sourceData, theme, addition);\n                    }\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n    _getPlayerComponentType() {\n        return this._playerComponentType || (this.spec.playerType && \"auto\" !== this.spec.playerType ? this._playerComponentType = \"discrete\" === this.spec.playerType ? \"discretePlayer\" : \"continuous\" === this.spec.playerType ? \"continuousPlayer\" : \"discretePlayer\" : this._playerComponentType = \"discretePlayer\"), \n        this._playerComponentType;\n    }\n}\n\nPlayer.componentType = _graph__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.player;\n\nconst registerPlayer = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerGraphicComponent(_graph__WEBPACK_IMPORTED_MODULE_2__.PlayerEnum.continuousPlayer, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.ContinuousPlayer(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerGraphicComponent(_graph__WEBPACK_IMPORTED_MODULE_2__.PlayerEnum.discretePlayer, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.DiscretePlayer(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerComponent(_graph__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.player, Player), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_10__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_10__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerInteraction(_interactions_player_filter__WEBPACK_IMPORTED_MODULE_11__.PlayerFilter.type, _interactions_player_filter__WEBPACK_IMPORTED_MODULE_11__.PlayerFilter);\n};\n//# sourceMappingURL=player.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3BsYXllci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1FOztBQUVhOztBQUUzQjs7QUFFUDs7QUFFTzs7QUFFWDs7QUFFbUI7O0FBRUE7O0FBRXREO0FBQ1A7QUFDQTtBQUNBLFdBQVcsNERBQUssR0FBRztBQUNuQjtBQUNBO0FBQ0EsS0FBSyxrQ0FBa0M7QUFDdkM7O0FBRU87QUFDUDtBQUNBO0FBQ0EsV0FBVyw0REFBSyxHQUFHO0FBQ25CO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTyxxQkFBcUIsc0RBQVM7QUFDckM7QUFDQSxvQkFBb0IsaURBQWEsMkNBQTJDLGlEQUFhO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0hBQXdILDREQUFPLHNCQUFzQiw0REFBUTtBQUM3SjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQU8sa0JBQWtCLDREQUFRO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw0REFBSztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxrRUFBa0Usa0RBQU87QUFDbEY7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVHQUF1RyxpRUFBYSxzRkFBc0YsNERBQU8sa0JBQWtCLDREQUFRLGdFQUFnRSw0REFBTztBQUNsVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUyxLQUFLO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLGlEQUFhOztBQUU3QjtBQUNQLElBQUksa0RBQU8sMEJBQTBCLDhDQUFVLGlDQUFpQywwRUFBZ0I7QUFDaEcsSUFBSSxrREFBTywwQkFBMEIsOENBQVUsK0JBQStCLHdFQUFjO0FBQzVGLElBQUksa0RBQU8sbUJBQW1CLGlEQUFhLGtCQUFrQix1REFBSyxDQUFDLHlEQUFNLEVBQUUsOERBQVc7QUFDdEYsSUFBSSxrREFBTyxxQkFBcUIsc0VBQVksT0FBTyxzRUFBWTtBQUMvRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9jb21wb25lbnQvcGxheWVyLmpzPzMxZTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBcnJheSwgaXNTdHJpbmcsIG1lcmdlLCBtaXhpbiB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IENvbnRpbnVvdXNQbGF5ZXIsIERpc2NyZXRlUGxheWVyIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50RW51bSwgUGxheWVyRW51bSB9IGZyb20gXCIuLi9ncmFwaFwiO1xuXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vdmlldy9jb21wb25lbnRcIjtcblxuaW1wb3J0IHsgaW52b2tlRW5jb2RlciB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2VuY29kZVwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBQbGF5ZXJGaWx0ZXIgfSBmcm9tIFwiLi4vaW50ZXJhY3Rpb25zL3BsYXllci1maWx0ZXJcIjtcblxuaW1wb3J0IHsgRmlsdGVyLCBGaWx0ZXJNaXhpbiB9IGZyb20gXCIuLi9pbnRlcmFjdGlvbnMvZmlsdGVyXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUNvbnRpbnVvdXNQbGF5ZXJBdHRyaWJ1dGVzID0gKGRhdGEsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBwbGF5ZXJUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY29udGludW91c1BsYXllcjtcbiAgICByZXR1cm4gbWVyZ2Uoe30sIHBsYXllclRoZW1lLCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGRhdGFJbmRleDogMFxuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZURpc2NyZXRlUGxheWVyQXR0cmlidXRlcyA9IChkYXRhLCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcGxheWVyVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmRpc2NyZXRlUGxheWVyO1xuICAgIHJldHVybiBtZXJnZSh7fSwgcGxheWVyVGhlbWUsIHtcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgZGF0YUluZGV4OiAwXG4gICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIodmlldywgQ29tcG9uZW50RW51bS5wbGF5ZXIsIGdyb3VwKSwgdGhpcy5zcGVjLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLnBsYXllciwgXG4gICAgICAgIHRoaXMuc3BlYy5wbGF5ZXJUeXBlID0gXCJhdXRvXCI7XG4gICAgfVxuICAgIHBhcnNlQWRkaXRpb24oc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2VBZGRpdGlvbihzcGVjKSwgdGhpcy5wbGF5ZXJUeXBlKHNwZWMucGxheWVyVHlwZSksIHRoaXMuc291cmNlKHNwZWMuc291cmNlKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHBsYXllclR5cGUocGxheWVyVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLnBsYXllclR5cGUgPSBwbGF5ZXJUeXBlLCB0aGlzLl9wbGF5ZXJDb21wb25lbnRUeXBlID0gbnVsbCwgdGhpcy5fcHJlcGFyZVJlam9pbigpLCBcbiAgICAgICAgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgc291cmNlKHNvdXJjZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLnNwZWMuc291cmNlKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0U291cmNlID0gbnVsbCA9PT0gKF9hID0gdGhpcy5zcGVjKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc291cmNlLCBsYXN0U291cmNlRGF0YUdyYW1tYXIgPSBpc0FycmF5KGxhc3RTb3VyY2UpID8gbnVsbCA6IGlzU3RyaW5nKGxhc3RTb3VyY2UpID8gdGhpcy52aWV3LmdldERhdGFCeUlkKGxhc3RTb3VyY2UpIDogbGFzdFNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKGxhc3RTb3VyY2VEYXRhR3JhbW1hcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcGVjLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgY29uc3Qgc291cmNlRGF0YUdyYW1tYXIgPSBpc0FycmF5KHNvdXJjZSkgPyBudWxsIDogaXNTdHJpbmcoc291cmNlKSA/IHRoaXMudmlldy5nZXREYXRhQnlJZChzb3VyY2UpIDogc291cmNlO1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2goc291cmNlRGF0YUdyYW1tYXIpLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBwbGF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCkucGxheSgpLCB0aGlzO1xuICAgIH1cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JvdXBHcmFwaGljSXRlbSgpLnBhdXNlKCksIHRoaXM7XG4gICAgfVxuICAgIGJhY2t3YXJkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCkuYmFja3dhcmQoKSwgdGhpcztcbiAgICB9XG4gICAgZm9yd2FyZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JvdXBHcmFwaGljSXRlbSgpLmZvcndhcmQoKSwgdGhpcztcbiAgICB9XG4gICAgYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5LCBuZXdHcmFwaGljSXRlbSkge1xuICAgICAgICBjb25zdCBpbml0aWFsQXR0cmlidXRlcyA9IG1lcmdlKHtcbiAgICAgICAgICAgIHNsaWRlcjoge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJTdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBzaXplOiAxNlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgYXR0cnMpLCBncmFwaGljSXRlbSA9IG51bGwgIT0gbmV3R3JhcGhpY0l0ZW0gPyBuZXdHcmFwaGljSXRlbSA6IEZhY3RvcnkuY3JlYXRlR3JhcGhpY0NvbXBvbmVudCh0aGlzLl9nZXRQbGF5ZXJDb21wb25lbnRUeXBlKCksIGluaXRpYWxBdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICBza2lwRGVmYXVsdDogdGhpcy5zcGVjLnNraXBUaGVtZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmFkZEdyYXBoaWNJdGVtKGluaXRpYWxBdHRyaWJ1dGVzLCBncm91cEtleSwgZ3JhcGhpY0l0ZW0pO1xuICAgIH1cbiAgICBfdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZXJzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB1cGRhdGU6IHt9XG4gICAgICAgIH0sIHRoaXMuc3BlYy5lbmNvZGUpLCBjb21wb25lbnRFbmNvZGVycyA9IE9iamVjdC5rZXlzKGVuY29kZXJzKS5yZWR1Y2UoKChyZXMsIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyID0gZW5jb2RlcnNbc3RhdGVdO1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgKHJlc1tzdGF0ZV0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IChkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gdGhpcy5zcGVjLnNraXBUaGVtZSA/IG51bGwgOiB0aGlzLnZpZXcuZ2V0Q3VycmVudFRoZW1lKCksIGFkZGl0aW9uID0gaW52b2tlRW5jb2RlcihlbmNvZGVyLCBkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycyksIHNvdXJjZSA9IHRoaXMuc3BlYy5zb3VyY2UsIHNvdXJjZURhdGFHcmFtbWFyID0gaXNBcnJheShzb3VyY2UpID8gbnVsbCA6IGlzU3RyaW5nKHNvdXJjZSkgPyB0aGlzLnZpZXcuZ2V0RGF0YUJ5SWQoc291cmNlKSA6IHNvdXJjZSwgc291cmNlRGF0YSA9IGlzQXJyYXkoc291cmNlKSA/IHNvdXJjZSA6IG51bGwgIT09IChfYSA9IG51bGwgPT0gc291cmNlRGF0YUdyYW1tYXIgPyB2b2lkIDAgOiBzb3VyY2VEYXRhR3JhbW1hci5nZXRWYWx1ZSgpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9nZXRQbGF5ZXJDb21wb25lbnRUeXBlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29udGludW91c1BsYXllclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlQ29udGludW91c1BsYXllckF0dHJpYnV0ZXMoc291cmNlRGF0YSwgdGhlbWUsIGFkZGl0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkaXNjcmV0ZVBsYXllclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlRGlzY3JldGVQbGF5ZXJBdHRyaWJ1dGVzKHNvdXJjZURhdGEsIHRoZW1lLCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgcmVzO1xuICAgICAgICB9KSwge30pO1xuICAgICAgICB0aGlzLl9lbmNvZGVycyA9IGNvbXBvbmVudEVuY29kZXJzO1xuICAgIH1cbiAgICBfZ2V0UGxheWVyQ29tcG9uZW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXllckNvbXBvbmVudFR5cGUgfHwgKHRoaXMuc3BlYy5wbGF5ZXJUeXBlICYmIFwiYXV0b1wiICE9PSB0aGlzLnNwZWMucGxheWVyVHlwZSA/IHRoaXMuX3BsYXllckNvbXBvbmVudFR5cGUgPSBcImRpc2NyZXRlXCIgPT09IHRoaXMuc3BlYy5wbGF5ZXJUeXBlID8gXCJkaXNjcmV0ZVBsYXllclwiIDogXCJjb250aW51b3VzXCIgPT09IHRoaXMuc3BlYy5wbGF5ZXJUeXBlID8gXCJjb250aW51b3VzUGxheWVyXCIgOiBcImRpc2NyZXRlUGxheWVyXCIgOiB0aGlzLl9wbGF5ZXJDb21wb25lbnRUeXBlID0gXCJkaXNjcmV0ZVBsYXllclwiKSwgXG4gICAgICAgIHRoaXMuX3BsYXllckNvbXBvbmVudFR5cGU7XG4gICAgfVxufVxuXG5QbGF5ZXIuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0ucGxheWVyO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJQbGF5ZXIgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoUGxheWVyRW51bS5jb250aW51b3VzUGxheWVyLCAoYXR0cnMgPT4gbmV3IENvbnRpbnVvdXNQbGF5ZXIoYXR0cnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KFBsYXllckVudW0uZGlzY3JldGVQbGF5ZXIsIChhdHRycyA9PiBuZXcgRGlzY3JldGVQbGF5ZXIoYXR0cnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50RW51bS5wbGF5ZXIsIFBsYXllciksIG1peGluKEZpbHRlciwgRmlsdGVyTWl4aW4pLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oUGxheWVyRmlsdGVyLnR5cGUsIFBsYXllckZpbHRlcik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxheWVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/player.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scale.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scale.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScaleComponent: () => (/* binding */ ScaleComponent)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n\n\n\n\nclass ScaleComponent extends _view_component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.scale(spec.scale), this;\n    }\n    scale(scale) {\n        if (this.spec.scale) {\n            const lastScaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n            this.detach(lastScaleGrammar), this.spec.scale = void 0;\n        }\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(scale) ? this.view.getScaleById(scale) : scale;\n        return this.spec.scale = scaleGrammar, this.attach(scaleGrammar), this._updateComponentEncoders(), \n        this.commit(), this;\n    }\n    getScale() {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.spec.scale) ? this.view.getScaleById(this.spec.scale) : this.spec.scale;\n    }\n}\n//# sourceMappingURL=scale.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3NjYWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0Qzs7QUFFRTs7QUFFdkMsNkJBQTZCLHNEQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNERBQVE7QUFDN0M7QUFDQTtBQUNBLDZCQUE2Qiw0REFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQVE7QUFDdkI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9jb21wb25lbnQvc2NhbGUuanM/NWZkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi92aWV3L2NvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgU2NhbGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHBhcnNlQWRkaXRpb24oc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2VBZGRpdGlvbihzcGVjKSwgdGhpcy5zY2FsZShzcGVjLnNjYWxlKSwgdGhpcztcbiAgICB9XG4gICAgc2NhbGUoc2NhbGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy5zY2FsZSkge1xuICAgICAgICAgICAgY29uc3QgbGFzdFNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHRoaXMuc3BlYy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zY2FsZSkgOiB0aGlzLnNwZWMuc2NhbGU7XG4gICAgICAgICAgICB0aGlzLmRldGFjaChsYXN0U2NhbGVHcmFtbWFyKSwgdGhpcy5zcGVjLnNjYWxlID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzU3RyaW5nKHNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQoc2NhbGUpIDogc2NhbGU7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuc2NhbGUgPSBzY2FsZUdyYW1tYXIsIHRoaXMuYXR0YWNoKHNjYWxlR3JhbW1hciksIHRoaXMuX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCksIFxuICAgICAgICB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBnZXRTY2FsZSgpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHRoaXMuc3BlYy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMuc3BlYy5zY2FsZSkgOiB0aGlzLnNwZWMuc2NhbGU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NhbGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scrollbar.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scrollbar.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Scrollbar: () => (/* binding */ Scrollbar),\n/* harmony export */   generateScrollbarAttributes: () => (/* binding */ generateScrollbarAttributes),\n/* harmony export */   registerScrollbar: () => (/* binding */ registerScrollbar)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/scrollbar/scrollbar.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scale.js\");\n/* harmony import */ var _interactions_scrollbar_filter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../interactions/scrollbar-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/scrollbar-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/direction.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateScrollbarAttributes = (groupSize, direction, position, theme, addition) => {\n    var _a, _b, _c, _d, _e;\n    const scrollbarTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.scrollbar;\n    let finalDirection = \"horizontal\", finalPosition = \"bottom\";\n    (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidDirection)(direction) || (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidPosition)(position) ? !(0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidDirection)(direction) && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidPosition)(position) ? (finalDirection = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontalPosition)(position) ? \"horizontal\" : \"vertical\", \n    finalPosition = position) : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidDirection)(direction) && !(0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isValidPosition)(position) ? (finalDirection = direction, \n    finalPosition = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(direction) ? \"bottom\" : \"right\") : (finalDirection = direction, \n    finalPosition = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(direction) && !(0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontalPosition)(position) ? \"bottom\" : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isVertical)(direction) && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontalPosition)(position) ? \"right\" : position) : (finalDirection = \"horizontal\", \n    finalPosition = \"bottom\");\n    const attributes = {\n        direction: finalDirection\n    };\n    if ((0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(finalDirection)) {\n        const size = null !== (_c = null !== (_b = addition.height) && void 0 !== _b ? _b : null == scrollbarTheme ? void 0 : scrollbarTheme.height) && void 0 !== _c ? _c : 12;\n        \"top\" === finalPosition ? Object.assign(attributes, {\n            width: groupSize.width,\n            height: size,\n            x: 0,\n            y: 0\n        }) : Object.assign(attributes, {\n            width: groupSize.width,\n            height: size,\n            x: 0,\n            y: groupSize.height - size\n        });\n    } else {\n        const size = null !== (_e = null !== (_d = addition.width) && void 0 !== _d ? _d : null == scrollbarTheme ? void 0 : scrollbarTheme.width) && void 0 !== _e ? _e : 12;\n        \"left\" === finalPosition ? Object.assign(attributes, {\n            width: size,\n            height: groupSize.height,\n            x: 0,\n            y: 0\n        }) : Object.assign(attributes, {\n            width: size,\n            height: groupSize.height,\n            x: groupSize.width - size,\n            y: 0\n        });\n    }\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, scrollbarTheme, attributes, null != addition ? addition : {});\n};\n\nclass Scrollbar extends _scale__WEBPACK_IMPORTED_MODULE_2__.ScaleComponent {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.container(spec.container), this.direction(spec.direction), \n        this.position(spec.position), this;\n    }\n    container(container) {\n        if (this.spec.container) {\n            const prevContainer = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.container) ? this.view.getMarkById(this.spec.container) : this.spec.container;\n            this.detach(prevContainer);\n        }\n        if (this.spec.container = container, container) {\n            const nextContainer = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(container) ? this.view.getMarkById(container) : container;\n            this.attach(nextContainer);\n        }\n        return this.commit(), this;\n    }\n    direction(direction) {\n        return this.setFunctionSpec(direction, \"direction\");\n    }\n    position(position) {\n        return this.setFunctionSpec(position, \"position\");\n    }\n    setScrollStart(start) {\n        var _a;\n        const scrollbar = this.getGroupGraphicItem(), range = null === (_a = null == scrollbar ? void 0 : scrollbar.attribute) || void 0 === _a ? void 0 : _a.range;\n        if (scrollbar && range) {\n            const nextRange = [ start, range[1] - range[0] + start ];\n            scrollbar.setScrollRange(nextRange);\n        }\n        return this;\n    }\n    getScrollRange() {\n        const scrollbar = this.getGroupGraphicItem();\n        if (scrollbar) return scrollbar.getScrollRange();\n    }\n    addGraphicItem(attrs, groupKey) {\n        const initialAttributes = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            range: [ 0, 1 ]\n        }, attrs), graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.createGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar, initialAttributes, {\n            skipDefault: this.spec.skipTheme\n        });\n        return super.addGraphicItem(initialAttributes, groupKey, graphicItem);\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b;\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), direction = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.direction, parameters, datum, element), position = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.invokeFunctionType)(this.spec.position, parameters, datum, element), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_7__.invokeEncoder)(encoder, datum, element, parameters), targetMark = this.spec.container ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.container) ? this.view.getMarkById(this.spec.container) : this.spec.container : null, groupGraphicItem = (targetMark && targetMark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.group ? targetMark : this.group).getGroupGraphicItem(), size = groupGraphicItem ? {\n                        width: null !== (_a = groupGraphicItem.attribute.width) && void 0 !== _a ? _a : groupGraphicItem.AABBBounds.width(),\n                        height: null !== (_b = groupGraphicItem.attribute.height) && void 0 !== _b ? _b : groupGraphicItem.AABBBounds.height()\n                    } : {\n                        width: this.view.width(),\n                        height: this.view.height()\n                    };\n                    return generateScrollbarAttributes(size, direction, position, theme, addition);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n}\n\nScrollbar.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar;\n\nconst registerScrollbar = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.ScrollBar(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.scrollbar, Scrollbar), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_10__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_10__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerInteraction(_interactions_scrollbar_filter__WEBPACK_IMPORTED_MODULE_11__.ScrollbarFilter.type, _interactions_scrollbar_filter__WEBPACK_IMPORTED_MODULE_11__.ScrollbarFilter);\n};\n//# sourceMappingURL=scrollbar.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3Njcm9sbGJhci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7O0FBRXFCOztBQUVmOztBQUVYOztBQUVGOztBQUVUOztBQUVEOztBQUUwQjs7QUFFTjs7QUFFK0Q7O0FBRXJIO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsSUFBSSx5RUFBZ0IsZUFBZSx3RUFBZSxjQUFjLHlFQUFnQixlQUFlLHdFQUFlLCtCQUErQiw2RUFBb0I7QUFDakssZ0NBQWdDLHlFQUFnQixnQkFBZ0Isd0VBQWU7QUFDL0Usb0JBQW9CLHFFQUFZO0FBQ2hDLG9CQUFvQixxRUFBWSxnQkFBZ0IsNkVBQW9CLHdCQUF3QixtRUFBVSxlQUFlLDZFQUFvQjtBQUN6STtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscUVBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxXQUFXLDREQUFLLEdBQUcsOERBQThEO0FBQ2pGOztBQUVPLHdCQUF3QixrREFBYztBQUM3QztBQUNBLG9CQUFvQix1REFBYSw4Q0FBOEMsdURBQWE7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDREQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw0REFBSztBQUN2QztBQUNBLFNBQVMsd0JBQXdCLGtEQUFPLHdCQUF3Qix1REFBYTtBQUM3RTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLCtEQUFrQiw4REFBOEQsK0RBQWtCLDZEQUE2RCxpRUFBYSwwRUFBMEUsNERBQVEsMkpBQTJKLHlEQUFlO0FBQ2hoQjtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUyxLQUFLO0FBQ2Q7QUFDQTtBQUNBOztBQUVBLDBCQUEwQix1REFBYTs7QUFFaEM7QUFDUCxJQUFJLGtEQUFPLDBCQUEwQix1REFBYSwwQkFBMEIsbUVBQWtCO0FBQzlGLElBQUksa0RBQU8sbUJBQW1CLHVEQUFhLHdCQUF3Qix1REFBSyxDQUFDLHlEQUFNLEVBQUUsOERBQVc7QUFDNUYsSUFBSSxrREFBTyxxQkFBcUIsNEVBQWUsT0FBTyw0RUFBZTtBQUNyRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9jb21wb25lbnQvc2Nyb2xsYmFyLmpzP2E3OTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNTdHJpbmcsIG1lcmdlLCBtaXhpbiB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IFNjcm9sbEJhciBhcyBTY3JvbGxiYXJDb21wb25lbnQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBDb21wb25lbnRFbnVtLCBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgaW52b2tlRW5jb2RlciB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2VuY29kZVwiO1xuXG5pbXBvcnQgeyBpbnZva2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBTY2FsZUNvbXBvbmVudCB9IGZyb20gXCIuL3NjYWxlXCI7XG5cbmltcG9ydCB7IFNjcm9sbGJhckZpbHRlciB9IGZyb20gXCIuLi9pbnRlcmFjdGlvbnMvc2Nyb2xsYmFyLWZpbHRlclwiO1xuXG5pbXBvcnQgeyBGaWx0ZXIsIEZpbHRlck1peGluIH0gZnJvbSBcIi4uL2ludGVyYWN0aW9ucy9maWx0ZXJcIjtcblxuaW1wb3J0IHsgaXNIb3Jpem9udGFsLCBpc0hvcml6b250YWxQb3NpdGlvbiwgaXNWYWxpZERpcmVjdGlvbiwgaXNWYWxpZFBvc2l0aW9uLCBpc1ZlcnRpY2FsIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNjcm9sbGJhckF0dHJpYnV0ZXMgPSAoZ3JvdXBTaXplLCBkaXJlY3Rpb24sIHBvc2l0aW9uLCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIGNvbnN0IHNjcm9sbGJhclRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zY3JvbGxiYXI7XG4gICAgbGV0IGZpbmFsRGlyZWN0aW9uID0gXCJob3Jpem9udGFsXCIsIGZpbmFsUG9zaXRpb24gPSBcImJvdHRvbVwiO1xuICAgIGlzVmFsaWREaXJlY3Rpb24oZGlyZWN0aW9uKSB8fCBpc1ZhbGlkUG9zaXRpb24ocG9zaXRpb24pID8gIWlzVmFsaWREaXJlY3Rpb24oZGlyZWN0aW9uKSAmJiBpc1ZhbGlkUG9zaXRpb24ocG9zaXRpb24pID8gKGZpbmFsRGlyZWN0aW9uID0gaXNIb3Jpem9udGFsUG9zaXRpb24ocG9zaXRpb24pID8gXCJob3Jpem9udGFsXCIgOiBcInZlcnRpY2FsXCIsIFxuICAgIGZpbmFsUG9zaXRpb24gPSBwb3NpdGlvbikgOiBpc1ZhbGlkRGlyZWN0aW9uKGRpcmVjdGlvbikgJiYgIWlzVmFsaWRQb3NpdGlvbihwb3NpdGlvbikgPyAoZmluYWxEaXJlY3Rpb24gPSBkaXJlY3Rpb24sIFxuICAgIGZpbmFsUG9zaXRpb24gPSBpc0hvcml6b250YWwoZGlyZWN0aW9uKSA/IFwiYm90dG9tXCIgOiBcInJpZ2h0XCIpIDogKGZpbmFsRGlyZWN0aW9uID0gZGlyZWN0aW9uLCBcbiAgICBmaW5hbFBvc2l0aW9uID0gaXNIb3Jpem9udGFsKGRpcmVjdGlvbikgJiYgIWlzSG9yaXpvbnRhbFBvc2l0aW9uKHBvc2l0aW9uKSA/IFwiYm90dG9tXCIgOiBpc1ZlcnRpY2FsKGRpcmVjdGlvbikgJiYgaXNIb3Jpem9udGFsUG9zaXRpb24ocG9zaXRpb24pID8gXCJyaWdodFwiIDogcG9zaXRpb24pIDogKGZpbmFsRGlyZWN0aW9uID0gXCJob3Jpem9udGFsXCIsIFxuICAgIGZpbmFsUG9zaXRpb24gPSBcImJvdHRvbVwiKTtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0ge1xuICAgICAgICBkaXJlY3Rpb246IGZpbmFsRGlyZWN0aW9uXG4gICAgfTtcbiAgICBpZiAoaXNIb3Jpem9udGFsKGZpbmFsRGlyZWN0aW9uKSkge1xuICAgICAgICBjb25zdCBzaXplID0gbnVsbCAhPT0gKF9jID0gbnVsbCAhPT0gKF9iID0gYWRkaXRpb24uaGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBudWxsID09IHNjcm9sbGJhclRoZW1lID8gdm9pZCAwIDogc2Nyb2xsYmFyVGhlbWUuaGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAxMjtcbiAgICAgICAgXCJ0b3BcIiA9PT0gZmluYWxQb3NpdGlvbiA/IE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcywge1xuICAgICAgICAgICAgd2lkdGg6IGdyb3VwU2l6ZS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH0pIDogT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICB3aWR0aDogZ3JvdXBTaXplLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IGdyb3VwU2l6ZS5oZWlnaHQgLSBzaXplXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSBudWxsICE9PSAoX2UgPSBudWxsICE9PSAoX2QgPSBhZGRpdGlvbi53aWR0aCkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogbnVsbCA9PSBzY3JvbGxiYXJUaGVtZSA/IHZvaWQgMCA6IHNjcm9sbGJhclRoZW1lLndpZHRoKSAmJiB2b2lkIDAgIT09IF9lID8gX2UgOiAxMjtcbiAgICAgICAgXCJsZWZ0XCIgPT09IGZpbmFsUG9zaXRpb24gPyBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBncm91cFNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgfSkgOiBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBncm91cFNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgeDogZ3JvdXBTaXplLndpZHRoIC0gc2l6ZSxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZSh7fSwgc2Nyb2xsYmFyVGhlbWUsIGF0dHJpYnV0ZXMsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjbGFzcyBTY3JvbGxiYXIgZXh0ZW5kcyBTY2FsZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIodmlldywgQ29tcG9uZW50RW51bS5zY3JvbGxiYXIsIGdyb3VwKSwgdGhpcy5zcGVjLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLnNjcm9sbGJhcjtcbiAgICB9XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZUFkZGl0aW9uKHNwZWMpLCB0aGlzLmNvbnRhaW5lcihzcGVjLmNvbnRhaW5lciksIHRoaXMuZGlyZWN0aW9uKHNwZWMuZGlyZWN0aW9uKSwgXG4gICAgICAgIHRoaXMucG9zaXRpb24oc3BlYy5wb3NpdGlvbiksIHRoaXM7XG4gICAgfVxuICAgIGNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy5jb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZDb250YWluZXIgPSBpc1N0cmluZyh0aGlzLnNwZWMuY29udGFpbmVyKSA/IHRoaXMudmlldy5nZXRNYXJrQnlJZCh0aGlzLnNwZWMuY29udGFpbmVyKSA6IHRoaXMuc3BlYy5jb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLmRldGFjaChwcmV2Q29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zcGVjLmNvbnRhaW5lciA9IGNvbnRhaW5lciwgY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0Q29udGFpbmVyID0gaXNTdHJpbmcoY29udGFpbmVyKSA/IHRoaXMudmlldy5nZXRNYXJrQnlJZChjb250YWluZXIpIDogY29udGFpbmVyO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2gobmV4dENvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGRpcmVjdGlvbihkaXJlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKGRpcmVjdGlvbiwgXCJkaXJlY3Rpb25cIik7XG4gICAgfVxuICAgIHBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyhwb3NpdGlvbiwgXCJwb3NpdGlvblwiKTtcbiAgICB9XG4gICAgc2V0U2Nyb2xsU3RhcnQoc3RhcnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBzY3JvbGxiYXIgPSB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKSwgcmFuZ2UgPSBudWxsID09PSAoX2EgPSBudWxsID09IHNjcm9sbGJhciA/IHZvaWQgMCA6IHNjcm9sbGJhci5hdHRyaWJ1dGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5yYW5nZTtcbiAgICAgICAgaWYgKHNjcm9sbGJhciAmJiByYW5nZSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFJhbmdlID0gWyBzdGFydCwgcmFuZ2VbMV0gLSByYW5nZVswXSArIHN0YXJ0IF07XG4gICAgICAgICAgICBzY3JvbGxiYXIuc2V0U2Nyb2xsUmFuZ2UobmV4dFJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0U2Nyb2xsUmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IHNjcm9sbGJhciA9IHRoaXMuZ2V0R3JvdXBHcmFwaGljSXRlbSgpO1xuICAgICAgICBpZiAoc2Nyb2xsYmFyKSByZXR1cm4gc2Nyb2xsYmFyLmdldFNjcm9sbFJhbmdlKCk7XG4gICAgfVxuICAgIGFkZEdyYXBoaWNJdGVtKGF0dHJzLCBncm91cEtleSkge1xuICAgICAgICBjb25zdCBpbml0aWFsQXR0cmlidXRlcyA9IG1lcmdlKHtcbiAgICAgICAgICAgIHJhbmdlOiBbIDAsIDEgXVxuICAgICAgICB9LCBhdHRycyksIGdyYXBoaWNJdGVtID0gRmFjdG9yeS5jcmVhdGVHcmFwaGljQ29tcG9uZW50KENvbXBvbmVudEVudW0uc2Nyb2xsYmFyLCBpbml0aWFsQXR0cmlidXRlcywge1xuICAgICAgICAgICAgc2tpcERlZmF1bHQ6IHRoaXMuc3BlYy5za2lwVGhlbWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdXBlci5hZGRHcmFwaGljSXRlbShpbml0aWFsQXR0cmlidXRlcywgZ3JvdXBLZXksIGdyYXBoaWNJdGVtKTtcbiAgICB9XG4gICAgX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCkge1xuICAgICAgICBjb25zdCBlbmNvZGVycyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdXBkYXRlOiB7fVxuICAgICAgICB9LCB0aGlzLnNwZWMuZW5jb2RlKSwgY29tcG9uZW50RW5jb2RlcnMgPSBPYmplY3Qua2V5cyhlbmNvZGVycykucmVkdWNlKCgocmVzLCBzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IGVuY29kZXJzW3N0YXRlXTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmIChyZXNbc3RhdGVdID0ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhlbWUgPSB0aGlzLnNwZWMuc2tpcFRoZW1lID8gbnVsbCA6IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKSwgZGlyZWN0aW9uID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3BlYy5kaXJlY3Rpb24sIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KSwgcG9zaXRpb24gPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLnBvc2l0aW9uLCBwYXJhbWV0ZXJzLCBkYXR1bSwgZWxlbWVudCksIGFkZGl0aW9uID0gaW52b2tlRW5jb2RlcihlbmNvZGVyLCBkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycyksIHRhcmdldE1hcmsgPSB0aGlzLnNwZWMuY29udGFpbmVyID8gaXNTdHJpbmcodGhpcy5zcGVjLmNvbnRhaW5lcikgPyB0aGlzLnZpZXcuZ2V0TWFya0J5SWQodGhpcy5zcGVjLmNvbnRhaW5lcikgOiB0aGlzLnNwZWMuY29udGFpbmVyIDogbnVsbCwgZ3JvdXBHcmFwaGljSXRlbSA9ICh0YXJnZXRNYXJrICYmIHRhcmdldE1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCA/IHRhcmdldE1hcmsgOiB0aGlzLmdyb3VwKS5nZXRHcm91cEdyYXBoaWNJdGVtKCksIHNpemUgPSBncm91cEdyYXBoaWNJdGVtID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG51bGwgIT09IChfYSA9IGdyb3VwR3JhcGhpY0l0ZW0uYXR0cmlidXRlLndpZHRoKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBncm91cEdyYXBoaWNJdGVtLkFBQkJCb3VuZHMud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogbnVsbCAhPT0gKF9iID0gZ3JvdXBHcmFwaGljSXRlbS5hdHRyaWJ1dGUuaGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBncm91cEdyYXBoaWNJdGVtLkFBQkJCb3VuZHMuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnZpZXcud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy52aWV3LmhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVNjcm9sbGJhckF0dHJpYnV0ZXMoc2l6ZSwgZGlyZWN0aW9uLCBwb3NpdGlvbiwgdGhlbWUsIGFkZGl0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgcmVzO1xuICAgICAgICB9KSwge30pO1xuICAgICAgICB0aGlzLl9lbmNvZGVycyA9IGNvbXBvbmVudEVuY29kZXJzO1xuICAgIH1cbn1cblxuU2Nyb2xsYmFyLmNvbXBvbmVudFR5cGUgPSBDb21wb25lbnRFbnVtLnNjcm9sbGJhcjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU2Nyb2xsYmFyID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KENvbXBvbmVudEVudW0uc2Nyb2xsYmFyLCAoYXR0cnMgPT4gbmV3IFNjcm9sbGJhckNvbXBvbmVudChhdHRycykpKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckNvbXBvbmVudChDb21wb25lbnRFbnVtLnNjcm9sbGJhciwgU2Nyb2xsYmFyKSwgbWl4aW4oRmlsdGVyLCBGaWx0ZXJNaXhpbiksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihTY3JvbGxiYXJGaWx0ZXIudHlwZSwgU2Nyb2xsYmFyRmlsdGVyKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY3JvbGxiYXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/scrollbar.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/slider.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/slider.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Slider: () => (/* binding */ Slider),\n/* harmony export */   generateSliderAttributes: () => (/* binding */ generateSliderAttributes),\n/* harmony export */   registerSlider: () => (/* binding */ registerSlider)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/slider/slider.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _interactions_slider_filter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../interactions/slider-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/slider-filter.js\");\n/* harmony import */ var _interactions_filter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../interactions/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateSliderAttributes = (min, max, theme, addition) => {\n    var _a;\n    const sliderTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.slider;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, sliderTheme, {\n        min: min,\n        max: max,\n        value: [ min, max ]\n    }, null != addition ? addition : {});\n};\n\nclass Slider extends _view_component__WEBPACK_IMPORTED_MODULE_1__.Component {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.min(spec.min), this.max(spec.max), this;\n    }\n    min(min) {\n        return this.setFunctionSpec(min, \"min\");\n    }\n    max(max) {\n        return this.setFunctionSpec(max, \"max\");\n    }\n    setStartEndValue(start, end) {\n        return this.getGroupGraphicItem().setValue([ start, end ]), this;\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    const min = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.min) ? 0 : (0,_parse_util__WEBPACK_IMPORTED_MODULE_4__.invokeFunctionType)(this.spec.min, parameters, datum, element), max = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.max) ? 1 : (0,_parse_util__WEBPACK_IMPORTED_MODULE_4__.invokeFunctionType)(this.spec.max, parameters, datum, element), theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__.invokeEncoder)(encoder, datum, element, parameters);\n                    return generateSliderAttributes(min, max, theme, addition);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n}\n\nSlider.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider;\n\nconst registerSlider = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.Slider(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.slider, Slider), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__.mixin)(_interactions_filter__WEBPACK_IMPORTED_MODULE_9__.Filter, _interactions_filter__WEBPACK_IMPORTED_MODULE_9__.FilterMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerInteraction(_interactions_slider_filter__WEBPACK_IMPORTED_MODULE_10__.SliderFilter.type, _interactions_slider_filter__WEBPACK_IMPORTED_MODULE_10__.SliderFilter);\n};\n//# sourceMappingURL=slider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3NsaWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDs7QUFFa0I7O0FBRTFCOztBQUVEOztBQUVPOztBQUVGOztBQUVUOztBQUVtQjs7QUFFQTs7QUFFdEQ7QUFDUDtBQUNBO0FBQ0EsV0FBVyw0REFBSyxHQUFHO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDOztBQUVPLHFCQUFxQixzREFBUztBQUNyQztBQUNBLG9CQUFvQix1REFBYSwyQ0FBMkMsdURBQWE7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDREQUFLLHNCQUFzQiwrREFBa0IsbURBQW1ELDREQUFLLHNCQUFzQiwrREFBa0IsMEhBQTBILGlFQUFhO0FBQ3BUO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUyxLQUFLO0FBQ2Q7QUFDQTtBQUNBOztBQUVBLHVCQUF1Qix1REFBYTs7QUFFN0I7QUFDUCxJQUFJLGtEQUFPLDBCQUEwQix1REFBYSx1QkFBdUIsZ0VBQWU7QUFDeEYsSUFBSSxrREFBTyxtQkFBbUIsdURBQWEsa0JBQWtCLHVEQUFLLENBQUMsd0RBQU0sRUFBRSw2REFBVztBQUN0RixJQUFJLGtEQUFPLHFCQUFxQixzRUFBWSxPQUFPLHNFQUFZO0FBQy9EO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2NvbXBvbmVudC9zbGlkZXIuanM/NDk2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCwgbWVyZ2UsIG1peGluIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgU2xpZGVyIGFzIFNsaWRlckNvbXBvbmVudCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IENvbXBvbmVudEVudW0gfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uL3ZpZXcvY29tcG9uZW50XCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXIgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgU2xpZGVyRmlsdGVyIH0gZnJvbSBcIi4uL2ludGVyYWN0aW9ucy9zbGlkZXItZmlsdGVyXCI7XG5cbmltcG9ydCB7IEZpbHRlciwgRmlsdGVyTWl4aW4gfSBmcm9tIFwiLi4vaW50ZXJhY3Rpb25zL2ZpbHRlclwiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVTbGlkZXJBdHRyaWJ1dGVzID0gKG1pbiwgbWF4LCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc2xpZGVyVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnNsaWRlcjtcbiAgICByZXR1cm4gbWVyZ2Uoe30sIHNsaWRlclRoZW1lLCB7XG4gICAgICAgIG1pbjogbWluLFxuICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgdmFsdWU6IFsgbWluLCBtYXggXVxuICAgIH0sIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjbGFzcyBTbGlkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIGdyb3VwKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIENvbXBvbmVudEVudW0uc2xpZGVyLCBncm91cCksIHRoaXMuc3BlYy5jb21wb25lbnRUeXBlID0gQ29tcG9uZW50RW51bS5zbGlkZXI7XG4gICAgfVxuICAgIHBhcnNlQWRkaXRpb24oc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2VBZGRpdGlvbihzcGVjKSwgdGhpcy5taW4oc3BlYy5taW4pLCB0aGlzLm1heChzcGVjLm1heCksIHRoaXM7XG4gICAgfVxuICAgIG1pbihtaW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKG1pbiwgXCJtaW5cIik7XG4gICAgfVxuICAgIG1heChtYXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKG1heCwgXCJtYXhcIik7XG4gICAgfVxuICAgIHNldFN0YXJ0RW5kVmFsdWUoc3RhcnQsIGVuZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRHcm91cEdyYXBoaWNJdGVtKCkuc2V0VmFsdWUoWyBzdGFydCwgZW5kIF0pLCB0aGlzO1xuICAgIH1cbiAgICBfdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZXJzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB1cGRhdGU6IHt9XG4gICAgICAgIH0sIHRoaXMuc3BlYy5lbmNvZGUpLCBjb21wb25lbnRFbmNvZGVycyA9IE9iamVjdC5rZXlzKGVuY29kZXJzKS5yZWR1Y2UoKChyZXMsIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyID0gZW5jb2RlcnNbc3RhdGVdO1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgKHJlc1tzdGF0ZV0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IChkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW4gPSBpc05pbCh0aGlzLnNwZWMubWluKSA/IDAgOiBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLm1pbiwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpLCBtYXggPSBpc05pbCh0aGlzLnNwZWMubWF4KSA/IDEgOiBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLm1heCwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpLCB0aGVtZSA9IHRoaXMuc3BlYy5za2lwVGhlbWUgPyBudWxsIDogdGhpcy52aWV3LmdldEN1cnJlbnRUaGVtZSgpLCBhZGRpdGlvbiA9IGludm9rZUVuY29kZXIoZW5jb2RlciwgZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVTbGlkZXJBdHRyaWJ1dGVzKG1pbiwgbWF4LCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCByZXM7XG4gICAgICAgIH0pLCB7fSk7XG4gICAgICAgIHRoaXMuX2VuY29kZXJzID0gY29tcG9uZW50RW5jb2RlcnM7XG4gICAgfVxufVxuXG5TbGlkZXIuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0uc2xpZGVyO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTbGlkZXIgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWNDb21wb25lbnQoQ29tcG9uZW50RW51bS5zbGlkZXIsIChhdHRycyA9PiBuZXcgU2xpZGVyQ29tcG9uZW50KGF0dHJzKSkpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudEVudW0uc2xpZGVyLCBTbGlkZXIpLCBtaXhpbihGaWx0ZXIsIEZpbHRlck1peGluKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKFNsaWRlckZpbHRlci50eXBlLCBTbGlkZXJGaWx0ZXIpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNsaWRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/slider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/title.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/title.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Title: () => (/* binding */ Title),\n/* harmony export */   generateTitleAttributes: () => (/* binding */ generateTitleAttributes),\n/* harmony export */   registerTitle: () => (/* binding */ registerTitle)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/title/title.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../view/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateTitleAttributes = (title, subTitle, theme, addition) => {\n    var _a;\n    const titleTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.title, attributes = {};\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(title) && (attributes.text = title), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(subTitle) && (attributes.subtext = subTitle), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, titleTheme, attributes, null != addition ? addition : {});\n};\n\nclass Title extends _view_component__WEBPACK_IMPORTED_MODULE_2__.Component {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title, group), this.spec.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title;\n    }\n    parseAddition(spec) {\n        return super.parseAddition(spec), this.title(spec.title), this.subTitle(spec.subTitle), \n        this;\n    }\n    title(text) {\n        return this.setFunctionSpec(text, \"title\");\n    }\n    subTitle(text) {\n        return this.setFunctionSpec(text, \"subTitle\");\n    }\n    _updateComponentEncoders() {\n        const encoders = Object.assign({\n            update: {}\n        }, this.spec.encode), componentEncoders = Object.keys(encoders).reduce(((res, state) => {\n            const encoder = encoders[state];\n            return encoder && (res[state] = {\n                callback: (datum, element, parameters) => {\n                    const theme = this.spec.skipTheme ? null : this.view.getCurrentTheme(), title = (0,_parse_util__WEBPACK_IMPORTED_MODULE_4__.invokeFunctionType)(this.spec.title, parameters, datum, element), subTitle = (0,_parse_util__WEBPACK_IMPORTED_MODULE_4__.invokeFunctionType)(this.spec.subTitle, parameters, datum, element), addition = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_5__.invokeEncoder)(encoder, datum, element, parameters);\n                    return generateTitleAttributes(title, subTitle, theme, addition);\n                }\n            }), res;\n        }), {});\n        this._encoders = componentEncoders;\n    }\n}\n\nTitle.componentType = _graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title;\n\nconst registerTitle = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerGraphicComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title, (attrs => new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.Title(attrs))), \n    _core_factory__WEBPACK_IMPORTED_MODULE_6__.Factory.registerComponent(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.ComponentEnum.title, Title);\n};\n//# sourceMappingURL=title.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29tcG9uZW50L3RpdGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQWtEOztBQUVxQjs7QUFFeEI7O0FBRUQ7O0FBRU87O0FBRUY7O0FBRVQ7O0FBRW5DO0FBQ1A7QUFDQTtBQUNBLFdBQVcsNERBQU8sc0NBQXNDLDREQUFPO0FBQy9ELElBQUksNERBQUssR0FBRywwREFBMEQ7QUFDdEU7O0FBRU8sb0JBQW9CLHNEQUFTO0FBQ3BDO0FBQ0Esb0JBQW9CLHVEQUFhLDBDQUEwQyx1REFBYTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRywrREFBa0IsMERBQTBELCtEQUFrQiw2REFBNkQsaUVBQWE7QUFDNVE7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTLEtBQUs7QUFDZDtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLHVEQUFhOztBQUU1QjtBQUNQLElBQUksa0RBQU8sMEJBQTBCLHVEQUFhLHNCQUFzQiwrREFBYztBQUN0RixJQUFJLGtEQUFPLG1CQUFtQix1REFBYTtBQUMzQztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9jb21wb25lbnQvdGl0bGUuanM/NTgxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1ZhbGlkLCBtZXJnZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IFRpdGxlIGFzIFRpdGxlQ29tcG9uZW50IH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50RW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vdmlldy9jb21wb25lbnRcIjtcblxuaW1wb3J0IHsgaW52b2tlRW5jb2RlciB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2VuY29kZVwiO1xuXG5pbXBvcnQgeyBpbnZva2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUaXRsZUF0dHJpYnV0ZXMgPSAodGl0bGUsIHN1YlRpdGxlLCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgdGl0bGVUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EudGl0bGUsIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICByZXR1cm4gaXNWYWxpZCh0aXRsZSkgJiYgKGF0dHJpYnV0ZXMudGV4dCA9IHRpdGxlKSwgaXNWYWxpZChzdWJUaXRsZSkgJiYgKGF0dHJpYnV0ZXMuc3VidGV4dCA9IHN1YlRpdGxlKSwgXG4gICAgbWVyZ2Uoe30sIHRpdGxlVGhlbWUsIGF0dHJpYnV0ZXMsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjbGFzcyBUaXRsZSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IodmlldywgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIodmlldywgQ29tcG9uZW50RW51bS50aXRsZSwgZ3JvdXApLCB0aGlzLnNwZWMuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0udGl0bGU7XG4gICAgfVxuICAgIHBhcnNlQWRkaXRpb24oc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2VBZGRpdGlvbihzcGVjKSwgdGhpcy50aXRsZShzcGVjLnRpdGxlKSwgdGhpcy5zdWJUaXRsZShzcGVjLnN1YlRpdGxlKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHRpdGxlKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKHRleHQsIFwidGl0bGVcIik7XG4gICAgfVxuICAgIHN1YlRpdGxlKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKHRleHQsIFwic3ViVGl0bGVcIik7XG4gICAgfVxuICAgIF91cGRhdGVDb21wb25lbnRFbmNvZGVycygpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHVwZGF0ZToge31cbiAgICAgICAgfSwgdGhpcy5zcGVjLmVuY29kZSksIGNvbXBvbmVudEVuY29kZXJzID0gT2JqZWN0LmtleXMoZW5jb2RlcnMpLnJlZHVjZSgoKHJlcywgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGVyc1tzdGF0ZV07XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAocmVzW3N0YXRlXSA9IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gdGhpcy5zcGVjLnNraXBUaGVtZSA/IG51bGwgOiB0aGlzLnZpZXcuZ2V0Q3VycmVudFRoZW1lKCksIHRpdGxlID0gaW52b2tlRnVuY3Rpb25UeXBlKHRoaXMuc3BlYy50aXRsZSwgcGFyYW1ldGVycywgZGF0dW0sIGVsZW1lbnQpLCBzdWJUaXRsZSA9IGludm9rZUZ1bmN0aW9uVHlwZSh0aGlzLnNwZWMuc3ViVGl0bGUsIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KSwgYWRkaXRpb24gPSBpbnZva2VFbmNvZGVyKGVuY29kZXIsIGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlVGl0bGVBdHRyaWJ1dGVzKHRpdGxlLCBzdWJUaXRsZSwgdGhlbWUsIGFkZGl0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgcmVzO1xuICAgICAgICB9KSwge30pO1xuICAgICAgICB0aGlzLl9lbmNvZGVycyA9IGNvbXBvbmVudEVuY29kZXJzO1xuICAgIH1cbn1cblxuVGl0bGUuY29tcG9uZW50VHlwZSA9IENvbXBvbmVudEVudW0udGl0bGU7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclRpdGxlID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KENvbXBvbmVudEVudW0udGl0bGUsIChhdHRycyA9PiBuZXcgVGl0bGVDb21wb25lbnQoYXR0cnMpKSksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50RW51bS50aXRsZSwgVGl0bGUpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpdGxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/title.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Factory: () => (/* binding */ Factory)\n/* harmony export */ });\n/* harmony import */ var _view_glyph_meta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/glyph-meta */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph-meta.js\");\n\n\nclass Factory {\n    static registerPlotMarks(key, mark) {\n        Factory._plotMarks[key] = mark;\n    }\n    static createPlotMark(type, id) {\n        if (!Factory._plotMarks[type]) return null;\n        return new (0, Factory._plotMarks[type])(id);\n    }\n    static registerMark(key, mark) {\n        Factory._marks[key] = mark;\n    }\n    static createMark(type, view, group) {\n        if (!Factory._marks[type]) return null;\n        return new (0, Factory._marks[type])(view, type, group);\n    }\n    static hasMark(type) {\n        return !!Factory._marks[type];\n    }\n    static getMark(type) {\n        return Factory._marks[type];\n    }\n    static registerComponent(key, component) {\n        Factory._components[key] = component;\n    }\n    static createComponent(componentType, view, group, mode) {\n        const Ctor = Factory._components[componentType];\n        return Ctor ? new Ctor(view, group, mode) : null;\n    }\n    static hasComponent(componentType) {\n        return !!Factory._components[componentType];\n    }\n    static registerGraphicComponent(key, creator) {\n        Factory._graphicComponents[key] = creator;\n    }\n    static createGraphicComponent(componentType, attrs, options) {\n        const compCreator = Factory._graphicComponents[componentType];\n        return compCreator ? compCreator(attrs, options) : null;\n    }\n    static registerTransform(type, transform, isBuiltIn) {\n        Factory._transforms[type] = Object.assign(transform, {\n            type: type,\n            isBuiltIn: !!isBuiltIn\n        });\n    }\n    static getTransform(type) {\n        return Factory._transforms[type];\n    }\n    static unregisterRuntimeTransforms() {\n        Object.keys(Factory._transforms).forEach((type => {\n            Factory._transforms[type] && !Factory._transforms[type].isBuiltIn && (Factory._transforms[type] = null);\n        }));\n    }\n    static registerGrammar(type, grammarClass, specKey) {\n        Factory._grammars[type] = {\n            grammarClass: grammarClass,\n            specKey: null != specKey ? specKey : type\n        };\n    }\n    static createGrammar(type, view, grammarType) {\n        var _a;\n        const Ctor = null === (_a = Factory._grammars[type]) || void 0 === _a ? void 0 : _a.grammarClass;\n        return Ctor ? new Ctor(view, grammarType) : null;\n    }\n    static getGrammars() {\n        return this._grammars;\n    }\n    static getGlyph(glyphType) {\n        return Factory._glyphs[glyphType];\n    }\n    static createInteraction(interactionType, view, options) {\n        const Ctor = Factory._interactions[interactionType];\n        return Ctor ? new Ctor(view, options) : null;\n    }\n    static hasInteraction(interactionType) {\n        return !!Factory._interactions[interactionType];\n    }\n}\n\nFactory._plotMarks = {}, Factory._marks = {}, Factory._components = {}, Factory._graphicComponents = {}, \nFactory._transforms = {}, Factory._grammars = {}, Factory._glyphs = {}, Factory._animations = {}, \nFactory._interactions = {}, Factory._graphics = {}, Factory._stageEventPlugins = {}, \nFactory.registerGlyph = (glyphType, marks, encoders, defaultEncoder, progressiveChannels) => (Factory._glyphs[glyphType] = new _view_glyph_meta__WEBPACK_IMPORTED_MODULE_0__.GlyphMeta(marks, encoders, defaultEncoder, progressiveChannels), \nFactory._glyphs[glyphType]), Factory.registerAnimationType = (animationType, animation) => {\n    Factory._animations[animationType] = animation;\n}, Factory.getAnimationType = animationType => Factory._animations[animationType], \nFactory.registerInteraction = (interactionType, interaction) => {\n    Factory._interactions[interactionType] = interaction;\n}, Factory.registerGraphic = (graphicType, creator) => {\n    Factory._graphics[graphicType] = creator;\n}, Factory.getGraphicType = graphicType => Factory._graphics[graphicType], Factory.createGraphic = (graphicType, attributes) => {\n    const creator = Factory._graphics[graphicType];\n    return creator ? creator(attributes) : null;\n}, Factory.registerDefaultLayout = layout => {\n    Factory.defaultLayout = layout;\n}, Factory.getDefaultLayout = () => Factory.defaultLayout, Factory.registerStageEventPlugin = (type, Plugin) => {\n    Factory._stageEventPlugins[type] = Plugin;\n}, Factory.getStageEventPlugin = type => Factory._stageEventPlugins[type];\n//# sourceMappingURL=factory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29yZS9mYWN0b3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStDOztBQUV4QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIscUJBQXFCLDBCQUEwQixpQ0FBaUM7QUFDdkcsd0JBQXdCLHdCQUF3QixzQkFBc0IsMEJBQTBCO0FBQ2hHLDBCQUEwQix3QkFBd0IsaUNBQWlDO0FBQ25GLCtIQUErSCx1REFBUztBQUN4STtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvY29yZS9mYWN0b3J5LmpzPzFmM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR2x5cGhNZXRhIH0gZnJvbSBcIi4uL3ZpZXcvZ2x5cGgtbWV0YVwiO1xuXG5leHBvcnQgY2xhc3MgRmFjdG9yeSB7XG4gICAgc3RhdGljIHJlZ2lzdGVyUGxvdE1hcmtzKGtleSwgbWFyaykge1xuICAgICAgICBGYWN0b3J5Ll9wbG90TWFya3Nba2V5XSA9IG1hcms7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVQbG90TWFyayh0eXBlLCBpZCkge1xuICAgICAgICBpZiAoIUZhY3RvcnkuX3Bsb3RNYXJrc1t0eXBlXSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBuZXcgKDAsIEZhY3RvcnkuX3Bsb3RNYXJrc1t0eXBlXSkoaWQpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVnaXN0ZXJNYXJrKGtleSwgbWFyaykge1xuICAgICAgICBGYWN0b3J5Ll9tYXJrc1trZXldID0gbWFyaztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZU1hcmsodHlwZSwgdmlldywgZ3JvdXApIHtcbiAgICAgICAgaWYgKCFGYWN0b3J5Ll9tYXJrc1t0eXBlXSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBuZXcgKDAsIEZhY3RvcnkuX21hcmtzW3R5cGVdKSh2aWV3LCB0eXBlLCBncm91cCk7XG4gICAgfVxuICAgIHN0YXRpYyBoYXNNYXJrKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuICEhRmFjdG9yeS5fbWFya3NbdHlwZV07XG4gICAgfVxuICAgIHN0YXRpYyBnZXRNYXJrKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIEZhY3RvcnkuX21hcmtzW3R5cGVdO1xuICAgIH1cbiAgICBzdGF0aWMgcmVnaXN0ZXJDb21wb25lbnQoa2V5LCBjb21wb25lbnQpIHtcbiAgICAgICAgRmFjdG9yeS5fY29tcG9uZW50c1trZXldID0gY29tcG9uZW50O1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudFR5cGUsIHZpZXcsIGdyb3VwLCBtb2RlKSB7XG4gICAgICAgIGNvbnN0IEN0b3IgPSBGYWN0b3J5Ll9jb21wb25lbnRzW2NvbXBvbmVudFR5cGVdO1xuICAgICAgICByZXR1cm4gQ3RvciA/IG5ldyBDdG9yKHZpZXcsIGdyb3VwLCBtb2RlKSA6IG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBoYXNDb21wb25lbnQoY29tcG9uZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gISFGYWN0b3J5Ll9jb21wb25lbnRzW2NvbXBvbmVudFR5cGVdO1xuICAgIH1cbiAgICBzdGF0aWMgcmVnaXN0ZXJHcmFwaGljQ29tcG9uZW50KGtleSwgY3JlYXRvcikge1xuICAgICAgICBGYWN0b3J5Ll9ncmFwaGljQ29tcG9uZW50c1trZXldID0gY3JlYXRvcjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUdyYXBoaWNDb21wb25lbnQoY29tcG9uZW50VHlwZSwgYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29tcENyZWF0b3IgPSBGYWN0b3J5Ll9ncmFwaGljQ29tcG9uZW50c1tjb21wb25lbnRUeXBlXTtcbiAgICAgICAgcmV0dXJuIGNvbXBDcmVhdG9yID8gY29tcENyZWF0b3IoYXR0cnMsIG9wdGlvbnMpIDogbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIHJlZ2lzdGVyVHJhbnNmb3JtKHR5cGUsIHRyYW5zZm9ybSwgaXNCdWlsdEluKSB7XG4gICAgICAgIEZhY3RvcnkuX3RyYW5zZm9ybXNbdHlwZV0gPSBPYmplY3QuYXNzaWduKHRyYW5zZm9ybSwge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGlzQnVpbHRJbjogISFpc0J1aWx0SW5cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRUcmFuc2Zvcm0odHlwZSkge1xuICAgICAgICByZXR1cm4gRmFjdG9yeS5fdHJhbnNmb3Jtc1t0eXBlXTtcbiAgICB9XG4gICAgc3RhdGljIHVucmVnaXN0ZXJSdW50aW1lVHJhbnNmb3JtcygpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoRmFjdG9yeS5fdHJhbnNmb3JtcykuZm9yRWFjaCgodHlwZSA9PiB7XG4gICAgICAgICAgICBGYWN0b3J5Ll90cmFuc2Zvcm1zW3R5cGVdICYmICFGYWN0b3J5Ll90cmFuc2Zvcm1zW3R5cGVdLmlzQnVpbHRJbiAmJiAoRmFjdG9yeS5fdHJhbnNmb3Jtc1t0eXBlXSA9IG51bGwpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXRpYyByZWdpc3RlckdyYW1tYXIodHlwZSwgZ3JhbW1hckNsYXNzLCBzcGVjS2V5KSB7XG4gICAgICAgIEZhY3RvcnkuX2dyYW1tYXJzW3R5cGVdID0ge1xuICAgICAgICAgICAgZ3JhbW1hckNsYXNzOiBncmFtbWFyQ2xhc3MsXG4gICAgICAgICAgICBzcGVjS2V5OiBudWxsICE9IHNwZWNLZXkgPyBzcGVjS2V5IDogdHlwZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlR3JhbW1hcih0eXBlLCB2aWV3LCBncmFtbWFyVHlwZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IEN0b3IgPSBudWxsID09PSAoX2EgPSBGYWN0b3J5Ll9ncmFtbWFyc1t0eXBlXSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmdyYW1tYXJDbGFzcztcbiAgICAgICAgcmV0dXJuIEN0b3IgPyBuZXcgQ3Rvcih2aWV3LCBncmFtbWFyVHlwZSkgOiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0R3JhbW1hcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncmFtbWFycztcbiAgICB9XG4gICAgc3RhdGljIGdldEdseXBoKGdseXBoVHlwZSkge1xuICAgICAgICByZXR1cm4gRmFjdG9yeS5fZ2x5cGhzW2dseXBoVHlwZV07XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVJbnRlcmFjdGlvbihpbnRlcmFjdGlvblR5cGUsIHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgQ3RvciA9IEZhY3RvcnkuX2ludGVyYWN0aW9uc1tpbnRlcmFjdGlvblR5cGVdO1xuICAgICAgICByZXR1cm4gQ3RvciA/IG5ldyBDdG9yKHZpZXcsIG9wdGlvbnMpIDogbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIGhhc0ludGVyYWN0aW9uKGludGVyYWN0aW9uVHlwZSkge1xuICAgICAgICByZXR1cm4gISFGYWN0b3J5Ll9pbnRlcmFjdGlvbnNbaW50ZXJhY3Rpb25UeXBlXTtcbiAgICB9XG59XG5cbkZhY3RvcnkuX3Bsb3RNYXJrcyA9IHt9LCBGYWN0b3J5Ll9tYXJrcyA9IHt9LCBGYWN0b3J5Ll9jb21wb25lbnRzID0ge30sIEZhY3RvcnkuX2dyYXBoaWNDb21wb25lbnRzID0ge30sIFxuRmFjdG9yeS5fdHJhbnNmb3JtcyA9IHt9LCBGYWN0b3J5Ll9ncmFtbWFycyA9IHt9LCBGYWN0b3J5Ll9nbHlwaHMgPSB7fSwgRmFjdG9yeS5fYW5pbWF0aW9ucyA9IHt9LCBcbkZhY3RvcnkuX2ludGVyYWN0aW9ucyA9IHt9LCBGYWN0b3J5Ll9ncmFwaGljcyA9IHt9LCBGYWN0b3J5Ll9zdGFnZUV2ZW50UGx1Z2lucyA9IHt9LCBcbkZhY3RvcnkucmVnaXN0ZXJHbHlwaCA9IChnbHlwaFR5cGUsIG1hcmtzLCBlbmNvZGVycywgZGVmYXVsdEVuY29kZXIsIHByb2dyZXNzaXZlQ2hhbm5lbHMpID0+IChGYWN0b3J5Ll9nbHlwaHNbZ2x5cGhUeXBlXSA9IG5ldyBHbHlwaE1ldGEobWFya3MsIGVuY29kZXJzLCBkZWZhdWx0RW5jb2RlciwgcHJvZ3Jlc3NpdmVDaGFubmVscyksIFxuRmFjdG9yeS5fZ2x5cGhzW2dseXBoVHlwZV0pLCBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZSA9IChhbmltYXRpb25UeXBlLCBhbmltYXRpb24pID0+IHtcbiAgICBGYWN0b3J5Ll9hbmltYXRpb25zW2FuaW1hdGlvblR5cGVdID0gYW5pbWF0aW9uO1xufSwgRmFjdG9yeS5nZXRBbmltYXRpb25UeXBlID0gYW5pbWF0aW9uVHlwZSA9PiBGYWN0b3J5Ll9hbmltYXRpb25zW2FuaW1hdGlvblR5cGVdLCBcbkZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbiA9IChpbnRlcmFjdGlvblR5cGUsIGludGVyYWN0aW9uKSA9PiB7XG4gICAgRmFjdG9yeS5faW50ZXJhY3Rpb25zW2ludGVyYWN0aW9uVHlwZV0gPSBpbnRlcmFjdGlvbjtcbn0sIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljID0gKGdyYXBoaWNUeXBlLCBjcmVhdG9yKSA9PiB7XG4gICAgRmFjdG9yeS5fZ3JhcGhpY3NbZ3JhcGhpY1R5cGVdID0gY3JlYXRvcjtcbn0sIEZhY3RvcnkuZ2V0R3JhcGhpY1R5cGUgPSBncmFwaGljVHlwZSA9PiBGYWN0b3J5Ll9ncmFwaGljc1tncmFwaGljVHlwZV0sIEZhY3RvcnkuY3JlYXRlR3JhcGhpYyA9IChncmFwaGljVHlwZSwgYXR0cmlidXRlcykgPT4ge1xuICAgIGNvbnN0IGNyZWF0b3IgPSBGYWN0b3J5Ll9ncmFwaGljc1tncmFwaGljVHlwZV07XG4gICAgcmV0dXJuIGNyZWF0b3IgPyBjcmVhdG9yKGF0dHJpYnV0ZXMpIDogbnVsbDtcbn0sIEZhY3RvcnkucmVnaXN0ZXJEZWZhdWx0TGF5b3V0ID0gbGF5b3V0ID0+IHtcbiAgICBGYWN0b3J5LmRlZmF1bHRMYXlvdXQgPSBsYXlvdXQ7XG59LCBGYWN0b3J5LmdldERlZmF1bHRMYXlvdXQgPSAoKSA9PiBGYWN0b3J5LmRlZmF1bHRMYXlvdXQsIEZhY3RvcnkucmVnaXN0ZXJTdGFnZUV2ZW50UGx1Z2luID0gKHR5cGUsIFBsdWdpbikgPT4ge1xuICAgIEZhY3RvcnkuX3N0YWdlRXZlbnRQbHVnaW5zW3R5cGVdID0gUGx1Z2luO1xufSwgRmFjdG9yeS5nZXRTdGFnZUV2ZW50UGx1Z2luID0gdHlwZSA9PiBGYWN0b3J5Ll9zdGFnZUV2ZW50UGx1Z2luc1t0eXBlXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZhY3RvcnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/env.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/env.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initAutoEnv: () => (/* binding */ initAutoEnv),\n/* harmony export */   initBrowserEnv: () => (/* reexport safe */ _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__.initBrowserEnv),\n/* harmony export */   initNodeEnv: () => (/* reexport safe */ _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_2__.initNodeEnv)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/env/browser.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/env/node.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/env-check.js\");\n\n\n\n\nconst initAutoEnv = () => {\n    (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.isBrowserEnv)() ? (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__.initBrowserEnv)() : (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.isNodeEnv)() && (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_2__.initNodeEnv)();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZW52LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFxRTs7QUFFSjs7QUFFMUQ7QUFDUCxJQUFJLG9FQUFZLEtBQUssc0VBQWMsS0FBSyxpRUFBUyxNQUFNLG1FQUFXO0FBQ2xFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9lbnYuanM/MzRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0QnJvd3NlckVudiwgaW5pdE5vZGVFbnYgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXIta2l0c1wiO1xuXG5pbXBvcnQgeyBpc0Jyb3dzZXJFbnYsIGlzTm9kZUVudiB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmV4cG9ydCBjb25zdCBpbml0QXV0b0VudiA9ICgpID0+IHtcbiAgICBpc0Jyb3dzZXJFbnYoKSA/IGluaXRCcm93c2VyRW52KCkgOiBpc05vZGVFbnYoKSAmJiBpbml0Tm9kZUVudigpO1xufTtcblxuZXhwb3J0IHsgaW5pdEJyb3dzZXJFbnYsIGluaXROb2RlRW52IH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/boxplot.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/boxplot.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   barBoxplotScaleIn: () => (/* binding */ barBoxplotScaleIn),\n/* harmony export */   barBoxplotScaleOut: () => (/* binding */ barBoxplotScaleOut),\n/* harmony export */   boxplotScaleIn: () => (/* binding */ boxplotScaleIn),\n/* harmony export */   boxplotScaleOut: () => (/* binding */ boxplotScaleOut),\n/* harmony export */   registerBarBoxplotGlyph: () => (/* binding */ registerBarBoxplotGlyph),\n/* harmony export */   registerBoxplotGlyph: () => (/* binding */ registerBoxplotGlyph)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/direction.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\n\n\n\n\nconst scaleIn = computeCenter => (element, options, animationParameters) => {\n    var _a, _b, _c;\n    const direction = null !== (_c = null !== (_a = element.getGraphicAttribute(\"direction\", !1)) && void 0 !== _a ? _a : null === (_b = element.mark.getGlyphConfig()) || void 0 === _b ? void 0 : _b.direction) && void 0 !== _c ? _c : \"vertical\", center = computeCenter(element, direction, options);\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(center)) return {};\n    const x = element.getGraphicAttribute(\"x\", !1), y = element.getGraphicAttribute(\"y\", !1), min = element.getGraphicAttribute(\"min\", !1), max = element.getGraphicAttribute(\"max\", !1), q1 = element.getGraphicAttribute(\"q1\", !1), q3 = element.getGraphicAttribute(\"q3\", !1), median = element.getGraphicAttribute(\"median\", !1), animateAttributes = {\n        from: {\n            x: x,\n            y: y\n        },\n        to: {\n            x: x,\n            y: y\n        }\n    };\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) && (animateAttributes.from.min = center, animateAttributes.to.min = min), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) && (animateAttributes.from.max = center, animateAttributes.to.max = max), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1) && (animateAttributes.from.q1 = center, animateAttributes.to.q1 = q1), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q3) && (animateAttributes.from.q3 = center, animateAttributes.to.q3 = q3), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(median) && (animateAttributes.from.median = center, animateAttributes.to.median = median), \n    animateAttributes;\n}, scaleOut = computeCenter => (element, options, animationParameters) => {\n    var _a, _b, _c;\n    const direction = null !== (_c = null !== (_a = element.getGraphicAttribute(\"direction\", !1)) && void 0 !== _a ? _a : null === (_b = element.mark.getGlyphConfig()) || void 0 === _b ? void 0 : _b.direction) && void 0 !== _c ? _c : \"vertical\", center = computeCenter(element, direction, options);\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(center)) return {};\n    const x = element.getGraphicAttribute(\"x\", !0), y = element.getGraphicAttribute(\"y\", !0), min = element.getGraphicAttribute(\"min\", !0), max = element.getGraphicAttribute(\"max\", !0), q1 = element.getGraphicAttribute(\"q1\", !0), q3 = element.getGraphicAttribute(\"q3\", !0), median = element.getGraphicAttribute(\"median\", !0), animateAttributes = {\n        from: {\n            x: x,\n            y: y\n        },\n        to: {\n            x: x,\n            y: y\n        }\n    };\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) && (animateAttributes.to.min = center, animateAttributes.from.min = min), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) && (animateAttributes.to.max = center, animateAttributes.from.max = max), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1) && (animateAttributes.to.q1 = center, animateAttributes.from.q1 = q1), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q3) && (animateAttributes.to.q3 = center, animateAttributes.from.q3 = q3), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(median) && (animateAttributes.to.median = center, animateAttributes.from.median = median), \n    animateAttributes;\n}, computeBoxplotCenter = (glyphElement, direction, options) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    if (options && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.center)) return options.center;\n    let median, max, min, q1, q3;\n    if ((0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(direction)) {\n        median = null === (_b = null === (_a = glyphElement.getGraphicAttribute(\"points\", !1, \"median\")) || void 0 === _a ? void 0 : _a[0]) || void 0 === _b ? void 0 : _b.x, \n        max = null === (_d = null === (_c = glyphElement.getGraphicAttribute(\"points\", !1, \"max\")) || void 0 === _c ? void 0 : _c[0]) || void 0 === _d ? void 0 : _d.x, \n        min = null === (_f = null === (_e = glyphElement.getGraphicAttribute(\"points\", !1, \"min\")) || void 0 === _e ? void 0 : _e[0]) || void 0 === _f ? void 0 : _f.x;\n        const boxWidth = glyphElement.getGraphicAttribute(\"width\", !1, \"box\"), boxX = glyphElement.getGraphicAttribute(\"x\", !1, \"box\");\n        q1 = boxX, q3 = boxX + boxWidth;\n    } else {\n        median = null === (_h = null === (_g = glyphElement.getGraphicAttribute(\"points\", !1, \"median\")) || void 0 === _g ? void 0 : _g[0]) || void 0 === _h ? void 0 : _h.y, \n        max = null === (_k = null === (_j = glyphElement.getGraphicAttribute(\"points\", !1, \"max\")) || void 0 === _j ? void 0 : _j[0]) || void 0 === _k ? void 0 : _k.y, \n        min = null === (_m = null === (_l = glyphElement.getGraphicAttribute(\"points\", !1, \"min\")) || void 0 === _l ? void 0 : _l[0]) || void 0 === _m ? void 0 : _m.y;\n        const boxHeight = glyphElement.getGraphicAttribute(\"height\", !1, \"box\"), boxY = glyphElement.getGraphicAttribute(\"y\", !1, \"box\");\n        q1 = boxY, q3 = boxY + boxHeight;\n    }\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(median) ? median : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q3) ? (q1 + q3) / 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) ? (max + min) / 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) ? min : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) ? max : NaN;\n}, encodeBoxplotSize = (encodeValues, datum, element, config) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const attributes = {\n        shaft: {},\n        box: {},\n        max: {},\n        min: {},\n        median: {}\n    }, x = null !== (_a = encodeValues.x) && void 0 !== _a ? _a : element.getGraphicAttribute(\"x\", !1), y = null !== (_b = encodeValues.y) && void 0 !== _b ? _b : element.getGraphicAttribute(\"y\", !1), width = null !== (_c = encodeValues.width) && void 0 !== _c ? _c : element.getGraphicAttribute(\"width\", !1), height = null !== (_d = encodeValues.height) && void 0 !== _d ? _d : element.getGraphicAttribute(\"height\", !1), boxWidth = null !== (_e = encodeValues.boxWidth) && void 0 !== _e ? _e : element.getGraphicAttribute(\"boxWidth\", !1), boxHeight = null !== (_f = encodeValues.boxHeight) && void 0 !== _f ? _f : element.getGraphicAttribute(\"boxHeight\", !1), ruleWidth = null !== (_g = encodeValues.ruleWidth) && void 0 !== _g ? _g : element.getGraphicAttribute(\"ruleWidth\", !1), ruleHeight = null !== (_h = encodeValues.ruleHeight) && void 0 !== _h ? _h : element.getGraphicAttribute(\"ruleHeight\", !1);\n    return config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(boxHeight) ? (Object.assign(attributes.box, {\n        y: y - boxHeight / 2,\n        y1: y + boxHeight / 2\n    }), Object.assign(attributes.median, {\n        y: y - boxHeight / 2,\n        y1: y + boxHeight / 2\n    })) : (Object.assign(attributes.box, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }), Object.assign(attributes.median, {\n        y: y - height / 2,\n        y1: y + height / 2\n    })), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ruleHeight) ? (Object.assign(attributes.max, {\n        y: y - ruleHeight / 2,\n        y1: y + ruleHeight / 2\n    }), Object.assign(attributes.min, {\n        y: y - ruleHeight / 2,\n        y1: y + ruleHeight / 2\n    })) : (Object.assign(attributes.max, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }), Object.assign(attributes.min, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }))) : ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(boxWidth) ? (Object.assign(attributes.box, {\n        x: x - boxWidth / 2,\n        x1: x + boxWidth / 2\n    }), Object.assign(attributes.median, {\n        x: x - boxWidth / 2,\n        x1: x + boxWidth / 2\n    })) : (Object.assign(attributes.box, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), Object.assign(attributes.median, {\n        x: x - width / 2,\n        x1: x + width / 2\n    })), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ruleWidth) ? (Object.assign(attributes.max, {\n        x: x - ruleWidth / 2,\n        x1: x + ruleWidth / 2\n    }), Object.assign(attributes.min, {\n        x: x - ruleWidth / 2,\n        x1: x + ruleWidth / 2\n    })) : (Object.assign(attributes.max, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), Object.assign(attributes.min, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }))), attributes;\n};\n\nconst boxplotScaleIn = scaleIn(computeBoxplotCenter);\n\nconst boxplotScaleOut = scaleOut(computeBoxplotCenter);\n\nfunction registerBoxplotGlyph() {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGlyph(\"boxplot\", {\n        shaft: \"rule\",\n        box: \"rect\",\n        max: \"rule\",\n        min: \"rule\",\n        median: \"rule\"\n    }).registerProgressiveChannels([ \"x\", \"y\", \"q1\", \"q3\", \"min\", \"max\", \"median\", \"angle\", \"width\", \"height\", \"boxWidth\", \"boxHeight\", \"ruleWidth\", \"ruleHeight\" ]).registerFunctionEncoder(encodeBoxplotSize).registerChannelEncoder(\"x\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? null : {\n        shaft: {\n            x: encodeValue,\n            x1: encodeValue\n        }\n    })).registerChannelEncoder(\"y\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        shaft: {\n            y: encodeValue,\n            y1: encodeValue\n        }\n    } : null)).registerChannelEncoder(\"q1\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        box: {\n            x: encodeValue\n        }\n    } : {\n        box: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"q3\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        box: {\n            x1: encodeValue\n        }\n    } : {\n        box: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"min\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        shaft: {\n            x: encodeValue\n        },\n        min: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        shaft: {\n            y: encodeValue\n        },\n        min: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"max\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        shaft: {\n            x1: encodeValue\n        },\n        max: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        shaft: {\n            y1: encodeValue\n        },\n        max: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"median\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        median: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        median: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"angle\", ((channel, encodeValue, encodeValues, datum, element, config) => {\n        var _a;\n        const defaultAnchor = config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? [ (encodeValues.min + encodeValues.max) / 2, encodeValues.y ] : [ encodeValues.x, (encodeValues.min + encodeValues.max) / 2 ], anchor = null !== (_a = encodeValues.anchor) && void 0 !== _a ? _a : defaultAnchor;\n        return {\n            shaft: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            box: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            max: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            min: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            median: {\n                angle: encodeValue,\n                anchor: anchor\n            }\n        };\n    })).registerDefaultEncoder((() => ({\n        max: {\n            visible: !1\n        },\n        min: {\n            visible: !1\n        },\n        median: {\n            visible: !1\n        }\n    }))), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerAnimationType(\"boxplotScaleIn\", boxplotScaleIn), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerAnimationType(\"boxplotScaleOut\", boxplotScaleOut), \n    (0,_view_glyph__WEBPACK_IMPORTED_MODULE_3__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRectGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRuleGraphic)();\n}\n\nconst computeBarBoxplotCenter = (glyphElement, direction, options) => {\n    var _a, _b, _c, _d;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.center)) return options.center;\n    let median, max, min, q1, q3;\n    if ((0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(direction)) {\n        median = null === (_b = null === (_a = glyphElement.getGraphicAttribute(\"points\", !1, \"median\")) || void 0 === _a ? void 0 : _a[0]) || void 0 === _b ? void 0 : _b.x;\n        const minMaxBoxWidth = glyphElement.getGraphicAttribute(\"width\", !1, \"minMaxBox\"), minMaxBoxBoxX = glyphElement.getGraphicAttribute(\"x\", !1, \"minMaxBox\");\n        min = minMaxBoxBoxX, max = minMaxBoxBoxX + minMaxBoxWidth;\n        const q1q3BoxWidth = glyphElement.getGraphicAttribute(\"width\", !1, \"q1q3Box\"), q1q3BoxX = glyphElement.getGraphicAttribute(\"x\", !1, \"q1q3Box\");\n        q1 = q1q3BoxX, q3 = q1q3BoxX + q1q3BoxWidth;\n    } else {\n        median = null === (_d = null === (_c = glyphElement.getGraphicAttribute(\"points\", !1, \"median\")) || void 0 === _c ? void 0 : _c[0]) || void 0 === _d ? void 0 : _d.y;\n        const minMaxBoxHeight = glyphElement.getGraphicAttribute(\"height\", !1, \"minMaxBox\"), minMaxBoxBoxY = glyphElement.getGraphicAttribute(\"y\", !1, \"minMaxBox\");\n        min = minMaxBoxBoxY, max = minMaxBoxBoxY + minMaxBoxHeight;\n        const q1q3BoxHeight = glyphElement.getGraphicAttribute(\"height\", !1, \"q1q3Box\"), q1q3BoxY = glyphElement.getGraphicAttribute(\"y\", !1, \"q1q3Box\");\n        q1 = q1q3BoxY, q3 = q1q3BoxY + q1q3BoxHeight;\n    }\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(median) ? median : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q3) ? (q1 + q3) / 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) ? (max + min) / 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(min) ? min : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(max) ? max : NaN;\n}, encodeBarBoxplotSize = (encodeValues, datum, element, config) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const attributes = {\n        minMaxBox: {},\n        q1q3Box: {},\n        median: {}\n    }, x = null !== (_a = encodeValues.x) && void 0 !== _a ? _a : element.getGraphicAttribute(\"x\", !1), y = null !== (_b = encodeValues.y) && void 0 !== _b ? _b : element.getGraphicAttribute(\"y\", !1), width = null !== (_c = encodeValues.width) && void 0 !== _c ? _c : element.getGraphicAttribute(\"width\", !1), minMaxWidth = null !== (_d = encodeValues.minMaxWidth) && void 0 !== _d ? _d : element.getGraphicAttribute(\"minMaxWidth\", !1), q1q3Width = null !== (_e = encodeValues.q1q3Width) && void 0 !== _e ? _e : element.getGraphicAttribute(\"q1q3Width\", !1), height = null !== (_f = encodeValues.height) && void 0 !== _f ? _f : element.getGraphicAttribute(\"height\", !1), minMaxHeight = null !== (_g = encodeValues.minMaxHeight) && void 0 !== _g ? _g : element.getGraphicAttribute(\"minMaxHeight\", !1), q1q3Height = null !== (_h = encodeValues.q1q3Height) && void 0 !== _h ? _h : element.getGraphicAttribute(\"q1q3Height\", !1);\n    return config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(minMaxHeight) ? Object.assign(attributes.minMaxBox, {\n        y: y - minMaxHeight / 2,\n        y1: y + minMaxHeight / 2\n    }) : Object.assign(attributes.minMaxBox, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1q3Height) ? (Object.assign(attributes.q1q3Box, {\n        y: y - q1q3Height / 2,\n        y1: y + q1q3Height / 2\n    }), Object.assign(attributes.median, {\n        y: y - q1q3Height / 2,\n        y1: y + q1q3Height / 2\n    })) : (Object.assign(attributes.q1q3Box, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }), Object.assign(attributes.median, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }))) : ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(minMaxWidth) ? Object.assign(attributes.minMaxBox, {\n        x: x - minMaxWidth / 2,\n        x1: x + minMaxWidth / 2\n    }) : Object.assign(attributes.minMaxBox, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(q1q3Width) ? (Object.assign(attributes.q1q3Box, {\n        x: x - q1q3Width / 2,\n        x1: x + q1q3Width / 2\n    }), Object.assign(attributes.median, {\n        x: x - q1q3Width / 2,\n        x1: x + q1q3Width / 2\n    })) : (Object.assign(attributes.q1q3Box, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), Object.assign(attributes.median, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }))), attributes;\n};\n\nconst barBoxplotScaleIn = scaleIn(computeBarBoxplotCenter);\n\nconst barBoxplotScaleOut = scaleOut(computeBarBoxplotCenter);\n\nfunction registerBarBoxplotGlyph() {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGlyph(\"barBoxplot\", {\n        minMaxBox: \"rect\",\n        q1q3Box: \"rect\",\n        median: \"rule\"\n    }).registerProgressiveChannels([ \"x\", \"y\", \"q1\", \"q3\", \"min\", \"max\", \"median\", \"angle\", \"width\", \"height\", \"minMaxWidth\", \"q1q3Width\", \"minMaxHeight\", \"q1q3Height\" ]).registerFunctionEncoder(encodeBarBoxplotSize).registerChannelEncoder(\"q1\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        q1q3Box: {\n            x: encodeValue\n        }\n    } : {\n        q1q3Box: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"q3\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        q1q3Box: {\n            x1: encodeValue\n        }\n    } : {\n        q1q3Box: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"min\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        minMaxBox: {\n            x: encodeValue\n        }\n    } : {\n        minMaxBox: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"max\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        minMaxBox: {\n            x1: encodeValue\n        }\n    } : {\n        minMaxBox: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"median\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.isHorizontal)(config.direction) ? {\n        median: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        median: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"angle\", ((channel, encodeValue, encodeValues, datum, element, config) => {\n        var _a;\n        const anchor = null !== (_a = encodeValues.anchor) && void 0 !== _a ? _a : [ encodeValues.x, (encodeValues.min + encodeValues.max) / 2 ];\n        return {\n            minMaxBox: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            q1q3Box: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            median: {\n                angle: encodeValue,\n                anchor: anchor\n            }\n        };\n    })).registerChannelEncoder(\"lineWidth\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        minMaxBox: {\n            lineWidth: 0\n        },\n        q1q3Box: {\n            lineWidth: 0\n        }\n    }))).registerChannelEncoder(\"minMaxFillOpacity\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        minMaxBox: {\n            fillOpacity: encodeValue\n        }\n    }))).registerChannelEncoder(\"stroke\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        minMaxBox: {\n            stroke: !1\n        },\n        q1q3Box: {\n            stroke: !1\n        }\n    }))).registerDefaultEncoder((() => ({\n        minMaxBox: {\n            lineWidth: 0\n        },\n        q1q3Box: {\n            lineWidth: 0\n        },\n        median: {\n            visible: !1\n        }\n    }))), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerAnimationType(\"barBoxplotScaleIn\", barBoxplotScaleIn), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerAnimationType(\"barBoxplotScaleOut\", barBoxplotScaleOut), \n    (0,_view_glyph__WEBPACK_IMPORTED_MODULE_3__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRectGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRuleGraphic)();\n}\n//# sourceMappingURL=boxplot.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvYm94cGxvdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFpRDs7QUFFUDs7QUFFNkQ7O0FBRWhEOztBQUVMOztBQUVsRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUFhO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFhO0FBQ3hCLElBQUksNERBQWE7QUFDakIsSUFBSSw0REFBYTtBQUNqQixJQUFJLDREQUFhO0FBQ2pCLElBQUksNERBQWE7QUFDakI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFNBQVMsNERBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNERBQWE7QUFDeEIsSUFBSSw0REFBYTtBQUNqQixJQUFJLDREQUFhO0FBQ2pCLElBQUksNERBQWE7QUFDakIsSUFBSSw0REFBYTtBQUNqQjtBQUNBLENBQUM7QUFDRDtBQUNBLG1CQUFtQiw0REFBYTtBQUNoQztBQUNBLFFBQVEscUVBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFhLG9CQUFvQiw0REFBYSxRQUFRLDREQUFhLHVCQUF1Qiw0REFBYSxTQUFTLDREQUFhLDBCQUEwQiw0REFBYSxjQUFjLDREQUFhO0FBQzFNLENBQUM7QUFDRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGVBQWU7QUFDZixlQUFlO0FBQ2YsZUFBZTtBQUNmO0FBQ0EsS0FBSztBQUNMLHFCQUFxQixxRUFBWSxzQkFBc0IsNERBQWE7QUFDcEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUssSUFBSSw0REFBYTtBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSyxPQUFPLDREQUFhO0FBQ3pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLLElBQUksNERBQWE7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFTzs7QUFFQTs7QUFFQTtBQUNQLElBQUksa0RBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxrVEFBa1QscUVBQVk7QUFDblU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBHQUEwRyxxRUFBWTtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0saUhBQWlILHFFQUFZO0FBQ25JO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJHQUEyRyxxRUFBWTtBQUM1SDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsS0FBSyw0R0FBNEcscUVBQVk7QUFDN0g7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssNEdBQTRHLHFFQUFZO0FBQzdIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtHQUErRyxxRUFBWTtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3Q0FBd0MscUVBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLGtEQUFPLDBEQUEwRCxrREFBTztBQUNsRixJQUFJLDhEQUFpQixJQUFJLHlFQUFvQixJQUFJLHdFQUFtQixJQUFJLHdFQUFtQjtBQUMzRjs7QUFFQTtBQUNBO0FBQ0EsUUFBUSw0REFBYTtBQUNyQjtBQUNBLFFBQVEscUVBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFhLG9CQUFvQiw0REFBYSxRQUFRLDREQUFhLHVCQUF1Qiw0REFBYSxTQUFTLDREQUFhLDBCQUEwQiw0REFBYSxjQUFjLDREQUFhO0FBQzFNLENBQUM7QUFDRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLG1CQUFtQjtBQUNuQjtBQUNBLEtBQUs7QUFDTCxxQkFBcUIscUVBQVksc0JBQXNCLDREQUFhO0FBQ3BFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUssR0FBRyw0REFBYTtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSyxPQUFPLDREQUFhO0FBQ3pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUssR0FBRyw0REFBYTtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPOztBQUVBOztBQUVBO0FBQ1AsSUFBSSxrREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUssNFRBQTRULHFFQUFZO0FBQzdVO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJHQUEyRyxxRUFBWTtBQUM1SDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsS0FBSyw0R0FBNEcscUVBQVk7QUFDN0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUssNEdBQTRHLHFFQUFZO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtHQUErRyxxRUFBWTtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLGtEQUFPLGdFQUFnRSxrREFBTztBQUN4RixJQUFJLDhEQUFpQixJQUFJLHlFQUFvQixJQUFJLHdFQUFtQixJQUFJLHdFQUFtQjtBQUMzRjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9nbHlwaC9ib3hwbG90LmpzPzkwYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IHJlZ2lzdGVyR2x5cGhHcmFwaGljLCByZWdpc3RlclJlY3RHcmFwaGljLCByZWdpc3RlclJ1bGVHcmFwaGljIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyBpc0hvcml6b250YWwgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJHbHlwaE1hcmsgfSBmcm9tIFwiLi4vdmlldy9nbHlwaFwiO1xuXG5jb25zdCBzY2FsZUluID0gY29tcHV0ZUNlbnRlciA9PiAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IG51bGwgIT09IChfYyA9IG51bGwgIT09IChfYSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImRpcmVjdGlvblwiLCAhMSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGwgPT09IChfYiA9IGVsZW1lbnQubWFyay5nZXRHbHlwaENvbmZpZygpKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuZGlyZWN0aW9uKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBcInZlcnRpY2FsXCIsIGNlbnRlciA9IGNvbXB1dGVDZW50ZXIoZWxlbWVudCwgZGlyZWN0aW9uLCBvcHRpb25zKTtcbiAgICBpZiAoIWlzVmFsaWROdW1iZXIoY2VudGVyKSkgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHggPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIsICExKSwgeSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIiwgITEpLCBtaW4gPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJtaW5cIiwgITEpLCBtYXggPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJtYXhcIiwgITEpLCBxMSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInExXCIsICExKSwgcTMgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJxM1wiLCAhMSksIG1lZGlhbiA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm1lZGlhblwiLCAhMSksIGFuaW1hdGVBdHRyaWJ1dGVzID0ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGlzVmFsaWROdW1iZXIobWluKSAmJiAoYW5pbWF0ZUF0dHJpYnV0ZXMuZnJvbS5taW4gPSBjZW50ZXIsIGFuaW1hdGVBdHRyaWJ1dGVzLnRvLm1pbiA9IG1pbiksIFxuICAgIGlzVmFsaWROdW1iZXIobWF4KSAmJiAoYW5pbWF0ZUF0dHJpYnV0ZXMuZnJvbS5tYXggPSBjZW50ZXIsIGFuaW1hdGVBdHRyaWJ1dGVzLnRvLm1heCA9IG1heCksIFxuICAgIGlzVmFsaWROdW1iZXIocTEpICYmIChhbmltYXRlQXR0cmlidXRlcy5mcm9tLnExID0gY2VudGVyLCBhbmltYXRlQXR0cmlidXRlcy50by5xMSA9IHExKSwgXG4gICAgaXNWYWxpZE51bWJlcihxMykgJiYgKGFuaW1hdGVBdHRyaWJ1dGVzLmZyb20ucTMgPSBjZW50ZXIsIGFuaW1hdGVBdHRyaWJ1dGVzLnRvLnEzID0gcTMpLCBcbiAgICBpc1ZhbGlkTnVtYmVyKG1lZGlhbikgJiYgKGFuaW1hdGVBdHRyaWJ1dGVzLmZyb20ubWVkaWFuID0gY2VudGVyLCBhbmltYXRlQXR0cmlidXRlcy50by5tZWRpYW4gPSBtZWRpYW4pLCBcbiAgICBhbmltYXRlQXR0cmlidXRlcztcbn0sIHNjYWxlT3V0ID0gY29tcHV0ZUNlbnRlciA9PiAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IG51bGwgIT09IChfYyA9IG51bGwgIT09IChfYSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImRpcmVjdGlvblwiLCAhMSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGwgPT09IChfYiA9IGVsZW1lbnQubWFyay5nZXRHbHlwaENvbmZpZygpKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuZGlyZWN0aW9uKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBcInZlcnRpY2FsXCIsIGNlbnRlciA9IGNvbXB1dGVDZW50ZXIoZWxlbWVudCwgZGlyZWN0aW9uLCBvcHRpb25zKTtcbiAgICBpZiAoIWlzVmFsaWROdW1iZXIoY2VudGVyKSkgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHggPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIsICEwKSwgeSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIiwgITApLCBtaW4gPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJtaW5cIiwgITApLCBtYXggPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJtYXhcIiwgITApLCBxMSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInExXCIsICEwKSwgcTMgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJxM1wiLCAhMCksIG1lZGlhbiA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm1lZGlhblwiLCAhMCksIGFuaW1hdGVBdHRyaWJ1dGVzID0ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGlzVmFsaWROdW1iZXIobWluKSAmJiAoYW5pbWF0ZUF0dHJpYnV0ZXMudG8ubWluID0gY2VudGVyLCBhbmltYXRlQXR0cmlidXRlcy5mcm9tLm1pbiA9IG1pbiksIFxuICAgIGlzVmFsaWROdW1iZXIobWF4KSAmJiAoYW5pbWF0ZUF0dHJpYnV0ZXMudG8ubWF4ID0gY2VudGVyLCBhbmltYXRlQXR0cmlidXRlcy5mcm9tLm1heCA9IG1heCksIFxuICAgIGlzVmFsaWROdW1iZXIocTEpICYmIChhbmltYXRlQXR0cmlidXRlcy50by5xMSA9IGNlbnRlciwgYW5pbWF0ZUF0dHJpYnV0ZXMuZnJvbS5xMSA9IHExKSwgXG4gICAgaXNWYWxpZE51bWJlcihxMykgJiYgKGFuaW1hdGVBdHRyaWJ1dGVzLnRvLnEzID0gY2VudGVyLCBhbmltYXRlQXR0cmlidXRlcy5mcm9tLnEzID0gcTMpLCBcbiAgICBpc1ZhbGlkTnVtYmVyKG1lZGlhbikgJiYgKGFuaW1hdGVBdHRyaWJ1dGVzLnRvLm1lZGlhbiA9IGNlbnRlciwgYW5pbWF0ZUF0dHJpYnV0ZXMuZnJvbS5tZWRpYW4gPSBtZWRpYW4pLCBcbiAgICBhbmltYXRlQXR0cmlidXRlcztcbn0sIGNvbXB1dGVCb3hwbG90Q2VudGVyID0gKGdseXBoRWxlbWVudCwgZGlyZWN0aW9uLCBvcHRpb25zKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX207XG4gICAgaWYgKG9wdGlvbnMgJiYgaXNWYWxpZE51bWJlcihvcHRpb25zLmNlbnRlcikpIHJldHVybiBvcHRpb25zLmNlbnRlcjtcbiAgICBsZXQgbWVkaWFuLCBtYXgsIG1pbiwgcTEsIHEzO1xuICAgIGlmIChpc0hvcml6b250YWwoZGlyZWN0aW9uKSkge1xuICAgICAgICBtZWRpYW4gPSBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMSwgXCJtZWRpYW5cIikpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVswXSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLngsIFxuICAgICAgICBtYXggPSBudWxsID09PSAoX2QgPSBudWxsID09PSAoX2MgPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMSwgXCJtYXhcIikpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfY1swXSkgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kLngsIFxuICAgICAgICBtaW4gPSBudWxsID09PSAoX2YgPSBudWxsID09PSAoX2UgPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMSwgXCJtaW5cIikpIHx8IHZvaWQgMCA9PT0gX2UgPyB2b2lkIDAgOiBfZVswXSkgfHwgdm9pZCAwID09PSBfZiA/IHZvaWQgMCA6IF9mLng7XG4gICAgICAgIGNvbnN0IGJveFdpZHRoID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ3aWR0aFwiLCAhMSwgXCJib3hcIiksIGJveFggPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITEsIFwiYm94XCIpO1xuICAgICAgICBxMSA9IGJveFgsIHEzID0gYm94WCArIGJveFdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1lZGlhbiA9IG51bGwgPT09IChfaCA9IG51bGwgPT09IChfZyA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExLCBcIm1lZGlhblwiKSkgfHwgdm9pZCAwID09PSBfZyA/IHZvaWQgMCA6IF9nWzBdKSB8fCB2b2lkIDAgPT09IF9oID8gdm9pZCAwIDogX2gueSwgXG4gICAgICAgIG1heCA9IG51bGwgPT09IChfayA9IG51bGwgPT09IChfaiA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExLCBcIm1heFwiKSkgfHwgdm9pZCAwID09PSBfaiA/IHZvaWQgMCA6IF9qWzBdKSB8fCB2b2lkIDAgPT09IF9rID8gdm9pZCAwIDogX2sueSwgXG4gICAgICAgIG1pbiA9IG51bGwgPT09IChfbSA9IG51bGwgPT09IChfbCA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExLCBcIm1pblwiKSkgfHwgdm9pZCAwID09PSBfbCA/IHZvaWQgMCA6IF9sWzBdKSB8fCB2b2lkIDAgPT09IF9tID8gdm9pZCAwIDogX20ueTtcbiAgICAgICAgY29uc3QgYm94SGVpZ2h0ID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgITEsIFwiYm94XCIpLCBib3hZID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIsICExLCBcImJveFwiKTtcbiAgICAgICAgcTEgPSBib3hZLCBxMyA9IGJveFkgKyBib3hIZWlnaHQ7XG4gICAgfVxuICAgIHJldHVybiBpc1ZhbGlkTnVtYmVyKG1lZGlhbikgPyBtZWRpYW4gOiBpc1ZhbGlkTnVtYmVyKHExKSAmJiBpc1ZhbGlkTnVtYmVyKHEzKSA/IChxMSArIHEzKSAvIDIgOiBpc1ZhbGlkTnVtYmVyKG1heCkgJiYgaXNWYWxpZE51bWJlcihtaW4pID8gKG1heCArIG1pbikgLyAyIDogaXNWYWxpZE51bWJlcihtaW4pID8gbWluIDogaXNWYWxpZE51bWJlcihtYXgpID8gbWF4IDogTmFOO1xufSwgZW5jb2RlQm94cGxvdFNpemUgPSAoZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0ge1xuICAgICAgICBzaGFmdDoge30sXG4gICAgICAgIGJveDoge30sXG4gICAgICAgIG1heDoge30sXG4gICAgICAgIG1pbjoge30sXG4gICAgICAgIG1lZGlhbjoge31cbiAgICB9LCB4ID0gbnVsbCAhPT0gKF9hID0gZW5jb2RlVmFsdWVzLngpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITEpLCB5ID0gbnVsbCAhPT0gKF9iID0gZW5jb2RlVmFsdWVzLnkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIiwgITEpLCB3aWR0aCA9IG51bGwgIT09IChfYyA9IGVuY29kZVZhbHVlcy53aWR0aCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwid2lkdGhcIiwgITEpLCBoZWlnaHQgPSBudWxsICE9PSAoX2QgPSBlbmNvZGVWYWx1ZXMuaGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgITEpLCBib3hXaWR0aCA9IG51bGwgIT09IChfZSA9IGVuY29kZVZhbHVlcy5ib3hXaWR0aCkgJiYgdm9pZCAwICE9PSBfZSA/IF9lIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiYm94V2lkdGhcIiwgITEpLCBib3hIZWlnaHQgPSBudWxsICE9PSAoX2YgPSBlbmNvZGVWYWx1ZXMuYm94SGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9mID8gX2YgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJib3hIZWlnaHRcIiwgITEpLCBydWxlV2lkdGggPSBudWxsICE9PSAoX2cgPSBlbmNvZGVWYWx1ZXMucnVsZVdpZHRoKSAmJiB2b2lkIDAgIT09IF9nID8gX2cgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJydWxlV2lkdGhcIiwgITEpLCBydWxlSGVpZ2h0ID0gbnVsbCAhPT0gKF9oID0gZW5jb2RlVmFsdWVzLnJ1bGVIZWlnaHQpICYmIHZvaWQgMCAhPT0gX2ggPyBfaCA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInJ1bGVIZWlnaHRcIiwgITEpO1xuICAgIHJldHVybiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8gKGlzVmFsaWROdW1iZXIoYm94SGVpZ2h0KSA/IChPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMuYm94LCB7XG4gICAgICAgIHk6IHkgLSBib3hIZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIGJveEhlaWdodCAvIDJcbiAgICB9KSwgT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1lZGlhbiwge1xuICAgICAgICB5OiB5IC0gYm94SGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBib3hIZWlnaHQgLyAyXG4gICAgfSkpIDogKE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5ib3gsIHtcbiAgICAgICAgeTogeSAtIGhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgaGVpZ2h0IC8gMlxuICAgIH0pLCBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWVkaWFuLCB7XG4gICAgICAgIHk6IHkgLSBoZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIGhlaWdodCAvIDJcbiAgICB9KSksIGlzVmFsaWROdW1iZXIocnVsZUhlaWdodCkgPyAoT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1heCwge1xuICAgICAgICB5OiB5IC0gcnVsZUhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgcnVsZUhlaWdodCAvIDJcbiAgICB9KSwgT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1pbiwge1xuICAgICAgICB5OiB5IC0gcnVsZUhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgcnVsZUhlaWdodCAvIDJcbiAgICB9KSkgOiAoT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1heCwge1xuICAgICAgICB5OiB5IC0gaGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBoZWlnaHQgLyAyXG4gICAgfSksIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5taW4sIHtcbiAgICAgICAgeTogeSAtIGhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgaGVpZ2h0IC8gMlxuICAgIH0pKSkgOiAoaXNWYWxpZE51bWJlcihib3hXaWR0aCkgPyAoT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLmJveCwge1xuICAgICAgICB4OiB4IC0gYm94V2lkdGggLyAyLFxuICAgICAgICB4MTogeCArIGJveFdpZHRoIC8gMlxuICAgIH0pLCBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWVkaWFuLCB7XG4gICAgICAgIHg6IHggLSBib3hXaWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgYm94V2lkdGggLyAyXG4gICAgfSkpIDogKE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5ib3gsIHtcbiAgICAgICAgeDogeCAtIHdpZHRoIC8gMixcbiAgICAgICAgeDE6IHggKyB3aWR0aCAvIDJcbiAgICB9KSwgT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1lZGlhbiwge1xuICAgICAgICB4OiB4IC0gd2lkdGggLyAyLFxuICAgICAgICB4MTogeCArIHdpZHRoIC8gMlxuICAgIH0pKSwgaXNWYWxpZE51bWJlcihydWxlV2lkdGgpID8gKE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5tYXgsIHtcbiAgICAgICAgeDogeCAtIHJ1bGVXaWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgcnVsZVdpZHRoIC8gMlxuICAgIH0pLCBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWluLCB7XG4gICAgICAgIHg6IHggLSBydWxlV2lkdGggLyAyLFxuICAgICAgICB4MTogeCArIHJ1bGVXaWR0aCAvIDJcbiAgICB9KSkgOiAoT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLm1heCwge1xuICAgICAgICB4OiB4IC0gd2lkdGggLyAyLFxuICAgICAgICB4MTogeCArIHdpZHRoIC8gMlxuICAgIH0pLCBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWluLCB7XG4gICAgICAgIHg6IHggLSB3aWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgd2lkdGggLyAyXG4gICAgfSkpKSwgYXR0cmlidXRlcztcbn07XG5cbmV4cG9ydCBjb25zdCBib3hwbG90U2NhbGVJbiA9IHNjYWxlSW4oY29tcHV0ZUJveHBsb3RDZW50ZXIpO1xuXG5leHBvcnQgY29uc3QgYm94cGxvdFNjYWxlT3V0ID0gc2NhbGVPdXQoY29tcHV0ZUJveHBsb3RDZW50ZXIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJCb3hwbG90R2x5cGgoKSB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdseXBoKFwiYm94cGxvdFwiLCB7XG4gICAgICAgIHNoYWZ0OiBcInJ1bGVcIixcbiAgICAgICAgYm94OiBcInJlY3RcIixcbiAgICAgICAgbWF4OiBcInJ1bGVcIixcbiAgICAgICAgbWluOiBcInJ1bGVcIixcbiAgICAgICAgbWVkaWFuOiBcInJ1bGVcIlxuICAgIH0pLnJlZ2lzdGVyUHJvZ3Jlc3NpdmVDaGFubmVscyhbIFwieFwiLCBcInlcIiwgXCJxMVwiLCBcInEzXCIsIFwibWluXCIsIFwibWF4XCIsIFwibWVkaWFuXCIsIFwiYW5nbGVcIiwgXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcImJveFdpZHRoXCIsIFwiYm94SGVpZ2h0XCIsIFwicnVsZVdpZHRoXCIsIFwicnVsZUhlaWdodFwiIF0pLnJlZ2lzdGVyRnVuY3Rpb25FbmNvZGVyKGVuY29kZUJveHBsb3RTaXplKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwieFwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyBudWxsIDoge1xuICAgICAgICBzaGFmdDoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB4MTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwieVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIHNoYWZ0OiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHkxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSA6IG51bGwpKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwicTFcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8ge1xuICAgICAgICBib3g6IHtcbiAgICAgICAgICAgIHg6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBib3g6IHtcbiAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcInEzXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgYm94OiB7XG4gICAgICAgICAgICB4MTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIGJveDoge1xuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcIm1pblwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIHNoYWZ0OiB7XG4gICAgICAgICAgICB4OiBlbmNvZGVWYWx1ZVxuICAgICAgICB9LFxuICAgICAgICBtaW46IHtcbiAgICAgICAgICAgIHg6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeDE6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgdmlzaWJsZTogITBcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIHNoYWZ0OiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZVxuICAgICAgICB9LFxuICAgICAgICBtaW46IHtcbiAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgdmlzaWJsZTogITBcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWF4XCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9LFxuICAgICAgICBtYXg6IHtcbiAgICAgICAgICAgIHg6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeDE6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgdmlzaWJsZTogITBcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIHNoYWZ0OiB7XG4gICAgICAgICAgICB5MTogZW5jb2RlVmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgbWF4OiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHkxOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHZpc2libGU6ICEwXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcIm1lZGlhblwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB4MTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB2aXNpYmxlOiAhMFxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHkxOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHZpc2libGU6ICEwXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcImFuZ2xlXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRBbmNob3IgPSBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8gWyAoZW5jb2RlVmFsdWVzLm1pbiArIGVuY29kZVZhbHVlcy5tYXgpIC8gMiwgZW5jb2RlVmFsdWVzLnkgXSA6IFsgZW5jb2RlVmFsdWVzLngsIChlbmNvZGVWYWx1ZXMubWluICsgZW5jb2RlVmFsdWVzLm1heCkgLyAyIF0sIGFuY2hvciA9IG51bGwgIT09IChfYSA9IGVuY29kZVZhbHVlcy5hbmNob3IpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGRlZmF1bHRBbmNob3I7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaGFmdDoge1xuICAgICAgICAgICAgICAgIGFuZ2xlOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJveDoge1xuICAgICAgICAgICAgICAgIGFuZ2xlOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1heDoge1xuICAgICAgICAgICAgICAgIGFuZ2xlOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1pbjoge1xuICAgICAgICAgICAgICAgIGFuZ2xlOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgICAgIGFuZ2xlOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKS5yZWdpc3RlckRlZmF1bHRFbmNvZGVyKCgoKSA9PiAoe1xuICAgICAgICBtYXg6IHtcbiAgICAgICAgICAgIHZpc2libGU6ICExXG4gICAgICAgIH0sXG4gICAgICAgIG1pbjoge1xuICAgICAgICAgICAgdmlzaWJsZTogITFcbiAgICAgICAgfSxcbiAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICB2aXNpYmxlOiAhMVxuICAgICAgICB9XG4gICAgfSkpKSwgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJib3hwbG90U2NhbGVJblwiLCBib3hwbG90U2NhbGVJbiksIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiYm94cGxvdFNjYWxlT3V0XCIsIGJveHBsb3RTY2FsZU91dCksIFxuICAgIHJlZ2lzdGVyR2x5cGhNYXJrKCksIHJlZ2lzdGVyR2x5cGhHcmFwaGljKCksIHJlZ2lzdGVyUmVjdEdyYXBoaWMoKSwgcmVnaXN0ZXJSdWxlR3JhcGhpYygpO1xufVxuXG5jb25zdCBjb21wdXRlQmFyQm94cGxvdENlbnRlciA9IChnbHlwaEVsZW1lbnQsIGRpcmVjdGlvbiwgb3B0aW9ucykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAoaXNWYWxpZE51bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLmNlbnRlcikpIHJldHVybiBvcHRpb25zLmNlbnRlcjtcbiAgICBsZXQgbWVkaWFuLCBtYXgsIG1pbiwgcTEsIHEzO1xuICAgIGlmIChpc0hvcml6b250YWwoZGlyZWN0aW9uKSkge1xuICAgICAgICBtZWRpYW4gPSBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMSwgXCJtZWRpYW5cIikpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVswXSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLng7XG4gICAgICAgIGNvbnN0IG1pbk1heEJveFdpZHRoID0gZ2x5cGhFbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ3aWR0aFwiLCAhMSwgXCJtaW5NYXhCb3hcIiksIG1pbk1heEJveEJveFggPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITEsIFwibWluTWF4Qm94XCIpO1xuICAgICAgICBtaW4gPSBtaW5NYXhCb3hCb3hYLCBtYXggPSBtaW5NYXhCb3hCb3hYICsgbWluTWF4Qm94V2lkdGg7XG4gICAgICAgIGNvbnN0IHExcTNCb3hXaWR0aCA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwid2lkdGhcIiwgITEsIFwicTFxM0JveFwiKSwgcTFxM0JveFggPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITEsIFwicTFxM0JveFwiKTtcbiAgICAgICAgcTEgPSBxMXEzQm94WCwgcTMgPSBxMXEzQm94WCArIHExcTNCb3hXaWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBtZWRpYW4gPSBudWxsID09PSAoX2QgPSBudWxsID09PSAoX2MgPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMSwgXCJtZWRpYW5cIikpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfY1swXSkgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kLnk7XG4gICAgICAgIGNvbnN0IG1pbk1heEJveEhlaWdodCA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiaGVpZ2h0XCIsICExLCBcIm1pbk1heEJveFwiKSwgbWluTWF4Qm94Qm94WSA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMSwgXCJtaW5NYXhCb3hcIik7XG4gICAgICAgIG1pbiA9IG1pbk1heEJveEJveFksIG1heCA9IG1pbk1heEJveEJveFkgKyBtaW5NYXhCb3hIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHExcTNCb3hIZWlnaHQgPSBnbHlwaEVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImhlaWdodFwiLCAhMSwgXCJxMXEzQm94XCIpLCBxMXEzQm94WSA9IGdseXBoRWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMSwgXCJxMXEzQm94XCIpO1xuICAgICAgICBxMSA9IHExcTNCb3hZLCBxMyA9IHExcTNCb3hZICsgcTFxM0JveEhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIGlzVmFsaWROdW1iZXIobWVkaWFuKSA/IG1lZGlhbiA6IGlzVmFsaWROdW1iZXIocTEpICYmIGlzVmFsaWROdW1iZXIocTMpID8gKHExICsgcTMpIC8gMiA6IGlzVmFsaWROdW1iZXIobWF4KSAmJiBpc1ZhbGlkTnVtYmVyKG1pbikgPyAobWF4ICsgbWluKSAvIDIgOiBpc1ZhbGlkTnVtYmVyKG1pbikgPyBtaW4gOiBpc1ZhbGlkTnVtYmVyKG1heCkgPyBtYXggOiBOYU47XG59LCBlbmNvZGVCYXJCb3hwbG90U2l6ZSA9IChlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIG1pbk1heEJveDoge30sXG4gICAgICAgIHExcTNCb3g6IHt9LFxuICAgICAgICBtZWRpYW46IHt9XG4gICAgfSwgeCA9IG51bGwgIT09IChfYSA9IGVuY29kZVZhbHVlcy54KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIsICExKSwgeSA9IG51bGwgIT09IChfYiA9IGVuY29kZVZhbHVlcy55KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIsICExKSwgd2lkdGggPSBudWxsICE9PSAoX2MgPSBlbmNvZGVWYWx1ZXMud2lkdGgpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIndpZHRoXCIsICExKSwgbWluTWF4V2lkdGggPSBudWxsICE9PSAoX2QgPSBlbmNvZGVWYWx1ZXMubWluTWF4V2lkdGgpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm1pbk1heFdpZHRoXCIsICExKSwgcTFxM1dpZHRoID0gbnVsbCAhPT0gKF9lID0gZW5jb2RlVmFsdWVzLnExcTNXaWR0aCkgJiYgdm9pZCAwICE9PSBfZSA/IF9lIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicTFxM1dpZHRoXCIsICExKSwgaGVpZ2h0ID0gbnVsbCAhPT0gKF9mID0gZW5jb2RlVmFsdWVzLmhlaWdodCkgJiYgdm9pZCAwICE9PSBfZiA/IF9mIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiaGVpZ2h0XCIsICExKSwgbWluTWF4SGVpZ2h0ID0gbnVsbCAhPT0gKF9nID0gZW5jb2RlVmFsdWVzLm1pbk1heEhlaWdodCkgJiYgdm9pZCAwICE9PSBfZyA/IF9nIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwibWluTWF4SGVpZ2h0XCIsICExKSwgcTFxM0hlaWdodCA9IG51bGwgIT09IChfaCA9IGVuY29kZVZhbHVlcy5xMXEzSGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9oID8gX2ggOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJxMXEzSGVpZ2h0XCIsICExKTtcbiAgICByZXR1cm4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IChpc1ZhbGlkTnVtYmVyKG1pbk1heEhlaWdodCkgPyBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWluTWF4Qm94LCB7XG4gICAgICAgIHk6IHkgLSBtaW5NYXhIZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIG1pbk1heEhlaWdodCAvIDJcbiAgICB9KSA6IE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5taW5NYXhCb3gsIHtcbiAgICAgICAgeTogeSAtIGhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgaGVpZ2h0IC8gMlxuICAgIH0pLCBpc1ZhbGlkTnVtYmVyKHExcTNIZWlnaHQpID8gKE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5xMXEzQm94LCB7XG4gICAgICAgIHk6IHkgLSBxMXEzSGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBxMXEzSGVpZ2h0IC8gMlxuICAgIH0pLCBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWVkaWFuLCB7XG4gICAgICAgIHk6IHkgLSBxMXEzSGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBxMXEzSGVpZ2h0IC8gMlxuICAgIH0pKSA6IChPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMucTFxM0JveCwge1xuICAgICAgICB5OiB5IC0gaGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBoZWlnaHQgLyAyXG4gICAgfSksIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5tZWRpYW4sIHtcbiAgICAgICAgeTogeSAtIGhlaWdodCAvIDIsXG4gICAgICAgIHkxOiB5ICsgaGVpZ2h0IC8gMlxuICAgIH0pKSkgOiAoaXNWYWxpZE51bWJlcihtaW5NYXhXaWR0aCkgPyBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWluTWF4Qm94LCB7XG4gICAgICAgIHg6IHggLSBtaW5NYXhXaWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgbWluTWF4V2lkdGggLyAyXG4gICAgfSkgOiBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWluTWF4Qm94LCB7XG4gICAgICAgIHg6IHggLSB3aWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgd2lkdGggLyAyXG4gICAgfSksIGlzVmFsaWROdW1iZXIocTFxM1dpZHRoKSA/IChPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMucTFxM0JveCwge1xuICAgICAgICB4OiB4IC0gcTFxM1dpZHRoIC8gMixcbiAgICAgICAgeDE6IHggKyBxMXEzV2lkdGggLyAyXG4gICAgfSksIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5tZWRpYW4sIHtcbiAgICAgICAgeDogeCAtIHExcTNXaWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgcTFxM1dpZHRoIC8gMlxuICAgIH0pKSA6IChPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMucTFxM0JveCwge1xuICAgICAgICB4OiB4IC0gd2lkdGggLyAyLFxuICAgICAgICB4MTogeCArIHdpZHRoIC8gMlxuICAgIH0pLCBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMubWVkaWFuLCB7XG4gICAgICAgIHg6IHggLSB3aWR0aCAvIDIsXG4gICAgICAgIHgxOiB4ICsgd2lkdGggLyAyXG4gICAgfSkpKSwgYXR0cmlidXRlcztcbn07XG5cbmV4cG9ydCBjb25zdCBiYXJCb3hwbG90U2NhbGVJbiA9IHNjYWxlSW4oY29tcHV0ZUJhckJveHBsb3RDZW50ZXIpO1xuXG5leHBvcnQgY29uc3QgYmFyQm94cGxvdFNjYWxlT3V0ID0gc2NhbGVPdXQoY29tcHV0ZUJhckJveHBsb3RDZW50ZXIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJCYXJCb3hwbG90R2x5cGgoKSB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdseXBoKFwiYmFyQm94cGxvdFwiLCB7XG4gICAgICAgIG1pbk1heEJveDogXCJyZWN0XCIsXG4gICAgICAgIHExcTNCb3g6IFwicmVjdFwiLFxuICAgICAgICBtZWRpYW46IFwicnVsZVwiXG4gICAgfSkucmVnaXN0ZXJQcm9ncmVzc2l2ZUNoYW5uZWxzKFsgXCJ4XCIsIFwieVwiLCBcInExXCIsIFwicTNcIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJtZWRpYW5cIiwgXCJhbmdsZVwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwibWluTWF4V2lkdGhcIiwgXCJxMXEzV2lkdGhcIiwgXCJtaW5NYXhIZWlnaHRcIiwgXCJxMXEzSGVpZ2h0XCIgXSkucmVnaXN0ZXJGdW5jdGlvbkVuY29kZXIoZW5jb2RlQmFyQm94cGxvdFNpemUpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJxMVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIHExcTNCb3g6IHtcbiAgICAgICAgICAgIHg6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBxMXEzQm94OiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJxM1wiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIHExcTNCb3g6IHtcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgcTFxM0JveDoge1xuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcIm1pblwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIG1pbk1heEJveDoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIG1pbk1heEJveDoge1xuICAgICAgICAgICAgeTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWF4XCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgbWluTWF4Qm94OiB7XG4gICAgICAgICAgICB4MTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIG1pbk1heEJveDoge1xuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcIm1lZGlhblwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB4MTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB2aXNpYmxlOiAhMFxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHkxOiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHZpc2libGU6ICEwXG4gICAgICAgIH1cbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcImFuZ2xlXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG51bGwgIT09IChfYSA9IGVuY29kZVZhbHVlcy5hbmNob3IpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFsgZW5jb2RlVmFsdWVzLngsIChlbmNvZGVWYWx1ZXMubWluICsgZW5jb2RlVmFsdWVzLm1heCkgLyAyIF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW5NYXhCb3g6IHtcbiAgICAgICAgICAgICAgICBhbmdsZTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBhbmNob3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBxMXEzQm94OiB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICAgICAgYW5nbGU6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJsaW5lV2lkdGhcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiAoe1xuICAgICAgICBtaW5NYXhCb3g6IHtcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMFxuICAgICAgICB9LFxuICAgICAgICBxMXEzQm94OiB7XG4gICAgICAgICAgICBsaW5lV2lkdGg6IDBcbiAgICAgICAgfVxuICAgIH0pKSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcIm1pbk1heEZpbGxPcGFjaXR5XCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gKHtcbiAgICAgICAgbWluTWF4Qm94OiB7XG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcInN0cm9rZVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+ICh7XG4gICAgICAgIG1pbk1heEJveDoge1xuICAgICAgICAgICAgc3Ryb2tlOiAhMVxuICAgICAgICB9LFxuICAgICAgICBxMXEzQm94OiB7XG4gICAgICAgICAgICBzdHJva2U6ICExXG4gICAgICAgIH1cbiAgICB9KSkpLnJlZ2lzdGVyRGVmYXVsdEVuY29kZXIoKCgpID0+ICh7XG4gICAgICAgIG1pbk1heEJveDoge1xuICAgICAgICAgICAgbGluZVdpZHRoOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHExcTNCb3g6IHtcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMFxuICAgICAgICB9LFxuICAgICAgICBtZWRpYW46IHtcbiAgICAgICAgICAgIHZpc2libGU6ICExXG4gICAgICAgIH1cbiAgICB9KSkpLCBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImJhckJveHBsb3RTY2FsZUluXCIsIGJhckJveHBsb3RTY2FsZUluKSwgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJiYXJCb3hwbG90U2NhbGVPdXRcIiwgYmFyQm94cGxvdFNjYWxlT3V0KSwgXG4gICAgcmVnaXN0ZXJHbHlwaE1hcmsoKSwgcmVnaXN0ZXJHbHlwaEdyYXBoaWMoKSwgcmVnaXN0ZXJSZWN0R3JhcGhpYygpLCByZWdpc3RlclJ1bGVHcmFwaGljKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib3hwbG90LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/boxplot.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/index.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/index.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerBarBoxplotGlyph: () => (/* reexport safe */ _boxplot__WEBPACK_IMPORTED_MODULE_0__.registerBarBoxplotGlyph),\n/* harmony export */   registerBoxplotGlyph: () => (/* reexport safe */ _boxplot__WEBPACK_IMPORTED_MODULE_0__.registerBoxplotGlyph),\n/* harmony export */   registerLinkPathGlyph: () => (/* reexport safe */ _link_path__WEBPACK_IMPORTED_MODULE_3__.registerLinkPathGlyph),\n/* harmony export */   registerRippleGlyph: () => (/* reexport safe */ _ripple__WEBPACK_IMPORTED_MODULE_1__.registerRippleGlyph),\n/* harmony export */   registerTreePathGlyph: () => (/* reexport safe */ _tree_path__WEBPACK_IMPORTED_MODULE_4__.registerTreePathGlyph),\n/* harmony export */   registerViolinGlyph: () => (/* reexport safe */ _violin__WEBPACK_IMPORTED_MODULE_5__.registerViolinGlyph),\n/* harmony export */   registerWaveGlyph: () => (/* reexport safe */ _wave__WEBPACK_IMPORTED_MODULE_2__.registerWaveGlyph)\n/* harmony export */ });\n/* harmony import */ var _boxplot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boxplot */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/boxplot.js\");\n/* harmony import */ var _ripple__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ripple */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/ripple.js\");\n/* harmony import */ var _wave__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wave */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/wave.js\");\n/* harmony import */ var _link_path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./link-path */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/link-path.js\");\n/* harmony import */ var _tree_path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tree-path */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/tree-path.js\");\n/* harmony import */ var _violin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./violin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/violin.js\");\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUEwRTs7QUFFM0I7O0FBRUo7O0FBRVM7O0FBRUE7O0FBRUw7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dseXBoL2luZGV4LmpzPzkzMjciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgcmVnaXN0ZXJCb3hwbG90R2x5cGgsIHJlZ2lzdGVyQmFyQm94cGxvdEdseXBoIH0gZnJvbSBcIi4vYm94cGxvdFwiO1xuXG5leHBvcnQgeyByZWdpc3RlclJpcHBsZUdseXBoIH0gZnJvbSBcIi4vcmlwcGxlXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyV2F2ZUdseXBoIH0gZnJvbSBcIi4vd2F2ZVwiO1xuXG5leHBvcnQgeyByZWdpc3RlckxpbmtQYXRoR2x5cGggfSBmcm9tIFwiLi9saW5rLXBhdGhcIjtcblxuZXhwb3J0IHsgcmVnaXN0ZXJUcmVlUGF0aEdseXBoIH0gZnJvbSBcIi4vdHJlZS1wYXRoXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyVmlvbGluR2x5cGggfSBmcm9tIFwiLi92aW9saW5cIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/link-path.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/link-path.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getHorizontalPath: () => (/* binding */ getHorizontalPath),\n/* harmony export */   getVerticalPath: () => (/* binding */ getVerticalPath),\n/* harmony export */   registerLinkPathGlyph: () => (/* binding */ registerLinkPathGlyph)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\n\n\nconst getHorizontalPath = (options, ratio) => {\n    var _a;\n    const curvature = null !== (_a = options.curvature) && void 0 !== _a ? _a : .5, thickness = \"number\" == typeof ratio ? options.thickness * ratio : options.thickness;\n    let x0 = options.x0, x1 = options.x1, y00 = options.y0, y10 = options.y1, cpx0 = x0 + curvature * (x1 - x0), cpx1 = x1 + curvature * (x0 - x1), formatter = v => v;\n    !1 !== options.round && (x0 = Math.round(x0), x1 = Math.round(x1), y00 = Math.round(y00), \n    y10 = Math.round(y10), cpx0 = Math.round(cpx0), cpx1 = Math.round(cpx1), formatter = Math.round);\n    \"line\" === options.pathType || options.pathType;\n    \"center\" === options.align ? (y00 = formatter(options.y0 - thickness / 2), y10 = formatter(options.y1 - thickness / 2)) : \"end\" === options.align ? (y00 = formatter(options.y0 + options.thickness / 2 - thickness), \n    y10 = formatter(options.y1 + options.thickness / 2 - thickness)) : (y00 = formatter(options.y0 - options.thickness / 2), \n    y10 = formatter(options.y1 - options.thickness / 2));\n    const y01 = formatter(y00 + thickness), y11 = formatter(y10 + thickness), hasLength = Math.abs(x1 - x0) > 1e-6, endArrowPath = options.endArrow && hasLength ? `L${x1},${formatter(y10 - thickness / 2)}L${formatter(x1 + thickness)},${formatter((y10 + y11) / 2)}L${x1},${formatter(y11 + thickness / 2)}` : \"\", startArrowPath = options.startArrow && hasLength ? `L${x0},${formatter(y01 + thickness / 2)}L${formatter(x0 - thickness)},${formatter((y00 + y01) / 2)}L${x0},${formatter(y00 - thickness / 2)}` : \"\";\n    return \"line\" === options.pathType ? `M${x0},${y00}L${x1},${y10}${endArrowPath}L${x1},${y11}L${x0},${y01}${startArrowPath}Z` : \"polyline\" === options.pathType ? `M${x0},${y00}L${cpx0},${y00}L${cpx0},${y10}L${x1},${y10}\\n    ${endArrowPath}L${x1},${y11}L${cpx0},${y11}L${cpx0},${y01}L${x0},${y01}${startArrowPath}Z` : `M${x0},${y00}C${cpx0},${y00},${cpx1},${y10},${x1},${y10}\\n  ${endArrowPath}L${x1},${y11}C${cpx1},${y11},${cpx0},${y01},${x0},${y01}${startArrowPath}Z`;\n};\n\nconst getVerticalPath = (options, ratio) => {\n    var _a;\n    const curvature = null !== (_a = options.curvature) && void 0 !== _a ? _a : .5, thickness = \"number\" == typeof ratio ? options.thickness * ratio : options.thickness;\n    let y0 = options.y0, y1 = options.y1, x00 = options.x0, x10 = options.x1, cpy0 = y0 + curvature * (y1 - y0), cpy1 = y1 + curvature * (y0 - y1), formatter = v => v;\n    !1 !== options.round && (formatter = Math.round, y0 = Math.round(y0), y1 = Math.round(y1), \n    x00 = Math.round(x00), x10 = Math.round(x10), cpy0 = Math.round(cpy0), cpy1 = Math.round(cpy1));\n    \"line\" === options.pathType || options.pathType;\n    \"center\" === options.align ? (x00 = formatter(options.x0 - thickness / 2), x10 = formatter(options.x1 - thickness / 2)) : \"end\" === options.align ? (x00 = formatter(options.x0 + options.thickness / 2 - thickness), \n    x10 = formatter(options.x1 + options.thickness / 2 - thickness)) : (x00 = formatter(options.x0 - options.thickness / 2), \n    x10 = formatter(options.x1 - options.thickness / 2));\n    const x01 = formatter(x00 + thickness), x11 = formatter(x10 + thickness), hasLength = Math.abs(y1 - y0) > 1e-6, endArrowPath = options.endArrow && hasLength ? `L${formatter(x10 - thickness / 2)},${y1}L${formatter((x10 + x11) / 2)},${formatter(y1 + thickness)}L${formatter(x11 + thickness / 2)},${y1}` : \"\", startArrowPath = options.startArrow && hasLength ? `L${formatter(x01 + thickness / 2)},${y0}L${formatter((x01 + x00) / 2)},${formatter(y0 - thickness)}L${formatter(x00 - thickness / 2)},${y0}` : \"\";\n    return \"line\" === options.pathType ? `M${x00},${y0}L${x10},${y1}${endArrowPath}L${x11},${y1}L${x01},${y0}${startArrowPath}Z` : \"polyline\" === options.pathType ? `M${x00},${y0}L${x00},${cpy0}L${x10},${cpy0}L${x10},${y1}\\n    ${endArrowPath}L${x11},${y1}L${x11},${cpy0}L${x01},${cpy0}L${x01},${y0}${startArrowPath}Z` : `M${x00},${y0}C${x00},${cpy0},${x10},${cpy1},${x10},${y1}\\n  ${endArrowPath}L${x11},${y1}C${x11},${cpy1},${x01},${cpy0},${x01},${y0}${startArrowPath}Z`;\n};\n\nconst encoder = (encodeValues, datum, element, config) => {\n    var _a;\n    const direction = null !== (_a = encodeValues.direction) && void 0 !== _a ? _a : null == config ? void 0 : config.direction, parsePath = [ \"vertical\", \"TB\", \"BT\" ].includes(direction) ? getVerticalPath : getHorizontalPath, isRatioShow = \"number\" == typeof encodeValues.ratio && encodeValues.ratio >= 0 && encodeValues.ratio <= 1, encodeChannels = Object.keys(encodeValues);\n    return [ \"x0\", \"y0\", \"x1\", \"y1\" ].every((channel => encodeChannels.includes(channel))) ? {\n        back: {\n            path: isRatioShow ? parsePath(encodeValues, 1) : \"\"\n        },\n        front: {\n            path: parsePath(encodeValues, isRatioShow ? encodeValues.ratio : 1)\n        }\n    } : {};\n}, linkPathGrowIn = (element, options, animationParameters) => {\n    const linkValues = {\n        x0: element.getGraphicAttribute(\"x0\", !1),\n        x1: element.getGraphicAttribute(\"x1\", !1),\n        y0: element.getGraphicAttribute(\"y0\", !1),\n        y1: element.getGraphicAttribute(\"y1\", !1),\n        thickness: element.getGraphicAttribute(\"thickness\", !1),\n        round: element.getGraphicAttribute(\"round\", !1),\n        align: element.getGraphicAttribute(\"align\", !1),\n        pathType: element.getGraphicAttribute(\"pathType\", !1),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !1),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !1)\n    };\n    return Object.keys(linkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(linkValues[key]) && delete linkValues[key];\n    })), {\n        from: Object.assign({}, linkValues, {\n            x1: linkValues.x0,\n            y1: linkValues.y0\n        }),\n        to: linkValues\n    };\n}, linkPathGrowOut = (element, options, animationParameters) => {\n    const linkValues = {\n        x0: element.getGraphicAttribute(\"x0\", !0),\n        x1: element.getGraphicAttribute(\"x1\", !0),\n        y0: element.getGraphicAttribute(\"y0\", !0),\n        y1: element.getGraphicAttribute(\"y1\", !0),\n        thickness: element.getGraphicAttribute(\"thickness\", !0),\n        round: element.getGraphicAttribute(\"round\", !0),\n        align: element.getGraphicAttribute(\"align\", !0),\n        pathType: element.getGraphicAttribute(\"pathType\", !0),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !0),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !0)\n    };\n    return Object.keys(linkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(linkValues[key]) && delete linkValues[key];\n    })), {\n        from: linkValues,\n        to: Object.assign({}, linkValues, {\n            x1: linkValues.x0,\n            y1: linkValues.y0\n        })\n    };\n}, linkPathUpdate = (element, options, animationParameters) => {\n    const bassLinkValues = {\n        thickness: element.getGraphicAttribute(\"thickness\", !1),\n        round: element.getGraphicAttribute(\"round\", !1),\n        align: element.getGraphicAttribute(\"align\", !1),\n        pathType: element.getGraphicAttribute(\"pathType\", !1),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !1),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !1)\n    };\n    Object.keys(bassLinkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(bassLinkValues[key]) && delete bassLinkValues[key];\n    }));\n    return {\n        from: Object.assign(Object.assign({\n            x0: element.getGraphicAttribute(\"x0\", !0),\n            x1: element.getGraphicAttribute(\"x1\", !0),\n            y0: element.getGraphicAttribute(\"y0\", !0),\n            y1: element.getGraphicAttribute(\"y1\", !0)\n        }, bassLinkValues), bassLinkValues),\n        to: Object.assign({\n            x0: element.getGraphicAttribute(\"x0\", !1),\n            x1: element.getGraphicAttribute(\"x1\", !1),\n            y0: element.getGraphicAttribute(\"y0\", !1),\n            y1: element.getGraphicAttribute(\"y1\", !1)\n        }, bassLinkValues)\n    };\n};\n\nconst registerLinkPathGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerGlyph(\"linkPath\", {\n        back: \"path\",\n        front: \"path\"\n    }).registerFunctionEncoder(encoder).registerChannelEncoder(\"backgroundStyle\", ((channel, encodeValue) => ({\n        back: encodeValue\n    }))).registerDefaultEncoder((() => ({\n        back: {\n            zIndex: 0\n        },\n        front: {\n            zIndex: 1\n        }\n    }))), _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"linkPathGrowIn\", linkPathGrowIn), _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"linkPathGrowOut\", linkPathGrowOut), \n    _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"linkPathUpdate\", linkPathUpdate), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_2__.registerGlyphMark)(), \n    (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__.registerPathGraphic)();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvbGluay1wYXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEM7O0FBRUQ7O0FBRXlDOztBQUVoQzs7QUFFM0M7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1S0FBdUssR0FBRyxHQUFHLCtCQUErQixHQUFHLDBCQUEwQixHQUFHLDJCQUEyQixHQUFHLEdBQUcsR0FBRywrQkFBK0IsK0RBQStELEdBQUcsR0FBRywrQkFBK0IsR0FBRywwQkFBMEIsR0FBRywyQkFBMkIsR0FBRyxHQUFHLEdBQUcsK0JBQStCO0FBQ3RmLDZDQUE2QyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLEVBQUUsYUFBYSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksRUFBRSxlQUFlLDJDQUEyQyxHQUFHLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxRQUFRLGFBQWEsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxFQUFFLGVBQWUsU0FBUyxHQUFHLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxNQUFNLGFBQWEsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxFQUFFLGVBQWU7QUFDdGQ7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1S0FBdUssK0JBQStCLEdBQUcsR0FBRyxHQUFHLDJCQUEyQixHQUFHLDBCQUEwQixHQUFHLCtCQUErQixHQUFHLEdBQUcsK0RBQStELCtCQUErQixHQUFHLEdBQUcsR0FBRywyQkFBMkIsR0FBRywwQkFBMEIsR0FBRywrQkFBK0IsR0FBRyxHQUFHO0FBQ3RmLDZDQUE2QyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEVBQUUsYUFBYSxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsRUFBRSxlQUFlLDJDQUEyQyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxRQUFRLGFBQWEsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxFQUFFLGVBQWUsU0FBUyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxNQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxFQUFFLGVBQWU7QUFDdGQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFLO0FBQ2IsS0FBSztBQUNMLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFLO0FBQ2IsS0FBSztBQUNMO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBSztBQUNiLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUssa0RBQU8sMERBQTBELGtEQUFPO0FBQ2xGLElBQUksa0RBQU8sMERBQTBELDhEQUFpQjtBQUN0RixJQUFJLHlFQUFvQixJQUFJLHdFQUFtQjtBQUMvQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvbGluay1wYXRoLmpzP2VjNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyByZWdpc3RlckdseXBoR3JhcGhpYywgcmVnaXN0ZXJQYXRoR3JhcGhpYyB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2dyYXBoaWNcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJHbHlwaE1hcmsgfSBmcm9tIFwiLi4vdmlldy9nbHlwaFwiO1xuXG5leHBvcnQgY29uc3QgZ2V0SG9yaXpvbnRhbFBhdGggPSAob3B0aW9ucywgcmF0aW8pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY3VydmF0dXJlID0gbnVsbCAhPT0gKF9hID0gb3B0aW9ucy5jdXJ2YXR1cmUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IC41LCB0aGlja25lc3MgPSBcIm51bWJlclwiID09IHR5cGVvZiByYXRpbyA/IG9wdGlvbnMudGhpY2tuZXNzICogcmF0aW8gOiBvcHRpb25zLnRoaWNrbmVzcztcbiAgICBsZXQgeDAgPSBvcHRpb25zLngwLCB4MSA9IG9wdGlvbnMueDEsIHkwMCA9IG9wdGlvbnMueTAsIHkxMCA9IG9wdGlvbnMueTEsIGNweDAgPSB4MCArIGN1cnZhdHVyZSAqICh4MSAtIHgwKSwgY3B4MSA9IHgxICsgY3VydmF0dXJlICogKHgwIC0geDEpLCBmb3JtYXR0ZXIgPSB2ID0+IHY7XG4gICAgITEgIT09IG9wdGlvbnMucm91bmQgJiYgKHgwID0gTWF0aC5yb3VuZCh4MCksIHgxID0gTWF0aC5yb3VuZCh4MSksIHkwMCA9IE1hdGgucm91bmQoeTAwKSwgXG4gICAgeTEwID0gTWF0aC5yb3VuZCh5MTApLCBjcHgwID0gTWF0aC5yb3VuZChjcHgwKSwgY3B4MSA9IE1hdGgucm91bmQoY3B4MSksIGZvcm1hdHRlciA9IE1hdGgucm91bmQpO1xuICAgIFwibGluZVwiID09PSBvcHRpb25zLnBhdGhUeXBlIHx8IG9wdGlvbnMucGF0aFR5cGU7XG4gICAgXCJjZW50ZXJcIiA9PT0gb3B0aW9ucy5hbGlnbiA/ICh5MDAgPSBmb3JtYXR0ZXIob3B0aW9ucy55MCAtIHRoaWNrbmVzcyAvIDIpLCB5MTAgPSBmb3JtYXR0ZXIob3B0aW9ucy55MSAtIHRoaWNrbmVzcyAvIDIpKSA6IFwiZW5kXCIgPT09IG9wdGlvbnMuYWxpZ24gPyAoeTAwID0gZm9ybWF0dGVyKG9wdGlvbnMueTAgKyBvcHRpb25zLnRoaWNrbmVzcyAvIDIgLSB0aGlja25lc3MpLCBcbiAgICB5MTAgPSBmb3JtYXR0ZXIob3B0aW9ucy55MSArIG9wdGlvbnMudGhpY2tuZXNzIC8gMiAtIHRoaWNrbmVzcykpIDogKHkwMCA9IGZvcm1hdHRlcihvcHRpb25zLnkwIC0gb3B0aW9ucy50aGlja25lc3MgLyAyKSwgXG4gICAgeTEwID0gZm9ybWF0dGVyKG9wdGlvbnMueTEgLSBvcHRpb25zLnRoaWNrbmVzcyAvIDIpKTtcbiAgICBjb25zdCB5MDEgPSBmb3JtYXR0ZXIoeTAwICsgdGhpY2tuZXNzKSwgeTExID0gZm9ybWF0dGVyKHkxMCArIHRoaWNrbmVzcyksIGhhc0xlbmd0aCA9IE1hdGguYWJzKHgxIC0geDApID4gMWUtNiwgZW5kQXJyb3dQYXRoID0gb3B0aW9ucy5lbmRBcnJvdyAmJiBoYXNMZW5ndGggPyBgTCR7eDF9LCR7Zm9ybWF0dGVyKHkxMCAtIHRoaWNrbmVzcyAvIDIpfUwke2Zvcm1hdHRlcih4MSArIHRoaWNrbmVzcyl9LCR7Zm9ybWF0dGVyKCh5MTAgKyB5MTEpIC8gMil9TCR7eDF9LCR7Zm9ybWF0dGVyKHkxMSArIHRoaWNrbmVzcyAvIDIpfWAgOiBcIlwiLCBzdGFydEFycm93UGF0aCA9IG9wdGlvbnMuc3RhcnRBcnJvdyAmJiBoYXNMZW5ndGggPyBgTCR7eDB9LCR7Zm9ybWF0dGVyKHkwMSArIHRoaWNrbmVzcyAvIDIpfUwke2Zvcm1hdHRlcih4MCAtIHRoaWNrbmVzcyl9LCR7Zm9ybWF0dGVyKCh5MDAgKyB5MDEpIC8gMil9TCR7eDB9LCR7Zm9ybWF0dGVyKHkwMCAtIHRoaWNrbmVzcyAvIDIpfWAgOiBcIlwiO1xuICAgIHJldHVybiBcImxpbmVcIiA9PT0gb3B0aW9ucy5wYXRoVHlwZSA/IGBNJHt4MH0sJHt5MDB9TCR7eDF9LCR7eTEwfSR7ZW5kQXJyb3dQYXRofUwke3gxfSwke3kxMX1MJHt4MH0sJHt5MDF9JHtzdGFydEFycm93UGF0aH1aYCA6IFwicG9seWxpbmVcIiA9PT0gb3B0aW9ucy5wYXRoVHlwZSA/IGBNJHt4MH0sJHt5MDB9TCR7Y3B4MH0sJHt5MDB9TCR7Y3B4MH0sJHt5MTB9TCR7eDF9LCR7eTEwfVxcbiAgICAke2VuZEFycm93UGF0aH1MJHt4MX0sJHt5MTF9TCR7Y3B4MH0sJHt5MTF9TCR7Y3B4MH0sJHt5MDF9TCR7eDB9LCR7eTAxfSR7c3RhcnRBcnJvd1BhdGh9WmAgOiBgTSR7eDB9LCR7eTAwfUMke2NweDB9LCR7eTAwfSwke2NweDF9LCR7eTEwfSwke3gxfSwke3kxMH1cXG4gICR7ZW5kQXJyb3dQYXRofUwke3gxfSwke3kxMX1DJHtjcHgxfSwke3kxMX0sJHtjcHgwfSwke3kwMX0sJHt4MH0sJHt5MDF9JHtzdGFydEFycm93UGF0aH1aYDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRWZXJ0aWNhbFBhdGggPSAob3B0aW9ucywgcmF0aW8pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY3VydmF0dXJlID0gbnVsbCAhPT0gKF9hID0gb3B0aW9ucy5jdXJ2YXR1cmUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IC41LCB0aGlja25lc3MgPSBcIm51bWJlclwiID09IHR5cGVvZiByYXRpbyA/IG9wdGlvbnMudGhpY2tuZXNzICogcmF0aW8gOiBvcHRpb25zLnRoaWNrbmVzcztcbiAgICBsZXQgeTAgPSBvcHRpb25zLnkwLCB5MSA9IG9wdGlvbnMueTEsIHgwMCA9IG9wdGlvbnMueDAsIHgxMCA9IG9wdGlvbnMueDEsIGNweTAgPSB5MCArIGN1cnZhdHVyZSAqICh5MSAtIHkwKSwgY3B5MSA9IHkxICsgY3VydmF0dXJlICogKHkwIC0geTEpLCBmb3JtYXR0ZXIgPSB2ID0+IHY7XG4gICAgITEgIT09IG9wdGlvbnMucm91bmQgJiYgKGZvcm1hdHRlciA9IE1hdGgucm91bmQsIHkwID0gTWF0aC5yb3VuZCh5MCksIHkxID0gTWF0aC5yb3VuZCh5MSksIFxuICAgIHgwMCA9IE1hdGgucm91bmQoeDAwKSwgeDEwID0gTWF0aC5yb3VuZCh4MTApLCBjcHkwID0gTWF0aC5yb3VuZChjcHkwKSwgY3B5MSA9IE1hdGgucm91bmQoY3B5MSkpO1xuICAgIFwibGluZVwiID09PSBvcHRpb25zLnBhdGhUeXBlIHx8IG9wdGlvbnMucGF0aFR5cGU7XG4gICAgXCJjZW50ZXJcIiA9PT0gb3B0aW9ucy5hbGlnbiA/ICh4MDAgPSBmb3JtYXR0ZXIob3B0aW9ucy54MCAtIHRoaWNrbmVzcyAvIDIpLCB4MTAgPSBmb3JtYXR0ZXIob3B0aW9ucy54MSAtIHRoaWNrbmVzcyAvIDIpKSA6IFwiZW5kXCIgPT09IG9wdGlvbnMuYWxpZ24gPyAoeDAwID0gZm9ybWF0dGVyKG9wdGlvbnMueDAgKyBvcHRpb25zLnRoaWNrbmVzcyAvIDIgLSB0aGlja25lc3MpLCBcbiAgICB4MTAgPSBmb3JtYXR0ZXIob3B0aW9ucy54MSArIG9wdGlvbnMudGhpY2tuZXNzIC8gMiAtIHRoaWNrbmVzcykpIDogKHgwMCA9IGZvcm1hdHRlcihvcHRpb25zLngwIC0gb3B0aW9ucy50aGlja25lc3MgLyAyKSwgXG4gICAgeDEwID0gZm9ybWF0dGVyKG9wdGlvbnMueDEgLSBvcHRpb25zLnRoaWNrbmVzcyAvIDIpKTtcbiAgICBjb25zdCB4MDEgPSBmb3JtYXR0ZXIoeDAwICsgdGhpY2tuZXNzKSwgeDExID0gZm9ybWF0dGVyKHgxMCArIHRoaWNrbmVzcyksIGhhc0xlbmd0aCA9IE1hdGguYWJzKHkxIC0geTApID4gMWUtNiwgZW5kQXJyb3dQYXRoID0gb3B0aW9ucy5lbmRBcnJvdyAmJiBoYXNMZW5ndGggPyBgTCR7Zm9ybWF0dGVyKHgxMCAtIHRoaWNrbmVzcyAvIDIpfSwke3kxfUwke2Zvcm1hdHRlcigoeDEwICsgeDExKSAvIDIpfSwke2Zvcm1hdHRlcih5MSArIHRoaWNrbmVzcyl9TCR7Zm9ybWF0dGVyKHgxMSArIHRoaWNrbmVzcyAvIDIpfSwke3kxfWAgOiBcIlwiLCBzdGFydEFycm93UGF0aCA9IG9wdGlvbnMuc3RhcnRBcnJvdyAmJiBoYXNMZW5ndGggPyBgTCR7Zm9ybWF0dGVyKHgwMSArIHRoaWNrbmVzcyAvIDIpfSwke3kwfUwke2Zvcm1hdHRlcigoeDAxICsgeDAwKSAvIDIpfSwke2Zvcm1hdHRlcih5MCAtIHRoaWNrbmVzcyl9TCR7Zm9ybWF0dGVyKHgwMCAtIHRoaWNrbmVzcyAvIDIpfSwke3kwfWAgOiBcIlwiO1xuICAgIHJldHVybiBcImxpbmVcIiA9PT0gb3B0aW9ucy5wYXRoVHlwZSA/IGBNJHt4MDB9LCR7eTB9TCR7eDEwfSwke3kxfSR7ZW5kQXJyb3dQYXRofUwke3gxMX0sJHt5MX1MJHt4MDF9LCR7eTB9JHtzdGFydEFycm93UGF0aH1aYCA6IFwicG9seWxpbmVcIiA9PT0gb3B0aW9ucy5wYXRoVHlwZSA/IGBNJHt4MDB9LCR7eTB9TCR7eDAwfSwke2NweTB9TCR7eDEwfSwke2NweTB9TCR7eDEwfSwke3kxfVxcbiAgICAke2VuZEFycm93UGF0aH1MJHt4MTF9LCR7eTF9TCR7eDExfSwke2NweTB9TCR7eDAxfSwke2NweTB9TCR7eDAxfSwke3kwfSR7c3RhcnRBcnJvd1BhdGh9WmAgOiBgTSR7eDAwfSwke3kwfUMke3gwMH0sJHtjcHkwfSwke3gxMH0sJHtjcHkxfSwke3gxMH0sJHt5MX1cXG4gICR7ZW5kQXJyb3dQYXRofUwke3gxMX0sJHt5MX1DJHt4MTF9LCR7Y3B5MX0sJHt4MDF9LCR7Y3B5MH0sJHt4MDF9LCR7eTB9JHtzdGFydEFycm93UGF0aH1aYDtcbn07XG5cbmNvbnN0IGVuY29kZXIgPSAoZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IG51bGwgIT09IChfYSA9IGVuY29kZVZhbHVlcy5kaXJlY3Rpb24pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGwgPT0gY29uZmlnID8gdm9pZCAwIDogY29uZmlnLmRpcmVjdGlvbiwgcGFyc2VQYXRoID0gWyBcInZlcnRpY2FsXCIsIFwiVEJcIiwgXCJCVFwiIF0uaW5jbHVkZXMoZGlyZWN0aW9uKSA/IGdldFZlcnRpY2FsUGF0aCA6IGdldEhvcml6b250YWxQYXRoLCBpc1JhdGlvU2hvdyA9IFwibnVtYmVyXCIgPT0gdHlwZW9mIGVuY29kZVZhbHVlcy5yYXRpbyAmJiBlbmNvZGVWYWx1ZXMucmF0aW8gPj0gMCAmJiBlbmNvZGVWYWx1ZXMucmF0aW8gPD0gMSwgZW5jb2RlQ2hhbm5lbHMgPSBPYmplY3Qua2V5cyhlbmNvZGVWYWx1ZXMpO1xuICAgIHJldHVybiBbIFwieDBcIiwgXCJ5MFwiLCBcIngxXCIsIFwieTFcIiBdLmV2ZXJ5KChjaGFubmVsID0+IGVuY29kZUNoYW5uZWxzLmluY2x1ZGVzKGNoYW5uZWwpKSkgPyB7XG4gICAgICAgIGJhY2s6IHtcbiAgICAgICAgICAgIHBhdGg6IGlzUmF0aW9TaG93ID8gcGFyc2VQYXRoKGVuY29kZVZhbHVlcywgMSkgOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIGZyb250OiB7XG4gICAgICAgICAgICBwYXRoOiBwYXJzZVBhdGgoZW5jb2RlVmFsdWVzLCBpc1JhdGlvU2hvdyA/IGVuY29kZVZhbHVlcy5yYXRpbyA6IDEpXG4gICAgICAgIH1cbiAgICB9IDoge307XG59LCBsaW5rUGF0aEdyb3dJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgbGlua1ZhbHVlcyA9IHtcbiAgICAgICAgeDA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngwXCIsICExKSxcbiAgICAgICAgeDE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngxXCIsICExKSxcbiAgICAgICAgeTA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkwXCIsICExKSxcbiAgICAgICAgeTE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkxXCIsICExKSxcbiAgICAgICAgdGhpY2tuZXNzOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ0aGlja25lc3NcIiwgITEpLFxuICAgICAgICByb3VuZDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicm91bmRcIiwgITEpLFxuICAgICAgICBhbGlnbjogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiYWxpZ25cIiwgITEpLFxuICAgICAgICBwYXRoVHlwZTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicGF0aFR5cGVcIiwgITEpLFxuICAgICAgICBlbmRBcnJvdzogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZW5kQXJyb3dcIiwgITEpLFxuICAgICAgICBzdGFydEFycm93OiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdGFydEFycm93XCIsICExKVxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGxpbmtWYWx1ZXMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGlzTmlsKGxpbmtWYWx1ZXNba2V5XSkgJiYgZGVsZXRlIGxpbmtWYWx1ZXNba2V5XTtcbiAgICB9KSksIHtcbiAgICAgICAgZnJvbTogT2JqZWN0LmFzc2lnbih7fSwgbGlua1ZhbHVlcywge1xuICAgICAgICAgICAgeDE6IGxpbmtWYWx1ZXMueDAsXG4gICAgICAgICAgICB5MTogbGlua1ZhbHVlcy55MFxuICAgICAgICB9KSxcbiAgICAgICAgdG86IGxpbmtWYWx1ZXNcbiAgICB9O1xufSwgbGlua1BhdGhHcm93T3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBsaW5rVmFsdWVzID0ge1xuICAgICAgICB4MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDBcIiwgITApLFxuICAgICAgICB4MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDFcIiwgITApLFxuICAgICAgICB5MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTBcIiwgITApLFxuICAgICAgICB5MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTFcIiwgITApLFxuICAgICAgICB0aGlja25lc3M6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInRoaWNrbmVzc1wiLCAhMCksXG4gICAgICAgIHJvdW5kOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJyb3VuZFwiLCAhMCksXG4gICAgICAgIGFsaWduOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJhbGlnblwiLCAhMCksXG4gICAgICAgIHBhdGhUeXBlOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwYXRoVHlwZVwiLCAhMCksXG4gICAgICAgIGVuZEFycm93OiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJlbmRBcnJvd1wiLCAhMCksXG4gICAgICAgIHN0YXJ0QXJyb3c6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInN0YXJ0QXJyb3dcIiwgITApXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobGlua1ZhbHVlcykuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgaXNOaWwobGlua1ZhbHVlc1trZXldKSAmJiBkZWxldGUgbGlua1ZhbHVlc1trZXldO1xuICAgIH0pKSwge1xuICAgICAgICBmcm9tOiBsaW5rVmFsdWVzLFxuICAgICAgICB0bzogT2JqZWN0LmFzc2lnbih7fSwgbGlua1ZhbHVlcywge1xuICAgICAgICAgICAgeDE6IGxpbmtWYWx1ZXMueDAsXG4gICAgICAgICAgICB5MTogbGlua1ZhbHVlcy55MFxuICAgICAgICB9KVxuICAgIH07XG59LCBsaW5rUGF0aFVwZGF0ZSA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgYmFzc0xpbmtWYWx1ZXMgPSB7XG4gICAgICAgIHRoaWNrbmVzczogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwidGhpY2tuZXNzXCIsICExKSxcbiAgICAgICAgcm91bmQ6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInJvdW5kXCIsICExKSxcbiAgICAgICAgYWxpZ246IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImFsaWduXCIsICExKSxcbiAgICAgICAgcGF0aFR5cGU6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBhdGhUeXBlXCIsICExKSxcbiAgICAgICAgZW5kQXJyb3c6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImVuZEFycm93XCIsICExKSxcbiAgICAgICAgc3RhcnRBcnJvdzogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic3RhcnRBcnJvd1wiLCAhMSlcbiAgICB9O1xuICAgIE9iamVjdC5rZXlzKGJhc3NMaW5rVmFsdWVzKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBpc05pbChiYXNzTGlua1ZhbHVlc1trZXldKSAmJiBkZWxldGUgYmFzc0xpbmtWYWx1ZXNba2V5XTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnJvbTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHgwOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MFwiLCAhMCksXG4gICAgICAgICAgICB4MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDFcIiwgITApLFxuICAgICAgICAgICAgeTA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkwXCIsICEwKSxcbiAgICAgICAgICAgIHkxOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5MVwiLCAhMClcbiAgICAgICAgfSwgYmFzc0xpbmtWYWx1ZXMpLCBiYXNzTGlua1ZhbHVlcyksXG4gICAgICAgIHRvOiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHgwOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MFwiLCAhMSksXG4gICAgICAgICAgICB4MTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDFcIiwgITEpLFxuICAgICAgICAgICAgeTA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkwXCIsICExKSxcbiAgICAgICAgICAgIHkxOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5MVwiLCAhMSlcbiAgICAgICAgfSwgYmFzc0xpbmtWYWx1ZXMpXG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckxpbmtQYXRoR2x5cGggPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdseXBoKFwibGlua1BhdGhcIiwge1xuICAgICAgICBiYWNrOiBcInBhdGhcIixcbiAgICAgICAgZnJvbnQ6IFwicGF0aFwiXG4gICAgfSkucmVnaXN0ZXJGdW5jdGlvbkVuY29kZXIoZW5jb2RlcikucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcImJhY2tncm91bmRTdHlsZVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlKSA9PiAoe1xuICAgICAgICBiYWNrOiBlbmNvZGVWYWx1ZVxuICAgIH0pKSkucmVnaXN0ZXJEZWZhdWx0RW5jb2RlcigoKCkgPT4gKHtcbiAgICAgICAgYmFjazoge1xuICAgICAgICAgICAgekluZGV4OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGZyb250OiB7XG4gICAgICAgICAgICB6SW5kZXg6IDFcbiAgICAgICAgfVxuICAgIH0pKSksIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwibGlua1BhdGhHcm93SW5cIiwgbGlua1BhdGhHcm93SW4pLCBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImxpbmtQYXRoR3Jvd091dFwiLCBsaW5rUGF0aEdyb3dPdXQpLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImxpbmtQYXRoVXBkYXRlXCIsIGxpbmtQYXRoVXBkYXRlKSwgcmVnaXN0ZXJHbHlwaE1hcmsoKSwgXG4gICAgcmVnaXN0ZXJHbHlwaEdyYXBoaWMoKSwgcmVnaXN0ZXJQYXRoR3JhcGhpYygpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/link-path.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/ripple.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/ripple.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerRippleGlyph: () => (/* binding */ registerRippleGlyph)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\nconst registerRippleGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerGlyph(\"ripplePoint\", {\n        symbol: \"symbol\",\n        ripple0: \"symbol\",\n        ripple1: \"symbol\",\n        ripple2: \"symbol\"\n    }).registerFunctionEncoder(((encodeValues, datum, element, config) => {\n        var _a;\n        const ripple = Math.max(0, Math.min(encodeValues.ripple, 1)), size = null !== (_a = encodeValues.size) && void 0 !== _a ? _a : element.getGraphicAttribute(\"size\"), rippleSize = .5 * size;\n        return {\n            ripple0: {\n                size: size + rippleSize * ripple,\n                fillOpacity: .75 - .25 * ripple\n            },\n            ripple1: {\n                size: size + rippleSize * (1 + ripple),\n                fillOpacity: .5 - .25 * ripple\n            },\n            ripple2: {\n                size: size + rippleSize * (2 + ripple),\n                fillOpacity: .25 - .25 * ripple\n            }\n        };\n    })).registerDefaultEncoder((() => ({\n        ripple0: {\n            fillOpacity: .75\n        },\n        ripple1: {\n            fillOpacity: .5\n        },\n        ripple2: {\n            fillOpacity: .25\n        }\n    }))), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_1__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__.registerSymbolGraphic)();\n};\n//# sourceMappingURL=ripple.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvcmlwcGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEM7O0FBRTBDOztBQUVsQzs7QUFFM0M7QUFDUCxJQUFJLGtEQUFPO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUssOERBQWlCLElBQUkseUVBQW9CLElBQUksMEVBQXFCO0FBQzVFO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dseXBoL3JpcHBsZS5qcz9mNDU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IHJlZ2lzdGVyR2x5cGhHcmFwaGljLCByZWdpc3RlclN5bWJvbEdyYXBoaWMgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9ncmFwaGljXCI7XG5cbmltcG9ydCB7IHJlZ2lzdGVyR2x5cGhNYXJrIH0gZnJvbSBcIi4uL3ZpZXcvZ2x5cGhcIjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUmlwcGxlR2x5cGggPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdseXBoKFwicmlwcGxlUG9pbnRcIiwge1xuICAgICAgICBzeW1ib2w6IFwic3ltYm9sXCIsXG4gICAgICAgIHJpcHBsZTA6IFwic3ltYm9sXCIsXG4gICAgICAgIHJpcHBsZTE6IFwic3ltYm9sXCIsXG4gICAgICAgIHJpcHBsZTI6IFwic3ltYm9sXCJcbiAgICB9KS5yZWdpc3RlckZ1bmN0aW9uRW5jb2RlcigoKGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHJpcHBsZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKGVuY29kZVZhbHVlcy5yaXBwbGUsIDEpKSwgc2l6ZSA9IG51bGwgIT09IChfYSA9IGVuY29kZVZhbHVlcy5zaXplKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzaXplXCIpLCByaXBwbGVTaXplID0gLjUgKiBzaXplO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmlwcGxlMDoge1xuICAgICAgICAgICAgICAgIHNpemU6IHNpemUgKyByaXBwbGVTaXplICogcmlwcGxlLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAuNzUgLSAuMjUgKiByaXBwbGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByaXBwbGUxOiB7XG4gICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSArIHJpcHBsZVNpemUgKiAoMSArIHJpcHBsZSksXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC41IC0gLjI1ICogcmlwcGxlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmlwcGxlMjoge1xuICAgICAgICAgICAgICAgIHNpemU6IHNpemUgKyByaXBwbGVTaXplICogKDIgKyByaXBwbGUpLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAuMjUgLSAuMjUgKiByaXBwbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KSkucmVnaXN0ZXJEZWZhdWx0RW5jb2RlcigoKCkgPT4gKHtcbiAgICAgICAgcmlwcGxlMDoge1xuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC43NVxuICAgICAgICB9LFxuICAgICAgICByaXBwbGUxOiB7XG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogLjVcbiAgICAgICAgfSxcbiAgICAgICAgcmlwcGxlMjoge1xuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC4yNVxuICAgICAgICB9XG4gICAgfSkpKSwgcmVnaXN0ZXJHbHlwaE1hcmsoKSwgcmVnaXN0ZXJHbHlwaEdyYXBoaWMoKSwgcmVnaXN0ZXJTeW1ib2xHcmFwaGljKCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmlwcGxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/ripple.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/tree-path.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/tree-path.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getHorizontalPath: () => (/* binding */ getHorizontalPath),\n/* harmony export */   getVerticalPath: () => (/* binding */ getVerticalPath),\n/* harmony export */   registerTreePathGlyph: () => (/* binding */ registerTreePathGlyph)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\n\n\nconst getHorizontalPath = options => {\n    var _a, _b;\n    const curvature = null !== (_a = options.curvature) && void 0 !== _a ? _a : .5;\n    let x0 = options.x0, x1 = options.x1, y0 = options.y0, y1 = options.y1, cpx0 = x0 + curvature * (x1 - x0), cpx1 = x1 + curvature * (x0 - x1), formatter = v => v;\n    !1 !== options.round && (x0 = Math.round(x0), x1 = Math.round(x1), y0 = Math.round(y0), \n    y1 = Math.round(y1), cpx0 = Math.round(cpx0), cpx1 = Math.round(cpx1), formatter = Math.round);\n    const mainPath = \"line\" === options.pathType ? `M${x0},${y0}L${x1},${y1}` : \"polyline\" === options.pathType ? `M${x0},${y0}L${cpx0},${y0}L${cpx0},${y1}L${x1},${y1}` : `M${x0},${y0}C${cpx0},${y0},${cpx1},${y1},${x1},${y1}`;\n    if (options.startArrow || options.endArrow) {\n        const delta = x1 - x0;\n        if (Math.abs(delta) > 1e-6) {\n            const arrowSize = null !== (_b = options.arrowSize) && void 0 !== _b ? _b : 3, sign = delta > 0 ? 1 : -1, endArrowPath = options.endArrow ? `M${formatter(x1 - sign * arrowSize)},${formatter(y1 - arrowSize)}L${x1},${y1}L${formatter(x1 - sign * arrowSize)},${formatter(y1 + arrowSize)}` : \"\";\n            return [ options.startArrow ? `M${formatter(x0 + sign * arrowSize)},${formatter(y0 - arrowSize)}L${x0},${y0}L${formatter(x0 + sign * arrowSize)},${formatter(y0 + arrowSize)}` : \"\", mainPath, endArrowPath ];\n        }\n    }\n    return [ \"\", mainPath, \"\" ];\n};\n\nconst getVerticalPath = options => {\n    var _a, _b;\n    const curvature = null !== (_a = options.curvature) && void 0 !== _a ? _a : .5;\n    let y0 = options.y0, y1 = options.y1, x0 = options.x0, x1 = options.x1, cpy0 = y0 + curvature * (y1 - y0), cpy1 = y1 + curvature * (y0 - y1), formatter = v => v;\n    !1 !== options.round && (formatter = Math.round, y0 = Math.round(y0), y1 = Math.round(y1), \n    x0 = Math.round(x0), x1 = Math.round(x1), cpy0 = Math.round(cpy0), cpy1 = Math.round(cpy1));\n    const mainPath = \"line\" === options.pathType ? `M${x0},${y0}L${x1},${y1}` : \"polyline\" === options.pathType ? `M${x0},${y0}L${x0},${cpy0}L${x1},${cpy0}L${x1},${y1}` : `M${x0},${y0}C${x0},${cpy0},${x1},${cpy1},${x1},${y1}`;\n    if (options.startArrow || options.endArrow) {\n        const delta = y1 - y0;\n        if (Math.abs(delta) > 1e-6) {\n            const arrowSize = null !== (_b = options.arrowSize) && void 0 !== _b ? _b : 3, sign = delta > 0 ? 1 : -1, endArrowPath = options.endArrow ? `M${formatter(x1 - arrowSize)},${formatter(y1 - sign * arrowSize)}L${x1},${formatter(y1)}L${formatter(x1 + arrowSize)},${formatter(y1 - sign * arrowSize)}` : \"\";\n            return [ options.startArrow ? `M${formatter(x0 + arrowSize)},${formatter(y0 + sign * arrowSize)}L${x0},${formatter(y0)}L${formatter(x0 + arrowSize)},${formatter(y0 + sign * arrowSize)}` : \"\", mainPath, endArrowPath ];\n        }\n    }\n    return [ \"\", mainPath, \"\" ];\n};\n\nconst encoder = (encodeValues, datum, element, config) => {\n    var _a;\n    const direction = null !== (_a = encodeValues.direction) && void 0 !== _a ? _a : null == config ? void 0 : config.direction, parsePath = [ \"vertical\", \"TB\", \"BT\" ].includes(direction) ? getVerticalPath : getHorizontalPath, encodeChannels = Object.keys(encodeValues);\n    if ([ \"x0\", \"y0\", \"x1\", \"y1\" ].every((channel => encodeChannels.includes(channel)))) {\n        const [startArrowPath, mainPath, endArrowPath] = parsePath(encodeValues);\n        return {\n            main: {\n                path: mainPath\n            },\n            startArrow: {\n                path: startArrowPath\n            },\n            endArrow: {\n                path: endArrowPath\n            }\n        };\n    }\n    return {};\n}, treePathGrowIn = (element, options, animationParameters) => {\n    const linkValues = {\n        x0: element.getGraphicAttribute(\"x0\", !1),\n        x1: element.getGraphicAttribute(\"x1\", !1),\n        y0: element.getGraphicAttribute(\"y0\", !1),\n        y1: element.getGraphicAttribute(\"y1\", !1),\n        round: element.getGraphicAttribute(\"round\", !1),\n        align: element.getGraphicAttribute(\"align\", !1),\n        pathType: element.getGraphicAttribute(\"pathType\", !1),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !1),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !1)\n    };\n    return Object.keys(linkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(linkValues[key]) && delete linkValues[key];\n    })), {\n        from: Object.assign({}, linkValues, {\n            x1: linkValues.x0,\n            y1: linkValues.y0\n        }),\n        to: linkValues\n    };\n}, treePathGrowOut = (element, options, animationParameters) => {\n    const linkValues = {\n        x0: element.getGraphicAttribute(\"x0\", !0),\n        x1: element.getGraphicAttribute(\"x1\", !0),\n        y0: element.getGraphicAttribute(\"y0\", !0),\n        y1: element.getGraphicAttribute(\"y1\", !0),\n        round: element.getGraphicAttribute(\"round\", !0),\n        align: element.getGraphicAttribute(\"align\", !0),\n        pathType: element.getGraphicAttribute(\"pathType\", !0),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !0),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !0)\n    };\n    return Object.keys(linkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(linkValues[key]) && delete linkValues[key];\n    })), {\n        from: linkValues,\n        to: Object.assign({}, linkValues, {\n            x1: linkValues.x0,\n            y1: linkValues.y0\n        })\n    };\n}, treePathUpdate = (element, options, animationParameters) => {\n    const bassLinkValues = {\n        thickness: element.getGraphicAttribute(\"thickness\", !1),\n        round: element.getGraphicAttribute(\"round\", !1),\n        align: element.getGraphicAttribute(\"align\", !1),\n        pathType: element.getGraphicAttribute(\"pathType\", !1),\n        endArrow: element.getGraphicAttribute(\"endArrow\", !1),\n        startArrow: element.getGraphicAttribute(\"startArrow\", !1)\n    };\n    Object.keys(bassLinkValues).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(bassLinkValues[key]) && delete bassLinkValues[key];\n    }));\n    return {\n        from: Object.assign(Object.assign({\n            x0: element.getGraphicAttribute(\"x0\", !0),\n            x1: element.getGraphicAttribute(\"x1\", !0),\n            y0: element.getGraphicAttribute(\"y0\", !0),\n            y1: element.getGraphicAttribute(\"y1\", !0)\n        }, bassLinkValues), bassLinkValues),\n        to: Object.assign({\n            x0: element.getGraphicAttribute(\"x0\", !1),\n            x1: element.getGraphicAttribute(\"x1\", !1),\n            y0: element.getGraphicAttribute(\"y0\", !1),\n            y1: element.getGraphicAttribute(\"y1\", !1)\n        }, bassLinkValues)\n    };\n};\n\nconst registerTreePathGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerGlyph(\"treePath\", {\n        main: \"path\",\n        startArrow: \"path\",\n        endArrow: \"path\"\n    }).registerFunctionEncoder(encoder).registerChannelEncoder(\"startArrowStyle\", ((channel, encodeValue) => ({\n        startArrow: encodeValue\n    }))).registerChannelEncoder(\"endArrowStyle\", ((channel, encodeValue) => ({\n        endArrow: encodeValue\n    }))).registerDefaultEncoder((() => ({\n        startArrow: {\n            zIndex: 1\n        },\n        endArrow: {\n            zIndex: 2\n        }\n    }))), _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"treePathGrowIn\", treePathGrowIn), _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"treePathGrowOut\", treePathGrowOut), \n    _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.registerAnimationType(\"treePathUpdate\", treePathUpdate), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_2__.registerGlyphMark)(), \n    (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_3__.registerPathGraphic)();\n};\n//# sourceMappingURL=tree-path.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvdHJlZS1wYXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEM7O0FBRUQ7O0FBRXlDOztBQUVoQzs7QUFFM0M7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsMENBQTBDLEdBQUcsR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLFFBQVEsR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7QUFDaE87QUFDQTtBQUNBO0FBQ0EsNEpBQTRKLGlDQUFpQyxHQUFHLDBCQUEwQixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsaUNBQWlDLEdBQUcsMEJBQTBCO0FBQ3ZTLDhDQUE4QyxpQ0FBaUMsR0FBRywwQkFBMEIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLGlDQUFpQyxHQUFHLDBCQUEwQjtBQUN6TDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRywwQ0FBMEMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsUUFBUSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRztBQUNoTztBQUNBO0FBQ0E7QUFDQSw0SkFBNEosMEJBQTBCLEdBQUcsaUNBQWlDLEdBQUcsR0FBRyxHQUFHLGNBQWMsR0FBRywwQkFBMEIsR0FBRyxpQ0FBaUM7QUFDbFQsOENBQThDLDBCQUEwQixHQUFHLGlDQUFpQyxHQUFHLEdBQUcsR0FBRyxjQUFjLEdBQUcsMEJBQTBCLEdBQUcsaUNBQWlDO0FBQ3BNO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBSztBQUNiLEtBQUs7QUFDTCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQUs7QUFDYixLQUFLO0FBQ0w7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFLO0FBQ2IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLGtEQUFPLDBEQUEwRCxrREFBTztBQUNsRixJQUFJLGtEQUFPLDBEQUEwRCw4REFBaUI7QUFDdEYsSUFBSSx5RUFBb0IsSUFBSSx3RUFBbUI7QUFDL0M7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvdHJlZS1wYXRoLmpzPzljMWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyByZWdpc3RlckdseXBoR3JhcGhpYywgcmVnaXN0ZXJQYXRoR3JhcGhpYyB9IGZyb20gXCIuLi9ncmFwaC9tYXJrL2dyYXBoaWNcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJHbHlwaE1hcmsgfSBmcm9tIFwiLi4vdmlldy9nbHlwaFwiO1xuXG5leHBvcnQgY29uc3QgZ2V0SG9yaXpvbnRhbFBhdGggPSBvcHRpb25zID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGN1cnZhdHVyZSA9IG51bGwgIT09IChfYSA9IG9wdGlvbnMuY3VydmF0dXJlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAuNTtcbiAgICBsZXQgeDAgPSBvcHRpb25zLngwLCB4MSA9IG9wdGlvbnMueDEsIHkwID0gb3B0aW9ucy55MCwgeTEgPSBvcHRpb25zLnkxLCBjcHgwID0geDAgKyBjdXJ2YXR1cmUgKiAoeDEgLSB4MCksIGNweDEgPSB4MSArIGN1cnZhdHVyZSAqICh4MCAtIHgxKSwgZm9ybWF0dGVyID0gdiA9PiB2O1xuICAgICExICE9PSBvcHRpb25zLnJvdW5kICYmICh4MCA9IE1hdGgucm91bmQoeDApLCB4MSA9IE1hdGgucm91bmQoeDEpLCB5MCA9IE1hdGgucm91bmQoeTApLCBcbiAgICB5MSA9IE1hdGgucm91bmQoeTEpLCBjcHgwID0gTWF0aC5yb3VuZChjcHgwKSwgY3B4MSA9IE1hdGgucm91bmQoY3B4MSksIGZvcm1hdHRlciA9IE1hdGgucm91bmQpO1xuICAgIGNvbnN0IG1haW5QYXRoID0gXCJsaW5lXCIgPT09IG9wdGlvbnMucGF0aFR5cGUgPyBgTSR7eDB9LCR7eTB9TCR7eDF9LCR7eTF9YCA6IFwicG9seWxpbmVcIiA9PT0gb3B0aW9ucy5wYXRoVHlwZSA/IGBNJHt4MH0sJHt5MH1MJHtjcHgwfSwke3kwfUwke2NweDB9LCR7eTF9TCR7eDF9LCR7eTF9YCA6IGBNJHt4MH0sJHt5MH1DJHtjcHgwfSwke3kwfSwke2NweDF9LCR7eTF9LCR7eDF9LCR7eTF9YDtcbiAgICBpZiAob3B0aW9ucy5zdGFydEFycm93IHx8IG9wdGlvbnMuZW5kQXJyb3cpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB4MSAtIHgwO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gMWUtNikge1xuICAgICAgICAgICAgY29uc3QgYXJyb3dTaXplID0gbnVsbCAhPT0gKF9iID0gb3B0aW9ucy5hcnJvd1NpemUpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDMsIHNpZ24gPSBkZWx0YSA+IDAgPyAxIDogLTEsIGVuZEFycm93UGF0aCA9IG9wdGlvbnMuZW5kQXJyb3cgPyBgTSR7Zm9ybWF0dGVyKHgxIC0gc2lnbiAqIGFycm93U2l6ZSl9LCR7Zm9ybWF0dGVyKHkxIC0gYXJyb3dTaXplKX1MJHt4MX0sJHt5MX1MJHtmb3JtYXR0ZXIoeDEgLSBzaWduICogYXJyb3dTaXplKX0sJHtmb3JtYXR0ZXIoeTEgKyBhcnJvd1NpemUpfWAgOiBcIlwiO1xuICAgICAgICAgICAgcmV0dXJuIFsgb3B0aW9ucy5zdGFydEFycm93ID8gYE0ke2Zvcm1hdHRlcih4MCArIHNpZ24gKiBhcnJvd1NpemUpfSwke2Zvcm1hdHRlcih5MCAtIGFycm93U2l6ZSl9TCR7eDB9LCR7eTB9TCR7Zm9ybWF0dGVyKHgwICsgc2lnbiAqIGFycm93U2l6ZSl9LCR7Zm9ybWF0dGVyKHkwICsgYXJyb3dTaXplKX1gIDogXCJcIiwgbWFpblBhdGgsIGVuZEFycm93UGF0aCBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbIFwiXCIsIG1haW5QYXRoLCBcIlwiIF07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VmVydGljYWxQYXRoID0gb3B0aW9ucyA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBjdXJ2YXR1cmUgPSBudWxsICE9PSAoX2EgPSBvcHRpb25zLmN1cnZhdHVyZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogLjU7XG4gICAgbGV0IHkwID0gb3B0aW9ucy55MCwgeTEgPSBvcHRpb25zLnkxLCB4MCA9IG9wdGlvbnMueDAsIHgxID0gb3B0aW9ucy54MSwgY3B5MCA9IHkwICsgY3VydmF0dXJlICogKHkxIC0geTApLCBjcHkxID0geTEgKyBjdXJ2YXR1cmUgKiAoeTAgLSB5MSksIGZvcm1hdHRlciA9IHYgPT4gdjtcbiAgICAhMSAhPT0gb3B0aW9ucy5yb3VuZCAmJiAoZm9ybWF0dGVyID0gTWF0aC5yb3VuZCwgeTAgPSBNYXRoLnJvdW5kKHkwKSwgeTEgPSBNYXRoLnJvdW5kKHkxKSwgXG4gICAgeDAgPSBNYXRoLnJvdW5kKHgwKSwgeDEgPSBNYXRoLnJvdW5kKHgxKSwgY3B5MCA9IE1hdGgucm91bmQoY3B5MCksIGNweTEgPSBNYXRoLnJvdW5kKGNweTEpKTtcbiAgICBjb25zdCBtYWluUGF0aCA9IFwibGluZVwiID09PSBvcHRpb25zLnBhdGhUeXBlID8gYE0ke3gwfSwke3kwfUwke3gxfSwke3kxfWAgOiBcInBvbHlsaW5lXCIgPT09IG9wdGlvbnMucGF0aFR5cGUgPyBgTSR7eDB9LCR7eTB9TCR7eDB9LCR7Y3B5MH1MJHt4MX0sJHtjcHkwfUwke3gxfSwke3kxfWAgOiBgTSR7eDB9LCR7eTB9QyR7eDB9LCR7Y3B5MH0sJHt4MX0sJHtjcHkxfSwke3gxfSwke3kxfWA7XG4gICAgaWYgKG9wdGlvbnMuc3RhcnRBcnJvdyB8fCBvcHRpb25zLmVuZEFycm93KSB7XG4gICAgICAgIGNvbnN0IGRlbHRhID0geTEgLSB5MDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IDFlLTYpIHtcbiAgICAgICAgICAgIGNvbnN0IGFycm93U2l6ZSA9IG51bGwgIT09IChfYiA9IG9wdGlvbnMuYXJyb3dTaXplKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAzLCBzaWduID0gZGVsdGEgPiAwID8gMSA6IC0xLCBlbmRBcnJvd1BhdGggPSBvcHRpb25zLmVuZEFycm93ID8gYE0ke2Zvcm1hdHRlcih4MSAtIGFycm93U2l6ZSl9LCR7Zm9ybWF0dGVyKHkxIC0gc2lnbiAqIGFycm93U2l6ZSl9TCR7eDF9LCR7Zm9ybWF0dGVyKHkxKX1MJHtmb3JtYXR0ZXIoeDEgKyBhcnJvd1NpemUpfSwke2Zvcm1hdHRlcih5MSAtIHNpZ24gKiBhcnJvd1NpemUpfWAgOiBcIlwiO1xuICAgICAgICAgICAgcmV0dXJuIFsgb3B0aW9ucy5zdGFydEFycm93ID8gYE0ke2Zvcm1hdHRlcih4MCArIGFycm93U2l6ZSl9LCR7Zm9ybWF0dGVyKHkwICsgc2lnbiAqIGFycm93U2l6ZSl9TCR7eDB9LCR7Zm9ybWF0dGVyKHkwKX1MJHtmb3JtYXR0ZXIoeDAgKyBhcnJvd1NpemUpfSwke2Zvcm1hdHRlcih5MCArIHNpZ24gKiBhcnJvd1NpemUpfWAgOiBcIlwiLCBtYWluUGF0aCwgZW5kQXJyb3dQYXRoIF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFsgXCJcIiwgbWFpblBhdGgsIFwiXCIgXTtcbn07XG5cbmNvbnN0IGVuY29kZXIgPSAoZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IG51bGwgIT09IChfYSA9IGVuY29kZVZhbHVlcy5kaXJlY3Rpb24pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGwgPT0gY29uZmlnID8gdm9pZCAwIDogY29uZmlnLmRpcmVjdGlvbiwgcGFyc2VQYXRoID0gWyBcInZlcnRpY2FsXCIsIFwiVEJcIiwgXCJCVFwiIF0uaW5jbHVkZXMoZGlyZWN0aW9uKSA/IGdldFZlcnRpY2FsUGF0aCA6IGdldEhvcml6b250YWxQYXRoLCBlbmNvZGVDaGFubmVscyA9IE9iamVjdC5rZXlzKGVuY29kZVZhbHVlcyk7XG4gICAgaWYgKFsgXCJ4MFwiLCBcInkwXCIsIFwieDFcIiwgXCJ5MVwiIF0uZXZlcnkoKGNoYW5uZWwgPT4gZW5jb2RlQ2hhbm5lbHMuaW5jbHVkZXMoY2hhbm5lbCkpKSkge1xuICAgICAgICBjb25zdCBbc3RhcnRBcnJvd1BhdGgsIG1haW5QYXRoLCBlbmRBcnJvd1BhdGhdID0gcGFyc2VQYXRoKGVuY29kZVZhbHVlcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYWluOiB7XG4gICAgICAgICAgICAgICAgcGF0aDogbWFpblBhdGhcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGFydEFycm93OiB7XG4gICAgICAgICAgICAgICAgcGF0aDogc3RhcnRBcnJvd1BhdGhcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmRBcnJvdzoge1xuICAgICAgICAgICAgICAgIHBhdGg6IGVuZEFycm93UGF0aFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge307XG59LCB0cmVlUGF0aEdyb3dJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgbGlua1ZhbHVlcyA9IHtcbiAgICAgICAgeDA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngwXCIsICExKSxcbiAgICAgICAgeDE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngxXCIsICExKSxcbiAgICAgICAgeTA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkwXCIsICExKSxcbiAgICAgICAgeTE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkxXCIsICExKSxcbiAgICAgICAgcm91bmQ6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInJvdW5kXCIsICExKSxcbiAgICAgICAgYWxpZ246IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImFsaWduXCIsICExKSxcbiAgICAgICAgcGF0aFR5cGU6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBhdGhUeXBlXCIsICExKSxcbiAgICAgICAgZW5kQXJyb3c6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImVuZEFycm93XCIsICExKSxcbiAgICAgICAgc3RhcnRBcnJvdzogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic3RhcnRBcnJvd1wiLCAhMSlcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhsaW5rVmFsdWVzKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBpc05pbChsaW5rVmFsdWVzW2tleV0pICYmIGRlbGV0ZSBsaW5rVmFsdWVzW2tleV07XG4gICAgfSkpLCB7XG4gICAgICAgIGZyb206IE9iamVjdC5hc3NpZ24oe30sIGxpbmtWYWx1ZXMsIHtcbiAgICAgICAgICAgIHgxOiBsaW5rVmFsdWVzLngwLFxuICAgICAgICAgICAgeTE6IGxpbmtWYWx1ZXMueTBcbiAgICAgICAgfSksXG4gICAgICAgIHRvOiBsaW5rVmFsdWVzXG4gICAgfTtcbn0sIHRyZWVQYXRoR3Jvd091dCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgbGlua1ZhbHVlcyA9IHtcbiAgICAgICAgeDA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngwXCIsICEwKSxcbiAgICAgICAgeDE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngxXCIsICEwKSxcbiAgICAgICAgeTA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkwXCIsICEwKSxcbiAgICAgICAgeTE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkxXCIsICEwKSxcbiAgICAgICAgcm91bmQ6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInJvdW5kXCIsICEwKSxcbiAgICAgICAgYWxpZ246IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImFsaWduXCIsICEwKSxcbiAgICAgICAgcGF0aFR5cGU6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBhdGhUeXBlXCIsICEwKSxcbiAgICAgICAgZW5kQXJyb3c6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImVuZEFycm93XCIsICEwKSxcbiAgICAgICAgc3RhcnRBcnJvdzogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic3RhcnRBcnJvd1wiLCAhMClcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhsaW5rVmFsdWVzKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBpc05pbChsaW5rVmFsdWVzW2tleV0pICYmIGRlbGV0ZSBsaW5rVmFsdWVzW2tleV07XG4gICAgfSkpLCB7XG4gICAgICAgIGZyb206IGxpbmtWYWx1ZXMsXG4gICAgICAgIHRvOiBPYmplY3QuYXNzaWduKHt9LCBsaW5rVmFsdWVzLCB7XG4gICAgICAgICAgICB4MTogbGlua1ZhbHVlcy54MCxcbiAgICAgICAgICAgIHkxOiBsaW5rVmFsdWVzLnkwXG4gICAgICAgIH0pXG4gICAgfTtcbn0sIHRyZWVQYXRoVXBkYXRlID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBiYXNzTGlua1ZhbHVlcyA9IHtcbiAgICAgICAgdGhpY2tuZXNzOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ0aGlja25lc3NcIiwgITEpLFxuICAgICAgICByb3VuZDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicm91bmRcIiwgITEpLFxuICAgICAgICBhbGlnbjogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiYWxpZ25cIiwgITEpLFxuICAgICAgICBwYXRoVHlwZTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicGF0aFR5cGVcIiwgITEpLFxuICAgICAgICBlbmRBcnJvdzogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZW5kQXJyb3dcIiwgITEpLFxuICAgICAgICBzdGFydEFycm93OiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdGFydEFycm93XCIsICExKVxuICAgIH07XG4gICAgT2JqZWN0LmtleXMoYmFzc0xpbmtWYWx1ZXMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGlzTmlsKGJhc3NMaW5rVmFsdWVzW2tleV0pICYmIGRlbGV0ZSBiYXNzTGlua1ZhbHVlc1trZXldO1xuICAgIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgeDA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngwXCIsICEwKSxcbiAgICAgICAgICAgIHgxOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MVwiLCAhMCksXG4gICAgICAgICAgICB5MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTBcIiwgITApLFxuICAgICAgICAgICAgeTE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkxXCIsICEwKVxuICAgICAgICB9LCBiYXNzTGlua1ZhbHVlcyksIGJhc3NMaW5rVmFsdWVzKSxcbiAgICAgICAgdG86IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgeDA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIngwXCIsICExKSxcbiAgICAgICAgICAgIHgxOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4MVwiLCAhMSksXG4gICAgICAgICAgICB5MDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieTBcIiwgITEpLFxuICAgICAgICAgICAgeTE6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkxXCIsICExKVxuICAgICAgICB9LCBiYXNzTGlua1ZhbHVlcylcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVHJlZVBhdGhHbHlwaCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR2x5cGgoXCJ0cmVlUGF0aFwiLCB7XG4gICAgICAgIG1haW46IFwicGF0aFwiLFxuICAgICAgICBzdGFydEFycm93OiBcInBhdGhcIixcbiAgICAgICAgZW5kQXJyb3c6IFwicGF0aFwiXG4gICAgfSkucmVnaXN0ZXJGdW5jdGlvbkVuY29kZXIoZW5jb2RlcikucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcInN0YXJ0QXJyb3dTdHlsZVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlKSA9PiAoe1xuICAgICAgICBzdGFydEFycm93OiBlbmNvZGVWYWx1ZVxuICAgIH0pKSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcImVuZEFycm93U3R5bGVcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSkgPT4gKHtcbiAgICAgICAgZW5kQXJyb3c6IGVuY29kZVZhbHVlXG4gICAgfSkpKS5yZWdpc3RlckRlZmF1bHRFbmNvZGVyKCgoKSA9PiAoe1xuICAgICAgICBzdGFydEFycm93OiB7XG4gICAgICAgICAgICB6SW5kZXg6IDFcbiAgICAgICAgfSxcbiAgICAgICAgZW5kQXJyb3c6IHtcbiAgICAgICAgICAgIHpJbmRleDogMlxuICAgICAgICB9XG4gICAgfSkpKSwgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJ0cmVlUGF0aEdyb3dJblwiLCB0cmVlUGF0aEdyb3dJbiksIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwidHJlZVBhdGhHcm93T3V0XCIsIHRyZWVQYXRoR3Jvd091dCksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwidHJlZVBhdGhVcGRhdGVcIiwgdHJlZVBhdGhVcGRhdGUpLCByZWdpc3RlckdseXBoTWFyaygpLCBcbiAgICByZWdpc3RlckdseXBoR3JhcGhpYygpLCByZWdpc3RlclBhdGhHcmFwaGljKCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJlZS1wYXRoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/tree-path.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/violin.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/violin.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerViolinGlyph: () => (/* binding */ registerViolinGlyph)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/direction.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\n\n\n\n\nconst defaultDensitySize = 30, computeViolinPoints = (density, densitySize, scale, config) => {\n    if (!density || 0 === density.length) return [];\n    const maxDensity = density.reduce(((max, d) => Math.max(max, d[1])), 0);\n    if (config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction)) {\n        return [ ...density.map((d => ({\n            y: 1 / maxDensity * -densitySize * d[1],\n            x: scale.scale(d[0])\n        }))), ...density.map((d => ({\n            y: densitySize * (1 / maxDensity) * d[1],\n            x: scale.scale(d[0])\n        }))).reverse() ];\n    }\n    return [ ...density.map((d => ({\n        x: 1 / maxDensity * -densitySize * d[1],\n        y: scale.scale(d[0])\n    }))), ...density.map((d => ({\n        x: densitySize * (1 / maxDensity) * d[1],\n        y: scale.scale(d[0])\n    }))).reverse() ];\n}, encodeViolin = (encodeValues, datum, element, config) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const attributes = {\n        violin: {},\n        shaft: {},\n        box: {},\n        median: {}\n    }, x = null !== (_a = encodeValues.x) && void 0 !== _a ? _a : element.getGraphicAttribute(\"x\", !1), y = null !== (_b = encodeValues.y) && void 0 !== _b ? _b : element.getGraphicAttribute(\"y\", !1), width = null !== (_c = encodeValues.width) && void 0 !== _c ? _c : element.getGraphicAttribute(\"width\", !1), height = null !== (_d = encodeValues.height) && void 0 !== _d ? _d : element.getGraphicAttribute(\"height\", !1), boxWidth = null !== (_e = encodeValues.boxWidth) && void 0 !== _e ? _e : element.getGraphicAttribute(\"boxWidth\", !1), boxHeight = null !== (_f = encodeValues.boxHeight) && void 0 !== _f ? _f : element.getGraphicAttribute(\"boxHeight\", !1), densitySize = null !== (_h = null !== (_g = encodeValues.densitySize) && void 0 !== _g ? _g : element.getGraphicAttribute(\"densitySize\", !1)) && void 0 !== _h ? _h : 30, densityScale = element.mark.getScalesByChannel().density, densityField = element.mark.getFieldsByChannel().density;\n    if (densityField && densityScale) {\n        const points = computeViolinPoints(datum[densityField], densitySize, densityScale, config);\n        Object.assign(attributes.violin, {\n            points: points\n        });\n    }\n    return config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(boxHeight) ? Object.assign(attributes.box, {\n        y: y - boxHeight / 2,\n        y1: y + boxHeight / 2\n    }) : Object.assign(attributes.box, {\n        y: y - height / 2,\n        y1: y + height / 2\n    }) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(boxWidth) ? Object.assign(attributes.box, {\n        x: x - boxWidth / 2,\n        x1: x + boxWidth / 2\n    }) : Object.assign(attributes.box, {\n        x: x - width / 2,\n        x1: x + width / 2\n    }), attributes;\n};\n\nconst registerViolinGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGlyph(\"violin\", {\n        violin: \"polygon\",\n        shaft: \"rule\",\n        box: \"rect\",\n        median: \"symbol\"\n    }).registerFunctionEncoder(encodeViolin).registerChannelEncoder(\"x\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? null : {\n        shaft: {\n            x: encodeValue,\n            x1: encodeValue\n        }\n    })).registerChannelEncoder(\"y\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        shaft: {\n            y: encodeValue,\n            y1: encodeValue\n        }\n    } : null)).registerChannelEncoder(\"q1\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        box: {\n            x: encodeValue\n        }\n    } : {\n        box: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"q3\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        box: {\n            x1: encodeValue\n        }\n    } : {\n        box: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"min\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        shaft: {\n            x: encodeValue\n        }\n    } : {\n        shaft: {\n            y: encodeValue\n        }\n    })).registerChannelEncoder(\"max\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        shaft: {\n            x1: encodeValue\n        }\n    } : {\n        shaft: {\n            y1: encodeValue\n        }\n    })).registerChannelEncoder(\"median\", ((channel, encodeValue, encodeValues, datum, element, config) => config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? {\n        median: {\n            x: encodeValue,\n            x1: encodeValue,\n            visible: !0\n        }\n    } : {\n        median: {\n            y: encodeValue,\n            y1: encodeValue,\n            visible: !0\n        }\n    })).registerChannelEncoder(\"angle\", ((channel, encodeValue, encodeValues, datum, element, config) => {\n        var _a;\n        const defaultAnchor = config && (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.isHorizontal)(config.direction) ? [ (encodeValues.min + encodeValues.max) / 2, encodeValues.y ] : [ encodeValues.x, (encodeValues.min + encodeValues.max) / 2 ], anchor = null !== (_a = encodeValues.anchor) && void 0 !== _a ? _a : defaultAnchor;\n        return {\n            shaft: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            box: {\n                angle: encodeValue,\n                anchor: anchor\n            },\n            median: {\n                angle: encodeValue,\n                anchor: anchor\n            }\n        };\n    })).registerChannelEncoder(\"medianFill\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        median: {\n            fill: encodeValue\n        }\n    }))).registerChannelEncoder(\"violinFill\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        violin: {\n            fill: encodeValue\n        }\n    }))).registerChannelEncoder(\"violinStroke\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        violin: {\n            stroke: encodeValue\n        }\n    }))).registerChannelEncoder(\"density\", ((channel, encodeValue, encodeValues, datum, element, config) => ({\n        violin: {\n            points: encodeValue\n        }\n    }))).registerDefaultEncoder((() => ({\n        violin: {\n            fill: \"#ff807f\",\n            stroke: \"#ff0000\"\n        },\n        shaft: {\n            stroke: \"#000000\"\n        },\n        box: {\n            fill: \"#000000\"\n        },\n        median: {\n            fill: \"#FFFFFF\",\n            visible: !1\n        }\n    }))), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_3__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerPolygonGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRuleGraphic)(), \n    (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerRectGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_4__.registerSymbolGraphic)();\n};\n//# sourceMappingURL=violin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvdmlvbGluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpRDs7QUFFUDs7QUFFNEc7O0FBRS9GOztBQUVMOztBQUVsRDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUVBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixpQkFBaUI7QUFDakIsZUFBZTtBQUNmO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EscUJBQXFCLHFFQUFZLHFCQUFxQiw0REFBYTtBQUNuRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLLElBQUksNERBQWE7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywrSUFBK0kscUVBQVk7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBHQUEwRyxxRUFBWTtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0saUhBQWlILHFFQUFZO0FBQ25JO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJHQUEyRyxxRUFBWTtBQUM1SDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsS0FBSyw0R0FBNEcscUVBQVk7QUFDN0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUssNEdBQTRHLHFFQUFZO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtHQUErRyxxRUFBWTtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3Q0FBd0MscUVBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUssOERBQWlCLElBQUkseUVBQW9CLElBQUksMkVBQXNCLElBQUksd0VBQW1CO0FBQ3BHLElBQUksd0VBQW1CLElBQUksMEVBQXFCO0FBQ2hEO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dseXBoL3Zpb2xpbi5qcz81MWI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVmFsaWROdW1iZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyByZWdpc3RlckdseXBoR3JhcGhpYywgcmVnaXN0ZXJQb2x5Z29uR3JhcGhpYywgcmVnaXN0ZXJSZWN0R3JhcGhpYywgcmVnaXN0ZXJSdWxlR3JhcGhpYywgcmVnaXN0ZXJTeW1ib2xHcmFwaGljIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyBpc0hvcml6b250YWwgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJHbHlwaE1hcmsgfSBmcm9tIFwiLi4vdmlldy9nbHlwaFwiO1xuXG5jb25zdCBkZWZhdWx0RGVuc2l0eVNpemUgPSAzMCwgY29tcHV0ZVZpb2xpblBvaW50cyA9IChkZW5zaXR5LCBkZW5zaXR5U2l6ZSwgc2NhbGUsIGNvbmZpZykgPT4ge1xuICAgIGlmICghZGVuc2l0eSB8fCAwID09PSBkZW5zaXR5Lmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IG1heERlbnNpdHkgPSBkZW5zaXR5LnJlZHVjZSgoKG1heCwgZCkgPT4gTWF0aC5tYXgobWF4LCBkWzFdKSksIDApO1xuICAgIGlmIChjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBbIC4uLmRlbnNpdHkubWFwKChkID0+ICh7XG4gICAgICAgICAgICB5OiAxIC8gbWF4RGVuc2l0eSAqIC1kZW5zaXR5U2l6ZSAqIGRbMV0sXG4gICAgICAgICAgICB4OiBzY2FsZS5zY2FsZShkWzBdKVxuICAgICAgICB9KSkpLCAuLi5kZW5zaXR5Lm1hcCgoZCA9PiAoe1xuICAgICAgICAgICAgeTogZGVuc2l0eVNpemUgKiAoMSAvIG1heERlbnNpdHkpICogZFsxXSxcbiAgICAgICAgICAgIHg6IHNjYWxlLnNjYWxlKGRbMF0pXG4gICAgICAgIH0pKSkucmV2ZXJzZSgpIF07XG4gICAgfVxuICAgIHJldHVybiBbIC4uLmRlbnNpdHkubWFwKChkID0+ICh7XG4gICAgICAgIHg6IDEgLyBtYXhEZW5zaXR5ICogLWRlbnNpdHlTaXplICogZFsxXSxcbiAgICAgICAgeTogc2NhbGUuc2NhbGUoZFswXSlcbiAgICB9KSkpLCAuLi5kZW5zaXR5Lm1hcCgoZCA9PiAoe1xuICAgICAgICB4OiBkZW5zaXR5U2l6ZSAqICgxIC8gbWF4RGVuc2l0eSkgKiBkWzFdLFxuICAgICAgICB5OiBzY2FsZS5zY2FsZShkWzBdKVxuICAgIH0pKSkucmV2ZXJzZSgpIF07XG59LCBlbmNvZGVWaW9saW4gPSAoZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0ge1xuICAgICAgICB2aW9saW46IHt9LFxuICAgICAgICBzaGFmdDoge30sXG4gICAgICAgIGJveDoge30sXG4gICAgICAgIG1lZGlhbjoge31cbiAgICB9LCB4ID0gbnVsbCAhPT0gKF9hID0gZW5jb2RlVmFsdWVzLngpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITEpLCB5ID0gbnVsbCAhPT0gKF9iID0gZW5jb2RlVmFsdWVzLnkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIiwgITEpLCB3aWR0aCA9IG51bGwgIT09IChfYyA9IGVuY29kZVZhbHVlcy53aWR0aCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwid2lkdGhcIiwgITEpLCBoZWlnaHQgPSBudWxsICE9PSAoX2QgPSBlbmNvZGVWYWx1ZXMuaGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgITEpLCBib3hXaWR0aCA9IG51bGwgIT09IChfZSA9IGVuY29kZVZhbHVlcy5ib3hXaWR0aCkgJiYgdm9pZCAwICE9PSBfZSA/IF9lIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiYm94V2lkdGhcIiwgITEpLCBib3hIZWlnaHQgPSBudWxsICE9PSAoX2YgPSBlbmNvZGVWYWx1ZXMuYm94SGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9mID8gX2YgOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJib3hIZWlnaHRcIiwgITEpLCBkZW5zaXR5U2l6ZSA9IG51bGwgIT09IChfaCA9IG51bGwgIT09IChfZyA9IGVuY29kZVZhbHVlcy5kZW5zaXR5U2l6ZSkgJiYgdm9pZCAwICE9PSBfZyA/IF9nIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZGVuc2l0eVNpemVcIiwgITEpKSAmJiB2b2lkIDAgIT09IF9oID8gX2ggOiAzMCwgZGVuc2l0eVNjYWxlID0gZWxlbWVudC5tYXJrLmdldFNjYWxlc0J5Q2hhbm5lbCgpLmRlbnNpdHksIGRlbnNpdHlGaWVsZCA9IGVsZW1lbnQubWFyay5nZXRGaWVsZHNCeUNoYW5uZWwoKS5kZW5zaXR5O1xuICAgIGlmIChkZW5zaXR5RmllbGQgJiYgZGVuc2l0eVNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGNvbXB1dGVWaW9saW5Qb2ludHMoZGF0dW1bZGVuc2l0eUZpZWxkXSwgZGVuc2l0eVNpemUsIGRlbnNpdHlTY2FsZSwgY29uZmlnKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLnZpb2xpbiwge1xuICAgICAgICAgICAgcG9pbnRzOiBwb2ludHNcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8gaXNWYWxpZE51bWJlcihib3hIZWlnaHQpID8gT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLmJveCwge1xuICAgICAgICB5OiB5IC0gYm94SGVpZ2h0IC8gMixcbiAgICAgICAgeTE6IHkgKyBib3hIZWlnaHQgLyAyXG4gICAgfSkgOiBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMuYm94LCB7XG4gICAgICAgIHk6IHkgLSBoZWlnaHQgLyAyLFxuICAgICAgICB5MTogeSArIGhlaWdodCAvIDJcbiAgICB9KSA6IGlzVmFsaWROdW1iZXIoYm94V2lkdGgpID8gT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLmJveCwge1xuICAgICAgICB4OiB4IC0gYm94V2lkdGggLyAyLFxuICAgICAgICB4MTogeCArIGJveFdpZHRoIC8gMlxuICAgIH0pIDogT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLmJveCwge1xuICAgICAgICB4OiB4IC0gd2lkdGggLyAyLFxuICAgICAgICB4MTogeCArIHdpZHRoIC8gMlxuICAgIH0pLCBhdHRyaWJ1dGVzO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVmlvbGluR2x5cGggPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckdseXBoKFwidmlvbGluXCIsIHtcbiAgICAgICAgdmlvbGluOiBcInBvbHlnb25cIixcbiAgICAgICAgc2hhZnQ6IFwicnVsZVwiLFxuICAgICAgICBib3g6IFwicmVjdFwiLFxuICAgICAgICBtZWRpYW46IFwic3ltYm9sXCJcbiAgICB9KS5yZWdpc3RlckZ1bmN0aW9uRW5jb2RlcihlbmNvZGVWaW9saW4pLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJ4XCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IG51bGwgOiB7XG4gICAgICAgIHNoYWZ0OiB7XG4gICAgICAgICAgICB4OiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJ5XCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHk6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9IDogbnVsbCkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJxMVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IGNvbmZpZyAmJiBpc0hvcml6b250YWwoY29uZmlnLmRpcmVjdGlvbikgPyB7XG4gICAgICAgIGJveDoge1xuICAgICAgICAgICAgeDogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIGJveDoge1xuICAgICAgICAgICAgeTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwicTNcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8ge1xuICAgICAgICBib3g6IHtcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgYm94OiB7XG4gICAgICAgICAgICB5MTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWluXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHg6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBzaGFmdDoge1xuICAgICAgICAgICAgeTogZW5jb2RlVmFsdWVcbiAgICAgICAgfVxuICAgIH0pKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwibWF4XCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHgxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgIHkxOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJtZWRpYW5cIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiBjb25maWcgJiYgaXNIb3Jpem9udGFsKGNvbmZpZy5kaXJlY3Rpb24pID8ge1xuICAgICAgICBtZWRpYW46IHtcbiAgICAgICAgICAgIHg6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgeDE6IGVuY29kZVZhbHVlLFxuICAgICAgICAgICAgdmlzaWJsZTogITBcbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgeTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB5MTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICB2aXNpYmxlOiAhMFxuICAgICAgICB9XG4gICAgfSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJhbmdsZVwiLCAoKGNoYW5uZWwsIGVuY29kZVZhbHVlLCBlbmNvZGVWYWx1ZXMsIGRhdHVtLCBlbGVtZW50LCBjb25maWcpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkZWZhdWx0QW5jaG9yID0gY29uZmlnICYmIGlzSG9yaXpvbnRhbChjb25maWcuZGlyZWN0aW9uKSA/IFsgKGVuY29kZVZhbHVlcy5taW4gKyBlbmNvZGVWYWx1ZXMubWF4KSAvIDIsIGVuY29kZVZhbHVlcy55IF0gOiBbIGVuY29kZVZhbHVlcy54LCAoZW5jb2RlVmFsdWVzLm1pbiArIGVuY29kZVZhbHVlcy5tYXgpIC8gMiBdLCBhbmNob3IgPSBudWxsICE9PSAoX2EgPSBlbmNvZGVWYWx1ZXMuYW5jaG9yKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBkZWZhdWx0QW5jaG9yO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2hhZnQ6IHtcbiAgICAgICAgICAgICAgICBhbmdsZTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBhbmNob3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib3g6IHtcbiAgICAgICAgICAgICAgICBhbmdsZTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBhbmNob3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZWRpYW46IHtcbiAgICAgICAgICAgICAgICBhbmdsZTogZW5jb2RlVmFsdWUsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBhbmNob3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcIm1lZGlhbkZpbGxcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCwgY29uZmlnKSA9PiAoe1xuICAgICAgICBtZWRpYW46IHtcbiAgICAgICAgICAgIGZpbGw6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJ2aW9saW5GaWxsXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gKHtcbiAgICAgICAgdmlvbGluOiB7XG4gICAgICAgICAgICBmaWxsOiBlbmNvZGVWYWx1ZVxuICAgICAgICB9XG4gICAgfSkpKS5yZWdpc3RlckNoYW5uZWxFbmNvZGVyKFwidmlvbGluU3Ryb2tlXCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gKHtcbiAgICAgICAgdmlvbGluOiB7XG4gICAgICAgICAgICBzdHJva2U6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkpLnJlZ2lzdGVyQ2hhbm5lbEVuY29kZXIoXCJkZW5zaXR5XCIsICgoY2hhbm5lbCwgZW5jb2RlVmFsdWUsIGVuY29kZVZhbHVlcywgZGF0dW0sIGVsZW1lbnQsIGNvbmZpZykgPT4gKHtcbiAgICAgICAgdmlvbGluOiB7XG4gICAgICAgICAgICBwb2ludHM6IGVuY29kZVZhbHVlXG4gICAgICAgIH1cbiAgICB9KSkpLnJlZ2lzdGVyRGVmYXVsdEVuY29kZXIoKCgpID0+ICh7XG4gICAgICAgIHZpb2xpbjoge1xuICAgICAgICAgICAgZmlsbDogXCIjZmY4MDdmXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiI2ZmMDAwMFwiXG4gICAgICAgIH0sXG4gICAgICAgIHNoYWZ0OiB7XG4gICAgICAgICAgICBzdHJva2U6IFwiIzAwMDAwMFwiXG4gICAgICAgIH0sXG4gICAgICAgIGJveDoge1xuICAgICAgICAgICAgZmlsbDogXCIjMDAwMDAwXCJcbiAgICAgICAgfSxcbiAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICBmaWxsOiBcIiNGRkZGRkZcIixcbiAgICAgICAgICAgIHZpc2libGU6ICExXG4gICAgICAgIH1cbiAgICB9KSkpLCByZWdpc3RlckdseXBoTWFyaygpLCByZWdpc3RlckdseXBoR3JhcGhpYygpLCByZWdpc3RlclBvbHlnb25HcmFwaGljKCksIHJlZ2lzdGVyUnVsZUdyYXBoaWMoKSwgXG4gICAgcmVnaXN0ZXJSZWN0R3JhcGhpYygpLCByZWdpc3RlclN5bWJvbEdyYXBoaWMoKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aW9saW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/violin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/wave.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/wave.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerWaveGlyph: () => (/* binding */ registerWaveGlyph)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n\n\n\n\n\n\nconst registerWaveGlyph = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerGlyph(\"wave\", {\n        wave0: \"area\",\n        wave1: \"area\",\n        wave2: \"area\"\n    }).registerChannelEncoder(\"wave\", ((channel, encodeValue, encodeValues, datum, element) => {\n        const originPoints = new Array(21).fill(0).map(((v, index) => {\n            const waveHeight = index % 2 == 0 ? 20 : 0;\n            return {\n                x: 50 * index - 500,\n                y: encodeValues.y + waveHeight,\n                y1: encodeValues.y + encodeValues.height\n            };\n        }));\n        return {\n            wave0: {\n                points: originPoints.map((point => ({\n                    x: point.x + 100 * encodeValue,\n                    y: point.y,\n                    y1: point.y1\n                }))),\n                x: 0,\n                y: 0\n            },\n            wave1: {\n                points: originPoints.map((point => ({\n                    x: point.x + 200 * encodeValue - 40,\n                    y: point.y,\n                    y1: point.y1\n                }))),\n                x: 0,\n                y: 0\n            },\n            wave2: {\n                points: originPoints.map((point => ({\n                    x: point.x + 300 * encodeValue - 20,\n                    y: point.y,\n                    y1: point.y1\n                }))),\n                x: 0,\n                y: 0\n            }\n        };\n    })).registerDefaultEncoder((() => ({\n        wave0: {\n            curveType: \"monotoneX\",\n            fillOpacity: 1\n        },\n        wave1: {\n            curveType: \"monotoneX\",\n            fillOpacity: .66\n        },\n        wave2: {\n            curveType: \"monotoneX\",\n            fillOpacity: .33\n        }\n    }))), (0,_view_glyph__WEBPACK_IMPORTED_MODULE_1__.registerGlyphMark)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__.registerGlyphGraphic)(), (0,_graph_mark_graphic__WEBPACK_IMPORTED_MODULE_2__.registerAreaGraphic)();\n};\n//# sourceMappingURL=wave.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ2x5cGgvd2F2ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBDOztBQUV3Qzs7QUFFaEM7O0FBRTNDO0FBQ1AsSUFBSSxrREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLDhEQUFpQixJQUFJLHlFQUFvQixJQUFJLHdFQUFtQjtBQUMxRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9nbHlwaC93YXZlLmpzPzBkNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJBcmVhR3JhcGhpYywgcmVnaXN0ZXJHbHlwaEdyYXBoaWMgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9ncmFwaGljXCI7XG5cbmltcG9ydCB7IHJlZ2lzdGVyR2x5cGhNYXJrIH0gZnJvbSBcIi4uL3ZpZXcvZ2x5cGhcIjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyV2F2ZUdseXBoID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHbHlwaChcIndhdmVcIiwge1xuICAgICAgICB3YXZlMDogXCJhcmVhXCIsXG4gICAgICAgIHdhdmUxOiBcImFyZWFcIixcbiAgICAgICAgd2F2ZTI6IFwiYXJlYVwiXG4gICAgfSkucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihcIndhdmVcIiwgKChjaGFubmVsLCBlbmNvZGVWYWx1ZSwgZW5jb2RlVmFsdWVzLCBkYXR1bSwgZWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW5Qb2ludHMgPSBuZXcgQXJyYXkoMjEpLmZpbGwoMCkubWFwKCgodiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHdhdmVIZWlnaHQgPSBpbmRleCAlIDIgPT0gMCA/IDIwIDogMDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogNTAgKiBpbmRleCAtIDUwMCxcbiAgICAgICAgICAgICAgICB5OiBlbmNvZGVWYWx1ZXMueSArIHdhdmVIZWlnaHQsXG4gICAgICAgICAgICAgICAgeTE6IGVuY29kZVZhbHVlcy55ICsgZW5jb2RlVmFsdWVzLmhlaWdodFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2F2ZTA6IHtcbiAgICAgICAgICAgICAgICBwb2ludHM6IG9yaWdpblBvaW50cy5tYXAoKHBvaW50ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHg6IHBvaW50LnggKyAxMDAgKiBlbmNvZGVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgeTogcG9pbnQueSxcbiAgICAgICAgICAgICAgICAgICAgeTE6IHBvaW50LnkxXG4gICAgICAgICAgICAgICAgfSkpKSxcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3YXZlMToge1xuICAgICAgICAgICAgICAgIHBvaW50czogb3JpZ2luUG9pbnRzLm1hcCgocG9pbnQgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgeDogcG9pbnQueCArIDIwMCAqIGVuY29kZVZhbHVlIC0gNDAsXG4gICAgICAgICAgICAgICAgICAgIHk6IHBvaW50LnksXG4gICAgICAgICAgICAgICAgICAgIHkxOiBwb2ludC55MVxuICAgICAgICAgICAgICAgIH0pKSksXG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd2F2ZTI6IHtcbiAgICAgICAgICAgICAgICBwb2ludHM6IG9yaWdpblBvaW50cy5tYXAoKHBvaW50ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHg6IHBvaW50LnggKyAzMDAgKiBlbmNvZGVWYWx1ZSAtIDIwLFxuICAgICAgICAgICAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgICAgICAgICAgICB5MTogcG9pbnQueTFcbiAgICAgICAgICAgICAgICB9KSkpLFxuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKS5yZWdpc3RlckRlZmF1bHRFbmNvZGVyKCgoKSA9PiAoe1xuICAgICAgICB3YXZlMDoge1xuICAgICAgICAgICAgY3VydmVUeXBlOiBcIm1vbm90b25lWFwiLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDFcbiAgICAgICAgfSxcbiAgICAgICAgd2F2ZTE6IHtcbiAgICAgICAgICAgIGN1cnZlVHlwZTogXCJtb25vdG9uZVhcIixcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAuNjZcbiAgICAgICAgfSxcbiAgICAgICAgd2F2ZTI6IHtcbiAgICAgICAgICAgIGN1cnZlVHlwZTogXCJtb25vdG9uZVhcIixcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAuMzNcbiAgICAgICAgfVxuICAgIH0pKSksIHJlZ2lzdGVyR2x5cGhNYXJrKCksIHJlZ2lzdGVyR2x5cGhHcmFwaGljKCksIHJlZ2lzdGVyQXJlYUdyYXBoaWMoKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YXZlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/wave.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animate.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animate.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Animate: () => (/* binding */ Animate)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _animator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./animator */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animator.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/config.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _arranger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./arranger */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/arranger.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Animate {\n    constructor(mark, config) {\n        this.state = null, this.immediateConfigs = [], this.isEnabled = !0, this.disabledStates = [], \n        this.animators = new Map, this.elementRecorder = new WeakMap, this.timelineCount = {}, \n        this.mark = mark, this.configs = (0,_config__WEBPACK_IMPORTED_MODULE_0__.normalizeAnimationConfig)(null != config ? config : {});\n    }\n    getAnimationConfigs(animationState) {\n        var _a;\n        return this.isEnabled ? (null !== (_a = this.configs) && void 0 !== _a ? _a : []).filter((config => config.state === animationState)) : [];\n    }\n    updateConfig(config) {\n        this.configs = (0,_config__WEBPACK_IMPORTED_MODULE_0__.normalizeAnimationConfig)(null != config ? config : {});\n    }\n    updateState(state) {\n        this.state = state;\n    }\n    animate() {\n        if (!this.isEnabled || !this.configs || !this.configs.length) return;\n        const elements = this.mark.getAllElements(), parameters = this.mark.parameters();\n        return elements.forEach((element => {\n            var _a;\n            element.isReserved && element.diffState !== _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit && (element.isReserved = !1);\n            const prevElementState = null === (_a = this.elementRecorder.get(element)) || void 0 === _a ? void 0 : _a.prevState;\n            (this.configs.some((config => prevElementState !== element.diffState && config.state === prevElementState && config.timeline.controlOptions.stopWhenStateChange)) || element.diffState === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit && prevElementState !== element.diffState) && this.clearElementAnimation(element, !1);\n        })), this.configs.forEach((config => {\n            this.animateByTimeline(config, elements, parameters);\n        })), this.mark.cleanExitElements(), this;\n    }\n    runAnimationByState(animationState) {\n        if (!this.isEnabled) return;\n        const stateConfigs = this.configs.filter((config => config.state === animationState)), elements = this.mark.getAllElements(), parameters = this.mark.parameters(), animators = stateConfigs.reduce(((animators, config) => animators.concat(this.animateByTimeline(config, elements, parameters, !0))), []);\n        return new _arranger__WEBPACK_IMPORTED_MODULE_2__.Arranger(animators);\n    }\n    stopAnimationByState(animationState) {\n        const animators = this.animators.get(animationState);\n        return animators && animators.forEach((animator => animator.stop(\"end\"))), this;\n    }\n    pauseAnimationByState(animationState) {\n        const animators = this.animators.get(animationState);\n        return animators && animators.forEach((animator => animator.pause())), this;\n    }\n    resumeAnimationByState(animationState) {\n        const animators = this.animators.get(animationState);\n        return animators && animators.forEach((animator => animator.resume())), this;\n    }\n    run(config) {\n        if (!this.isEnabled) return;\n        const parsedConfigs = (0,_config__WEBPACK_IMPORTED_MODULE_0__.normalizeStateAnimationConfig)(_constants__WEBPACK_IMPORTED_MODULE_3__.ImmediateAnimationState, config, this.immediateConfigs.length);\n        this.immediateConfigs = this.immediateConfigs.concat(parsedConfigs);\n        const elements = this.mark.getAllElements(), parameters = this.mark.parameters(), animators = parsedConfigs.reduce(((animators, config) => animators.concat(this.animateByTimeline(config, elements, parameters, !0))), []);\n        return new _arranger__WEBPACK_IMPORTED_MODULE_2__.Arranger(animators);\n    }\n    stop() {\n        return this.animators.forEach((animators => {\n            animators.forEach((animator => animator.stop(\"end\")));\n        })), this;\n    }\n    pause() {\n        return this.animators.forEach((stateAnimators => stateAnimators.forEach((animator => animator.pause())))), \n        this;\n    }\n    resume() {\n        return this.animators.forEach((stateAnimators => stateAnimators.forEach((animator => animator.resume())))), \n        this;\n    }\n    reverse() {\n        return this;\n    }\n    restart() {\n        return this;\n    }\n    record() {\n        return this;\n    }\n    recordEnd() {\n        return this;\n    }\n    isAnimating() {\n        let isAnimating = !1;\n        return this.animators.forEach((animators => {\n            isAnimating = isAnimating || animators.some((animator => animator.isAnimating));\n        })), isAnimating;\n    }\n    isElementAnimating(element) {\n        var _a;\n        const stateAnimationCounts = null === (_a = this.elementRecorder.get(element)) || void 0 === _a ? void 0 : _a.count;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(stateAnimationCounts) || Object.values(stateAnimationCounts).every((count => 0 === count));\n    }\n    getAnimatorCount() {\n        let count = 0;\n        return this.animators.forEach((animators => count += animators.length)), count;\n    }\n    getAllAnimators() {\n        const allAnimators = [];\n        return this.animators.forEach((animators => {\n            allAnimators.push(...animators);\n        })), allAnimators;\n    }\n    getElementAnimators(element, animationState) {\n        var _a;\n        const elements = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.array)(element);\n        let animators = [];\n        return animationState ? animators = null !== (_a = this.animators.get(animationState)) && void 0 !== _a ? _a : [] : this.animators.forEach((stateAnimators => {\n            animators = animators.concat(stateAnimators);\n        })), animators.filter((animator => elements.includes(animator.element)));\n    }\n    enable() {\n        return this.isEnabled = !0, this;\n    }\n    disable() {\n        return this.isEnabled = !1, this.stop(), this.animators.clear(), this;\n    }\n    enableAnimationState(state) {\n        const states = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.array)(state);\n        return this.disabledStates = this.disabledStates.filter((state => !states.includes(state))), \n        this;\n    }\n    disableAnimationState(state) {\n        const states = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.array)(state);\n        return this.disabledStates = this.disabledStates.concat(states), this;\n    }\n    release() {\n        this.stop(), this.animators.clear(), this.configs = null, this.animators = null, \n        this.elementRecorder = null, this.timelineCount = null;\n    }\n    animateByTimeline(config, elements, parameters, forceState = !1) {\n        var _a;\n        const animators = [], animatedElements = elements.filter((element => {\n            const checkExit = !(element.isReserved && element.diffState === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit), state = this.getAnimationState(element), checkDisabled = !this.disabledStates.includes(state), checkState = forceState || state === config.state, checkPartitioner = !config.timeline.partitioner || config.timeline.partitioner(element.getDatum(), element, parameters);\n            return checkExit && checkDisabled && checkState && checkPartitioner;\n        }));\n        if (animatedElements.length) {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.timelineCount[config.id]) && (this.timelineCount[config.id] = 0), config.timeline.sort && animatedElements.sort(((elementA, elementB) => config.timeline.sort(elementA.getDatum(), elementB.getDatum(), elementA, elementB, parameters)));\n            const animationParameters = {\n                width: this.mark.view.width(),\n                height: this.mark.view.height(),\n                group: null !== (_a = this.mark.group) && void 0 !== _a ? _a : null,\n                mark: this.mark,\n                view: this.mark.view,\n                elementCount: animatedElements.length,\n                elementIndex: 0\n            };\n            animatedElements.forEach((element => {\n                var _a;\n                (null !== (_a = this.animators.get(config.state)) && void 0 !== _a ? _a : []).filter((animator => animator.element === element && animator.animationOptions.id === config.id)).forEach((animator => {\n                    animator.stop(null, !1), this.handleAnimatorEnd(animator, !1);\n                }));\n            })), animatedElements.forEach(((element, index) => {\n                animationParameters.elementIndex = index;\n                const mergedParameters = Object.assign({\n                    [_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationParameters]: animationParameters\n                }, parameters), animationUnit = this.getAnimationUnit(config.timeline, element, index, animatedElements.length, mergedParameters);\n                animators.push(this.animateElement(config, animationUnit, element, animationParameters, mergedParameters));\n            }));\n        }\n        return animators;\n    }\n    animateElement(config, animationUnit, element, animationParameters, parameters) {\n        var _a, _b;\n        const animator = new _animator__WEBPACK_IMPORTED_MODULE_6__.Animator(element, animationUnit, config);\n        if (animator.animate(animationParameters, parameters), !animator.isAnimating) return;\n        element.diffState === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit && (element.isReserved = !0);\n        const isFirstAnimator = 0 === this.timelineCount[config.id];\n        this.timelineCount[config.id] += 1;\n        const elementRecord = null !== (_a = this.elementRecorder.get(element)) && void 0 !== _a ? _a : {\n            prevState: config.state,\n            count: {}\n        };\n        elementRecord.prevState = config.state, elementRecord.count[config.state] = (null !== (_b = elementRecord.count[config.state]) && void 0 !== _b ? _b : 0) + 1, \n        this.elementRecorder.set(element, elementRecord);\n        const stateData = this.animators.get(config.state);\n        stateData ? stateData.push(animator) : this.animators.set(config.state, [ animator ]), \n        animator.callback((() => {\n            this.handleAnimatorEnd(animator);\n        }));\n        const animationEvent = {\n            mark: this.mark,\n            animationState: config.state,\n            animationConfig: config.originConfig\n        };\n        return isFirstAnimator && this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.ANIMATION_START, animationEvent), \n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.ELEMENT_ANIMATION_START, animationEvent, element), animator;\n    }\n    getAnimationState(element) {\n        const customState = (0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.invokeFunctionType)(this.state, this.mark.parameters(), element.getDatum(), element);\n        return null != customState ? customState : element.diffState;\n    }\n    getAnimationUnit(timeline, element, index, elementCount, parameters) {\n        const timeSlices = [], startTime = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeline.startTime, element, parameters), totalTime = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeline.totalTime, element, parameters), oneByOne = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeline.oneByOne, element, parameters), loop = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeline.loop, element, parameters);\n        let loopTime = 0;\n        timeline.timeSlices.forEach((timeSlice => {\n            var _a;\n            const delay = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeSlice.delay, element, parameters), delayAfter = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeSlice.delayAfter, element, parameters), duration = null !== (_a = (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(timeSlice.duration, element, parameters)) && void 0 !== _a ? _a : totalTime / elementCount, effects = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.array)(timeSlice.effects).map((effect => Object.assign({}, effect, {\n                customParameters: (0,_config__WEBPACK_IMPORTED_MODULE_0__.invokeAnimateSpec)(effect.customParameters, element, parameters)\n            })));\n            timeSlices.push({\n                effects: effects,\n                duration: duration,\n                delay: delay,\n                delayAfter: delayAfter\n            }), loopTime += delay + duration + delayAfter;\n        }));\n        const oneByOneDelay = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(oneByOne) ? oneByOne : !0 === oneByOne ? loopTime : 0;\n        return {\n            initialDelay: startTime,\n            loopCount: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(loop) ? loop : !0 === loop ? 1 / 0 : 1,\n            loopDelay: oneByOneDelay * index,\n            loopDelayAfter: oneByOneDelay * (elementCount - index - 1),\n            loopAnimateDuration: loopTime,\n            loopDuration: loopTime + oneByOneDelay * (elementCount - 1),\n            totalTime: totalTime,\n            timeSlices: timeSlices\n        };\n    }\n    clearElementAnimation(element, clearElement = !0) {\n        this.animators.forEach((animators => {\n            animators.forEach((animator => {\n                animator.element === element && (animator.animationOptions.state === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit ? animator.stop(\"start\", !1) : animator.stop(\"end\", !1), \n                this.handleAnimatorEnd(animator, clearElement));\n            }));\n        })), this.elementRecorder.delete(element);\n    }\n    clearAllElements() {\n        const elements = this.mark.getAllElements();\n        elements && elements.forEach(((element, i) => {\n            this.clearElement(element, i === elements.length - 1);\n        }));\n    }\n    clearElement(element, updateMark = !0) {\n        this.clearElementAnimation(element), element.getGraphicItem() && (element.clearGraphicAttributes(), \n        element.diffState === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit && (element.isReserved = !1), updateMark && this.mark.cleanExitElements());\n    }\n    handleAnimatorEnd(animator, clearElement = !0) {\n        const element = animator.element, animationOptions = animator.animationOptions, animationState = animationOptions.state, isImmediateAnimation = animationState === _constants__WEBPACK_IMPORTED_MODULE_3__.ImmediateAnimationState, stateAnimationCounts = this.elementRecorder.get(element).count;\n        stateAnimationCounts[animationState] -= 1, this.animators.set(animationState, this.animators.get(animationState).filter((ani => ani !== animator))), \n        0 === this.animators.get(animationState).length && this.animators.delete(animationState), \n        this.timelineCount[animationOptions.id] -= 1;\n        const isLastAnimator = 0 === this.timelineCount[animationOptions.id], originAnimationConfig = isImmediateAnimation ? this.immediateConfigs.find((config => config.id === animationOptions.id)).originConfig : this.configs.find((config => config.id === animationOptions.id)).originConfig;\n        isLastAnimator && (delete this.timelineCount[animationOptions.id], isImmediateAnimation && (this.immediateConfigs = this.immediateConfigs.filter((config => config.id !== animationOptions.id)))), \n        clearElement && (0 === Object.keys(this.timelineCount).length ? this.clearAllElements() : animationState === _enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit && 0 === stateAnimationCounts[_enums__WEBPACK_IMPORTED_MODULE_1__.DiffState.exit] && this.clearElement(element));\n        const animationEvent = {\n            mark: this.mark,\n            animationState: animationState,\n            animationConfig: originAnimationConfig\n        };\n        isLastAnimator && this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.ANIMATION_END, animationEvent), this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.ELEMENT_ANIMATION_END, animationEvent, element);\n    }\n}\n//# sourceMappingURL=animate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwRDs7QUFFcEI7O0FBRWdFOztBQUVuQjs7QUFFN0I7O0FBRWhCOztBQUVXOztBQUUxQztBQUNQO0FBQ0E7QUFDQSw2RkFBNkY7QUFDN0YseUNBQXlDLGlFQUF3Qiw2QkFBNkI7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGlFQUF3Qiw2QkFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELDZDQUFTO0FBQ2pFO0FBQ0EsdU1BQXVNLDZDQUFTO0FBQ2hOLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0VBQTZCLENBQUMsK0RBQXVCO0FBQ25GO0FBQ0E7QUFDQSxtQkFBbUIsK0NBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdURBQUs7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdURBQUs7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdURBQUs7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLDZDQUFTO0FBQ3JGO0FBQ0EsU0FBUztBQUNUO0FBQ0EsWUFBWSw0REFBSztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLHFCQUFxQixrRUFBMEI7QUFDL0MsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0NBQVE7QUFDckM7QUFDQSw4QkFBOEIsNkNBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsOENBQVU7QUFDM0QsdUJBQXVCLDhDQUFVO0FBQ2pDO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQWtCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywwREFBaUIsdURBQXVELDBEQUFpQixzREFBc0QsMERBQWlCLGlEQUFpRCwwREFBaUI7QUFDN1E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDBEQUFpQixxREFBcUQsMERBQWlCLHVFQUF1RSwwREFBaUIsdUdBQXVHLHVEQUFLLG1EQUFtRDtBQUN4VyxrQ0FBa0MsMERBQWlCO0FBQ25ELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCw4QkFBOEIsNERBQVE7QUFDdEM7QUFDQTtBQUNBLHVCQUF1Qiw0REFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGLDZDQUFTO0FBQzlGO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw2Q0FBUztBQUN2QztBQUNBO0FBQ0EsMktBQTJLLCtEQUF1QjtBQUNsTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUhBQXFILDZDQUFTLG9DQUFvQyw2Q0FBUztBQUMzSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDhDQUFVLGdEQUFnRCw4Q0FBVTtBQUM3RztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRlLmpzPzQ1M2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXJyYXksIGlzTmlsLCBpc051bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEFuaW1hdG9yIH0gZnJvbSBcIi4vYW5pbWF0b3JcIjtcblxuaW1wb3J0IHsgaW52b2tlQW5pbWF0ZVNwZWMsIG5vcm1hbGl6ZUFuaW1hdGlvbkNvbmZpZywgbm9ybWFsaXplU3RhdGVBbmltYXRpb25Db25maWcgfSBmcm9tIFwiLi9jb25maWdcIjtcblxuaW1wb3J0IHsgRGVmYXVsdEFuaW1hdGlvblBhcmFtZXRlcnMsIEltbWVkaWF0ZUFuaW1hdGlvblN0YXRlIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBpbnZva2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBBcnJhbmdlciB9IGZyb20gXCIuL2FycmFuZ2VyXCI7XG5cbmltcG9ydCB7IERpZmZTdGF0ZSwgSE9PS19FVkVOVCB9IGZyb20gXCIuLi9lbnVtc1wiO1xuXG5leHBvcnQgY2xhc3MgQW5pbWF0ZSB7XG4gICAgY29uc3RydWN0b3IobWFyaywgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsLCB0aGlzLmltbWVkaWF0ZUNvbmZpZ3MgPSBbXSwgdGhpcy5pc0VuYWJsZWQgPSAhMCwgdGhpcy5kaXNhYmxlZFN0YXRlcyA9IFtdLCBcbiAgICAgICAgdGhpcy5hbmltYXRvcnMgPSBuZXcgTWFwLCB0aGlzLmVsZW1lbnRSZWNvcmRlciA9IG5ldyBXZWFrTWFwLCB0aGlzLnRpbWVsaW5lQ291bnQgPSB7fSwgXG4gICAgICAgIHRoaXMubWFyayA9IG1hcmssIHRoaXMuY29uZmlncyA9IG5vcm1hbGl6ZUFuaW1hdGlvbkNvbmZpZyhudWxsICE9IGNvbmZpZyA/IGNvbmZpZyA6IHt9KTtcbiAgICB9XG4gICAgZ2V0QW5pbWF0aW9uQ29uZmlncyhhbmltYXRpb25TdGF0ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRW5hYmxlZCA/IChudWxsICE9PSAoX2EgPSB0aGlzLmNvbmZpZ3MpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFtdKS5maWx0ZXIoKGNvbmZpZyA9PiBjb25maWcuc3RhdGUgPT09IGFuaW1hdGlvblN0YXRlKSkgOiBbXTtcbiAgICB9XG4gICAgdXBkYXRlQ29uZmlnKGNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZ3MgPSBub3JtYWxpemVBbmltYXRpb25Db25maWcobnVsbCAhPSBjb25maWcgPyBjb25maWcgOiB7fSk7XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgYW5pbWF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCB8fCAhdGhpcy5jb25maWdzIHx8ICF0aGlzLmNvbmZpZ3MubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5tYXJrLmdldEFsbEVsZW1lbnRzKCksIHBhcmFtZXRlcnMgPSB0aGlzLm1hcmsucGFyYW1ldGVycygpO1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBlbGVtZW50LmlzUmVzZXJ2ZWQgJiYgZWxlbWVudC5kaWZmU3RhdGUgIT09IERpZmZTdGF0ZS5leGl0ICYmIChlbGVtZW50LmlzUmVzZXJ2ZWQgPSAhMSk7XG4gICAgICAgICAgICBjb25zdCBwcmV2RWxlbWVudFN0YXRlID0gbnVsbCA9PT0gKF9hID0gdGhpcy5lbGVtZW50UmVjb3JkZXIuZ2V0KGVsZW1lbnQpKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EucHJldlN0YXRlO1xuICAgICAgICAgICAgKHRoaXMuY29uZmlncy5zb21lKChjb25maWcgPT4gcHJldkVsZW1lbnRTdGF0ZSAhPT0gZWxlbWVudC5kaWZmU3RhdGUgJiYgY29uZmlnLnN0YXRlID09PSBwcmV2RWxlbWVudFN0YXRlICYmIGNvbmZpZy50aW1lbGluZS5jb250cm9sT3B0aW9ucy5zdG9wV2hlblN0YXRlQ2hhbmdlKSkgfHwgZWxlbWVudC5kaWZmU3RhdGUgPT09IERpZmZTdGF0ZS5leGl0ICYmIHByZXZFbGVtZW50U3RhdGUgIT09IGVsZW1lbnQuZGlmZlN0YXRlKSAmJiB0aGlzLmNsZWFyRWxlbWVudEFuaW1hdGlvbihlbGVtZW50LCAhMSk7XG4gICAgICAgIH0pKSwgdGhpcy5jb25maWdzLmZvckVhY2goKGNvbmZpZyA9PiB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVCeVRpbWVsaW5lKGNvbmZpZywgZWxlbWVudHMsIHBhcmFtZXRlcnMpO1xuICAgICAgICB9KSksIHRoaXMubWFyay5jbGVhbkV4aXRFbGVtZW50cygpLCB0aGlzO1xuICAgIH1cbiAgICBydW5BbmltYXRpb25CeVN0YXRlKGFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc3RhdGVDb25maWdzID0gdGhpcy5jb25maWdzLmZpbHRlcigoY29uZmlnID0+IGNvbmZpZy5zdGF0ZSA9PT0gYW5pbWF0aW9uU3RhdGUpKSwgZWxlbWVudHMgPSB0aGlzLm1hcmsuZ2V0QWxsRWxlbWVudHMoKSwgcGFyYW1ldGVycyA9IHRoaXMubWFyay5wYXJhbWV0ZXJzKCksIGFuaW1hdG9ycyA9IHN0YXRlQ29uZmlncy5yZWR1Y2UoKChhbmltYXRvcnMsIGNvbmZpZykgPT4gYW5pbWF0b3JzLmNvbmNhdCh0aGlzLmFuaW1hdGVCeVRpbWVsaW5lKGNvbmZpZywgZWxlbWVudHMsIHBhcmFtZXRlcnMsICEwKSkpLCBbXSk7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYW5nZXIoYW5pbWF0b3JzKTtcbiAgICB9XG4gICAgc3RvcEFuaW1hdGlvbkJ5U3RhdGUoYW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgY29uc3QgYW5pbWF0b3JzID0gdGhpcy5hbmltYXRvcnMuZ2V0KGFuaW1hdGlvblN0YXRlKTtcbiAgICAgICAgcmV0dXJuIGFuaW1hdG9ycyAmJiBhbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3IgPT4gYW5pbWF0b3Iuc3RvcChcImVuZFwiKSkpLCB0aGlzO1xuICAgIH1cbiAgICBwYXVzZUFuaW1hdGlvbkJ5U3RhdGUoYW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgY29uc3QgYW5pbWF0b3JzID0gdGhpcy5hbmltYXRvcnMuZ2V0KGFuaW1hdGlvblN0YXRlKTtcbiAgICAgICAgcmV0dXJuIGFuaW1hdG9ycyAmJiBhbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3IgPT4gYW5pbWF0b3IucGF1c2UoKSkpLCB0aGlzO1xuICAgIH1cbiAgICByZXN1bWVBbmltYXRpb25CeVN0YXRlKGFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIGNvbnN0IGFuaW1hdG9ycyA9IHRoaXMuYW5pbWF0b3JzLmdldChhbmltYXRpb25TdGF0ZSk7XG4gICAgICAgIHJldHVybiBhbmltYXRvcnMgJiYgYW5pbWF0b3JzLmZvckVhY2goKGFuaW1hdG9yID0+IGFuaW1hdG9yLnJlc3VtZSgpKSksIHRoaXM7XG4gICAgfVxuICAgIHJ1bihjb25maWcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBwYXJzZWRDb25maWdzID0gbm9ybWFsaXplU3RhdGVBbmltYXRpb25Db25maWcoSW1tZWRpYXRlQW5pbWF0aW9uU3RhdGUsIGNvbmZpZywgdGhpcy5pbW1lZGlhdGVDb25maWdzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuaW1tZWRpYXRlQ29uZmlncyA9IHRoaXMuaW1tZWRpYXRlQ29uZmlncy5jb25jYXQocGFyc2VkQ29uZmlncyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5tYXJrLmdldEFsbEVsZW1lbnRzKCksIHBhcmFtZXRlcnMgPSB0aGlzLm1hcmsucGFyYW1ldGVycygpLCBhbmltYXRvcnMgPSBwYXJzZWRDb25maWdzLnJlZHVjZSgoKGFuaW1hdG9ycywgY29uZmlnKSA9PiBhbmltYXRvcnMuY29uY2F0KHRoaXMuYW5pbWF0ZUJ5VGltZWxpbmUoY29uZmlnLCBlbGVtZW50cywgcGFyYW1ldGVycywgITApKSksIFtdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJhbmdlcihhbmltYXRvcnMpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3JzID0+IHtcbiAgICAgICAgICAgIGFuaW1hdG9ycy5mb3JFYWNoKChhbmltYXRvciA9PiBhbmltYXRvci5zdG9wKFwiZW5kXCIpKSk7XG4gICAgICAgIH0pKSwgdGhpcztcbiAgICB9XG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdG9ycy5mb3JFYWNoKChzdGF0ZUFuaW1hdG9ycyA9PiBzdGF0ZUFuaW1hdG9ycy5mb3JFYWNoKChhbmltYXRvciA9PiBhbmltYXRvci5wYXVzZSgpKSkpKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0b3JzLmZvckVhY2goKHN0YXRlQW5pbWF0b3JzID0+IHN0YXRlQW5pbWF0b3JzLmZvckVhY2goKGFuaW1hdG9yID0+IGFuaW1hdG9yLnJlc3VtZSgpKSkpKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHJldmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXN0YXJ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb3JkKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb3JkRW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaXNBbmltYXRpbmcoKSB7XG4gICAgICAgIGxldCBpc0FuaW1hdGluZyA9ICExO1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3JzID0+IHtcbiAgICAgICAgICAgIGlzQW5pbWF0aW5nID0gaXNBbmltYXRpbmcgfHwgYW5pbWF0b3JzLnNvbWUoKGFuaW1hdG9yID0+IGFuaW1hdG9yLmlzQW5pbWF0aW5nKSk7XG4gICAgICAgIH0pKSwgaXNBbmltYXRpbmc7XG4gICAgfVxuICAgIGlzRWxlbWVudEFuaW1hdGluZyhlbGVtZW50KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgc3RhdGVBbmltYXRpb25Db3VudHMgPSBudWxsID09PSAoX2EgPSB0aGlzLmVsZW1lbnRSZWNvcmRlci5nZXQoZWxlbWVudCkpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jb3VudDtcbiAgICAgICAgcmV0dXJuIGlzTmlsKHN0YXRlQW5pbWF0aW9uQ291bnRzKSB8fCBPYmplY3QudmFsdWVzKHN0YXRlQW5pbWF0aW9uQ291bnRzKS5ldmVyeSgoY291bnQgPT4gMCA9PT0gY291bnQpKTtcbiAgICB9XG4gICAgZ2V0QW5pbWF0b3JDb3VudCgpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0b3JzLmZvckVhY2goKGFuaW1hdG9ycyA9PiBjb3VudCArPSBhbmltYXRvcnMubGVuZ3RoKSksIGNvdW50O1xuICAgIH1cbiAgICBnZXRBbGxBbmltYXRvcnMoKSB7XG4gICAgICAgIGNvbnN0IGFsbEFuaW1hdG9ycyA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3JzID0+IHtcbiAgICAgICAgICAgIGFsbEFuaW1hdG9ycy5wdXNoKC4uLmFuaW1hdG9ycyk7XG4gICAgICAgIH0pKSwgYWxsQW5pbWF0b3JzO1xuICAgIH1cbiAgICBnZXRFbGVtZW50QW5pbWF0b3JzKGVsZW1lbnQsIGFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBhcnJheShlbGVtZW50KTtcbiAgICAgICAgbGV0IGFuaW1hdG9ycyA9IFtdO1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uU3RhdGUgPyBhbmltYXRvcnMgPSBudWxsICE9PSAoX2EgPSB0aGlzLmFuaW1hdG9ycy5nZXQoYW5pbWF0aW9uU3RhdGUpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXSA6IHRoaXMuYW5pbWF0b3JzLmZvckVhY2goKHN0YXRlQW5pbWF0b3JzID0+IHtcbiAgICAgICAgICAgIGFuaW1hdG9ycyA9IGFuaW1hdG9ycy5jb25jYXQoc3RhdGVBbmltYXRvcnMpO1xuICAgICAgICB9KSksIGFuaW1hdG9ycy5maWx0ZXIoKGFuaW1hdG9yID0+IGVsZW1lbnRzLmluY2x1ZGVzKGFuaW1hdG9yLmVsZW1lbnQpKSk7XG4gICAgfVxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFbmFibGVkID0gITAsIHRoaXM7XG4gICAgfVxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRW5hYmxlZCA9ICExLCB0aGlzLnN0b3AoKSwgdGhpcy5hbmltYXRvcnMuY2xlYXIoKSwgdGhpcztcbiAgICB9XG4gICAgZW5hYmxlQW5pbWF0aW9uU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gYXJyYXkoc3RhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNhYmxlZFN0YXRlcyA9IHRoaXMuZGlzYWJsZWRTdGF0ZXMuZmlsdGVyKChzdGF0ZSA9PiAhc3RhdGVzLmluY2x1ZGVzKHN0YXRlKSkpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgZGlzYWJsZUFuaW1hdGlvblN0YXRlKHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IGFycmF5KHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzYWJsZWRTdGF0ZXMgPSB0aGlzLmRpc2FibGVkU3RhdGVzLmNvbmNhdChzdGF0ZXMpLCB0aGlzO1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICB0aGlzLnN0b3AoKSwgdGhpcy5hbmltYXRvcnMuY2xlYXIoKSwgdGhpcy5jb25maWdzID0gbnVsbCwgdGhpcy5hbmltYXRvcnMgPSBudWxsLCBcbiAgICAgICAgdGhpcy5lbGVtZW50UmVjb3JkZXIgPSBudWxsLCB0aGlzLnRpbWVsaW5lQ291bnQgPSBudWxsO1xuICAgIH1cbiAgICBhbmltYXRlQnlUaW1lbGluZShjb25maWcsIGVsZW1lbnRzLCBwYXJhbWV0ZXJzLCBmb3JjZVN0YXRlID0gITEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBhbmltYXRvcnMgPSBbXSwgYW5pbWF0ZWRFbGVtZW50cyA9IGVsZW1lbnRzLmZpbHRlcigoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGVja0V4aXQgPSAhKGVsZW1lbnQuaXNSZXNlcnZlZCAmJiBlbGVtZW50LmRpZmZTdGF0ZSA9PT0gRGlmZlN0YXRlLmV4aXQpLCBzdGF0ZSA9IHRoaXMuZ2V0QW5pbWF0aW9uU3RhdGUoZWxlbWVudCksIGNoZWNrRGlzYWJsZWQgPSAhdGhpcy5kaXNhYmxlZFN0YXRlcy5pbmNsdWRlcyhzdGF0ZSksIGNoZWNrU3RhdGUgPSBmb3JjZVN0YXRlIHx8IHN0YXRlID09PSBjb25maWcuc3RhdGUsIGNoZWNrUGFydGl0aW9uZXIgPSAhY29uZmlnLnRpbWVsaW5lLnBhcnRpdGlvbmVyIHx8IGNvbmZpZy50aW1lbGluZS5wYXJ0aXRpb25lcihlbGVtZW50LmdldERhdHVtKCksIGVsZW1lbnQsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrRXhpdCAmJiBjaGVja0Rpc2FibGVkICYmIGNoZWNrU3RhdGUgJiYgY2hlY2tQYXJ0aXRpb25lcjtcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAoYW5pbWF0ZWRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlzTmlsKHRoaXMudGltZWxpbmVDb3VudFtjb25maWcuaWRdKSAmJiAodGhpcy50aW1lbGluZUNvdW50W2NvbmZpZy5pZF0gPSAwKSwgY29uZmlnLnRpbWVsaW5lLnNvcnQgJiYgYW5pbWF0ZWRFbGVtZW50cy5zb3J0KCgoZWxlbWVudEEsIGVsZW1lbnRCKSA9PiBjb25maWcudGltZWxpbmUuc29ydChlbGVtZW50QS5nZXREYXR1bSgpLCBlbGVtZW50Qi5nZXREYXR1bSgpLCBlbGVtZW50QSwgZWxlbWVudEIsIHBhcmFtZXRlcnMpKSk7XG4gICAgICAgICAgICBjb25zdCBhbmltYXRpb25QYXJhbWV0ZXJzID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLm1hcmsudmlldy53aWR0aCgpLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5tYXJrLnZpZXcuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgZ3JvdXA6IG51bGwgIT09IChfYSA9IHRoaXMubWFyay5ncm91cCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbCxcbiAgICAgICAgICAgICAgICBtYXJrOiB0aGlzLm1hcmssXG4gICAgICAgICAgICAgICAgdmlldzogdGhpcy5tYXJrLnZpZXcsXG4gICAgICAgICAgICAgICAgZWxlbWVudENvdW50OiBhbmltYXRlZEVsZW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBlbGVtZW50SW5kZXg6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhbmltYXRlZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAobnVsbCAhPT0gKF9hID0gdGhpcy5hbmltYXRvcnMuZ2V0KGNvbmZpZy5zdGF0ZSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFtdKS5maWx0ZXIoKGFuaW1hdG9yID0+IGFuaW1hdG9yLmVsZW1lbnQgPT09IGVsZW1lbnQgJiYgYW5pbWF0b3IuYW5pbWF0aW9uT3B0aW9ucy5pZCA9PT0gY29uZmlnLmlkKSkuZm9yRWFjaCgoYW5pbWF0b3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRvci5zdG9wKG51bGwsICExKSwgdGhpcy5oYW5kbGVBbmltYXRvckVuZChhbmltYXRvciwgITEpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKSwgYW5pbWF0ZWRFbGVtZW50cy5mb3JFYWNoKCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmVsZW1lbnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lcmdlZFBhcmFtZXRlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgW0RlZmF1bHRBbmltYXRpb25QYXJhbWV0ZXJzXTogYW5pbWF0aW9uUGFyYW1ldGVyc1xuICAgICAgICAgICAgICAgIH0sIHBhcmFtZXRlcnMpLCBhbmltYXRpb25Vbml0ID0gdGhpcy5nZXRBbmltYXRpb25Vbml0KGNvbmZpZy50aW1lbGluZSwgZWxlbWVudCwgaW5kZXgsIGFuaW1hdGVkRWxlbWVudHMubGVuZ3RoLCBtZXJnZWRQYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICBhbmltYXRvcnMucHVzaCh0aGlzLmFuaW1hdGVFbGVtZW50KGNvbmZpZywgYW5pbWF0aW9uVW5pdCwgZWxlbWVudCwgYW5pbWF0aW9uUGFyYW1ldGVycywgbWVyZ2VkUGFyYW1ldGVycykpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmltYXRvcnM7XG4gICAgfVxuICAgIGFuaW1hdGVFbGVtZW50KGNvbmZpZywgYW5pbWF0aW9uVW5pdCwgZWxlbWVudCwgYW5pbWF0aW9uUGFyYW1ldGVycywgcGFyYW1ldGVycykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBhbmltYXRvciA9IG5ldyBBbmltYXRvcihlbGVtZW50LCBhbmltYXRpb25Vbml0LCBjb25maWcpO1xuICAgICAgICBpZiAoYW5pbWF0b3IuYW5pbWF0ZShhbmltYXRpb25QYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzKSwgIWFuaW1hdG9yLmlzQW5pbWF0aW5nKSByZXR1cm47XG4gICAgICAgIGVsZW1lbnQuZGlmZlN0YXRlID09PSBEaWZmU3RhdGUuZXhpdCAmJiAoZWxlbWVudC5pc1Jlc2VydmVkID0gITApO1xuICAgICAgICBjb25zdCBpc0ZpcnN0QW5pbWF0b3IgPSAwID09PSB0aGlzLnRpbWVsaW5lQ291bnRbY29uZmlnLmlkXTtcbiAgICAgICAgdGhpcy50aW1lbGluZUNvdW50W2NvbmZpZy5pZF0gKz0gMTtcbiAgICAgICAgY29uc3QgZWxlbWVudFJlY29yZCA9IG51bGwgIT09IChfYSA9IHRoaXMuZWxlbWVudFJlY29yZGVyLmdldChlbGVtZW50KSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge1xuICAgICAgICAgICAgcHJldlN0YXRlOiBjb25maWcuc3RhdGUsXG4gICAgICAgICAgICBjb3VudDoge31cbiAgICAgICAgfTtcbiAgICAgICAgZWxlbWVudFJlY29yZC5wcmV2U3RhdGUgPSBjb25maWcuc3RhdGUsIGVsZW1lbnRSZWNvcmQuY291bnRbY29uZmlnLnN0YXRlXSA9IChudWxsICE9PSAoX2IgPSBlbGVtZW50UmVjb3JkLmNvdW50W2NvbmZpZy5zdGF0ZV0pICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDApICsgMSwgXG4gICAgICAgIHRoaXMuZWxlbWVudFJlY29yZGVyLnNldChlbGVtZW50LCBlbGVtZW50UmVjb3JkKTtcbiAgICAgICAgY29uc3Qgc3RhdGVEYXRhID0gdGhpcy5hbmltYXRvcnMuZ2V0KGNvbmZpZy5zdGF0ZSk7XG4gICAgICAgIHN0YXRlRGF0YSA/IHN0YXRlRGF0YS5wdXNoKGFuaW1hdG9yKSA6IHRoaXMuYW5pbWF0b3JzLnNldChjb25maWcuc3RhdGUsIFsgYW5pbWF0b3IgXSksIFxuICAgICAgICBhbmltYXRvci5jYWxsYmFjaygoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVBbmltYXRvckVuZChhbmltYXRvcik7XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uRXZlbnQgPSB7XG4gICAgICAgICAgICBtYXJrOiB0aGlzLm1hcmssXG4gICAgICAgICAgICBhbmltYXRpb25TdGF0ZTogY29uZmlnLnN0YXRlLFxuICAgICAgICAgICAgYW5pbWF0aW9uQ29uZmlnOiBjb25maWcub3JpZ2luQ29uZmlnXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpc0ZpcnN0QW5pbWF0b3IgJiYgdGhpcy5tYXJrLmVtaXQoSE9PS19FVkVOVC5BTklNQVRJT05fU1RBUlQsIGFuaW1hdGlvbkV2ZW50KSwgXG4gICAgICAgIHRoaXMubWFyay5lbWl0KEhPT0tfRVZFTlQuRUxFTUVOVF9BTklNQVRJT05fU1RBUlQsIGFuaW1hdGlvbkV2ZW50LCBlbGVtZW50KSwgYW5pbWF0b3I7XG4gICAgfVxuICAgIGdldEFuaW1hdGlvblN0YXRlKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tU3RhdGUgPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zdGF0ZSwgdGhpcy5tYXJrLnBhcmFtZXRlcnMoKSwgZWxlbWVudC5nZXREYXR1bSgpLCBlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT0gY3VzdG9tU3RhdGUgPyBjdXN0b21TdGF0ZSA6IGVsZW1lbnQuZGlmZlN0YXRlO1xuICAgIH1cbiAgICBnZXRBbmltYXRpb25Vbml0KHRpbWVsaW5lLCBlbGVtZW50LCBpbmRleCwgZWxlbWVudENvdW50LCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIGNvbnN0IHRpbWVTbGljZXMgPSBbXSwgc3RhcnRUaW1lID0gaW52b2tlQW5pbWF0ZVNwZWModGltZWxpbmUuc3RhcnRUaW1lLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSwgdG90YWxUaW1lID0gaW52b2tlQW5pbWF0ZVNwZWModGltZWxpbmUudG90YWxUaW1lLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSwgb25lQnlPbmUgPSBpbnZva2VBbmltYXRlU3BlYyh0aW1lbGluZS5vbmVCeU9uZSwgZWxlbWVudCwgcGFyYW1ldGVycyksIGxvb3AgPSBpbnZva2VBbmltYXRlU3BlYyh0aW1lbGluZS5sb29wLCBlbGVtZW50LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgbGV0IGxvb3BUaW1lID0gMDtcbiAgICAgICAgdGltZWxpbmUudGltZVNsaWNlcy5mb3JFYWNoKCh0aW1lU2xpY2UgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBpbnZva2VBbmltYXRlU3BlYyh0aW1lU2xpY2UuZGVsYXksIGVsZW1lbnQsIHBhcmFtZXRlcnMpLCBkZWxheUFmdGVyID0gaW52b2tlQW5pbWF0ZVNwZWModGltZVNsaWNlLmRlbGF5QWZ0ZXIsIGVsZW1lbnQsIHBhcmFtZXRlcnMpLCBkdXJhdGlvbiA9IG51bGwgIT09IChfYSA9IGludm9rZUFuaW1hdGVTcGVjKHRpbWVTbGljZS5kdXJhdGlvbiwgZWxlbWVudCwgcGFyYW1ldGVycykpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHRvdGFsVGltZSAvIGVsZW1lbnRDb3VudCwgZWZmZWN0cyA9IGFycmF5KHRpbWVTbGljZS5lZmZlY3RzKS5tYXAoKGVmZmVjdCA9PiBPYmplY3QuYXNzaWduKHt9LCBlZmZlY3QsIHtcbiAgICAgICAgICAgICAgICBjdXN0b21QYXJhbWV0ZXJzOiBpbnZva2VBbmltYXRlU3BlYyhlZmZlY3QuY3VzdG9tUGFyYW1ldGVycywgZWxlbWVudCwgcGFyYW1ldGVycylcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICB0aW1lU2xpY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIGVmZmVjdHM6IGVmZmVjdHMsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGRlbGF5OiBkZWxheSxcbiAgICAgICAgICAgICAgICBkZWxheUFmdGVyOiBkZWxheUFmdGVyXG4gICAgICAgICAgICB9KSwgbG9vcFRpbWUgKz0gZGVsYXkgKyBkdXJhdGlvbiArIGRlbGF5QWZ0ZXI7XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3Qgb25lQnlPbmVEZWxheSA9IGlzTnVtYmVyKG9uZUJ5T25lKSA/IG9uZUJ5T25lIDogITAgPT09IG9uZUJ5T25lID8gbG9vcFRpbWUgOiAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5pdGlhbERlbGF5OiBzdGFydFRpbWUsXG4gICAgICAgICAgICBsb29wQ291bnQ6IGlzTnVtYmVyKGxvb3ApID8gbG9vcCA6ICEwID09PSBsb29wID8gMSAvIDAgOiAxLFxuICAgICAgICAgICAgbG9vcERlbGF5OiBvbmVCeU9uZURlbGF5ICogaW5kZXgsXG4gICAgICAgICAgICBsb29wRGVsYXlBZnRlcjogb25lQnlPbmVEZWxheSAqIChlbGVtZW50Q291bnQgLSBpbmRleCAtIDEpLFxuICAgICAgICAgICAgbG9vcEFuaW1hdGVEdXJhdGlvbjogbG9vcFRpbWUsXG4gICAgICAgICAgICBsb29wRHVyYXRpb246IGxvb3BUaW1lICsgb25lQnlPbmVEZWxheSAqIChlbGVtZW50Q291bnQgLSAxKSxcbiAgICAgICAgICAgIHRvdGFsVGltZTogdG90YWxUaW1lLFxuICAgICAgICAgICAgdGltZVNsaWNlczogdGltZVNsaWNlc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjbGVhckVsZW1lbnRBbmltYXRpb24oZWxlbWVudCwgY2xlYXJFbGVtZW50ID0gITApIHtcbiAgICAgICAgdGhpcy5hbmltYXRvcnMuZm9yRWFjaCgoYW5pbWF0b3JzID0+IHtcbiAgICAgICAgICAgIGFuaW1hdG9ycy5mb3JFYWNoKChhbmltYXRvciA9PiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0b3IuZWxlbWVudCA9PT0gZWxlbWVudCAmJiAoYW5pbWF0b3IuYW5pbWF0aW9uT3B0aW9ucy5zdGF0ZSA9PT0gRGlmZlN0YXRlLmV4aXQgPyBhbmltYXRvci5zdG9wKFwic3RhcnRcIiwgITEpIDogYW5pbWF0b3Iuc3RvcChcImVuZFwiLCAhMSksIFxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQW5pbWF0b3JFbmQoYW5pbWF0b3IsIGNsZWFyRWxlbWVudCkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSksIHRoaXMuZWxlbWVudFJlY29yZGVyLmRlbGV0ZShlbGVtZW50KTtcbiAgICB9XG4gICAgY2xlYXJBbGxFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLm1hcmsuZ2V0QWxsRWxlbWVudHMoKTtcbiAgICAgICAgZWxlbWVudHMgJiYgZWxlbWVudHMuZm9yRWFjaCgoKGVsZW1lbnQsIGkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJFbGVtZW50KGVsZW1lbnQsIGkgPT09IGVsZW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNsZWFyRWxlbWVudChlbGVtZW50LCB1cGRhdGVNYXJrID0gITApIHtcbiAgICAgICAgdGhpcy5jbGVhckVsZW1lbnRBbmltYXRpb24oZWxlbWVudCksIGVsZW1lbnQuZ2V0R3JhcGhpY0l0ZW0oKSAmJiAoZWxlbWVudC5jbGVhckdyYXBoaWNBdHRyaWJ1dGVzKCksIFxuICAgICAgICBlbGVtZW50LmRpZmZTdGF0ZSA9PT0gRGlmZlN0YXRlLmV4aXQgJiYgKGVsZW1lbnQuaXNSZXNlcnZlZCA9ICExKSwgdXBkYXRlTWFyayAmJiB0aGlzLm1hcmsuY2xlYW5FeGl0RWxlbWVudHMoKSk7XG4gICAgfVxuICAgIGhhbmRsZUFuaW1hdG9yRW5kKGFuaW1hdG9yLCBjbGVhckVsZW1lbnQgPSAhMCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gYW5pbWF0b3IuZWxlbWVudCwgYW5pbWF0aW9uT3B0aW9ucyA9IGFuaW1hdG9yLmFuaW1hdGlvbk9wdGlvbnMsIGFuaW1hdGlvblN0YXRlID0gYW5pbWF0aW9uT3B0aW9ucy5zdGF0ZSwgaXNJbW1lZGlhdGVBbmltYXRpb24gPSBhbmltYXRpb25TdGF0ZSA9PT0gSW1tZWRpYXRlQW5pbWF0aW9uU3RhdGUsIHN0YXRlQW5pbWF0aW9uQ291bnRzID0gdGhpcy5lbGVtZW50UmVjb3JkZXIuZ2V0KGVsZW1lbnQpLmNvdW50O1xuICAgICAgICBzdGF0ZUFuaW1hdGlvbkNvdW50c1thbmltYXRpb25TdGF0ZV0gLT0gMSwgdGhpcy5hbmltYXRvcnMuc2V0KGFuaW1hdGlvblN0YXRlLCB0aGlzLmFuaW1hdG9ycy5nZXQoYW5pbWF0aW9uU3RhdGUpLmZpbHRlcigoYW5pID0+IGFuaSAhPT0gYW5pbWF0b3IpKSksIFxuICAgICAgICAwID09PSB0aGlzLmFuaW1hdG9ycy5nZXQoYW5pbWF0aW9uU3RhdGUpLmxlbmd0aCAmJiB0aGlzLmFuaW1hdG9ycy5kZWxldGUoYW5pbWF0aW9uU3RhdGUpLCBcbiAgICAgICAgdGhpcy50aW1lbGluZUNvdW50W2FuaW1hdGlvbk9wdGlvbnMuaWRdIC09IDE7XG4gICAgICAgIGNvbnN0IGlzTGFzdEFuaW1hdG9yID0gMCA9PT0gdGhpcy50aW1lbGluZUNvdW50W2FuaW1hdGlvbk9wdGlvbnMuaWRdLCBvcmlnaW5BbmltYXRpb25Db25maWcgPSBpc0ltbWVkaWF0ZUFuaW1hdGlvbiA/IHRoaXMuaW1tZWRpYXRlQ29uZmlncy5maW5kKChjb25maWcgPT4gY29uZmlnLmlkID09PSBhbmltYXRpb25PcHRpb25zLmlkKSkub3JpZ2luQ29uZmlnIDogdGhpcy5jb25maWdzLmZpbmQoKGNvbmZpZyA9PiBjb25maWcuaWQgPT09IGFuaW1hdGlvbk9wdGlvbnMuaWQpKS5vcmlnaW5Db25maWc7XG4gICAgICAgIGlzTGFzdEFuaW1hdG9yICYmIChkZWxldGUgdGhpcy50aW1lbGluZUNvdW50W2FuaW1hdGlvbk9wdGlvbnMuaWRdLCBpc0ltbWVkaWF0ZUFuaW1hdGlvbiAmJiAodGhpcy5pbW1lZGlhdGVDb25maWdzID0gdGhpcy5pbW1lZGlhdGVDb25maWdzLmZpbHRlcigoY29uZmlnID0+IGNvbmZpZy5pZCAhPT0gYW5pbWF0aW9uT3B0aW9ucy5pZCkpKSksIFxuICAgICAgICBjbGVhckVsZW1lbnQgJiYgKDAgPT09IE9iamVjdC5rZXlzKHRoaXMudGltZWxpbmVDb3VudCkubGVuZ3RoID8gdGhpcy5jbGVhckFsbEVsZW1lbnRzKCkgOiBhbmltYXRpb25TdGF0ZSA9PT0gRGlmZlN0YXRlLmV4aXQgJiYgMCA9PT0gc3RhdGVBbmltYXRpb25Db3VudHNbRGlmZlN0YXRlLmV4aXRdICYmIHRoaXMuY2xlYXJFbGVtZW50KGVsZW1lbnQpKTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uRXZlbnQgPSB7XG4gICAgICAgICAgICBtYXJrOiB0aGlzLm1hcmssXG4gICAgICAgICAgICBhbmltYXRpb25TdGF0ZTogYW5pbWF0aW9uU3RhdGUsXG4gICAgICAgICAgICBhbmltYXRpb25Db25maWc6IG9yaWdpbkFuaW1hdGlvbkNvbmZpZ1xuICAgICAgICB9O1xuICAgICAgICBpc0xhc3RBbmltYXRvciAmJiB0aGlzLm1hcmsuZW1pdChIT09LX0VWRU5ULkFOSU1BVElPTl9FTkQsIGFuaW1hdGlvbkV2ZW50KSwgdGhpcy5tYXJrLmVtaXQoSE9PS19FVkVOVC5FTEVNRU5UX0FOSU1BVElPTl9FTkQsIGFuaW1hdGlvbkV2ZW50LCBlbGVtZW50KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltYXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/clip.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/clip.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clipIn: () => (/* binding */ clipIn),\n/* harmony export */   clipOut: () => (/* binding */ clipOut)\n/* harmony export */ });\nconst clipIn = (element, options, animationParameters) => {\n    var _a;\n    const clipDimension = element.getGraphicAttribute(\"clipRangeByDimension\", !1), clipRange = null !== (_a = element.getGraphicAttribute(\"clipRange\", !1)) && void 0 !== _a ? _a : 1;\n    return options && options.clipDimension ? {\n        from: {\n            clipRange: 0,\n            clipRangeByDimension: options.clipDimension\n        },\n        to: {\n            clipRange: clipRange,\n            clipRangeByDimension: clipDimension\n        }\n    } : {\n        from: {\n            clipRange: 0\n        },\n        to: {\n            clipRange: clipRange\n        }\n    };\n};\n\nconst clipOut = (element, options, animationParameters) => {\n    var _a;\n    const clipDimension = element.getGraphicAttribute(\"clipRangeByDimension\", !0), clipRange = null !== (_a = element.getGraphicAttribute(\"clipRange\", !0)) && void 0 !== _a ? _a : 1;\n    return options && options.clipDimension ? {\n        from: {\n            clipRange: clipRange,\n            clipRangeByDimension: options.clipDimension\n        },\n        to: {\n            clipRange: 0,\n            clipRangeByDimension: clipDimension\n        }\n    } : {\n        from: {\n            clipRange: clipRange\n        },\n        to: {\n            clipRange: 0\n        }\n    };\n};\n//# sourceMappingURL=clip.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9jbGlwLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0aW9uL2NsaXAuanM/ODVkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY2xpcEluID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY2xpcERpbWVuc2lvbiA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImNsaXBSYW5nZUJ5RGltZW5zaW9uXCIsICExKSwgY2xpcFJhbmdlID0gbnVsbCAhPT0gKF9hID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiY2xpcFJhbmdlXCIsICExKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBvcHRpb25zLmNsaXBEaW1lbnNpb24gPyB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIGNsaXBSYW5nZTogMCxcbiAgICAgICAgICAgIGNsaXBSYW5nZUJ5RGltZW5zaW9uOiBvcHRpb25zLmNsaXBEaW1lbnNpb25cbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIGNsaXBSYW5nZTogY2xpcFJhbmdlLFxuICAgICAgICAgICAgY2xpcFJhbmdlQnlEaW1lbnNpb246IGNsaXBEaW1lbnNpb25cbiAgICAgICAgfVxuICAgIH0gOiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIGNsaXBSYW5nZTogMFxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgY2xpcFJhbmdlOiBjbGlwUmFuZ2VcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgY2xpcE91dCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGNsaXBEaW1lbnNpb24gPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJjbGlwUmFuZ2VCeURpbWVuc2lvblwiLCAhMCksIGNsaXBSYW5nZSA9IG51bGwgIT09IChfYSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImNsaXBSYW5nZVwiLCAhMCkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDE7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgb3B0aW9ucy5jbGlwRGltZW5zaW9uID8ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBjbGlwUmFuZ2U6IGNsaXBSYW5nZSxcbiAgICAgICAgICAgIGNsaXBSYW5nZUJ5RGltZW5zaW9uOiBvcHRpb25zLmNsaXBEaW1lbnNpb25cbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIGNsaXBSYW5nZTogMCxcbiAgICAgICAgICAgIGNsaXBSYW5nZUJ5RGltZW5zaW9uOiBjbGlwRGltZW5zaW9uXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBjbGlwUmFuZ2U6IGNsaXBSYW5nZVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgY2xpcFJhbmdlOiAwXG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaXAuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/clip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/fade.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/fade.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fadeIn: () => (/* binding */ fadeIn),\n/* harmony export */   fadeOut: () => (/* binding */ fadeOut)\n/* harmony export */ });\nconst fadeIn = (element, options, animationParameters) => {\n    var _a, _b, _c, _d;\n    const attrs = null !== (_a = element.getFinalAnimationAttributes()) && void 0 !== _a ? _a : {};\n    return {\n        from: {\n            opacity: 0,\n            fillOpacity: 0,\n            strokeOpacity: 0\n        },\n        to: {\n            opacity: null !== (_b = attrs.opacity) && void 0 !== _b ? _b : 1,\n            fillOpacity: null !== (_c = attrs.fillOpacity) && void 0 !== _c ? _c : 1,\n            strokeOpacity: null !== (_d = attrs.strokeOpacity) && void 0 !== _d ? _d : 1\n        }\n    };\n};\n\nconst fadeOut = (element, options, animationParameters) => {\n    var _a, _b, _c;\n    return {\n        from: {\n            opacity: null !== (_a = element.getGraphicAttribute(\"opacity\", !0)) && void 0 !== _a ? _a : 1,\n            fillOpacity: null !== (_b = element.getGraphicAttribute(\"fillOpacity\", !0)) && void 0 !== _b ? _b : 1,\n            strokeOpacity: null !== (_c = element.getGraphicAttribute(\"strokeOpacity\", !0)) && void 0 !== _c ? _c : 1\n        },\n        to: {\n            opacity: 0,\n            fillOpacity: 0,\n            strokeOpacity: 0\n        }\n    };\n};\n//# sourceMappingURL=fade.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9mYWRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0aW9uL2ZhZGUuanM/Y2RlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZmFkZUluID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgYXR0cnMgPSBudWxsICE9PSAoX2EgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlcygpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiBudWxsICE9PSAoX2IgPSBhdHRycy5vcGFjaXR5KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAxLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IG51bGwgIT09IChfYyA9IGF0dHJzLmZpbGxPcGFjaXR5KSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAxLFxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogbnVsbCAhPT0gKF9kID0gYXR0cnMuc3Ryb2tlT3BhY2l0eSkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogMVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBmYWRlT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiBudWxsICE9PSAoX2EgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJvcGFjaXR5XCIsICEwKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMSxcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiBudWxsICE9PSAoX2IgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJmaWxsT3BhY2l0eVwiLCAhMCkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDEsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiBudWxsICE9PSAoX2MgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdHJva2VPcGFjaXR5XCIsICEwKSkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogMVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMFxuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mYWRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/fade.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-cartesian.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-cartesian.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   growCenterIn: () => (/* binding */ growCenterIn),\n/* harmony export */   growCenterOut: () => (/* binding */ growCenterOut),\n/* harmony export */   growHeightIn: () => (/* binding */ growHeightIn),\n/* harmony export */   growHeightOut: () => (/* binding */ growHeightOut),\n/* harmony export */   growWidthIn: () => (/* binding */ growWidthIn),\n/* harmony export */   growWidthOut: () => (/* binding */ growWidthOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nconst growCenterIn = (element, options, animationParameters) => {\n    switch (null == options ? void 0 : options.direction) {\n      case \"x\":\n        {\n            const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n            return {\n                from: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? {\n                    x: x + width / 2,\n                    x1: void 0,\n                    width: 0\n                } : {\n                    x: (x + x1) / 2,\n                    x1: (x + x1) / 2,\n                    width: void 0\n                },\n                to: {\n                    x: x,\n                    x1: x1,\n                    width: width\n                }\n            };\n        }\n\n      case \"y\":\n        {\n            const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n            return {\n                from: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? {\n                    y: y + height / 2,\n                    y1: void 0,\n                    height: 0\n                } : {\n                    y: (y + y1) / 2,\n                    y1: (y + y1) / 2,\n                    height: void 0\n                },\n                to: {\n                    y: y,\n                    y1: y1,\n                    height: height\n                }\n            };\n        }\n\n      default:\n        {\n            const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\"), y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\"), from = {};\n            return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? (from.x = x + width / 2, from.width = 0, from.x1 = void 0) : (from.x = (x + x1) / 2, \n            from.x1 = (x + x1) / 2, from.width = void 0), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? (from.y = y + height / 2, \n            from.height = 0, from.y1 = void 0) : (from.y = (y + y1) / 2, from.y1 = (y + y1) / 2, \n            from.height = void 0), {\n                from: from,\n                to: {\n                    x: x,\n                    y: y,\n                    x1: x1,\n                    y1: y1,\n                    width: width,\n                    height: height\n                }\n            };\n        }\n    }\n};\n\nconst growCenterOut = (element, options, animationParameters) => {\n    switch (null == options ? void 0 : options.direction) {\n      case \"x\":\n        {\n            const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n            return {\n                to: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? {\n                    x: x + width / 2,\n                    x1: void 0,\n                    width: 0\n                } : {\n                    x: (x + x1) / 2,\n                    x1: (x + x1) / 2,\n                    width: void 0\n                }\n            };\n        }\n\n      case \"y\":\n        {\n            const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n            return {\n                to: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? {\n                    y: y + height / 2,\n                    y1: void 0,\n                    height: 0\n                } : {\n                    y: (y + y1) / 2,\n                    y1: (y + y1) / 2,\n                    height: void 0\n                }\n            };\n        }\n\n      default:\n        {\n            const x = element.getFinalAnimationAttribute(\"x\"), y = element.getFinalAnimationAttribute(\"y\"), x1 = element.getFinalAnimationAttribute(\"x1\"), y1 = element.getFinalAnimationAttribute(\"y1\"), width = element.getFinalAnimationAttribute(\"width\"), height = element.getFinalAnimationAttribute(\"height\"), to = {};\n            return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? (to.x = x + width / 2, to.width = 0, to.x1 = void 0) : (to.x = (x + x1) / 2, \n            to.x1 = (x + x1) / 2, to.width = void 0), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? (to.y = y + height / 2, \n            to.height = 0, to.y1 = void 0) : (to.y = (y + y1) / 2, to.y1 = (y + y1) / 2, to.height = void 0), \n            {\n                to: to\n            };\n        }\n    }\n};\n\nfunction growWidthInIndividual(element, options, animationParameters) {\n    const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n    if (options && \"negative\" === options.orient) {\n        const computedX1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? Math.max(x, x + width) : Math.max(x, x1);\n        return {\n            from: {\n                x: computedX1,\n                x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : computedX1,\n                width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n            },\n            to: {\n                x: x,\n                x1: x1,\n                width: width\n            }\n        };\n    }\n    const computedX = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? Math.min(x, x + width) : Math.min(x, x1);\n    return {\n        from: {\n            x: computedX,\n            x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : computedX,\n            width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n        },\n        to: {\n            x: x,\n            x1: x1,\n            width: width\n        }\n    };\n}\n\nfunction growWidthInOverall(element, options, animationParameters) {\n    var _a;\n    const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n    animationParameters.groupWidth = overallValue) : overallValue = animationParameters.width : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null == options ? void 0 : options.overall) ? null == options ? void 0 : options.overall : 0, \n    {\n        from: {\n            x: overallValue,\n            x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : overallValue,\n            width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n        },\n        to: {\n            x: x,\n            x1: x1,\n            width: width\n        }\n    };\n}\n\nconst growWidthIn = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growWidthInOverall(element, options, animationParameters) : growWidthInIndividual(element, options, animationParameters);\n};\n\nfunction growWidthOutIndividual(element, options, animationParameters) {\n    const x = element.getFinalAnimationAttribute(\"x\"), x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n    if (options && \"negative\" === options.orient) {\n        const computedX1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? Math.max(x, x + width) : Math.max(x, x1);\n        return {\n            to: {\n                x: computedX1,\n                x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : computedX1,\n                width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n            }\n        };\n    }\n    const computedX = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(width) ? Math.min(x, x + width) : Math.min(x, x1);\n    return {\n        to: {\n            x: computedX,\n            x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : computedX,\n            width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n        }\n    };\n}\n\nfunction growWidthOutOverall(element, options, animationParameters) {\n    var _a;\n    const x1 = element.getFinalAnimationAttribute(\"x1\"), width = element.getFinalAnimationAttribute(\"width\");\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n    animationParameters.groupWidth = overallValue) : overallValue = animationParameters.width : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        to: {\n            x: overallValue,\n            x1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(x1) ? void 0 : overallValue,\n            width: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(width) ? void 0 : 0\n        }\n    };\n}\n\nconst growWidthOut = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growWidthOutOverall(element, options, animationParameters) : growWidthOutIndividual(element, options, animationParameters);\n};\n\nfunction growHeightInIndividual(element, options, animationParameters) {\n    const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n    if (options && \"negative\" === options.orient) {\n        const computedY1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? Math.max(y, y + height) : Math.max(y, y1);\n        return {\n            from: {\n                y: computedY1,\n                y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : computedY1,\n                height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n            },\n            to: {\n                y: y,\n                y1: y1,\n                height: height\n            }\n        };\n    }\n    const computedY = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? Math.min(y, y + height) : Math.min(y, y1);\n    return {\n        from: {\n            y: computedY,\n            y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : computedY,\n            height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n        },\n        to: {\n            y: y,\n            y1: y1,\n            height: height\n        }\n    };\n}\n\nfunction growHeightInOverall(element, options, animationParameters) {\n    var _a;\n    const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupHeight) && void 0 !== _a ? _a : animationParameters.group.getBounds().height(), \n    animationParameters.groupHeight = overallValue) : overallValue = animationParameters.height : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        from: {\n            y: overallValue,\n            y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : overallValue,\n            height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n        },\n        to: {\n            y: y,\n            y1: y1,\n            height: height\n        }\n    };\n}\n\nconst growHeightIn = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growHeightInOverall(element, options, animationParameters) : growHeightInIndividual(element, options, animationParameters);\n};\n\nfunction growHeightOutIndividual(element, options, animationParameters) {\n    const y = element.getFinalAnimationAttribute(\"y\"), y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n    if (options && \"negative\" === options.orient) {\n        const computedY1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? Math.max(y, y + height) : Math.max(y, y1);\n        return {\n            to: {\n                y: computedY1,\n                y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : computedY1,\n                height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n            }\n        };\n    }\n    const computedY = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(height) ? Math.min(y, y + height) : Math.min(y, y1);\n    return {\n        to: {\n            y: computedY,\n            y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : computedY,\n            height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n        }\n    };\n}\n\nfunction growHeightOutOverall(element, options, animationParameters) {\n    var _a;\n    const y1 = element.getFinalAnimationAttribute(\"y1\"), height = element.getFinalAnimationAttribute(\"height\");\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupHeight) && void 0 !== _a ? _a : animationParameters.group.getBounds().height(), \n    animationParameters.groupHeight = overallValue) : overallValue = animationParameters.height : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        to: {\n            y: overallValue,\n            y1: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(y1) ? void 0 : overallValue,\n            height: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(height) ? void 0 : 0\n        }\n    };\n}\n\nconst growHeightOut = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growHeightOutOverall(element, options, animationParameters) : growHeightOutIndividual(element, options, animationParameters);\n};\n//# sourceMappingURL=grow-cartesian.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LWNhcnRlc2lhbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNEQ7O0FBRXJEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDREQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDREQUFPO0FBQzFCLDBEQUEwRCw0REFBTztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNERBQU87QUFDMUIsc0RBQXNELDREQUFPO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0REFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQUs7QUFDekIsdUJBQXVCLDREQUFLO0FBQzVCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQUs7QUFDckIsbUJBQW1CLDREQUFLO0FBQ3hCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCw0REFBUTtBQUM5RCwrR0FBK0csNERBQVE7QUFDdkg7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCLG1CQUFtQiw0REFBSztBQUN4QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDREQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0REFBSztBQUN6Qix1QkFBdUIsNERBQUs7QUFDNUI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDREQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBSztBQUNyQixtQkFBbUIsNERBQUs7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDREQUFRO0FBQzlELCtHQUErRyw0REFBUTtBQUN2SDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQUs7QUFDckIsbUJBQW1CLDREQUFLO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNERBQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFLO0FBQ3pCLHdCQUF3Qiw0REFBSztBQUM3QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNERBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCLG9CQUFvQiw0REFBSztBQUN6QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsNERBQVE7QUFDOUQsaUhBQWlILDREQUFRO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBSztBQUNyQixvQkFBb0IsNERBQUs7QUFDekIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0REFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQUs7QUFDekIsd0JBQXdCLDREQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQUs7QUFDckIsb0JBQW9CLDREQUFLO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCw0REFBUTtBQUM5RCxpSEFBaUgsNERBQVE7QUFDekg7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCLG9CQUFvQiw0REFBSztBQUN6QjtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LWNhcnRlc2lhbi5qcz9hZjE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsLCBpc051bWJlciwgaXNWYWxpZCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBncm93Q2VudGVySW4gPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHN3aXRjaCAobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5kaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieFwiKSwgeDEgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieDFcIiksIHdpZHRoID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIndpZHRoXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tOiBpc1ZhbGlkKHdpZHRoKSA/IHtcbiAgICAgICAgICAgICAgICAgICAgeDogeCArIHdpZHRoIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeDE6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDBcbiAgICAgICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgICAgICB4OiAoeCArIHgxKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHgxOiAoeCArIHgxKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2b2lkIDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgICAgIHgxOiB4MSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIFwieVwiOlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB5ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInlcIiksIHkxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInkxXCIpLCBoZWlnaHQgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwiaGVpZ2h0XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tOiBpc1ZhbGlkKGhlaWdodCkgPyB7XG4gICAgICAgICAgICAgICAgICAgIHk6IHkgKyBoZWlnaHQgLyAyLFxuICAgICAgICAgICAgICAgICAgICB5MTogdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgICAgICB5OiAoeSArIHkxKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHkxOiAoeSArIHkxKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdm9pZCAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgICAgICAgICB5MTogeTEsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInhcIiksIHgxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIngxXCIpLCB3aWR0aCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ3aWR0aFwiKSwgeSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5XCIpLCB5MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5MVwiKSwgaGVpZ2h0ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcImhlaWdodFwiKSwgZnJvbSA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQod2lkdGgpID8gKGZyb20ueCA9IHggKyB3aWR0aCAvIDIsIGZyb20ud2lkdGggPSAwLCBmcm9tLngxID0gdm9pZCAwKSA6IChmcm9tLnggPSAoeCArIHgxKSAvIDIsIFxuICAgICAgICAgICAgZnJvbS54MSA9ICh4ICsgeDEpIC8gMiwgZnJvbS53aWR0aCA9IHZvaWQgMCksIGlzVmFsaWQoaGVpZ2h0KSA/IChmcm9tLnkgPSB5ICsgaGVpZ2h0IC8gMiwgXG4gICAgICAgICAgICBmcm9tLmhlaWdodCA9IDAsIGZyb20ueTEgPSB2b2lkIDApIDogKGZyb20ueSA9ICh5ICsgeTEpIC8gMiwgZnJvbS55MSA9ICh5ICsgeTEpIC8gMiwgXG4gICAgICAgICAgICBmcm9tLmhlaWdodCA9IHZvaWQgMCksIHtcbiAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgICAgIHgxOiB4MSxcbiAgICAgICAgICAgICAgICAgICAgeTE6IHkxLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBncm93Q2VudGVyT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBzd2l0Y2ggKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMuZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIFwieFwiOlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInhcIiksIHgxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIngxXCIpLCB3aWR0aCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ3aWR0aFwiKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG86IGlzVmFsaWQod2lkdGgpID8ge1xuICAgICAgICAgICAgICAgICAgICB4OiB4ICsgd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgICAgICB4MTogdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMFxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6ICh4ICsgeDEpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeDE6ICh4ICsgeDEpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZvaWQgMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5XCIpLCB5MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5MVwiKSwgaGVpZ2h0ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG86IGlzVmFsaWQoaGVpZ2h0KSA/IHtcbiAgICAgICAgICAgICAgICAgICAgeTogeSArIGhlaWdodCAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHkxOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIHk6ICh5ICsgeTEpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeTE6ICh5ICsgeTEpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2b2lkIDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieFwiKSwgeSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5XCIpLCB4MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4MVwiKSwgeTEgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieTFcIiksIHdpZHRoID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIndpZHRoXCIpLCBoZWlnaHQgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwiaGVpZ2h0XCIpLCB0byA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQod2lkdGgpID8gKHRvLnggPSB4ICsgd2lkdGggLyAyLCB0by53aWR0aCA9IDAsIHRvLngxID0gdm9pZCAwKSA6ICh0by54ID0gKHggKyB4MSkgLyAyLCBcbiAgICAgICAgICAgIHRvLngxID0gKHggKyB4MSkgLyAyLCB0by53aWR0aCA9IHZvaWQgMCksIGlzVmFsaWQoaGVpZ2h0KSA/ICh0by55ID0geSArIGhlaWdodCAvIDIsIFxuICAgICAgICAgICAgdG8uaGVpZ2h0ID0gMCwgdG8ueTEgPSB2b2lkIDApIDogKHRvLnkgPSAoeSArIHkxKSAvIDIsIHRvLnkxID0gKHkgKyB5MSkgLyAyLCB0by5oZWlnaHQgPSB2b2lkIDApLCBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0bzogdG9cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBncm93V2lkdGhJbkluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykge1xuICAgIGNvbnN0IHggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieFwiKSwgeDEgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieDFcIiksIHdpZHRoID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIndpZHRoXCIpO1xuICAgIGlmIChvcHRpb25zICYmIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRYMSA9IGlzVmFsaWQod2lkdGgpID8gTWF0aC5tYXgoeCwgeCArIHdpZHRoKSA6IE1hdGgubWF4KHgsIHgxKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICB4OiBjb21wdXRlZFgxLFxuICAgICAgICAgICAgICAgIHgxOiBpc05pbCh4MSkgPyB2b2lkIDAgOiBjb21wdXRlZFgxLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBpc05pbCh3aWR0aCkgPyB2b2lkIDAgOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHgxOiB4MSxcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWRYID0gaXNWYWxpZCh3aWR0aCkgPyBNYXRoLm1pbih4LCB4ICsgd2lkdGgpIDogTWF0aC5taW4oeCwgeDEpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHg6IGNvbXB1dGVkWCxcbiAgICAgICAgICAgIHgxOiBpc05pbCh4MSkgPyB2b2lkIDAgOiBjb21wdXRlZFgsXG4gICAgICAgICAgICB3aWR0aDogaXNOaWwod2lkdGgpID8gdm9pZCAwIDogMFxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHgxOiB4MSxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ3Jvd1dpZHRoSW5PdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4XCIpLCB4MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4MVwiKSwgd2lkdGggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgbGV0IG92ZXJhbGxWYWx1ZTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8gaXNOdW1iZXIob3B0aW9ucy5vdmVyYWxsKSA/IG92ZXJhbGxWYWx1ZSA9IG9wdGlvbnMub3ZlcmFsbCA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgPyAob3ZlcmFsbFZhbHVlID0gbnVsbCAhPT0gKF9hID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cFdpZHRoKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLndpZHRoKCksIFxuICAgIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBXaWR0aCA9IG92ZXJhbGxWYWx1ZSkgOiBvdmVyYWxsVmFsdWUgPSBhbmltYXRpb25QYXJhbWV0ZXJzLndpZHRoIDogb3ZlcmFsbFZhbHVlID0gaXNOdW1iZXIobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSA/IG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCA6IDAsIFxuICAgIHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgeDogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgeDE6IGlzTmlsKHgxKSA/IHZvaWQgMCA6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIHdpZHRoOiBpc05pbCh3aWR0aCkgPyB2b2lkIDAgOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeDE6IHgxLFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgY29uc3QgZ3Jvd1dpZHRoSW4gPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gITEgIT09IChudWxsICE9PSAoX2EgPSBudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpICYmIHZvaWQgMCAhPT0gX2EgJiYgX2EpID8gZ3Jvd1dpZHRoSW5PdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIDogZ3Jvd1dpZHRoSW5JbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpO1xufTtcblxuZnVuY3Rpb24gZ3Jvd1dpZHRoT3V0SW5kaXZpZHVhbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgeCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4XCIpLCB4MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ4MVwiKSwgd2lkdGggPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgaWYgKG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCkge1xuICAgICAgICBjb25zdCBjb21wdXRlZFgxID0gaXNWYWxpZCh3aWR0aCkgPyBNYXRoLm1heCh4LCB4ICsgd2lkdGgpIDogTWF0aC5tYXgoeCwgeDEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiBjb21wdXRlZFgxLFxuICAgICAgICAgICAgICAgIHgxOiBpc05pbCh4MSkgPyB2b2lkIDAgOiBjb21wdXRlZFgxLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBpc05pbCh3aWR0aCkgPyB2b2lkIDAgOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkWCA9IGlzVmFsaWQod2lkdGgpID8gTWF0aC5taW4oeCwgeCArIHdpZHRoKSA6IE1hdGgubWluKHgsIHgxKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeDogY29tcHV0ZWRYLFxuICAgICAgICAgICAgeDE6IGlzTmlsKHgxKSA/IHZvaWQgMCA6IGNvbXB1dGVkWCxcbiAgICAgICAgICAgIHdpZHRoOiBpc05pbCh3aWR0aCkgPyB2b2lkIDAgOiAwXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBncm93V2lkdGhPdXRPdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeDEgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieDFcIiksIHdpZHRoID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcIndpZHRoXCIpO1xuICAgIGxldCBvdmVyYWxsVmFsdWU7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCA/IGlzTnVtYmVyKG9wdGlvbnMub3ZlcmFsbCkgPyBvdmVyYWxsVmFsdWUgPSBvcHRpb25zLm92ZXJhbGwgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwID8gKG92ZXJhbGxWYWx1ZSA9IG51bGwgIT09IChfYSA9IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBXaWR0aCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cC5nZXRCb3VuZHMoKS53aWR0aCgpLCBcbiAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGggPSBvdmVyYWxsVmFsdWUpIDogb3ZlcmFsbFZhbHVlID0gYW5pbWF0aW9uUGFyYW1ldGVycy53aWR0aCA6IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwLCBcbiAgICB7XG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB4OiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICB4MTogaXNOaWwoeDEpID8gdm9pZCAwIDogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgd2lkdGg6IGlzTmlsKHdpZHRoKSA/IHZvaWQgMCA6IDBcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBjb25zdCBncm93V2lkdGhPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gITEgIT09IChudWxsICE9PSAoX2EgPSBudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpICYmIHZvaWQgMCAhPT0gX2EgJiYgX2EpID8gZ3Jvd1dpZHRoT3V0T3ZlcmFsbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA6IGdyb3dXaWR0aE91dEluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycyk7XG59O1xuXG5mdW5jdGlvbiBncm93SGVpZ2h0SW5JbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCB5ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInlcIiksIHkxID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcInkxXCIpLCBoZWlnaHQgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwiaGVpZ2h0XCIpO1xuICAgIGlmIChvcHRpb25zICYmIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRZMSA9IGlzVmFsaWQoaGVpZ2h0KSA/IE1hdGgubWF4KHksIHkgKyBoZWlnaHQpIDogTWF0aC5tYXgoeSwgeTEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHk6IGNvbXB1dGVkWTEsXG4gICAgICAgICAgICAgICAgeTE6IGlzTmlsKHkxKSA/IHZvaWQgMCA6IGNvbXB1dGVkWTEsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBpc05pbChoZWlnaHQpID8gdm9pZCAwIDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgICB5MTogeTEsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWRZID0gaXNWYWxpZChoZWlnaHQpID8gTWF0aC5taW4oeSwgeSArIGhlaWdodCkgOiBNYXRoLm1pbih5LCB5MSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgeTogY29tcHV0ZWRZLFxuICAgICAgICAgICAgeTE6IGlzTmlsKHkxKSA/IHZvaWQgMCA6IGNvbXB1dGVkWSxcbiAgICAgICAgICAgIGhlaWdodDogaXNOaWwoaGVpZ2h0KSA/IHZvaWQgMCA6IDBcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB5MTogeTEsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ3Jvd0hlaWdodEluT3ZlcmFsbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHkgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieVwiKSwgeTEgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieTFcIiksIGhlaWdodCA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gICAgbGV0IG92ZXJhbGxWYWx1ZTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8gaXNOdW1iZXIob3B0aW9ucy5vdmVyYWxsKSA/IG92ZXJhbGxWYWx1ZSA9IG9wdGlvbnMub3ZlcmFsbCA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgPyAob3ZlcmFsbFZhbHVlID0gbnVsbCAhPT0gKF9hID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cEhlaWdodCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cC5nZXRCb3VuZHMoKS5oZWlnaHQoKSwgXG4gICAgYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cEhlaWdodCA9IG92ZXJhbGxWYWx1ZSkgOiBvdmVyYWxsVmFsdWUgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmhlaWdodCA6IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwLCBcbiAgICB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHk6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIHkxOiBpc05pbCh5MSkgPyB2b2lkIDAgOiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICBoZWlnaHQ6IGlzTmlsKGhlaWdodCkgPyB2b2lkIDAgOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgeTE6IHkxLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBjb25zdCBncm93SGVpZ2h0SW4gPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gITEgIT09IChudWxsICE9PSAoX2EgPSBudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpICYmIHZvaWQgMCAhPT0gX2EgJiYgX2EpID8gZ3Jvd0hlaWdodEluT3ZlcmFsbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA6IGdyb3dIZWlnaHRJbkluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycyk7XG59O1xuXG5mdW5jdGlvbiBncm93SGVpZ2h0T3V0SW5kaXZpZHVhbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgeSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5XCIpLCB5MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5MVwiKSwgaGVpZ2h0ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICBpZiAob3B0aW9ucyAmJiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkWTEgPSBpc1ZhbGlkKGhlaWdodCkgPyBNYXRoLm1heCh5LCB5ICsgaGVpZ2h0KSA6IE1hdGgubWF4KHksIHkxKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgeTogY29tcHV0ZWRZMSxcbiAgICAgICAgICAgICAgICB5MTogaXNOaWwoeTEpID8gdm9pZCAwIDogY29tcHV0ZWRZMSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGlzTmlsKGhlaWdodCkgPyB2b2lkIDAgOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkWSA9IGlzVmFsaWQoaGVpZ2h0KSA/IE1hdGgubWluKHksIHkgKyBoZWlnaHQpIDogTWF0aC5taW4oeSwgeTEpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB5OiBjb21wdXRlZFksXG4gICAgICAgICAgICB5MTogaXNOaWwoeTEpID8gdm9pZCAwIDogY29tcHV0ZWRZLFxuICAgICAgICAgICAgaGVpZ2h0OiBpc05pbChoZWlnaHQpID8gdm9pZCAwIDogMFxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ3Jvd0hlaWdodE91dE92ZXJhbGwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB5MSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5MVwiKSwgaGVpZ2h0ID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICBsZXQgb3ZlcmFsbFZhbHVlO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQgPyBpc051bWJlcihvcHRpb25zLm92ZXJhbGwpID8gb3ZlcmFsbFZhbHVlID0gb3B0aW9ucy5vdmVyYWxsIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cCA/IChvdmVyYWxsVmFsdWUgPSBudWxsICE9PSAoX2EgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwSGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLmhlaWdodCgpLCBcbiAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwSGVpZ2h0ID0gb3ZlcmFsbFZhbHVlKSA6IG92ZXJhbGxWYWx1ZSA9IGFuaW1hdGlvblBhcmFtZXRlcnMuaGVpZ2h0IDogb3ZlcmFsbFZhbHVlID0gaXNOdW1iZXIobnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSA/IG9wdGlvbnMub3ZlcmFsbCA6IDAsIFxuICAgIHtcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHk6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIHkxOiBpc05pbCh5MSkgPyB2b2lkIDAgOiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICBoZWlnaHQ6IGlzTmlsKGhlaWdodCkgPyB2b2lkIDAgOiAwXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgY29uc3QgZ3Jvd0hlaWdodE91dCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAhMSAhPT0gKG51bGwgIT09IChfYSA9IG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgJiYgdm9pZCAwICE9PSBfYSAmJiBfYSkgPyBncm93SGVpZ2h0T3V0T3ZlcmFsbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA6IGdyb3dIZWlnaHRPdXRJbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3ctY2FydGVzaWFuLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-cartesian.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-interval.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-interval.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   growIntervalIn: () => (/* binding */ growIntervalIn),\n/* harmony export */   growIntervalOut: () => (/* binding */ growIntervalOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nfunction growIntervalInIndividual(element, options, animationParameters) {\n    const attrs = element.getFinalAnimationAttributes();\n    if (options && \"x\" === options.direction) {\n        const x = null == attrs ? void 0 : attrs.x, x1 = null == attrs ? void 0 : attrs.x1;\n        return \"negative\" === options.orient ? {\n            from: {\n                x: x1,\n                x1: x1\n            },\n            to: {\n                x: x,\n                x1: x1\n            }\n        } : {\n            from: {\n                x: x,\n                x1: x\n            },\n            to: {\n                x: x,\n                y1: x1\n            }\n        };\n    }\n    const y = null == attrs ? void 0 : attrs.y, y1 = null == attrs ? void 0 : attrs.y1;\n    return options && \"negative\" === options.orient ? {\n        from: {\n            y: y1,\n            y1: y1\n        },\n        to: {\n            y: y,\n            y1: y1\n        }\n    } : {\n        from: {\n            y: y,\n            y1: y\n        },\n        to: {\n            y: y,\n            y1: y1\n        }\n    };\n}\n\nfunction growIntervalInOverall(element, options, animationParameters) {\n    var _a, _b;\n    const attrs = element.getFinalAnimationAttributes();\n    if (options && \"x\" === options.direction) {\n        const x = null == attrs ? void 0 : attrs.x, x1 = null == attrs ? void 0 : attrs.x1;\n        let overallValue;\n        return \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n        animationParameters.groupWidth = overallValue) : overallValue = animationParameters.width : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n        {\n            from: {\n                x: overallValue,\n                x1: overallValue\n            },\n            to: {\n                x: x,\n                y1: x1\n            }\n        };\n    }\n    const y = null == attrs ? void 0 : attrs.y, y1 = null == attrs ? void 0 : attrs.y1;\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_b = animationParameters.groupHeight) && void 0 !== _b ? _b : animationParameters.group.getBounds().height(), \n    animationParameters.groupHeight = overallValue) : overallValue = animationParameters.height : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        from: {\n            y: overallValue,\n            y1: overallValue\n        },\n        to: {\n            y: y,\n            y1: y1\n        }\n    };\n}\n\nconst growIntervalIn = (element, options, animationParameters) => {\n    var _a, _b;\n    const coord = null === (_b = null === (_a = element.mark) || void 0 === _a ? void 0 : _a.coord) || void 0 === _b ? void 0 : _b.output(), isTransposed = coord.isTransposed(), isPolar = \"polar\" === coord.type, newOptions = {\n        orient: \"negative\",\n        direction: isTransposed && !isPolar ? \"x\" : \"y\"\n    };\n    return options && !0 !== options.overall ? growIntervalInIndividual(element, newOptions, animationParameters) : growIntervalInOverall(element, newOptions, animationParameters);\n};\n\nfunction growIntervalOutIndividual(element, options, animationParameters) {\n    const attrs = element.getFinalAnimationAttributes();\n    if (options && \"x\" === options.direction) {\n        const x = null == attrs ? void 0 : attrs.x, x1 = null == attrs ? void 0 : attrs.x1, prevX = element.getGraphicAttribute(\"x\", !0), prevX1 = element.getGraphicAttribute(\"x1\", !0);\n        return \"negative\" === options.orient ? {\n            from: {\n                x: prevX,\n                x1: prevX1\n            },\n            to: {\n                x: x1,\n                x1: x1\n            }\n        } : {\n            from: {\n                x: prevX,\n                x1: prevX1\n            },\n            to: {\n                x: x,\n                x1: x\n            }\n        };\n    }\n    const y = null == attrs ? void 0 : attrs.y, y1 = null == attrs ? void 0 : attrs.y1, prevY = element.getGraphicAttribute(\"y\", !0), prevY1 = element.getGraphicAttribute(\"y1\", !0);\n    return options && \"negative\" === options.orient ? {\n        from: {\n            y: prevY,\n            y1: prevY1\n        },\n        to: {\n            y: y1,\n            y1: y1\n        }\n    } : {\n        from: {\n            y: prevY,\n            y1: prevY1\n        },\n        to: {\n            y: y,\n            y1: y\n        }\n    };\n}\n\nfunction growIntervalOutOverall(element, options, animationParameters) {\n    var _a, _b;\n    if (options && \"x\" === options.direction) {\n        const prevX = element.getGraphicAttribute(\"x\", !0), prevX1 = element.getGraphicAttribute(\"x1\", !0);\n        let overallValue;\n        return \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n        animationParameters.groupWidth = overallValue) : overallValue = animationParameters.width : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n        {\n            from: {\n                x: prevX,\n                x1: prevX1\n            },\n            to: {\n                x: overallValue,\n                x1: overallValue\n            }\n        };\n    }\n    const prevY = element.getGraphicAttribute(\"y\", !0), prevY1 = element.getGraphicAttribute(\"y1\", !0);\n    let overallValue;\n    return options && \"negative\" === options.orient ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? overallValue = options.overall : animationParameters.group ? (overallValue = null !== (_b = animationParameters.groupHeight) && void 0 !== _b ? _b : animationParameters.group.getBounds().height(), \n    animationParameters.groupHeight = overallValue) : overallValue = animationParameters.height : overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0, \n    {\n        from: {\n            y: prevY,\n            y1: prevY1\n        },\n        to: {\n            y: overallValue,\n            y1: overallValue\n        }\n    };\n}\n\nconst growIntervalOut = (element, options, animationParameters) => {\n    var _a, _b;\n    const coord = null === (_b = null === (_a = element.mark) || void 0 === _a ? void 0 : _a.coord) || void 0 === _b ? void 0 : _b.output(), isTransposed = coord.isTransposed(), isPolar = \"polar\" === coord.type, newOptions = {\n        orient: \"negative\",\n        direction: isTransposed && !isPolar ? \"x\" : \"y\"\n    };\n    return options && !0 !== options.overall ? growIntervalOutIndividual(element, newOptions, animationParameters) : growIntervalOutOverall(element, newOptions, animationParameters);\n};\n//# sourceMappingURL=grow-interval.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LWludGVydmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0Qzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyw0REFBUTtBQUN2RCxtSEFBbUgsNERBQVE7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCw0REFBUTtBQUM5RCxpSEFBaUgsNERBQVE7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsNERBQVE7QUFDdkQsbUhBQW1ILDREQUFRO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsNERBQVE7QUFDOUQsaUhBQWlILDREQUFRO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb24vZ3Jvdy1pbnRlcnZhbC5qcz9kODIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZnVuY3Rpb24gZ3Jvd0ludGVydmFsSW5JbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBhdHRycyA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGVzKCk7XG4gICAgaWYgKG9wdGlvbnMgJiYgXCJ4XCIgPT09IG9wdGlvbnMuZGlyZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHggPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueCwgeDEgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueDE7XG4gICAgICAgIHJldHVybiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IHgxLFxuICAgICAgICAgICAgICAgIHgxOiB4MVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB4MTogeDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHgxOiB4XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHkxOiB4MVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB5ID0gbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLnksIHkxID0gbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLnkxO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmllbnQgPyB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHk6IHkxLFxuICAgICAgICAgICAgeTE6IHkxXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgeTE6IHkxXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgeTE6IHlcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB5MTogeTFcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdyb3dJbnRlcnZhbEluT3ZlcmFsbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBhdHRycyA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGVzKCk7XG4gICAgaWYgKG9wdGlvbnMgJiYgXCJ4XCIgPT09IG9wdGlvbnMuZGlyZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHggPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueCwgeDEgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueDE7XG4gICAgICAgIGxldCBvdmVyYWxsVmFsdWU7XG4gICAgICAgIHJldHVybiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8gaXNOdW1iZXIob3B0aW9ucy5vdmVyYWxsKSA/IG92ZXJhbGxWYWx1ZSA9IG9wdGlvbnMub3ZlcmFsbCA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgPyAob3ZlcmFsbFZhbHVlID0gbnVsbCAhPT0gKF9hID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cFdpZHRoKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLndpZHRoKCksIFxuICAgICAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGggPSBvdmVyYWxsVmFsdWUpIDogb3ZlcmFsbFZhbHVlID0gYW5pbWF0aW9uUGFyYW1ldGVycy53aWR0aCA6IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwLCBcbiAgICAgICAge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgICAgICB4MTogb3ZlcmFsbFZhbHVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHkxOiB4MVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB5ID0gbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLnksIHkxID0gbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLnkxO1xuICAgIGxldCBvdmVyYWxsVmFsdWU7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCA/IGlzTnVtYmVyKG9wdGlvbnMub3ZlcmFsbCkgPyBvdmVyYWxsVmFsdWUgPSBvcHRpb25zLm92ZXJhbGwgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwID8gKG92ZXJhbGxWYWx1ZSA9IG51bGwgIT09IChfYiA9IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBIZWlnaHQpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAuZ2V0Qm91bmRzKCkuaGVpZ2h0KCksIFxuICAgIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBIZWlnaHQgPSBvdmVyYWxsVmFsdWUpIDogb3ZlcmFsbFZhbHVlID0gYW5pbWF0aW9uUGFyYW1ldGVycy5oZWlnaHQgOiBvdmVyYWxsVmFsdWUgPSBpc051bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpID8gb3B0aW9ucy5vdmVyYWxsIDogMCwgXG4gICAge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICB5OiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICB5MTogb3ZlcmFsbFZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgeTE6IHkxXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgY29uc3QgZ3Jvd0ludGVydmFsSW4gPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgY29vcmQgPSBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSBlbGVtZW50Lm1hcmspIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jb29yZCkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLm91dHB1dCgpLCBpc1RyYW5zcG9zZWQgPSBjb29yZC5pc1RyYW5zcG9zZWQoKSwgaXNQb2xhciA9IFwicG9sYXJcIiA9PT0gY29vcmQudHlwZSwgbmV3T3B0aW9ucyA9IHtcbiAgICAgICAgb3JpZW50OiBcIm5lZ2F0aXZlXCIsXG4gICAgICAgIGRpcmVjdGlvbjogaXNUcmFuc3Bvc2VkICYmICFpc1BvbGFyID8gXCJ4XCIgOiBcInlcIlxuICAgIH07XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgITAgIT09IG9wdGlvbnMub3ZlcmFsbCA/IGdyb3dJbnRlcnZhbEluSW5kaXZpZHVhbChlbGVtZW50LCBuZXdPcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA6IGdyb3dJbnRlcnZhbEluT3ZlcmFsbChlbGVtZW50LCBuZXdPcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKTtcbn07XG5cbmZ1bmN0aW9uIGdyb3dJbnRlcnZhbE91dEluZGl2aWR1YWwoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykge1xuICAgIGNvbnN0IGF0dHJzID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZXMoKTtcbiAgICBpZiAob3B0aW9ucyAmJiBcInhcIiA9PT0gb3B0aW9ucy5kaXJlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgeCA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy54LCB4MSA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy54MSwgcHJldlggPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIsICEwKSwgcHJldlgxID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDFcIiwgITApO1xuICAgICAgICByZXR1cm4gXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCA/IHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICB4OiBwcmV2WCxcbiAgICAgICAgICAgICAgICB4MTogcHJldlgxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiB4MSxcbiAgICAgICAgICAgICAgICB4MTogeDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICB4OiBwcmV2WCxcbiAgICAgICAgICAgICAgICB4MTogcHJldlgxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHgxOiB4XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHkgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueSwgeTEgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMueTEsIHByZXZZID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiLCAhMCksIHByZXZZMSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInkxXCIsICEwKTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICB5OiBwcmV2WSxcbiAgICAgICAgICAgIHkxOiBwcmV2WTFcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHk6IHkxLFxuICAgICAgICAgICAgeTE6IHkxXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICB5OiBwcmV2WSxcbiAgICAgICAgICAgIHkxOiBwcmV2WTFcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB5MTogeVxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ3Jvd0ludGVydmFsT3V0T3ZlcmFsbChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAob3B0aW9ucyAmJiBcInhcIiA9PT0gb3B0aW9ucy5kaXJlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgcHJldlggPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIsICEwKSwgcHJldlgxID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieDFcIiwgITApO1xuICAgICAgICBsZXQgb3ZlcmFsbFZhbHVlO1xuICAgICAgICByZXR1cm4gXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCA/IGlzTnVtYmVyKG9wdGlvbnMub3ZlcmFsbCkgPyBvdmVyYWxsVmFsdWUgPSBvcHRpb25zLm92ZXJhbGwgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwID8gKG92ZXJhbGxWYWx1ZSA9IG51bGwgIT09IChfYSA9IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBXaWR0aCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cC5nZXRCb3VuZHMoKS53aWR0aCgpLCBcbiAgICAgICAgYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cFdpZHRoID0gb3ZlcmFsbFZhbHVlKSA6IG92ZXJhbGxWYWx1ZSA9IGFuaW1hdGlvblBhcmFtZXRlcnMud2lkdGggOiBvdmVyYWxsVmFsdWUgPSBpc051bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpID8gb3B0aW9ucy5vdmVyYWxsIDogMCwgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICB4OiBwcmV2WCxcbiAgICAgICAgICAgICAgICB4MTogcHJldlgxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICAgICAgeDE6IG92ZXJhbGxWYWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBwcmV2WSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIiwgITApLCBwcmV2WTEgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5MVwiLCAhMCk7XG4gICAgbGV0IG92ZXJhbGxWYWx1ZTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBcIm5lZ2F0aXZlXCIgPT09IG9wdGlvbnMub3JpZW50ID8gaXNOdW1iZXIob3B0aW9ucy5vdmVyYWxsKSA/IG92ZXJhbGxWYWx1ZSA9IG9wdGlvbnMub3ZlcmFsbCA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgPyAob3ZlcmFsbFZhbHVlID0gbnVsbCAhPT0gKF9iID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cEhlaWdodCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cC5nZXRCb3VuZHMoKS5oZWlnaHQoKSwgXG4gICAgYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cEhlaWdodCA9IG92ZXJhbGxWYWx1ZSkgOiBvdmVyYWxsVmFsdWUgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmhlaWdodCA6IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAwLCBcbiAgICB7XG4gICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHk6IHByZXZZLFxuICAgICAgICAgICAgeTE6IHByZXZZMVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgeTogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgeTE6IG92ZXJhbGxWYWx1ZVxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdyb3dJbnRlcnZhbE91dCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBjb29yZCA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IGVsZW1lbnQubWFyaykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmNvb3JkKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2Iub3V0cHV0KCksIGlzVHJhbnNwb3NlZCA9IGNvb3JkLmlzVHJhbnNwb3NlZCgpLCBpc1BvbGFyID0gXCJwb2xhclwiID09PSBjb29yZC50eXBlLCBuZXdPcHRpb25zID0ge1xuICAgICAgICBvcmllbnQ6IFwibmVnYXRpdmVcIixcbiAgICAgICAgZGlyZWN0aW9uOiBpc1RyYW5zcG9zZWQgJiYgIWlzUG9sYXIgPyBcInhcIiA6IFwieVwiXG4gICAgfTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiAhMCAhPT0gb3B0aW9ucy5vdmVyYWxsID8gZ3Jvd0ludGVydmFsT3V0SW5kaXZpZHVhbChlbGVtZW50LCBuZXdPcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA6IGdyb3dJbnRlcnZhbE91dE92ZXJhbGwoZWxlbWVudCwgbmV3T3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3Jvdy1pbnRlcnZhbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-interval.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-points.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-points.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   growPointsIn: () => (/* binding */ growPointsIn),\n/* harmony export */   growPointsOut: () => (/* binding */ growPointsOut),\n/* harmony export */   growPointsXIn: () => (/* binding */ growPointsXIn),\n/* harmony export */   growPointsXOut: () => (/* binding */ growPointsXOut),\n/* harmony export */   growPointsYIn: () => (/* binding */ growPointsYIn),\n/* harmony export */   growPointsYOut: () => (/* binding */ growPointsYOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst getCenterPoints = (element, options, animationParameters) => {\n    const points = element.getGraphicAttribute(\"points\", !1), center = {\n        x: 0,\n        y: 0\n    };\n    return points.forEach((point => {\n        center.x += point.x, center.y += point.y;\n    })), center.x /= points.length, center.y /= points.length, options && options.center && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.center.x) && (center.x = options.center.x), \n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.center.y) && (center.y = options.center.y)), \"area\" === element.mark.markType && (center.x1 = center.x, \n    center.y1 = center.y), points.map((point => Object.assign({}, point, center)));\n};\n\nconst growPointsIn = (element, options, animationParameters) => ({\n    from: {\n        points: getCenterPoints(element, options)\n    },\n    to: {\n        points: element.getGraphicAttribute(\"points\", !1)\n    }\n});\n\nconst growPointsOut = (element, options, animationParameters) => ({\n    from: {\n        points: element.getGraphicAttribute(\"points\", !0)\n    },\n    to: {\n        points: getCenterPoints(element, options)\n    }\n});\n\nconst changePointsX = (element, options, animationParameters) => {\n    var _a;\n    return (null !== (_a = element.getGraphicAttribute(\"points\", !1)) && void 0 !== _a ? _a : []).map((point => {\n        var _a;\n        if (options && \"negative\" === options.orient) {\n            let groupRight = animationParameters.width;\n            return animationParameters.group && (groupRight = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n            animationParameters.groupWidth = groupRight), Object.assign(Object.assign({}, point), {\n                x: groupRight,\n                y: point.y,\n                x1: groupRight,\n                y1: point.y1,\n                defined: !1 !== point.defined\n            });\n        }\n        return Object.assign(Object.assign({}, point), {\n            x: 0,\n            y: point.y,\n            x1: 0,\n            y1: point.y1,\n            defined: !1 !== point.defined\n        });\n    }));\n};\n\nconst growPointsXIn = (element, options, animationParameters) => ({\n    from: {\n        points: changePointsX(element, options, animationParameters)\n    },\n    to: {\n        points: element.getGraphicAttribute(\"points\", !1)\n    }\n});\n\nconst growPointsXOut = (element, options, animationParameters) => ({\n    from: {\n        points: element.getGraphicAttribute(\"points\", !0)\n    },\n    to: {\n        points: changePointsX(element, options, animationParameters)\n    }\n});\n\nconst changePointsY = (element, options, animationParameters) => {\n    var _a;\n    return (null !== (_a = element.getGraphicAttribute(\"points\", !1)) && void 0 !== _a ? _a : []).map((point => {\n        var _a;\n        if (options && \"negative\" === options.orient) {\n            let groupBottom = animationParameters.height;\n            return animationParameters.group && (groupBottom = null !== (_a = animationParameters.groupHeight) && void 0 !== _a ? _a : animationParameters.group.getBounds().height(), \n            animationParameters.groupHeight = groupBottom), Object.assign(Object.assign({}, point), {\n                x: point.x,\n                y: groupBottom,\n                x1: point.x1,\n                y1: groupBottom,\n                defined: !1 !== point.defined\n            });\n        }\n        return Object.assign(Object.assign({}, point), {\n            x: point.x,\n            y: 0,\n            x1: point.x1,\n            y1: 0,\n            defined: !1 !== point.defined\n        });\n    }));\n};\n\nconst growPointsYIn = (element, options, animationParameters) => ({\n    from: {\n        points: changePointsY(element, options, animationParameters)\n    },\n    to: {\n        points: element.getGraphicAttribute(\"points\", !1)\n    }\n});\n\nconst growPointsYOut = (element, options, animationParameters) => ({\n    from: {\n        points: element.getGraphicAttribute(\"points\", !0)\n    },\n    to: {\n        points: changePointsY(element, options, animationParameters)\n    }\n});\n//# sourceMappingURL=grow-points.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LXBvaW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlEOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssd0ZBQXdGLDREQUFhO0FBQzFHLElBQUksNERBQWE7QUFDakIsZ0VBQWdFO0FBQ2hFOztBQUVPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVNO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRU07QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEY7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFTTtBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0aW9uL2dyb3ctcG9pbnRzLmpzPzU5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmNvbnN0IGdldENlbnRlclBvaW50cyA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgcG9pbnRzID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExKSwgY2VudGVyID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfTtcbiAgICByZXR1cm4gcG9pbnRzLmZvckVhY2goKHBvaW50ID0+IHtcbiAgICAgICAgY2VudGVyLnggKz0gcG9pbnQueCwgY2VudGVyLnkgKz0gcG9pbnQueTtcbiAgICB9KSksIGNlbnRlci54IC89IHBvaW50cy5sZW5ndGgsIGNlbnRlci55IC89IHBvaW50cy5sZW5ndGgsIG9wdGlvbnMgJiYgb3B0aW9ucy5jZW50ZXIgJiYgKGlzVmFsaWROdW1iZXIob3B0aW9ucy5jZW50ZXIueCkgJiYgKGNlbnRlci54ID0gb3B0aW9ucy5jZW50ZXIueCksIFxuICAgIGlzVmFsaWROdW1iZXIob3B0aW9ucy5jZW50ZXIueSkgJiYgKGNlbnRlci55ID0gb3B0aW9ucy5jZW50ZXIueSkpLCBcImFyZWFcIiA9PT0gZWxlbWVudC5tYXJrLm1hcmtUeXBlICYmIChjZW50ZXIueDEgPSBjZW50ZXIueCwgXG4gICAgY2VudGVyLnkxID0gY2VudGVyLnkpLCBwb2ludHMubWFwKChwb2ludCA9PiBPYmplY3QuYXNzaWduKHt9LCBwb2ludCwgY2VudGVyKSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdyb3dQb2ludHNJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiAoe1xuICAgIGZyb206IHtcbiAgICAgICAgcG9pbnRzOiBnZXRDZW50ZXJQb2ludHMoZWxlbWVudCwgb3B0aW9ucylcbiAgICB9LFxuICAgIHRvOiB7XG4gICAgICAgIHBvaW50czogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwicG9pbnRzXCIsICExKVxuICAgIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgZ3Jvd1BvaW50c091dCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiAoe1xuICAgIGZyb206IHtcbiAgICAgICAgcG9pbnRzOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwb2ludHNcIiwgITApXG4gICAgfSxcbiAgICB0bzoge1xuICAgICAgICBwb2ludHM6IGdldENlbnRlclBvaW50cyhlbGVtZW50LCBvcHRpb25zKVxuICAgIH1cbn0pO1xuXG5jb25zdCBjaGFuZ2VQb2ludHNYID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChudWxsICE9PSAoX2EgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwb2ludHNcIiwgITEpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXSkubWFwKChwb2ludCA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCkge1xuICAgICAgICAgICAgbGV0IGdyb3VwUmlnaHQgPSBhbmltYXRpb25QYXJhbWV0ZXJzLndpZHRoO1xuICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAgJiYgKGdyb3VwUmlnaHQgPSBudWxsICE9PSAoX2EgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGgpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXAuZ2V0Qm91bmRzKCkud2lkdGgoKSwgXG4gICAgICAgICAgICBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwV2lkdGggPSBncm91cFJpZ2h0KSwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwb2ludCksIHtcbiAgICAgICAgICAgICAgICB4OiBncm91cFJpZ2h0LFxuICAgICAgICAgICAgICAgIHk6IHBvaW50LnksXG4gICAgICAgICAgICAgICAgeDE6IGdyb3VwUmlnaHQsXG4gICAgICAgICAgICAgICAgeTE6IHBvaW50LnkxLFxuICAgICAgICAgICAgICAgIGRlZmluZWQ6ICExICE9PSBwb2ludC5kZWZpbmVkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwb2ludCksIHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgICAgeDE6IDAsXG4gICAgICAgICAgICB5MTogcG9pbnQueTEsXG4gICAgICAgICAgICBkZWZpbmVkOiAhMSAhPT0gcG9pbnQuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICB9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ3Jvd1BvaW50c1hJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiAoe1xuICAgIGZyb206IHtcbiAgICAgICAgcG9pbnRzOiBjaGFuZ2VQb2ludHNYKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpXG4gICAgfSxcbiAgICB0bzoge1xuICAgICAgICBwb2ludHM6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMSlcbiAgICB9XG59KTtcblxuZXhwb3J0IGNvbnN0IGdyb3dQb2ludHNYT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+ICh7XG4gICAgZnJvbToge1xuICAgICAgICBwb2ludHM6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMClcbiAgICB9LFxuICAgIHRvOiB7XG4gICAgICAgIHBvaW50czogY2hhbmdlUG9pbnRzWChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKVxuICAgIH1cbn0pO1xuXG5jb25zdCBjaGFuZ2VQb2ludHNZID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChudWxsICE9PSAoX2EgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJwb2ludHNcIiwgITEpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXSkubWFwKChwb2ludCA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgXCJuZWdhdGl2ZVwiID09PSBvcHRpb25zLm9yaWVudCkge1xuICAgICAgICAgICAgbGV0IGdyb3VwQm90dG9tID0gYW5pbWF0aW9uUGFyYW1ldGVycy5oZWlnaHQ7XG4gICAgICAgICAgICByZXR1cm4gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cCAmJiAoZ3JvdXBCb3R0b20gPSBudWxsICE9PSAoX2EgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwSGVpZ2h0KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLmhlaWdodCgpLCBcbiAgICAgICAgICAgIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBIZWlnaHQgPSBncm91cEJvdHRvbSksIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcG9pbnQpLCB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICAgICAgICB5OiBncm91cEJvdHRvbSxcbiAgICAgICAgICAgICAgICB4MTogcG9pbnQueDEsXG4gICAgICAgICAgICAgICAgeTE6IGdyb3VwQm90dG9tLFxuICAgICAgICAgICAgICAgIGRlZmluZWQ6ICExICE9PSBwb2ludC5kZWZpbmVkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwb2ludCksIHtcbiAgICAgICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgeDE6IHBvaW50LngxLFxuICAgICAgICAgICAgeTE6IDAsXG4gICAgICAgICAgICBkZWZpbmVkOiAhMSAhPT0gcG9pbnQuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICB9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ3Jvd1BvaW50c1lJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiAoe1xuICAgIGZyb206IHtcbiAgICAgICAgcG9pbnRzOiBjaGFuZ2VQb2ludHNZKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpXG4gICAgfSxcbiAgICB0bzoge1xuICAgICAgICBwb2ludHM6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMSlcbiAgICB9XG59KTtcblxuZXhwb3J0IGNvbnN0IGdyb3dQb2ludHNZT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+ICh7XG4gICAgZnJvbToge1xuICAgICAgICBwb2ludHM6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMClcbiAgICB9LFxuICAgIHRvOiB7XG4gICAgICAgIHBvaW50czogY2hhbmdlUG9pbnRzWShlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKVxuICAgIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3Jvdy1wb2ludHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-points.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-polar.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-polar.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   growAngleIn: () => (/* binding */ growAngleIn),\n/* harmony export */   growAngleOut: () => (/* binding */ growAngleOut),\n/* harmony export */   growRadiusIn: () => (/* binding */ growRadiusIn),\n/* harmony export */   growRadiusOut: () => (/* binding */ growRadiusOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nconst growAngleInIndividual = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    return options && \"anticlockwise\" === options.orient ? {\n        from: {\n            startAngle: null == attrs ? void 0 : attrs.endAngle\n        },\n        to: {\n            startAngle: null == attrs ? void 0 : attrs.startAngle\n        }\n    } : {\n        from: {\n            endAngle: null == attrs ? void 0 : attrs.startAngle\n        },\n        to: {\n            endAngle: null == attrs ? void 0 : attrs.endAngle\n        }\n    };\n}, growAngleInOverall = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    if (options && \"anticlockwise\" === options.orient) {\n        const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? options.overall : 2 * Math.PI;\n        return {\n            from: {\n                startAngle: overallValue,\n                endAngle: overallValue\n            },\n            to: {\n                startAngle: null == attrs ? void 0 : attrs.startAngle,\n                endAngle: null == attrs ? void 0 : attrs.endAngle\n            }\n        };\n    }\n    const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0;\n    return {\n        from: {\n            startAngle: overallValue,\n            endAngle: overallValue\n        },\n        to: {\n            startAngle: null == attrs ? void 0 : attrs.startAngle,\n            endAngle: null == attrs ? void 0 : attrs.endAngle\n        }\n    };\n};\n\nconst growAngleIn = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growAngleInOverall(element, options) : growAngleInIndividual(element, options);\n};\n\nconst growAngleOutIndividual = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    return options && \"anticlockwise\" === options.orient ? {\n        from: {\n            startAngle: element.getGraphicAttribute(\"startAngle\", !0)\n        },\n        to: {\n            startAngle: null == attrs ? void 0 : attrs.endAngle\n        }\n    } : {\n        from: {\n            endAngle: element.getGraphicAttribute(\"endAngle\", !0)\n        },\n        to: {\n            endAngle: null == attrs ? void 0 : attrs.startAngle\n        }\n    };\n}, growAngleOutOverall = (element, options, animationParameters) => {\n    if (options && \"anticlockwise\" === options.orient) {\n        const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.overall) ? options.overall : 2 * Math.PI;\n        return {\n            from: {\n                startAngle: element.getGraphicAttribute(\"startAngle\", !0),\n                endAngle: element.getGraphicAttribute(\"endAngle\", !0)\n            },\n            to: {\n                startAngle: overallValue,\n                endAngle: overallValue\n            }\n        };\n    }\n    const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0;\n    return {\n        from: {\n            startAngle: element.getGraphicAttribute(\"startAngle\", !0),\n            endAngle: element.getGraphicAttribute(\"endAngle\", !0)\n        },\n        to: {\n            startAngle: overallValue,\n            endAngle: overallValue\n        }\n    };\n};\n\nconst growAngleOut = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growAngleOutOverall(element, options) : growAngleOutIndividual(element, options);\n};\n\nconst growRadiusInIndividual = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    return options && \"inside\" === options.orient ? {\n        from: {\n            innerRadius: null == attrs ? void 0 : attrs.outerRadius\n        },\n        to: {\n            innerRadius: null == attrs ? void 0 : attrs.innerRadius\n        }\n    } : {\n        from: {\n            outerRadius: null == attrs ? void 0 : attrs.innerRadius\n        },\n        to: {\n            outerRadius: null == attrs ? void 0 : attrs.outerRadius\n        }\n    };\n}, growRadiusInOverall = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes(), overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0;\n    return {\n        from: {\n            innerRadius: overallValue,\n            outerRadius: overallValue\n        },\n        to: {\n            innerRadius: null == attrs ? void 0 : attrs.innerRadius,\n            outerRadius: null == attrs ? void 0 : attrs.outerRadius\n        }\n    };\n};\n\nconst growRadiusIn = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growRadiusInOverall(element, options) : growRadiusInIndividual(element, options);\n};\n\nconst growRadiusOutIndividual = (element, options, animationParameters) => {\n    const attrs = element.getFinalAnimationAttributes();\n    return options && \"inside\" === options.orient ? {\n        from: {\n            innerRadius: element.getGraphicAttribute(\"innerRadius\", !0)\n        },\n        to: {\n            innerRadius: null == attrs ? void 0 : attrs.outerRadius\n        }\n    } : {\n        from: {\n            outerRadius: element.getGraphicAttribute(\"outerRadius\", !0)\n        },\n        to: {\n            outerRadius: null == attrs ? void 0 : attrs.innerRadius\n        }\n    };\n}, growRadiusOutOverall = (element, options, animationParameters) => {\n    const overallValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null == options ? void 0 : options.overall) ? options.overall : 0;\n    return {\n        from: {\n            innerRadius: element.getGraphicAttribute(\"innerRadius\", !0),\n            outerRadius: element.getGraphicAttribute(\"outerRadius\", !0)\n        },\n        to: {\n            innerRadius: overallValue,\n            outerRadius: overallValue\n        }\n    };\n};\n\nconst growRadiusOut = (element, options, animationParameters) => {\n    var _a;\n    return !1 !== (null !== (_a = null == options ? void 0 : options.overall) && void 0 !== _a && _a) ? growRadiusOutOverall(element, options) : growRadiusOutIndividual(element, options);\n};\n//# sourceMappingURL=grow-polar.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9ncm93LXBvbGFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTRDOztBQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSw2QkFBNkIsNERBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDREQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsNkJBQTZCLDREQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw0REFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx3RUFBd0UsNERBQVE7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QseUJBQXlCLDREQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0aW9uL2dyb3ctcG9sYXIuanM/OTIwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc051bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmNvbnN0IGdyb3dBbmdsZUluSW5kaXZpZHVhbCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgYXR0cnMgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlcygpO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwiYW50aWNsb2Nrd2lzZVwiID09PSBvcHRpb25zLm9yaWVudCA/IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLmVuZEFuZ2xlXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuc3RhcnRBbmdsZVxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgZW5kQW5nbGU6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5zdGFydEFuZ2xlXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBlbmRBbmdsZTogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLmVuZEFuZ2xlXG4gICAgICAgIH1cbiAgICB9O1xufSwgZ3Jvd0FuZ2xlSW5PdmVyYWxsID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBhdHRycyA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGVzKCk7XG4gICAgaWYgKG9wdGlvbnMgJiYgXCJhbnRpY2xvY2t3aXNlXCIgPT09IG9wdGlvbnMub3JpZW50KSB7XG4gICAgICAgIGNvbnN0IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAyICogTWF0aC5QSTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICAgICAgZW5kQW5nbGU6IG92ZXJhbGxWYWx1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgc3RhcnRBbmdsZTogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLnN0YXJ0QW5nbGUsXG4gICAgICAgICAgICAgICAgZW5kQW5nbGU6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5lbmRBbmdsZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBvdmVyYWxsVmFsdWUgPSBpc051bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpID8gb3B0aW9ucy5vdmVyYWxsIDogMDtcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICBlbmRBbmdsZTogb3ZlcmFsbFZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuZW5kQW5nbGVcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ3Jvd0FuZ2xlSW4gPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gITEgIT09IChudWxsICE9PSAoX2EgPSBudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpICYmIHZvaWQgMCAhPT0gX2EgJiYgX2EpID8gZ3Jvd0FuZ2xlSW5PdmVyYWxsKGVsZW1lbnQsIG9wdGlvbnMpIDogZ3Jvd0FuZ2xlSW5JbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMpO1xufTtcblxuY29uc3QgZ3Jvd0FuZ2xlT3V0SW5kaXZpZHVhbCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgYXR0cnMgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlcygpO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwiYW50aWNsb2Nrd2lzZVwiID09PSBvcHRpb25zLm9yaWVudCA/IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic3RhcnRBbmdsZVwiLCAhMClcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5lbmRBbmdsZVxuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgZW5kQW5nbGU6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImVuZEFuZ2xlXCIsICEwKVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgZW5kQW5nbGU6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5zdGFydEFuZ2xlXG4gICAgICAgIH1cbiAgICB9O1xufSwgZ3Jvd0FuZ2xlT3V0T3ZlcmFsbCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgaWYgKG9wdGlvbnMgJiYgXCJhbnRpY2xvY2t3aXNlXCIgPT09IG9wdGlvbnMub3JpZW50KSB7XG4gICAgICAgIGNvbnN0IG92ZXJhbGxWYWx1ZSA9IGlzTnVtYmVyKG9wdGlvbnMub3ZlcmFsbCkgPyBvcHRpb25zLm92ZXJhbGwgOiAyICogTWF0aC5QSTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdGFydEFuZ2xlXCIsICEwKSxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZTogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZW5kQW5nbGVcIiwgITApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBvdmVyYWxsVmFsdWUsXG4gICAgICAgICAgICAgICAgZW5kQW5nbGU6IG92ZXJhbGxWYWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBvdmVyYWxsVmFsdWUgPSBpc051bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpID8gb3B0aW9ucy5vdmVyYWxsIDogMDtcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzdGFydEFuZ2xlXCIsICEwKSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJlbmRBbmdsZVwiLCAhMClcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBvdmVyYWxsVmFsdWVcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ3Jvd0FuZ2xlT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICExICE9PSAobnVsbCAhPT0gKF9hID0gbnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSAmJiB2b2lkIDAgIT09IF9hICYmIF9hKSA/IGdyb3dBbmdsZU91dE92ZXJhbGwoZWxlbWVudCwgb3B0aW9ucykgOiBncm93QW5nbGVPdXRJbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMpO1xufTtcblxuY29uc3QgZ3Jvd1JhZGl1c0luSW5kaXZpZHVhbCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgYXR0cnMgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlcygpO1xuICAgIHJldHVybiBvcHRpb25zICYmIFwiaW5zaWRlXCIgPT09IG9wdGlvbnMub3JpZW50ID8ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBpbm5lclJhZGl1czogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLm91dGVyUmFkaXVzXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBpbm5lclJhZGl1czogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLmlubmVyUmFkaXVzXG4gICAgICAgIH1cbiAgICB9IDoge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBvdXRlclJhZGl1czogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLmlubmVyUmFkaXVzXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICBvdXRlclJhZGl1czogbnVsbCA9PSBhdHRycyA/IHZvaWQgMCA6IGF0dHJzLm91dGVyUmFkaXVzXG4gICAgICAgIH1cbiAgICB9O1xufSwgZ3Jvd1JhZGl1c0luT3ZlcmFsbCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgY29uc3QgYXR0cnMgPSBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlcygpLCBvdmVyYWxsVmFsdWUgPSBpc051bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpID8gb3B0aW9ucy5vdmVyYWxsIDogMDtcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBpbm5lclJhZGl1czogb3ZlcmFsbFZhbHVlLFxuICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IG92ZXJhbGxWYWx1ZVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgaW5uZXJSYWRpdXM6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5pbm5lclJhZGl1cyxcbiAgICAgICAgICAgIG91dGVyUmFkaXVzOiBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMub3V0ZXJSYWRpdXNcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ3Jvd1JhZGl1c0luID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICExICE9PSAobnVsbCAhPT0gKF9hID0gbnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyYWxsKSAmJiB2b2lkIDAgIT09IF9hICYmIF9hKSA/IGdyb3dSYWRpdXNJbk92ZXJhbGwoZWxlbWVudCwgb3B0aW9ucykgOiBncm93UmFkaXVzSW5JbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMpO1xufTtcblxuY29uc3QgZ3Jvd1JhZGl1c091dEluZGl2aWR1YWwgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIGNvbnN0IGF0dHJzID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZXMoKTtcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBcImluc2lkZVwiID09PSBvcHRpb25zLm9yaWVudCA/IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgaW5uZXJSYWRpdXM6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImlubmVyUmFkaXVzXCIsICEwKVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgaW5uZXJSYWRpdXM6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5vdXRlclJhZGl1c1xuICAgICAgICB9XG4gICAgfSA6IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm91dGVyUmFkaXVzXCIsICEwKVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5pbm5lclJhZGl1c1xuICAgICAgICB9XG4gICAgfTtcbn0sIGdyb3dSYWRpdXNPdXRPdmVyYWxsID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBvdmVyYWxsVmFsdWUgPSBpc051bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLm92ZXJhbGwpID8gb3B0aW9ucy5vdmVyYWxsIDogMDtcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBpbm5lclJhZGl1czogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiaW5uZXJSYWRpdXNcIiwgITApLFxuICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcIm91dGVyUmFkaXVzXCIsICEwKVxuICAgICAgICB9LFxuICAgICAgICB0bzoge1xuICAgICAgICAgICAgaW5uZXJSYWRpdXM6IG92ZXJhbGxWYWx1ZSxcbiAgICAgICAgICAgIG91dGVyUmFkaXVzOiBvdmVyYWxsVmFsdWVcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ3Jvd1JhZGl1c091dCA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAhMSAhPT0gKG51bGwgIT09IChfYSA9IG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcmFsbCkgJiYgdm9pZCAwICE9PSBfYSAmJiBfYSkgPyBncm93UmFkaXVzT3V0T3ZlcmFsbChlbGVtZW50LCBvcHRpb25zKSA6IGdyb3dSYWRpdXNPdXRJbmRpdmlkdWFsKGVsZW1lbnQsIG9wdGlvbnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3ctcG9sYXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-polar.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/index.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/index.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clipIn: () => (/* reexport safe */ _clip__WEBPACK_IMPORTED_MODULE_0__.clipIn),\n/* harmony export */   clipOut: () => (/* reexport safe */ _clip__WEBPACK_IMPORTED_MODULE_0__.clipOut),\n/* harmony export */   fadeIn: () => (/* reexport safe */ _fade__WEBPACK_IMPORTED_MODULE_1__.fadeIn),\n/* harmony export */   fadeOut: () => (/* reexport safe */ _fade__WEBPACK_IMPORTED_MODULE_1__.fadeOut),\n/* harmony export */   growAngleIn: () => (/* reexport safe */ _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growAngleIn),\n/* harmony export */   growAngleOut: () => (/* reexport safe */ _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growAngleOut),\n/* harmony export */   growCenterIn: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growCenterIn),\n/* harmony export */   growCenterOut: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growCenterOut),\n/* harmony export */   growHeightIn: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growHeightIn),\n/* harmony export */   growHeightOut: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growHeightOut),\n/* harmony export */   growIntervalIn: () => (/* reexport safe */ _grow_interval__WEBPACK_IMPORTED_MODULE_8__.growIntervalIn),\n/* harmony export */   growIntervalOut: () => (/* reexport safe */ _grow_interval__WEBPACK_IMPORTED_MODULE_8__.growIntervalOut),\n/* harmony export */   growPointsIn: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsIn),\n/* harmony export */   growPointsOut: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsOut),\n/* harmony export */   growPointsXIn: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsXIn),\n/* harmony export */   growPointsXOut: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsXOut),\n/* harmony export */   growPointsYIn: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsYIn),\n/* harmony export */   growPointsYOut: () => (/* reexport safe */ _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsYOut),\n/* harmony export */   growRadiusIn: () => (/* reexport safe */ _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growRadiusIn),\n/* harmony export */   growRadiusOut: () => (/* reexport safe */ _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growRadiusOut),\n/* harmony export */   growWidthIn: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growWidthIn),\n/* harmony export */   growWidthOut: () => (/* reexport safe */ _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growWidthOut),\n/* harmony export */   moveIn: () => (/* reexport safe */ _move__WEBPACK_IMPORTED_MODULE_2__.moveIn),\n/* harmony export */   moveOut: () => (/* reexport safe */ _move__WEBPACK_IMPORTED_MODULE_2__.moveOut),\n/* harmony export */   registerClipInAnimation: () => (/* binding */ registerClipInAnimation),\n/* harmony export */   registerClipOutAnimation: () => (/* binding */ registerClipOutAnimation),\n/* harmony export */   registerFadeInAnimation: () => (/* binding */ registerFadeInAnimation),\n/* harmony export */   registerFadeOutAnimation: () => (/* binding */ registerFadeOutAnimation),\n/* harmony export */   registerGrowAngleInAnimation: () => (/* binding */ registerGrowAngleInAnimation),\n/* harmony export */   registerGrowAngleOutAnimation: () => (/* binding */ registerGrowAngleOutAnimation),\n/* harmony export */   registerGrowCenterInAnimation: () => (/* binding */ registerGrowCenterInAnimation),\n/* harmony export */   registerGrowCenterOutAnimation: () => (/* binding */ registerGrowCenterOutAnimation),\n/* harmony export */   registerGrowHeightInAnimation: () => (/* binding */ registerGrowHeightInAnimation),\n/* harmony export */   registerGrowHeightOutAnimation: () => (/* binding */ registerGrowHeightOutAnimation),\n/* harmony export */   registerGrowIntervalInAnimation: () => (/* binding */ registerGrowIntervalInAnimation),\n/* harmony export */   registerGrowIntervalOutAnimation: () => (/* binding */ registerGrowIntervalOutAnimation),\n/* harmony export */   registerGrowPointsInAnimation: () => (/* binding */ registerGrowPointsInAnimation),\n/* harmony export */   registerGrowPointsOutAnimation: () => (/* binding */ registerGrowPointsOutAnimation),\n/* harmony export */   registerGrowPointsXInAnimation: () => (/* binding */ registerGrowPointsXInAnimation),\n/* harmony export */   registerGrowPointsXOutAnimation: () => (/* binding */ registerGrowPointsXOutAnimation),\n/* harmony export */   registerGrowPointsYInAnimation: () => (/* binding */ registerGrowPointsYInAnimation),\n/* harmony export */   registerGrowPointsYOutAnimation: () => (/* binding */ registerGrowPointsYOutAnimation),\n/* harmony export */   registerGrowRadiusInAnimation: () => (/* binding */ registerGrowRadiusInAnimation),\n/* harmony export */   registerGrowRadiusOutAnimation: () => (/* binding */ registerGrowRadiusOutAnimation),\n/* harmony export */   registerGrowWidthInAnimation: () => (/* binding */ registerGrowWidthInAnimation),\n/* harmony export */   registerGrowWidthOutAnimation: () => (/* binding */ registerGrowWidthOutAnimation),\n/* harmony export */   registerMoveInAnimation: () => (/* binding */ registerMoveInAnimation),\n/* harmony export */   registerMoveOutAnimation: () => (/* binding */ registerMoveOutAnimation),\n/* harmony export */   registerRotateInAnimation: () => (/* binding */ registerRotateInAnimation),\n/* harmony export */   registerRotateOutAnimation: () => (/* binding */ registerRotateOutAnimation),\n/* harmony export */   registerScaleInAnimation: () => (/* binding */ registerScaleInAnimation),\n/* harmony export */   registerScaleOutAnimation: () => (/* binding */ registerScaleOutAnimation),\n/* harmony export */   registerUpdateAnimation: () => (/* binding */ registerUpdateAnimation),\n/* harmony export */   rotateIn: () => (/* reexport safe */ _rotate__WEBPACK_IMPORTED_MODULE_4__.rotateIn),\n/* harmony export */   rotateOut: () => (/* reexport safe */ _rotate__WEBPACK_IMPORTED_MODULE_4__.rotateOut),\n/* harmony export */   scaleIn: () => (/* reexport safe */ _scale__WEBPACK_IMPORTED_MODULE_3__.scaleIn),\n/* harmony export */   scaleOut: () => (/* reexport safe */ _scale__WEBPACK_IMPORTED_MODULE_3__.scaleOut),\n/* harmony export */   update: () => (/* reexport safe */ _update__WEBPACK_IMPORTED_MODULE_9__.update)\n/* harmony export */ });\n/* harmony import */ var _clip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./clip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/clip.js\");\n/* harmony import */ var _fade__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fade */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/fade.js\");\n/* harmony import */ var _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./grow-cartesian */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-cartesian.js\");\n/* harmony import */ var _grow_polar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./grow-polar */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-polar.js\");\n/* harmony import */ var _grow_points__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./grow-points */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-points.js\");\n/* harmony import */ var _grow_interval__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./grow-interval */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/grow-interval.js\");\n/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./move */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/move.js\");\n/* harmony import */ var _scale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/scale.js\");\n/* harmony import */ var _update__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./update */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/update.js\");\n/* harmony import */ var _rotate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rotate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/rotate.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerClipInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"clipIn\", _clip__WEBPACK_IMPORTED_MODULE_0__.clipIn);\n};\n\nconst registerClipOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"clipOut\", _clip__WEBPACK_IMPORTED_MODULE_0__.clipOut);\n};\n\nconst registerFadeInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"fadeIn\", _fade__WEBPACK_IMPORTED_MODULE_1__.fadeIn);\n};\n\nconst registerFadeOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"fadeOut\", _fade__WEBPACK_IMPORTED_MODULE_1__.fadeOut);\n};\n\nconst registerGrowCenterInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growCenterIn\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growCenterIn);\n};\n\nconst registerGrowCenterOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growCenterOut\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growCenterOut);\n};\n\nconst registerGrowHeightInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growHeightIn\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growHeightIn);\n};\n\nconst registerGrowHeightOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growHeightOut\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growHeightOut);\n};\n\nconst registerGrowWidthInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growWidthIn\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growWidthIn);\n};\n\nconst registerGrowWidthOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growWidthOut\", _grow_cartesian__WEBPACK_IMPORTED_MODULE_5__.growWidthOut);\n};\n\nconst registerGrowIntervalInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growIntervalIn\", _grow_interval__WEBPACK_IMPORTED_MODULE_8__.growIntervalIn);\n};\n\nconst registerGrowIntervalOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growIntervalOut\", _grow_interval__WEBPACK_IMPORTED_MODULE_8__.growIntervalOut);\n};\n\nconst registerGrowPointsInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsIn\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsIn);\n};\n\nconst registerGrowPointsOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsOut\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsOut);\n};\n\nconst registerGrowPointsXInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsXIn\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsXIn);\n};\n\nconst registerGrowPointsXOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsXOut\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsXOut);\n};\n\nconst registerGrowPointsYInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsYIn\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsYIn);\n};\n\nconst registerGrowPointsYOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growPointsYOut\", _grow_points__WEBPACK_IMPORTED_MODULE_7__.growPointsYOut);\n};\n\nconst registerGrowAngleInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growAngleIn\", _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growAngleIn);\n};\n\nconst registerGrowAngleOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growAngleOut\", _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growAngleOut);\n};\n\nconst registerGrowRadiusInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growRadiusIn\", _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growRadiusIn);\n};\n\nconst registerGrowRadiusOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"growRadiusOut\", _grow_polar__WEBPACK_IMPORTED_MODULE_6__.growRadiusOut);\n};\n\nconst registerMoveInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"moveIn\", _move__WEBPACK_IMPORTED_MODULE_2__.moveIn);\n};\n\nconst registerMoveOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"moveOut\", _move__WEBPACK_IMPORTED_MODULE_2__.moveOut);\n};\n\nconst registerScaleInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"scaleIn\", _scale__WEBPACK_IMPORTED_MODULE_3__.scaleIn);\n};\n\nconst registerScaleOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"scaleOut\", _scale__WEBPACK_IMPORTED_MODULE_3__.scaleOut);\n};\n\nconst registerRotateInAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"rotateIn\", _rotate__WEBPACK_IMPORTED_MODULE_4__.rotateIn);\n};\n\nconst registerRotateOutAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"rotateOut\", _rotate__WEBPACK_IMPORTED_MODULE_4__.rotateOut);\n};\n\nconst registerUpdateAnimation = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerAnimationType(\"update\", _update__WEBPACK_IMPORTED_MODULE_9__.update);\n};\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUM7O0FBRUE7O0FBRThFOztBQUVqQzs7QUFFb0M7O0FBRXhEOztBQUV6Qjs7QUFFRzs7QUFFVjs7QUFFYTs7QUFFQzs7QUFFc1U7O0FBRS9XO0FBQ1AsSUFBSSxtREFBTyxpQ0FBaUMseUNBQU07QUFDbEQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLGtDQUFrQywwQ0FBTztBQUNwRDs7QUFFTztBQUNQLElBQUksbURBQU8saUNBQWlDLHlDQUFNO0FBQ2xEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxrQ0FBa0MsMENBQU87QUFDcEQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHVDQUF1Qyx5REFBWTtBQUM5RDs7QUFFTztBQUNQLElBQUksbURBQU8sd0NBQXdDLDBEQUFhO0FBQ2hFOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx1Q0FBdUMseURBQVk7QUFDOUQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHdDQUF3QywwREFBYTtBQUNoRTs7QUFFTztBQUNQLElBQUksbURBQU8sc0NBQXNDLHdEQUFXO0FBQzVEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx1Q0FBdUMseURBQVk7QUFDOUQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHlDQUF5QywwREFBYztBQUNsRTs7QUFFTztBQUNQLElBQUksbURBQU8sMENBQTBDLDJEQUFlO0FBQ3BFOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx1Q0FBdUMsc0RBQVk7QUFDOUQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHdDQUF3Qyx1REFBYTtBQUNoRTs7QUFFTztBQUNQLElBQUksbURBQU8sd0NBQXdDLHVEQUFhO0FBQ2hFOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx5Q0FBeUMsd0RBQWM7QUFDbEU7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHdDQUF3Qyx1REFBYTtBQUNoRTs7QUFFTztBQUNQLElBQUksbURBQU8seUNBQXlDLHdEQUFjO0FBQ2xFOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxzQ0FBc0Msb0RBQVc7QUFDNUQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHVDQUF1QyxxREFBWTtBQUM5RDs7QUFFTztBQUNQLElBQUksbURBQU8sdUNBQXVDLHFEQUFZO0FBQzlEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyx3Q0FBd0Msc0RBQWE7QUFDaEU7O0FBRU87QUFDUCxJQUFJLG1EQUFPLGlDQUFpQyx5Q0FBTTtBQUNsRDs7QUFFTztBQUNQLElBQUksbURBQU8sa0NBQWtDLDBDQUFPO0FBQ3BEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxrQ0FBa0MsMkNBQU87QUFDcEQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLG1DQUFtQyw0Q0FBUTtBQUN0RDs7QUFFTztBQUNQLElBQUksbURBQU8sbUNBQW1DLDZDQUFRO0FBQ3REOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxvQ0FBb0MsOENBQVM7QUFDeEQ7O0FBRU87QUFDUCxJQUFJLG1EQUFPLGlDQUFpQywyQ0FBTTtBQUNsRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0aW9uL2luZGV4LmpzP2ZiNjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xpcEluLCBjbGlwT3V0IH0gZnJvbSBcIi4vY2xpcFwiO1xuXG5pbXBvcnQgeyBmYWRlSW4sIGZhZGVPdXQgfSBmcm9tIFwiLi9mYWRlXCI7XG5cbmltcG9ydCB7IGdyb3dDZW50ZXJJbiwgZ3Jvd0NlbnRlck91dCwgZ3Jvd0hlaWdodEluLCBncm93SGVpZ2h0T3V0LCBncm93V2lkdGhJbiwgZ3Jvd1dpZHRoT3V0IH0gZnJvbSBcIi4vZ3Jvdy1jYXJ0ZXNpYW5cIjtcblxuaW1wb3J0IHsgZ3Jvd0FuZ2xlSW4sIGdyb3dBbmdsZU91dCwgZ3Jvd1JhZGl1c0luLCBncm93UmFkaXVzT3V0IH0gZnJvbSBcIi4vZ3Jvdy1wb2xhclwiO1xuXG5pbXBvcnQgeyBncm93UG9pbnRzSW4sIGdyb3dQb2ludHNPdXQsIGdyb3dQb2ludHNYSW4sIGdyb3dQb2ludHNYT3V0LCBncm93UG9pbnRzWUluLCBncm93UG9pbnRzWU91dCB9IGZyb20gXCIuL2dyb3ctcG9pbnRzXCI7XG5cbmltcG9ydCB7IGdyb3dJbnRlcnZhbEluLCBncm93SW50ZXJ2YWxPdXQgfSBmcm9tIFwiLi9ncm93LWludGVydmFsXCI7XG5cbmltcG9ydCB7IG1vdmVJbiwgbW92ZU91dCB9IGZyb20gXCIuL21vdmVcIjtcblxuaW1wb3J0IHsgc2NhbGVJbiwgc2NhbGVPdXQgfSBmcm9tIFwiLi9zY2FsZVwiO1xuXG5pbXBvcnQgeyB1cGRhdGUgfSBmcm9tIFwiLi91cGRhdGVcIjtcblxuaW1wb3J0IHsgcm90YXRlSW4sIHJvdGF0ZU91dCB9IGZyb20gXCIuL3JvdGF0ZVwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvZmFjdG9yeVwiO1xuXG5leHBvcnQgeyBjbGlwSW4sIGNsaXBPdXQsIGZhZGVJbiwgZmFkZU91dCwgbW92ZUluLCBtb3ZlT3V0LCBzY2FsZUluLCBzY2FsZU91dCwgcm90YXRlSW4sIHJvdGF0ZU91dCwgZ3Jvd0NlbnRlckluLCBncm93Q2VudGVyT3V0LCBncm93V2lkdGhJbiwgZ3Jvd1dpZHRoT3V0LCBncm93SGVpZ2h0SW4sIGdyb3dIZWlnaHRPdXQsIGdyb3dBbmdsZUluLCBncm93QW5nbGVPdXQsIGdyb3dSYWRpdXNJbiwgZ3Jvd1JhZGl1c091dCwgZ3Jvd1BvaW50c0luLCBncm93UG9pbnRzT3V0LCBncm93UG9pbnRzWEluLCBncm93UG9pbnRzWE91dCwgZ3Jvd1BvaW50c1lJbiwgZ3Jvd1BvaW50c1lPdXQsIGdyb3dJbnRlcnZhbEluLCBncm93SW50ZXJ2YWxPdXQsIHVwZGF0ZSB9O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJDbGlwSW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJjbGlwSW5cIiwgY2xpcEluKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckNsaXBPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJjbGlwT3V0XCIsIGNsaXBPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRmFkZUluQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZmFkZUluXCIsIGZhZGVJbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJGYWRlT3V0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZmFkZU91dFwiLCBmYWRlT3V0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dDZW50ZXJJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dDZW50ZXJJblwiLCBncm93Q2VudGVySW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd0NlbnRlck91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dDZW50ZXJPdXRcIiwgZ3Jvd0NlbnRlck91dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93SGVpZ2h0SW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93SGVpZ2h0SW5cIiwgZ3Jvd0hlaWdodEluKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dIZWlnaHRPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93SGVpZ2h0T3V0XCIsIGdyb3dIZWlnaHRPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd1dpZHRoSW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93V2lkdGhJblwiLCBncm93V2lkdGhJbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93V2lkdGhPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93V2lkdGhPdXRcIiwgZ3Jvd1dpZHRoT3V0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dJbnRlcnZhbEluQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd0ludGVydmFsSW5cIiwgZ3Jvd0ludGVydmFsSW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd0ludGVydmFsT3V0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd0ludGVydmFsT3V0XCIsIGdyb3dJbnRlcnZhbE91dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93UG9pbnRzSW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93UG9pbnRzSW5cIiwgZ3Jvd1BvaW50c0luKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dQb2ludHNPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93UG9pbnRzT3V0XCIsIGdyb3dQb2ludHNPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd1BvaW50c1hJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dQb2ludHNYSW5cIiwgZ3Jvd1BvaW50c1hJbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93UG9pbnRzWE91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dQb2ludHNYT3V0XCIsIGdyb3dQb2ludHNYT3V0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dQb2ludHNZSW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93UG9pbnRzWUluXCIsIGdyb3dQb2ludHNZSW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd1BvaW50c1lPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJncm93UG9pbnRzWU91dFwiLCBncm93UG9pbnRzWU91dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93QW5nbGVJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dBbmdsZUluXCIsIGdyb3dBbmdsZUluKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3dBbmdsZU91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcImdyb3dBbmdsZU91dFwiLCBncm93QW5nbGVPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyR3Jvd1JhZGl1c0luQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd1JhZGl1c0luXCIsIGdyb3dSYWRpdXNJbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHcm93UmFkaXVzT3V0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwiZ3Jvd1JhZGl1c091dFwiLCBncm93UmFkaXVzT3V0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlck1vdmVJbkFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcIm1vdmVJblwiLCBtb3ZlSW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTW92ZU91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcIm1vdmVPdXRcIiwgbW92ZU91dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTY2FsZUluQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwic2NhbGVJblwiLCBzY2FsZUluKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclNjYWxlT3V0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJBbmltYXRpb25UeXBlKFwic2NhbGVPdXRcIiwgc2NhbGVPdXQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUm90YXRlSW5BbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJyb3RhdGVJblwiLCByb3RhdGVJbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSb3RhdGVPdXRBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckFuaW1hdGlvblR5cGUoXCJyb3RhdGVPdXRcIiwgcm90YXRlT3V0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclVwZGF0ZUFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyQW5pbWF0aW9uVHlwZShcInVwZGF0ZVwiLCB1cGRhdGUpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/move.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/move.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   moveIn: () => (/* binding */ moveIn),\n/* harmony export */   moveOut: () => (/* binding */ moveOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst moveIn = (element, options, animationParameters) => {\n    var _a, _b;\n    const {offset: offset = 0, orient: orient, direction: direction, point: pointOpt, excludeChannels: excludeChannels = []} = null != options ? options : {};\n    let changedX = 0, changedY = 0;\n    \"negative\" === orient && (animationParameters.group ? (changedX = null !== (_a = animationParameters.groupWidth) && void 0 !== _a ? _a : animationParameters.group.getBounds().width(), \n    changedY = null !== (_b = animationParameters.groupHeight) && void 0 !== _b ? _b : animationParameters.group.getBounds().height(), \n    animationParameters.groupWidth = changedX, animationParameters.groupHeight = changedY) : (changedX = animationParameters.width, \n    changedY = animationParameters.height)), changedX += offset, changedY += offset;\n    const point = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(pointOpt) ? pointOpt.call(null, element.getDatum(), element, animationParameters) : pointOpt, fromX = point && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(point.x) ? point.x : changedX, fromY = point && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(point.y) ? point.y : changedY, finalAttrsX = excludeChannels.includes(\"x\") ? element.getGraphicAttribute(\"x\") : element.getFinalAnimationAttribute(\"x\"), finalAttrsY = excludeChannels.includes(\"y\") ? element.getGraphicAttribute(\"y\") : element.getFinalAnimationAttribute(\"y\");\n    switch (direction) {\n      case \"x\":\n        return {\n            from: {\n                x: fromX\n            },\n            to: {\n                x: finalAttrsX\n            }\n        };\n\n      case \"y\":\n        return {\n            from: {\n                y: fromY\n            },\n            to: {\n                y: finalAttrsY\n            }\n        };\n\n      default:\n        return {\n            from: {\n                x: fromX,\n                y: fromY\n            },\n            to: {\n                x: finalAttrsX,\n                y: finalAttrsY\n            }\n        };\n    }\n};\n\nconst moveOut = (element, options, animationParameters) => {\n    var _a, _b;\n    const {offset: offset = 0, orient: orient, direction: direction, point: pointOpt} = null != options ? options : {}, groupBounds = animationParameters.group ? animationParameters.group.getBounds() : null, groupWidth = null !== (_a = null == groupBounds ? void 0 : groupBounds.width()) && void 0 !== _a ? _a : animationParameters.width, groupHeight = null !== (_b = null == groupBounds ? void 0 : groupBounds.height()) && void 0 !== _b ? _b : animationParameters.height, changedX = (\"negative\" === orient ? groupWidth : 0) + offset, changedY = (\"negative\" === orient ? groupHeight : 0) + offset, point = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(pointOpt) ? pointOpt.call(null, element.getDatum(), element, animationParameters) : pointOpt, fromX = point && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(point.x) ? point.x : changedX, fromY = point && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(point.y) ? point.y : changedY;\n    switch (direction) {\n      case \"x\":\n        return {\n            from: {\n                x: element.getGraphicAttribute(\"x\", !0)\n            },\n            to: {\n                x: fromX\n            }\n        };\n\n      case \"y\":\n        return {\n            from: {\n                y: element.getGraphicAttribute(\"y\", !0)\n            },\n            to: {\n                y: fromY\n            }\n        };\n\n      default:\n        return {\n            from: {\n                x: element.getGraphicAttribute(\"x\", !0),\n                y: element.getGraphicAttribute(\"y\", !0)\n            },\n            to: {\n                x: fromX,\n                y: fromY\n            }\n        };\n    }\n};\n//# sourceMappingURL=move.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9tb3ZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNkQ7O0FBRXREO0FBQ1A7QUFDQSxXQUFXLGtIQUFrSDtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDREQUFVLGdIQUFnSCw0REFBYSxpREFBaUQsNERBQWE7QUFDdk47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQSxXQUFXLDJFQUEyRSxnQ0FBZ0Msd2VBQXdlLDREQUFVLGdIQUFnSCw0REFBYSxpREFBaUQsNERBQWE7QUFDbnlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0aW9uL21vdmUuanM/NjdmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0Z1bmN0aW9uLCBpc1ZhbGlkTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IG1vdmVJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB7b2Zmc2V0OiBvZmZzZXQgPSAwLCBvcmllbnQ6IG9yaWVudCwgZGlyZWN0aW9uOiBkaXJlY3Rpb24sIHBvaW50OiBwb2ludE9wdCwgZXhjbHVkZUNoYW5uZWxzOiBleGNsdWRlQ2hhbm5lbHMgPSBbXX0gPSBudWxsICE9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG4gICAgbGV0IGNoYW5nZWRYID0gMCwgY2hhbmdlZFkgPSAwO1xuICAgIFwibmVnYXRpdmVcIiA9PT0gb3JpZW50ICYmIChhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwID8gKGNoYW5nZWRYID0gbnVsbCAhPT0gKF9hID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cFdpZHRoKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwLmdldEJvdW5kcygpLndpZHRoKCksIFxuICAgIGNoYW5nZWRZID0gbnVsbCAhPT0gKF9iID0gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cEhlaWdodCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cC5nZXRCb3VuZHMoKS5oZWlnaHQoKSwgXG4gICAgYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cFdpZHRoID0gY2hhbmdlZFgsIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JvdXBIZWlnaHQgPSBjaGFuZ2VkWSkgOiAoY2hhbmdlZFggPSBhbmltYXRpb25QYXJhbWV0ZXJzLndpZHRoLCBcbiAgICBjaGFuZ2VkWSA9IGFuaW1hdGlvblBhcmFtZXRlcnMuaGVpZ2h0KSksIGNoYW5nZWRYICs9IG9mZnNldCwgY2hhbmdlZFkgKz0gb2Zmc2V0O1xuICAgIGNvbnN0IHBvaW50ID0gaXNGdW5jdGlvbihwb2ludE9wdCkgPyBwb2ludE9wdC5jYWxsKG51bGwsIGVsZW1lbnQuZ2V0RGF0dW0oKSwgZWxlbWVudCwgYW5pbWF0aW9uUGFyYW1ldGVycykgOiBwb2ludE9wdCwgZnJvbVggPSBwb2ludCAmJiBpc1ZhbGlkTnVtYmVyKHBvaW50LngpID8gcG9pbnQueCA6IGNoYW5nZWRYLCBmcm9tWSA9IHBvaW50ICYmIGlzVmFsaWROdW1iZXIocG9pbnQueSkgPyBwb2ludC55IDogY2hhbmdlZFksIGZpbmFsQXR0cnNYID0gZXhjbHVkZUNoYW5uZWxzLmluY2x1ZGVzKFwieFwiKSA/IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIikgOiBlbGVtZW50LmdldEZpbmFsQW5pbWF0aW9uQXR0cmlidXRlKFwieFwiKSwgZmluYWxBdHRyc1kgPSBleGNsdWRlQ2hhbm5lbHMuaW5jbHVkZXMoXCJ5XCIpID8gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiKSA6IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJ5XCIpO1xuICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIFwieFwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IGZyb21YXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiBmaW5hbEF0dHJzWFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICBjYXNlIFwieVwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHk6IGZyb21ZXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB5OiBmaW5hbEF0dHJzWVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IGZyb21YLFxuICAgICAgICAgICAgICAgIHk6IGZyb21ZXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiBmaW5hbEF0dHJzWCxcbiAgICAgICAgICAgICAgICB5OiBmaW5hbEF0dHJzWVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBtb3ZlT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHtvZmZzZXQ6IG9mZnNldCA9IDAsIG9yaWVudDogb3JpZW50LCBkaXJlY3Rpb246IGRpcmVjdGlvbiwgcG9pbnQ6IHBvaW50T3B0fSA9IG51bGwgIT0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fSwgZ3JvdXBCb3VuZHMgPSBhbmltYXRpb25QYXJhbWV0ZXJzLmdyb3VwID8gYW5pbWF0aW9uUGFyYW1ldGVycy5ncm91cC5nZXRCb3VuZHMoKSA6IG51bGwsIGdyb3VwV2lkdGggPSBudWxsICE9PSAoX2EgPSBudWxsID09IGdyb3VwQm91bmRzID8gdm9pZCAwIDogZ3JvdXBCb3VuZHMud2lkdGgoKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogYW5pbWF0aW9uUGFyYW1ldGVycy53aWR0aCwgZ3JvdXBIZWlnaHQgPSBudWxsICE9PSAoX2IgPSBudWxsID09IGdyb3VwQm91bmRzID8gdm9pZCAwIDogZ3JvdXBCb3VuZHMuaGVpZ2h0KCkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IGFuaW1hdGlvblBhcmFtZXRlcnMuaGVpZ2h0LCBjaGFuZ2VkWCA9IChcIm5lZ2F0aXZlXCIgPT09IG9yaWVudCA/IGdyb3VwV2lkdGggOiAwKSArIG9mZnNldCwgY2hhbmdlZFkgPSAoXCJuZWdhdGl2ZVwiID09PSBvcmllbnQgPyBncm91cEhlaWdodCA6IDApICsgb2Zmc2V0LCBwb2ludCA9IGlzRnVuY3Rpb24ocG9pbnRPcHQpID8gcG9pbnRPcHQuY2FsbChudWxsLCBlbGVtZW50LmdldERhdHVtKCksIGVsZW1lbnQsIGFuaW1hdGlvblBhcmFtZXRlcnMpIDogcG9pbnRPcHQsIGZyb21YID0gcG9pbnQgJiYgaXNWYWxpZE51bWJlcihwb2ludC54KSA/IHBvaW50LnggOiBjaGFuZ2VkWCwgZnJvbVkgPSBwb2ludCAmJiBpc1ZhbGlkTnVtYmVyKHBvaW50LnkpID8gcG9pbnQueSA6IGNoYW5nZWRZO1xuICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIFwieFwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiBmcm9tWFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICBjYXNlIFwieVwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIiwgITApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB5OiBmcm9tWVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiwgITApLFxuICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInlcIiwgITApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICB4OiBmcm9tWCxcbiAgICAgICAgICAgICAgICB5OiBmcm9tWVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb3ZlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/move.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/rotate.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/rotate.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rotateIn: () => (/* binding */ rotateIn),\n/* harmony export */   rotateOut: () => (/* binding */ rotateOut)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/number.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst rotateIn = (element, options, animationParameters) => {\n    var _a;\n    const attributeAngle = null !== (_a = element.getFinalAnimationAttribute(\"angle\")) && void 0 !== _a ? _a : 0;\n    let angle = 0;\n    return angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.isNumberClose)(attributeAngle / (2 * Math.PI), 0) ? Math.round(attributeAngle / (2 * Math.PI)) * Math.PI * 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null == options ? void 0 : options.angle) ? options.angle : \"anticlockwise\" === (null == options ? void 0 : options.orient) ? Math.ceil(attributeAngle / (2 * Math.PI)) * Math.PI * 2 : Math.floor(attributeAngle / (2 * Math.PI)) * Math.PI * 2, \n    {\n        from: {\n            angle: angle\n        },\n        to: {\n            angle: attributeAngle\n        }\n    };\n};\n\nconst rotateOut = (element, options, animationParameters) => {\n    var _a;\n    const finalAngle = null !== (_a = element.getGraphicAttribute(\"angle\", !0)) && void 0 !== _a ? _a : 0;\n    let angle = 0;\n    return angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.isNumberClose)(finalAngle / (2 * Math.PI), 0) ? Math.round(finalAngle / (2 * Math.PI)) * Math.PI * 2 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null == options ? void 0 : options.angle) ? options.angle : \"anticlockwise\" === (null == options ? void 0 : options.orient) ? Math.ceil(finalAngle / (2 * Math.PI)) * Math.PI * 2 : Math.floor(finalAngle / (2 * Math.PI)) * Math.PI * 2, \n    {\n        from: {\n            angle: finalAngle\n        },\n        to: {\n            angle: angle\n        }\n    };\n};\n//# sourceMappingURL=rotate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9yb3RhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnRTs7QUFFekQ7QUFDUDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQWEsaUdBQWlHLDREQUFhO0FBQzlJO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtEQUFhLHlGQUF5Riw0REFBYTtBQUN0STtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYW5pbWF0aW9uL3JvdGF0ZS5qcz81NzkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTnVtYmVyQ2xvc2UsIGlzVmFsaWROdW1iZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY29uc3Qgcm90YXRlSW4gPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBhdHRyaWJ1dGVBbmdsZSA9IG51bGwgIT09IChfYSA9IGVsZW1lbnQuZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoXCJhbmdsZVwiKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMDtcbiAgICBsZXQgYW5nbGUgPSAwO1xuICAgIHJldHVybiBhbmdsZSA9IGlzTnVtYmVyQ2xvc2UoYXR0cmlidXRlQW5nbGUgLyAoMiAqIE1hdGguUEkpLCAwKSA/IE1hdGgucm91bmQoYXR0cmlidXRlQW5nbGUgLyAoMiAqIE1hdGguUEkpKSAqIE1hdGguUEkgKiAyIDogaXNWYWxpZE51bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLmFuZ2xlKSA/IG9wdGlvbnMuYW5nbGUgOiBcImFudGljbG9ja3dpc2VcIiA9PT0gKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3JpZW50KSA/IE1hdGguY2VpbChhdHRyaWJ1dGVBbmdsZSAvICgyICogTWF0aC5QSSkpICogTWF0aC5QSSAqIDIgOiBNYXRoLmZsb29yKGF0dHJpYnV0ZUFuZ2xlIC8gKDIgKiBNYXRoLlBJKSkgKiBNYXRoLlBJICogMiwgXG4gICAge1xuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICBhbmdsZTogYW5nbGVcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIGFuZ2xlOiBhdHRyaWJ1dGVBbmdsZVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCByb3RhdGVPdXQgPSAoZWxlbWVudCwgb3B0aW9ucywgYW5pbWF0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBmaW5hbEFuZ2xlID0gbnVsbCAhPT0gKF9hID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiYW5nbGVcIiwgITApKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwO1xuICAgIGxldCBhbmdsZSA9IDA7XG4gICAgcmV0dXJuIGFuZ2xlID0gaXNOdW1iZXJDbG9zZShmaW5hbEFuZ2xlIC8gKDIgKiBNYXRoLlBJKSwgMCkgPyBNYXRoLnJvdW5kKGZpbmFsQW5nbGUgLyAoMiAqIE1hdGguUEkpKSAqIE1hdGguUEkgKiAyIDogaXNWYWxpZE51bWJlcihudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLmFuZ2xlKSA/IG9wdGlvbnMuYW5nbGUgOiBcImFudGljbG9ja3dpc2VcIiA9PT0gKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMub3JpZW50KSA/IE1hdGguY2VpbChmaW5hbEFuZ2xlIC8gKDIgKiBNYXRoLlBJKSkgKiBNYXRoLlBJICogMiA6IE1hdGguZmxvb3IoZmluYWxBbmdsZSAvICgyICogTWF0aC5QSSkpICogTWF0aC5QSSAqIDIsIFxuICAgIHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgYW5nbGU6IGZpbmFsQW5nbGVcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICAgIGFuZ2xlOiBhbmdsZVxuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3RhdGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/rotate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/scale.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/scale.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   scaleIn: () => (/* binding */ scaleIn),\n/* harmony export */   scaleOut: () => (/* binding */ scaleOut)\n/* harmony export */ });\nconst scaleIn = (element, options, animationParameters) => {\n    var _a, _b, _c, _d;\n    const attrs = element.getFinalAnimationAttributes();\n    switch (null == options ? void 0 : options.direction) {\n      case \"x\":\n        return {\n            from: {\n                scaleX: 0\n            },\n            to: {\n                scaleX: null !== (_a = null == attrs ? void 0 : attrs.scaleX) && void 0 !== _a ? _a : 1\n            }\n        };\n\n      case \"y\":\n        return {\n            from: {\n                scaleY: 0\n            },\n            to: {\n                scaleY: null !== (_b = null == attrs ? void 0 : attrs.scaleY) && void 0 !== _b ? _b : 1\n            }\n        };\n\n      default:\n        return {\n            from: {\n                scaleX: 0,\n                scaleY: 0\n            },\n            to: {\n                scaleX: null !== (_c = null == attrs ? void 0 : attrs.scaleX) && void 0 !== _c ? _c : 1,\n                scaleY: null !== (_d = null == attrs ? void 0 : attrs.scaleY) && void 0 !== _d ? _d : 1\n            }\n        };\n    }\n};\n\nconst scaleOut = (element, options, animationParameters) => {\n    var _a, _b, _c, _d;\n    switch (null == options ? void 0 : options.direction) {\n      case \"x\":\n        return {\n            from: {\n                scaleX: null !== (_a = element.getGraphicAttribute(\"scaleX\", !0)) && void 0 !== _a ? _a : 1\n            },\n            to: {\n                scaleX: 0\n            }\n        };\n\n      case \"y\":\n        return {\n            from: {\n                scaleY: null !== (_b = element.getGraphicAttribute(\"scaleY\", !0)) && void 0 !== _b ? _b : 1\n            },\n            to: {\n                scaleY: 0\n            }\n        };\n\n      default:\n        return {\n            from: {\n                scaleX: null !== (_c = element.getGraphicAttribute(\"scaleX\", !0)) && void 0 !== _c ? _c : 1,\n                scaleY: null !== (_d = element.getGraphicAttribute(\"scaleY\", !0)) && void 0 !== _d ? _d : 1\n            },\n            to: {\n                scaleX: 0,\n                scaleY: 0\n            }\n        };\n    }\n};\n//# sourceMappingURL=scale.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi9zY2FsZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb24vc2NhbGUuanM/OGE3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2NhbGVJbiA9IChlbGVtZW50LCBvcHRpb25zLCBhbmltYXRpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGF0dHJzID0gZWxlbWVudC5nZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZXMoKTtcbiAgICBzd2l0Y2ggKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMuZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIFwieFwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHNjYWxlWDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVYOiBudWxsICE9PSAoX2EgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuc2NhbGVYKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVZOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICBzY2FsZVk6IG51bGwgIT09IChfYiA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5zY2FsZVkpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICBzY2FsZVg6IDAsXG4gICAgICAgICAgICAgICAgc2NhbGVZOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICBzY2FsZVg6IG51bGwgIT09IChfYyA9IG51bGwgPT0gYXR0cnMgPyB2b2lkIDAgOiBhdHRycy5zY2FsZVgpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IDEsXG4gICAgICAgICAgICAgICAgc2NhbGVZOiBudWxsICE9PSAoX2QgPSBudWxsID09IGF0dHJzID8gdm9pZCAwIDogYXR0cnMuc2NhbGVZKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHNjYWxlT3V0ID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgc3dpdGNoIChudWxsID09IG9wdGlvbnMgPyB2b2lkIDAgOiBvcHRpb25zLmRpcmVjdGlvbikge1xuICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgICAgICBzY2FsZVg6IG51bGwgIT09IChfYSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInNjYWxlWFwiLCAhMCkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIHNjYWxlWDogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICBjYXNlIFwieVwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgICAgIHNjYWxlWTogbnVsbCAhPT0gKF9iID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic2NhbGVZXCIsICEwKSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVZOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVYOiBudWxsICE9PSAoX2MgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzY2FsZVhcIiwgITApKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAxLFxuICAgICAgICAgICAgICAgIHNjYWxlWTogbnVsbCAhPT0gKF9kID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwic2NhbGVZXCIsICEwKSkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVYOiAwLFxuICAgICAgICAgICAgICAgIHNjYWxlWTogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/update.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/update.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   update: () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isEqual.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nconst BUILT_IN_EXCLUDE_CHANNELS = {\n    symbol: [ \"_mo_hide_\", \"visible\" ]\n};\n\nconst update = (element, options, animationParameters) => {\n    const from = Object.assign({}, element.getPrevGraphicAttributes()), to = Object.assign({}, element.getNextGraphicAttributes());\n    let excludeChannels;\n    options && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(options.excludeChannels).forEach((key => {\n        delete from[key], delete to[key];\n    })), element.mark && element.mark.markType && (excludeChannels = BUILT_IN_EXCLUDE_CHANNELS[element.mark.markType]) && excludeChannels.forEach((key => {\n        delete from[key], delete to[key];\n    })), Object.keys(to).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.isEqual)(from[key], to[key]) && (delete from[key], delete to[key]);\n    }));\n    const final = element.getFinalGraphicAttributes();\n    return Object.keys(from).forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(to[key]) && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(final[key]) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.isEqual)(from[key], final[key]) ? delete from[key] : to[key] = final[key]);\n    })), {\n        from: from,\n        to: to\n    };\n};\n//# sourceMappingURL=update.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi91cGRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5RDs7QUFFekQ7QUFDQTtBQUNBOztBQUVPO0FBQ1AsaUNBQWlDLDREQUE0RDtBQUM3RjtBQUNBLGVBQWUsdURBQUs7QUFDcEI7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsUUFBUSx5REFBTztBQUNmLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUSw0REFBSyxjQUFjLDREQUFLLGdCQUFnQix5REFBTztBQUN2RCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdGlvbi91cGRhdGUuanM/MzUwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcnJheSwgaXNOaWwsIGlzRXF1YWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5jb25zdCBCVUlMVF9JTl9FWENMVURFX0NIQU5ORUxTID0ge1xuICAgIHN5bWJvbDogWyBcIl9tb19oaWRlX1wiLCBcInZpc2libGVcIiBdXG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlID0gKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBmcm9tID0gT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5nZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMoKSksIHRvID0gT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5nZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMoKSk7XG4gICAgbGV0IGV4Y2x1ZGVDaGFubmVscztcbiAgICBvcHRpb25zICYmIGFycmF5KG9wdGlvbnMuZXhjbHVkZUNoYW5uZWxzKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBkZWxldGUgZnJvbVtrZXldLCBkZWxldGUgdG9ba2V5XTtcbiAgICB9KSksIGVsZW1lbnQubWFyayAmJiBlbGVtZW50Lm1hcmsubWFya1R5cGUgJiYgKGV4Y2x1ZGVDaGFubmVscyA9IEJVSUxUX0lOX0VYQ0xVREVfQ0hBTk5FTFNbZWxlbWVudC5tYXJrLm1hcmtUeXBlXSkgJiYgZXhjbHVkZUNoYW5uZWxzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGRlbGV0ZSBmcm9tW2tleV0sIGRlbGV0ZSB0b1trZXldO1xuICAgIH0pKSwgT2JqZWN0LmtleXModG8pLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGlzRXF1YWwoZnJvbVtrZXldLCB0b1trZXldKSAmJiAoZGVsZXRlIGZyb21ba2V5XSwgZGVsZXRlIHRvW2tleV0pO1xuICAgIH0pKTtcbiAgICBjb25zdCBmaW5hbCA9IGVsZW1lbnQuZ2V0RmluYWxHcmFwaGljQXR0cmlidXRlcygpO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhmcm9tKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBpc05pbCh0b1trZXldKSAmJiAoaXNOaWwoZmluYWxba2V5XSkgfHwgaXNFcXVhbChmcm9tW2tleV0sIGZpbmFsW2tleV0pID8gZGVsZXRlIGZyb21ba2V5XSA6IHRvW2tleV0gPSBmaW5hbFtrZXldKTtcbiAgICB9KSksIHtcbiAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgdG86IHRvXG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/update.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animator.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animator.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Animator: () => (/* binding */ Animator)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/animate/animate.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/common/enums.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/animate/custom-animate.js\");\n/* harmony import */ var _attribute__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./attribute */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/attribute.js\");\n\n\n\n\n\n\n_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.Animate.mode |= _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.AnimateMode.SET_ATTR_IMMEDIATELY;\n\nlet GlobalAnimatorId = 0;\n\nconst isCustomAnimateCtor = custom => {\n    var _a;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(custom) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(custom.prototype)) return !1;\n    const prototype = null !== (_a = custom.prototype) && void 0 !== _a ? _a : {};\n    return prototype instanceof _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.ACustomAnimate || \"onBind\" in prototype && \"onStart\" in prototype && \"onEnd\" in prototype && \"onUpdate\" in prototype;\n};\n\nclass Animator {\n    constructor(element, unit, animationOptions) {\n        this.id = GlobalAnimatorId++, this.isAnimating = !1, this.runnings = [], this.element = element, \n        this.animationOptions = animationOptions, this.unit = unit;\n    }\n    callback(callbackFunction) {\n        return this.callbackFunction = callbackFunction, this;\n    }\n    animate(animationParameters, parameters) {\n        return this.isAnimating = !0, this.animateElement(animationParameters, parameters), \n        0 === this.runnings.length && this.animationEnd(), this;\n    }\n    stop(stopState = \"end\", invokeCallback = !0) {\n        return this.runnings.forEach((running => running.stop(stopState))), this.animationEnd(invokeCallback), \n        this;\n    }\n    pause() {\n        return this.runnings.forEach((running => running.pause())), this;\n    }\n    resume() {\n        return this.runnings.forEach((running => running.resume())), this;\n    }\n    startAt(startTime) {\n        return this.runnings.forEach((running => {\n            const initialDelay = this.unit.initialDelay;\n            running.startAt(initialDelay + startTime);\n        })), this;\n    }\n    getTotalAnimationTime() {\n        var _a;\n        const timeLineDuration = this.unit.initialDelay + this.unit.loopDuration * this.unit.loopCount;\n        return null !== (_a = this.unit.totalTime) && void 0 !== _a ? _a : timeLineDuration;\n    }\n    getEndAttributes() {\n        return this.runnings.reduce(((attributes, running) => Object.assign(attributes, running.getEndProps())), {});\n    }\n    animationEnd(invokeCallback = !0) {\n        var _a;\n        this.isAnimating = !1, this.runnings = null, invokeCallback && (null === (_a = this.callbackFunction) || void 0 === _a || _a.call(null));\n    }\n    animateElement(animationParameters, parameters) {\n        const graphicItem = this.element.getGraphicItem();\n        if (!graphicItem) return;\n        const graphicAnimate = graphicItem.animate();\n        this.runnings.push(graphicAnimate), graphicAnimate.startAt(this.unit.initialDelay), \n        graphicAnimate.wait(this.unit.loopDelay), this.unit.timeSlices.forEach((timeSlice => {\n            this.animateTimeSlice(graphicAnimate, timeSlice, animationParameters, parameters);\n        })), graphicAnimate.wait(this.unit.loopDelayAfter), graphicAnimate.loop(this.unit.loopCount - 1), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.unit.totalTime) && setTimeout((() => {\n            graphicAnimate && graphicAnimate.stop(\"end\");\n        }), this.unit.totalTime), graphicAnimate.onEnd((() => {\n            this.runnings = this.runnings.filter((running => running !== graphicAnimate)), 0 === this.runnings.length && this.animationEnd();\n        }));\n    }\n    animateTimeSlice(graphicAnimate, timeSlice, animationParameters, parameters) {\n        const delay = timeSlice.delay, delayAfter = timeSlice.delayAfter, duration = timeSlice.duration, effects = timeSlice.effects;\n        if (delay > 0 && graphicAnimate.wait(delay), effects.length < 0) graphicAnimate.wait(duration); else {\n            const customAnimates = effects.map(((effect, index) => {\n                var _a;\n                const attributes = null !== (_a = effect.type ? (0,_attribute__WEBPACK_IMPORTED_MODULE_4__.typeAnimationAttributes)(this.element, effect, animationParameters, parameters) : effect.channel ? (0,_attribute__WEBPACK_IMPORTED_MODULE_4__.channelAnimationAttributes)(this.element, effect, animationParameters, parameters) : void 0) && void 0 !== _a ? _a : {}, customOption = attributes.custom || (null == effect ? void 0 : effect.custom), customParametersOption = (null == attributes ? void 0 : attributes.customParameters) || (null == effect ? void 0 : effect.customParameters);\n                attributes.from && Object.keys(attributes.from).length && this.unit && this.animationOptions.timeline.controlOptions.immediatelyApply && \"component\" !== this.element.mark.markType && this.element.getGraphicItem().setAttributes(attributes.from);\n                const isCustomAnimate = isCustomAnimateCtor(customOption);\n                return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(customOption) && !isCustomAnimateCtor(customOption) ? new _attribute__WEBPACK_IMPORTED_MODULE_4__.CustomInterpolator(attributes.from, attributes.to, duration, effect.easing, {\n                    interpolator: customOption,\n                    element: this.element,\n                    parameters: customParametersOption\n                }) : isCustomAnimate ? new customOption(attributes.from, attributes.to, duration, effect.easing, customParametersOption) : attributes.to ? new _attribute__WEBPACK_IMPORTED_MODULE_4__.AttributeAnimate(attributes.from, attributes.to, duration, effect.easing) : void 0;\n            })).filter((animate => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(animate)));\n            1 === customAnimates.length ? graphicAnimate.play(customAnimates[0]) : customAnimates.length > 1 && graphicAnimate.play(new _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_5__.AnimateGroup(duration, customAnimates));\n        }\n        delayAfter > 0 && graphicAnimate.wait(delayAfter);\n    }\n}\n//# sourceMappingURL=animator.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FuaW1hdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0Q7O0FBRW9DOztBQUU0Qjs7QUFFeEgsMkRBQU8sU0FBUywrREFBVzs7QUFFM0I7O0FBRUE7QUFDQTtBQUNBLFFBQVEsNERBQUssWUFBWSw0REFBSztBQUM5QjtBQUNBLGdDQUFnQyxrRUFBYztBQUM5Qzs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUhBQW1IO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDREQUFhO0FBQ3JCO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHdHQUF3RztBQUN4RztBQUNBO0FBQ0EsZ0VBQWdFLG1FQUF1QiwyRUFBMkUsc0VBQTBCLDRGQUE0RjtBQUN4UjtBQUNBO0FBQ0Esd0JBQXdCLDREQUFLLDJEQUEyRCwwREFBa0I7QUFDMUc7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhJQUE4SSx3REFBZ0I7QUFDL0ssYUFBYSx1QkFBdUIsNERBQUs7QUFDekMsd0lBQXdJLGdFQUFZO0FBQ3BKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRvci5qcz8wOWI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsLCBpc1ZhbGlkTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQUN1c3RvbUFuaW1hdGUsIEFuaW1hdGUsIEFuaW1hdGVHcm91cCwgQW5pbWF0ZU1vZGUgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29yZVwiO1xuXG5pbXBvcnQgeyBBdHRyaWJ1dGVBbmltYXRlLCBjaGFubmVsQW5pbWF0aW9uQXR0cmlidXRlcywgQ3VzdG9tSW50ZXJwb2xhdG9yLCB0eXBlQW5pbWF0aW9uQXR0cmlidXRlcyB9IGZyb20gXCIuL2F0dHJpYnV0ZVwiO1xuXG5BbmltYXRlLm1vZGUgfD0gQW5pbWF0ZU1vZGUuU0VUX0FUVFJfSU1NRURJQVRFTFk7XG5cbmxldCBHbG9iYWxBbmltYXRvcklkID0gMDtcblxuY29uc3QgaXNDdXN0b21BbmltYXRlQ3RvciA9IGN1c3RvbSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChpc05pbChjdXN0b20pIHx8IGlzTmlsKGN1c3RvbS5wcm90b3R5cGUpKSByZXR1cm4gITE7XG4gICAgY29uc3QgcHJvdG90eXBlID0gbnVsbCAhPT0gKF9hID0gY3VzdG9tLnByb3RvdHlwZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge307XG4gICAgcmV0dXJuIHByb3RvdHlwZSBpbnN0YW5jZW9mIEFDdXN0b21BbmltYXRlIHx8IFwib25CaW5kXCIgaW4gcHJvdG90eXBlICYmIFwib25TdGFydFwiIGluIHByb3RvdHlwZSAmJiBcIm9uRW5kXCIgaW4gcHJvdG90eXBlICYmIFwib25VcGRhdGVcIiBpbiBwcm90b3R5cGU7XG59O1xuXG5leHBvcnQgY2xhc3MgQW5pbWF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHVuaXQsIGFuaW1hdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pZCA9IEdsb2JhbEFuaW1hdG9ySWQrKywgdGhpcy5pc0FuaW1hdGluZyA9ICExLCB0aGlzLnJ1bm5pbmdzID0gW10sIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQsIFxuICAgICAgICB0aGlzLmFuaW1hdGlvbk9wdGlvbnMgPSBhbmltYXRpb25PcHRpb25zLCB0aGlzLnVuaXQgPSB1bml0O1xuICAgIH1cbiAgICBjYWxsYmFjayhjYWxsYmFja0Z1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrRnVuY3Rpb24gPSBjYWxsYmFja0Z1bmN0aW9uLCB0aGlzO1xuICAgIH1cbiAgICBhbmltYXRlKGFuaW1hdGlvblBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNBbmltYXRpbmcgPSAhMCwgdGhpcy5hbmltYXRlRWxlbWVudChhbmltYXRpb25QYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzKSwgXG4gICAgICAgIDAgPT09IHRoaXMucnVubmluZ3MubGVuZ3RoICYmIHRoaXMuYW5pbWF0aW9uRW5kKCksIHRoaXM7XG4gICAgfVxuICAgIHN0b3Aoc3RvcFN0YXRlID0gXCJlbmRcIiwgaW52b2tlQ2FsbGJhY2sgPSAhMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5uaW5ncy5mb3JFYWNoKChydW5uaW5nID0+IHJ1bm5pbmcuc3RvcChzdG9wU3RhdGUpKSksIHRoaXMuYW5pbWF0aW9uRW5kKGludm9rZUNhbGxiYWNrKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5uaW5ncy5mb3JFYWNoKChydW5uaW5nID0+IHJ1bm5pbmcucGF1c2UoKSkpLCB0aGlzO1xuICAgIH1cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmdzLmZvckVhY2goKHJ1bm5pbmcgPT4gcnVubmluZy5yZXN1bWUoKSkpLCB0aGlzO1xuICAgIH1cbiAgICBzdGFydEF0KHN0YXJ0VGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5uaW5ncy5mb3JFYWNoKChydW5uaW5nID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxEZWxheSA9IHRoaXMudW5pdC5pbml0aWFsRGVsYXk7XG4gICAgICAgICAgICBydW5uaW5nLnN0YXJ0QXQoaW5pdGlhbERlbGF5ICsgc3RhcnRUaW1lKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBnZXRUb3RhbEFuaW1hdGlvblRpbWUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGltZUxpbmVEdXJhdGlvbiA9IHRoaXMudW5pdC5pbml0aWFsRGVsYXkgKyB0aGlzLnVuaXQubG9vcER1cmF0aW9uICogdGhpcy51bml0Lmxvb3BDb3VudDtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMudW5pdC50b3RhbFRpbWUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHRpbWVMaW5lRHVyYXRpb247XG4gICAgfVxuICAgIGdldEVuZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmdzLnJlZHVjZSgoKGF0dHJpYnV0ZXMsIHJ1bm5pbmcpID0+IE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcywgcnVubmluZy5nZXRFbmRQcm9wcygpKSksIHt9KTtcbiAgICB9XG4gICAgYW5pbWF0aW9uRW5kKGludm9rZUNhbGxiYWNrID0gITApIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gITEsIHRoaXMucnVubmluZ3MgPSBudWxsLCBpbnZva2VDYWxsYmFjayAmJiAobnVsbCA9PT0gKF9hID0gdGhpcy5jYWxsYmFja0Z1bmN0aW9uKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLmNhbGwobnVsbCkpO1xuICAgIH1cbiAgICBhbmltYXRlRWxlbWVudChhbmltYXRpb25QYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNJdGVtID0gdGhpcy5lbGVtZW50LmdldEdyYXBoaWNJdGVtKCk7XG4gICAgICAgIGlmICghZ3JhcGhpY0l0ZW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgZ3JhcGhpY0FuaW1hdGUgPSBncmFwaGljSXRlbS5hbmltYXRlKCk7XG4gICAgICAgIHRoaXMucnVubmluZ3MucHVzaChncmFwaGljQW5pbWF0ZSksIGdyYXBoaWNBbmltYXRlLnN0YXJ0QXQodGhpcy51bml0LmluaXRpYWxEZWxheSksIFxuICAgICAgICBncmFwaGljQW5pbWF0ZS53YWl0KHRoaXMudW5pdC5sb29wRGVsYXkpLCB0aGlzLnVuaXQudGltZVNsaWNlcy5mb3JFYWNoKCh0aW1lU2xpY2UgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlVGltZVNsaWNlKGdyYXBoaWNBbmltYXRlLCB0aW1lU2xpY2UsIGFuaW1hdGlvblBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpO1xuICAgICAgICB9KSksIGdyYXBoaWNBbmltYXRlLndhaXQodGhpcy51bml0Lmxvb3BEZWxheUFmdGVyKSwgZ3JhcGhpY0FuaW1hdGUubG9vcCh0aGlzLnVuaXQubG9vcENvdW50IC0gMSksIFxuICAgICAgICBpc1ZhbGlkTnVtYmVyKHRoaXMudW5pdC50b3RhbFRpbWUpICYmIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgIGdyYXBoaWNBbmltYXRlICYmIGdyYXBoaWNBbmltYXRlLnN0b3AoXCJlbmRcIik7XG4gICAgICAgIH0pLCB0aGlzLnVuaXQudG90YWxUaW1lKSwgZ3JhcGhpY0FuaW1hdGUub25FbmQoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucnVubmluZ3MgPSB0aGlzLnJ1bm5pbmdzLmZpbHRlcigocnVubmluZyA9PiBydW5uaW5nICE9PSBncmFwaGljQW5pbWF0ZSkpLCAwID09PSB0aGlzLnJ1bm5pbmdzLmxlbmd0aCAmJiB0aGlzLmFuaW1hdGlvbkVuZCgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFuaW1hdGVUaW1lU2xpY2UoZ3JhcGhpY0FuaW1hdGUsIHRpbWVTbGljZSwgYW5pbWF0aW9uUGFyYW1ldGVycywgcGFyYW1ldGVycykge1xuICAgICAgICBjb25zdCBkZWxheSA9IHRpbWVTbGljZS5kZWxheSwgZGVsYXlBZnRlciA9IHRpbWVTbGljZS5kZWxheUFmdGVyLCBkdXJhdGlvbiA9IHRpbWVTbGljZS5kdXJhdGlvbiwgZWZmZWN0cyA9IHRpbWVTbGljZS5lZmZlY3RzO1xuICAgICAgICBpZiAoZGVsYXkgPiAwICYmIGdyYXBoaWNBbmltYXRlLndhaXQoZGVsYXkpLCBlZmZlY3RzLmxlbmd0aCA8IDApIGdyYXBoaWNBbmltYXRlLndhaXQoZHVyYXRpb24pOyBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbUFuaW1hdGVzID0gZWZmZWN0cy5tYXAoKChlZmZlY3QsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBudWxsICE9PSAoX2EgPSBlZmZlY3QudHlwZSA/IHR5cGVBbmltYXRpb25BdHRyaWJ1dGVzKHRoaXMuZWxlbWVudCwgZWZmZWN0LCBhbmltYXRpb25QYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzKSA6IGVmZmVjdC5jaGFubmVsID8gY2hhbm5lbEFuaW1hdGlvbkF0dHJpYnV0ZXModGhpcy5lbGVtZW50LCBlZmZlY3QsIGFuaW1hdGlvblBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpIDogdm9pZCAwKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fSwgY3VzdG9tT3B0aW9uID0gYXR0cmlidXRlcy5jdXN0b20gfHwgKG51bGwgPT0gZWZmZWN0ID8gdm9pZCAwIDogZWZmZWN0LmN1c3RvbSksIGN1c3RvbVBhcmFtZXRlcnNPcHRpb24gPSAobnVsbCA9PSBhdHRyaWJ1dGVzID8gdm9pZCAwIDogYXR0cmlidXRlcy5jdXN0b21QYXJhbWV0ZXJzKSB8fCAobnVsbCA9PSBlZmZlY3QgPyB2b2lkIDAgOiBlZmZlY3QuY3VzdG9tUGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5mcm9tICYmIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMuZnJvbSkubGVuZ3RoICYmIHRoaXMudW5pdCAmJiB0aGlzLmFuaW1hdGlvbk9wdGlvbnMudGltZWxpbmUuY29udHJvbE9wdGlvbnMuaW1tZWRpYXRlbHlBcHBseSAmJiBcImNvbXBvbmVudFwiICE9PSB0aGlzLmVsZW1lbnQubWFyay5tYXJrVHlwZSAmJiB0aGlzLmVsZW1lbnQuZ2V0R3JhcGhpY0l0ZW0oKS5zZXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMuZnJvbSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNDdXN0b21BbmltYXRlID0gaXNDdXN0b21BbmltYXRlQ3RvcihjdXN0b21PcHRpb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiAhaXNOaWwoY3VzdG9tT3B0aW9uKSAmJiAhaXNDdXN0b21BbmltYXRlQ3RvcihjdXN0b21PcHRpb24pID8gbmV3IEN1c3RvbUludGVycG9sYXRvcihhdHRyaWJ1dGVzLmZyb20sIGF0dHJpYnV0ZXMudG8sIGR1cmF0aW9uLCBlZmZlY3QuZWFzaW5nLCB7XG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRvcjogY3VzdG9tT3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IGN1c3RvbVBhcmFtZXRlcnNPcHRpb25cbiAgICAgICAgICAgICAgICB9KSA6IGlzQ3VzdG9tQW5pbWF0ZSA/IG5ldyBjdXN0b21PcHRpb24oYXR0cmlidXRlcy5mcm9tLCBhdHRyaWJ1dGVzLnRvLCBkdXJhdGlvbiwgZWZmZWN0LmVhc2luZywgY3VzdG9tUGFyYW1ldGVyc09wdGlvbikgOiBhdHRyaWJ1dGVzLnRvID8gbmV3IEF0dHJpYnV0ZUFuaW1hdGUoYXR0cmlidXRlcy5mcm9tLCBhdHRyaWJ1dGVzLnRvLCBkdXJhdGlvbiwgZWZmZWN0LmVhc2luZykgOiB2b2lkIDA7XG4gICAgICAgICAgICB9KSkuZmlsdGVyKChhbmltYXRlID0+ICFpc05pbChhbmltYXRlKSkpO1xuICAgICAgICAgICAgMSA9PT0gY3VzdG9tQW5pbWF0ZXMubGVuZ3RoID8gZ3JhcGhpY0FuaW1hdGUucGxheShjdXN0b21BbmltYXRlc1swXSkgOiBjdXN0b21BbmltYXRlcy5sZW5ndGggPiAxICYmIGdyYXBoaWNBbmltYXRlLnBsYXkobmV3IEFuaW1hdGVHcm91cChkdXJhdGlvbiwgY3VzdG9tQW5pbWF0ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxheUFmdGVyID4gMCAmJiBncmFwaGljQW5pbWF0ZS53YWl0KGRlbGF5QWZ0ZXIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaW1hdG9yLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/arranger.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/arranger.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arranger: () => (/* binding */ Arranger)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nclass Arranger {\n    constructor(animators) {\n        this.parallelArrangers = [ this ], this.totalTime = 0, this.startTime = 0, this.endTime = 0, \n        this.animators = animators.filter((animator => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(animator))), this.totalTime = this.animators.reduce(((time, animator) => Math.max(time, animator.getTotalAnimationTime())), 0);\n    }\n    parallel(arranger) {\n        const parallelArrangers = Array.from(new Set(this.parallelArrangers.concat(arranger.parallelArrangers)));\n        return parallelArrangers.forEach((arranger => {\n            arranger.parallelArrangers = parallelArrangers;\n        })), this.arrangeTime(), this;\n    }\n    after(arranger) {\n        return this.afterArranger = arranger, this.arrangeTime(), this;\n    }\n    arrangeTime() {\n        const parallelTime = this.parallelArrangers.reduce(((time, arranger) => Math.max(time, arranger.totalTime)), this.totalTime), startTime = this.parallelArrangers.reduce(((time, arranger) => {\n            var _a, _b;\n            return Math.max(time, null !== (_b = null === (_a = arranger.afterArranger) || void 0 === _a ? void 0 : _a.endTime) && void 0 !== _b ? _b : 0);\n        }), 0);\n        this.parallelArrangers.forEach((arranger => {\n            arranger.startTime = startTime, arranger.endTime = startTime + parallelTime, arranger.animators.forEach((animator => {\n                animator.startAt(startTime);\n            }));\n        }));\n    }\n}\n//# sourceMappingURL=arranger.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2FycmFuZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlDOztBQUVsQztBQUNQO0FBQ0E7QUFDQSx3REFBd0QsNERBQUs7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vYXJyYW5nZXIuanM/ZTE3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBBcnJhbmdlciB7XG4gICAgY29uc3RydWN0b3IoYW5pbWF0b3JzKSB7XG4gICAgICAgIHRoaXMucGFyYWxsZWxBcnJhbmdlcnMgPSBbIHRoaXMgXSwgdGhpcy50b3RhbFRpbWUgPSAwLCB0aGlzLnN0YXJ0VGltZSA9IDAsIHRoaXMuZW5kVGltZSA9IDAsIFxuICAgICAgICB0aGlzLmFuaW1hdG9ycyA9IGFuaW1hdG9ycy5maWx0ZXIoKGFuaW1hdG9yID0+ICFpc05pbChhbmltYXRvcikpKSwgdGhpcy50b3RhbFRpbWUgPSB0aGlzLmFuaW1hdG9ycy5yZWR1Y2UoKCh0aW1lLCBhbmltYXRvcikgPT4gTWF0aC5tYXgodGltZSwgYW5pbWF0b3IuZ2V0VG90YWxBbmltYXRpb25UaW1lKCkpKSwgMCk7XG4gICAgfVxuICAgIHBhcmFsbGVsKGFycmFuZ2VyKSB7XG4gICAgICAgIGNvbnN0IHBhcmFsbGVsQXJyYW5nZXJzID0gQXJyYXkuZnJvbShuZXcgU2V0KHRoaXMucGFyYWxsZWxBcnJhbmdlcnMuY29uY2F0KGFycmFuZ2VyLnBhcmFsbGVsQXJyYW5nZXJzKSkpO1xuICAgICAgICByZXR1cm4gcGFyYWxsZWxBcnJhbmdlcnMuZm9yRWFjaCgoYXJyYW5nZXIgPT4ge1xuICAgICAgICAgICAgYXJyYW5nZXIucGFyYWxsZWxBcnJhbmdlcnMgPSBwYXJhbGxlbEFycmFuZ2VycztcbiAgICAgICAgfSkpLCB0aGlzLmFycmFuZ2VUaW1lKCksIHRoaXM7XG4gICAgfVxuICAgIGFmdGVyKGFycmFuZ2VyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFmdGVyQXJyYW5nZXIgPSBhcnJhbmdlciwgdGhpcy5hcnJhbmdlVGltZSgpLCB0aGlzO1xuICAgIH1cbiAgICBhcnJhbmdlVGltZSgpIHtcbiAgICAgICAgY29uc3QgcGFyYWxsZWxUaW1lID0gdGhpcy5wYXJhbGxlbEFycmFuZ2Vycy5yZWR1Y2UoKCh0aW1lLCBhcnJhbmdlcikgPT4gTWF0aC5tYXgodGltZSwgYXJyYW5nZXIudG90YWxUaW1lKSksIHRoaXMudG90YWxUaW1lKSwgc3RhcnRUaW1lID0gdGhpcy5wYXJhbGxlbEFycmFuZ2Vycy5yZWR1Y2UoKCh0aW1lLCBhcnJhbmdlcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh0aW1lLCBudWxsICE9PSAoX2IgPSBudWxsID09PSAoX2EgPSBhcnJhbmdlci5hZnRlckFycmFuZ2VyKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZW5kVGltZSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMCk7XG4gICAgICAgIH0pLCAwKTtcbiAgICAgICAgdGhpcy5wYXJhbGxlbEFycmFuZ2Vycy5mb3JFYWNoKChhcnJhbmdlciA9PiB7XG4gICAgICAgICAgICBhcnJhbmdlci5zdGFydFRpbWUgPSBzdGFydFRpbWUsIGFycmFuZ2VyLmVuZFRpbWUgPSBzdGFydFRpbWUgKyBwYXJhbGxlbFRpbWUsIGFycmFuZ2VyLmFuaW1hdG9ycy5mb3JFYWNoKChhbmltYXRvciA9PiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0b3Iuc3RhcnRBdChzdGFydFRpbWUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyYW5nZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/arranger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/attribute.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/attribute.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AttributeAnimate: () => (/* binding */ AttributeAnimate),\n/* harmony export */   CustomInterpolator: () => (/* binding */ CustomInterpolator),\n/* harmony export */   channelAnimationAttributes: () => (/* binding */ channelAnimationAttributes),\n/* harmony export */   typeAnimationAttributes: () => (/* binding */ typeAnimationAttributes)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/animate/animate.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/graphic.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/common/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _attributes_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributes/helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\nconst transformAnimationAttributes = (attributes, element) => {\n    if (!attributes) return null;\n    if (attributes.from) {\n        const from = attributes.from, fromKeys = Object.keys(from);\n        fromKeys.forEach((channel => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(from[channel]) && delete from[channel];\n        }));\n        const computePoints = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_1__.isValidPointsChannel)(fromKeys, element.mark.markType) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(from.segments);\n        if (computePoints) {\n            const items = element.items.map((item => Object.assign({}, item, {\n                nextAttrs: Object.assign({}, from)\n            })));\n            attributes.from = element.transformElementItems(items, element.mark.markType, computePoints);\n        }\n    }\n    if (attributes.to) {\n        const to = attributes.to, toKeys = Object.keys(to);\n        toKeys.forEach((channel => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(to[channel]) && delete to[channel];\n        }));\n        const computePoints = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_1__.isValidPointsChannel)(toKeys, element.mark.markType) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(to.segments);\n        if (computePoints) {\n            const items = element.items.map((item => Object.assign({}, item, {\n                nextAttrs: Object.assign({}, to)\n            })));\n            attributes.to = element.transformElementItems(items, element.mark.markType, computePoints);\n        }\n    }\n    return attributes;\n};\n\nfunction typeAnimationAttributes(element, effect, animationParameters, parameters) {\n    const options = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(effect.options) ? effect.options.call(null, element.getDatum(), element, parameters) : effect.options;\n    if (!effect.type || !_core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.getAnimationType(effect.type)) return null;\n    const attributes = _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.getAnimationType(effect.type)(element, options, animationParameters);\n    return transformAnimationAttributes(attributes, element);\n}\n\nconst parseChannelValue = (element, channel, channelValue, animationParameters, parameters) => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(channelValue) ? channelValue(element.getDatum(), element, parameters) : channelValue;\n\nfunction channelAnimationAttributes(element, effect, animationParameters, parameters) {\n    const channel = effect.channel;\n    let attributes = null;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(channel) ? attributes = channel.reduce(((res, key) => (res.from[key] = element.getGraphicAttribute(key, !0), \n    res.to[key] = element.getGraphicAttribute(key, !1), res)), {\n        from: {},\n        to: {}\n    }) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(channel) && (attributes = Object.keys(channel).reduce(((res, key) => {\n        var _a, _b;\n        const hasFrom = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null === (_a = channel[key]) || void 0 === _a ? void 0 : _a.from), hasTo = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null === (_b = channel[key]) || void 0 === _b ? void 0 : _b.to);\n        return (hasFrom || hasTo) && (res.from[key] = hasFrom ? parseChannelValue(element, 0, channel[key].from, 0, parameters) : void 0, \n        res.to[key] = hasTo ? parseChannelValue(element, 0, channel[key].to, 0, parameters) : element.getGraphicAttribute(key, !1)), \n        res;\n    }), {\n        from: {},\n        to: {}\n    })), transformAnimationAttributes(attributes, element);\n}\n\nclass CustomInterpolator extends _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.ACustomAnimate {\n    constructor(from, to, duration, easing, params) {\n        super(from, to, duration, easing, params), this._interpolator = null == params ? void 0 : params.interpolator, \n        this._element = null == params ? void 0 : params.element;\n    }\n    onBind() {\n        var _a, _b;\n        this.from = null !== (_a = this.from) && void 0 !== _a ? _a : {}, this.to = null !== (_b = this.to) && void 0 !== _b ? _b : {};\n    }\n    getEndProps() {\n        return this.to;\n    }\n    onUpdate(end, ratio, out) {\n        this._interpolator && this._element && this._interpolator.call(this, ratio, this.from, this.to, out, this._element.getDatum(), this._element, this.params.parameters);\n    }\n}\n\nclass AttributeAnimate extends _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.ACustomAnimate {\n    getEndProps() {\n        return this.to;\n    }\n    onBind() {\n        var _a;\n        const excludedChannelMap = null !== (_a = this.target.constructor.NOWORK_ANIMATE_ATTR) && void 0 !== _a ? _a : _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_8__.NOWORK_ANIMATE_ATTR, excludedChannels = Object.keys(excludedChannelMap).filter((channel => 0 !== excludedChannelMap[channel]));\n        this.subAnimate.animate.preventAttrs(excludedChannels);\n        const from = Object.assign({}, this.from), to = Object.assign({}, this.to), animatedChannels = [];\n        Object.keys(to).forEach((k => {\n            excludedChannels.includes(k) ? (from[k] = to[k], this.from[k] = to[k]) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(from[k]) ? from[k] = this.target.getComputedAttribute(k) : animatedChannels.push(k);\n        })), this.target.animates.forEach((a => {\n            a !== this.subAnimate.animate && a.preventAttrs(animatedChannels);\n        })), this._fromAttribute = from, this._toAttribute = to;\n    }\n    onStart() {\n        if (this._fromAttribute) {\n            const from = {};\n            Object.keys(this._fromAttribute).forEach((key => {\n                this.subAnimate.animate.validAttr(key) && (from[key] = this._fromAttribute[key]);\n            })), this.target.setAttributes(from, !1, {\n                type: _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__.AttributeUpdateType.ANIMATE_UPDATE,\n                animationState: {\n                    ratio: 0,\n                    end: !1\n                }\n            });\n        }\n    }\n    onEnd() {\n        if (this._toAttribute) {\n            const out = {};\n            Object.keys(this._toAttribute).forEach((key => {\n                this.subAnimate.animate.validAttr(key) && (out[key] = this._toAttribute[key]);\n            })), this.target.setAttributes(out, !1, {\n                type: _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__.AttributeUpdateType.ANIMATE_END\n            });\n        }\n    }\n    update(end, ratio, out) {\n        0 === this.updateCount && this.onFirstRun(), this.updateCount += 1;\n        const lastProps = this.step.getLastProps();\n        Object.keys(lastProps).forEach((key => {\n            this.subAnimate.animate.validAttr(key) && (out[key] = lastProps[key]);\n        })), this.onUpdate(end, ratio, out), end && this.onEnd();\n    }\n    onUpdate(end, ratio, out) {\n        this.target.stepInterpolate(this.subAnimate, this.subAnimate.animate, out, this.step, ratio, end, this._toAttribute, this._fromAttribute);\n    }\n}\n//# sourceMappingURL=attribute.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2F0dHJpYnV0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFrRzs7QUFFakI7O0FBRXBCOztBQUVoQjs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQUs7QUFDakIsU0FBUztBQUNULDhCQUE4Qix5RUFBb0Isc0NBQXNDLDREQUFPO0FBQy9GO0FBQ0EscUVBQXFFO0FBQ3JFLDJDQUEyQztBQUMzQyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0REFBSztBQUNqQixTQUFTO0FBQ1QsOEJBQThCLHlFQUFvQixvQ0FBb0MsNERBQU87QUFDN0Y7QUFDQSxxRUFBcUU7QUFDckUsMkNBQTJDO0FBQzNDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1Asb0JBQW9CLDREQUFVO0FBQzlCLHlCQUF5QixrREFBTztBQUNoQyx1QkFBdUIsa0RBQU87QUFDOUI7QUFDQTs7QUFFQSwrRkFBK0YsNERBQVU7O0FBRWxHO0FBQ1A7QUFDQTtBQUNBLFdBQVcsNERBQU87QUFDbEI7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxLQUFLLElBQUksNERBQVE7QUFDakI7QUFDQSx5QkFBeUIsNERBQUssNkVBQTZFLDREQUFLO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxnQkFBZ0I7QUFDaEI7QUFDQSxLQUFLO0FBQ0w7O0FBRU8saUNBQWlDLGtFQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPLCtCQUErQixrRUFBYztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUhBQXVILHVFQUFtQjtBQUMxSTtBQUNBLHFDQUFxQyxtQ0FBbUM7QUFDeEU7QUFDQSxxRkFBcUYsNERBQUs7QUFDMUYsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixzQkFBc0IsdUVBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHNCQUFzQix1RUFBbUI7QUFDekMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2F0dHJpYnV0ZS5qcz83YjhhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFDdXN0b21BbmltYXRlLCBBdHRyaWJ1dGVVcGRhdGVUeXBlLCBOT1dPUktfQU5JTUFURV9BVFRSIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuaW1wb3J0IHsgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNOaWwsIGlzT2JqZWN0LCBpc1ZhbGlkIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgaXNWYWxpZFBvaW50c0NoYW5uZWwgfSBmcm9tIFwiLi4vYXR0cmlidXRlcy9oZWxwZXJzXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vLi4vY29yZS9mYWN0b3J5XCI7XG5cbmNvbnN0IHRyYW5zZm9ybUFuaW1hdGlvbkF0dHJpYnV0ZXMgPSAoYXR0cmlidXRlcywgZWxlbWVudCkgPT4ge1xuICAgIGlmICghYXR0cmlidXRlcykgcmV0dXJuIG51bGw7XG4gICAgaWYgKGF0dHJpYnV0ZXMuZnJvbSkge1xuICAgICAgICBjb25zdCBmcm9tID0gYXR0cmlidXRlcy5mcm9tLCBmcm9tS2V5cyA9IE9iamVjdC5rZXlzKGZyb20pO1xuICAgICAgICBmcm9tS2V5cy5mb3JFYWNoKChjaGFubmVsID0+IHtcbiAgICAgICAgICAgIGlzTmlsKGZyb21bY2hhbm5lbF0pICYmIGRlbGV0ZSBmcm9tW2NoYW5uZWxdO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVQb2ludHMgPSBpc1ZhbGlkUG9pbnRzQ2hhbm5lbChmcm9tS2V5cywgZWxlbWVudC5tYXJrLm1hcmtUeXBlKSAmJiAhaXNWYWxpZChmcm9tLnNlZ21lbnRzKTtcbiAgICAgICAgaWYgKGNvbXB1dGVQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gZWxlbWVudC5pdGVtcy5tYXAoKGl0ZW0gPT4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgICAgIG5leHRBdHRyczogT2JqZWN0LmFzc2lnbih7fSwgZnJvbSlcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmZyb20gPSBlbGVtZW50LnRyYW5zZm9ybUVsZW1lbnRJdGVtcyhpdGVtcywgZWxlbWVudC5tYXJrLm1hcmtUeXBlLCBjb21wdXRlUG9pbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlcy50bykge1xuICAgICAgICBjb25zdCB0byA9IGF0dHJpYnV0ZXMudG8sIHRvS2V5cyA9IE9iamVjdC5rZXlzKHRvKTtcbiAgICAgICAgdG9LZXlzLmZvckVhY2goKGNoYW5uZWwgPT4ge1xuICAgICAgICAgICAgaXNOaWwodG9bY2hhbm5lbF0pICYmIGRlbGV0ZSB0b1tjaGFubmVsXTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBjb21wdXRlUG9pbnRzID0gaXNWYWxpZFBvaW50c0NoYW5uZWwodG9LZXlzLCBlbGVtZW50Lm1hcmsubWFya1R5cGUpICYmICFpc1ZhbGlkKHRvLnNlZ21lbnRzKTtcbiAgICAgICAgaWYgKGNvbXB1dGVQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gZWxlbWVudC5pdGVtcy5tYXAoKGl0ZW0gPT4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgICAgIG5leHRBdHRyczogT2JqZWN0LmFzc2lnbih7fSwgdG8pXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgYXR0cmlidXRlcy50byA9IGVsZW1lbnQudHJhbnNmb3JtRWxlbWVudEl0ZW1zKGl0ZW1zLCBlbGVtZW50Lm1hcmsubWFya1R5cGUsIGNvbXB1dGVQb2ludHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHR5cGVBbmltYXRpb25BdHRyaWJ1dGVzKGVsZW1lbnQsIGVmZmVjdCwgYW5pbWF0aW9uUGFyYW1ldGVycywgcGFyYW1ldGVycykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBpc0Z1bmN0aW9uKGVmZmVjdC5vcHRpb25zKSA/IGVmZmVjdC5vcHRpb25zLmNhbGwobnVsbCwgZWxlbWVudC5nZXREYXR1bSgpLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA6IGVmZmVjdC5vcHRpb25zO1xuICAgIGlmICghZWZmZWN0LnR5cGUgfHwgIUZhY3RvcnkuZ2V0QW5pbWF0aW9uVHlwZShlZmZlY3QudHlwZSkpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBGYWN0b3J5LmdldEFuaW1hdGlvblR5cGUoZWZmZWN0LnR5cGUpKGVsZW1lbnQsIG9wdGlvbnMsIGFuaW1hdGlvblBhcmFtZXRlcnMpO1xuICAgIHJldHVybiB0cmFuc2Zvcm1BbmltYXRpb25BdHRyaWJ1dGVzKGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xufVxuXG5jb25zdCBwYXJzZUNoYW5uZWxWYWx1ZSA9IChlbGVtZW50LCBjaGFubmVsLCBjaGFubmVsVmFsdWUsIGFuaW1hdGlvblBhcmFtZXRlcnMsIHBhcmFtZXRlcnMpID0+IGlzRnVuY3Rpb24oY2hhbm5lbFZhbHVlKSA/IGNoYW5uZWxWYWx1ZShlbGVtZW50LmdldERhdHVtKCksIGVsZW1lbnQsIHBhcmFtZXRlcnMpIDogY2hhbm5lbFZhbHVlO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbm5lbEFuaW1hdGlvbkF0dHJpYnV0ZXMoZWxlbWVudCwgZWZmZWN0LCBhbmltYXRpb25QYXJhbWV0ZXJzLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IGVmZmVjdC5jaGFubmVsO1xuICAgIGxldCBhdHRyaWJ1dGVzID0gbnVsbDtcbiAgICByZXR1cm4gaXNBcnJheShjaGFubmVsKSA/IGF0dHJpYnV0ZXMgPSBjaGFubmVsLnJlZHVjZSgoKHJlcywga2V5KSA9PiAocmVzLmZyb21ba2V5XSA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShrZXksICEwKSwgXG4gICAgcmVzLnRvW2tleV0gPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoa2V5LCAhMSksIHJlcykpLCB7XG4gICAgICAgIGZyb206IHt9LFxuICAgICAgICB0bzoge31cbiAgICB9KSA6IGlzT2JqZWN0KGNoYW5uZWwpICYmIChhdHRyaWJ1dGVzID0gT2JqZWN0LmtleXMoY2hhbm5lbCkucmVkdWNlKCgocmVzLCBrZXkpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgaGFzRnJvbSA9ICFpc05pbChudWxsID09PSAoX2EgPSBjaGFubmVsW2tleV0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5mcm9tKSwgaGFzVG8gPSAhaXNOaWwobnVsbCA9PT0gKF9iID0gY2hhbm5lbFtrZXldKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IudG8pO1xuICAgICAgICByZXR1cm4gKGhhc0Zyb20gfHwgaGFzVG8pICYmIChyZXMuZnJvbVtrZXldID0gaGFzRnJvbSA/IHBhcnNlQ2hhbm5lbFZhbHVlKGVsZW1lbnQsIDAsIGNoYW5uZWxba2V5XS5mcm9tLCAwLCBwYXJhbWV0ZXJzKSA6IHZvaWQgMCwgXG4gICAgICAgIHJlcy50b1trZXldID0gaGFzVG8gPyBwYXJzZUNoYW5uZWxWYWx1ZShlbGVtZW50LCAwLCBjaGFubmVsW2tleV0udG8sIDAsIHBhcmFtZXRlcnMpIDogZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKGtleSwgITEpKSwgXG4gICAgICAgIHJlcztcbiAgICB9KSwge1xuICAgICAgICBmcm9tOiB7fSxcbiAgICAgICAgdG86IHt9XG4gICAgfSkpLCB0cmFuc2Zvcm1BbmltYXRpb25BdHRyaWJ1dGVzKGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xufVxuXG5leHBvcnQgY2xhc3MgQ3VzdG9tSW50ZXJwb2xhdG9yIGV4dGVuZHMgQUN1c3RvbUFuaW1hdGUge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvLCBkdXJhdGlvbiwgZWFzaW5nLCBwYXJhbXMpIHtcbiAgICAgICAgc3VwZXIoZnJvbSwgdG8sIGR1cmF0aW9uLCBlYXNpbmcsIHBhcmFtcyksIHRoaXMuX2ludGVycG9sYXRvciA9IG51bGwgPT0gcGFyYW1zID8gdm9pZCAwIDogcGFyYW1zLmludGVycG9sYXRvciwgXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsID09IHBhcmFtcyA/IHZvaWQgMCA6IHBhcmFtcy5lbGVtZW50O1xuICAgIH1cbiAgICBvbkJpbmQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuZnJvbSA9IG51bGwgIT09IChfYSA9IHRoaXMuZnJvbSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge30sIHRoaXMudG8gPSBudWxsICE9PSAoX2IgPSB0aGlzLnRvKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiB7fTtcbiAgICB9XG4gICAgZ2V0RW5kUHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvO1xuICAgIH1cbiAgICBvblVwZGF0ZShlbmQsIHJhdGlvLCBvdXQpIHtcbiAgICAgICAgdGhpcy5faW50ZXJwb2xhdG9yICYmIHRoaXMuX2VsZW1lbnQgJiYgdGhpcy5faW50ZXJwb2xhdG9yLmNhbGwodGhpcywgcmF0aW8sIHRoaXMuZnJvbSwgdGhpcy50bywgb3V0LCB0aGlzLl9lbGVtZW50LmdldERhdHVtKCksIHRoaXMuX2VsZW1lbnQsIHRoaXMucGFyYW1zLnBhcmFtZXRlcnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUFuaW1hdGUgZXh0ZW5kcyBBQ3VzdG9tQW5pbWF0ZSB7XG4gICAgZ2V0RW5kUHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvO1xuICAgIH1cbiAgICBvbkJpbmQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZXhjbHVkZWRDaGFubmVsTWFwID0gbnVsbCAhPT0gKF9hID0gdGhpcy50YXJnZXQuY29uc3RydWN0b3IuTk9XT1JLX0FOSU1BVEVfQVRUUikgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogTk9XT1JLX0FOSU1BVEVfQVRUUiwgZXhjbHVkZWRDaGFubmVscyA9IE9iamVjdC5rZXlzKGV4Y2x1ZGVkQ2hhbm5lbE1hcCkuZmlsdGVyKChjaGFubmVsID0+IDAgIT09IGV4Y2x1ZGVkQ2hhbm5lbE1hcFtjaGFubmVsXSkpO1xuICAgICAgICB0aGlzLnN1YkFuaW1hdGUuYW5pbWF0ZS5wcmV2ZW50QXR0cnMoZXhjbHVkZWRDaGFubmVscyk7XG4gICAgICAgIGNvbnN0IGZyb20gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmZyb20pLCB0byA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMudG8pLCBhbmltYXRlZENoYW5uZWxzID0gW107XG4gICAgICAgIE9iamVjdC5rZXlzKHRvKS5mb3JFYWNoKChrID0+IHtcbiAgICAgICAgICAgIGV4Y2x1ZGVkQ2hhbm5lbHMuaW5jbHVkZXMoaykgPyAoZnJvbVtrXSA9IHRvW2tdLCB0aGlzLmZyb21ba10gPSB0b1trXSkgOiBpc05pbChmcm9tW2tdKSA/IGZyb21ba10gPSB0aGlzLnRhcmdldC5nZXRDb21wdXRlZEF0dHJpYnV0ZShrKSA6IGFuaW1hdGVkQ2hhbm5lbHMucHVzaChrKTtcbiAgICAgICAgfSkpLCB0aGlzLnRhcmdldC5hbmltYXRlcy5mb3JFYWNoKChhID0+IHtcbiAgICAgICAgICAgIGEgIT09IHRoaXMuc3ViQW5pbWF0ZS5hbmltYXRlICYmIGEucHJldmVudEF0dHJzKGFuaW1hdGVkQ2hhbm5lbHMpO1xuICAgICAgICB9KSksIHRoaXMuX2Zyb21BdHRyaWJ1dGUgPSBmcm9tLCB0aGlzLl90b0F0dHJpYnV0ZSA9IHRvO1xuICAgIH1cbiAgICBvblN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy5fZnJvbUF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgY29uc3QgZnJvbSA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5fZnJvbUF0dHJpYnV0ZSkuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YkFuaW1hdGUuYW5pbWF0ZS52YWxpZEF0dHIoa2V5KSAmJiAoZnJvbVtrZXldID0gdGhpcy5fZnJvbUF0dHJpYnV0ZVtrZXldKTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy50YXJnZXQuc2V0QXR0cmlidXRlcyhmcm9tLCAhMSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IEF0dHJpYnV0ZVVwZGF0ZVR5cGUuQU5JTUFURV9VUERBVEUsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgcmF0aW86IDAsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogITFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkVuZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RvQXR0cmlidXRlKSB7XG4gICAgICAgICAgICBjb25zdCBvdXQgPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3RvQXR0cmlidXRlKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3ViQW5pbWF0ZS5hbmltYXRlLnZhbGlkQXR0cihrZXkpICYmIChvdXRba2V5XSA9IHRoaXMuX3RvQXR0cmlidXRlW2tleV0pO1xuICAgICAgICAgICAgfSkpLCB0aGlzLnRhcmdldC5zZXRBdHRyaWJ1dGVzKG91dCwgITEsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBBdHRyaWJ1dGVVcGRhdGVUeXBlLkFOSU1BVEVfRU5EXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUoZW5kLCByYXRpbywgb3V0KSB7XG4gICAgICAgIDAgPT09IHRoaXMudXBkYXRlQ291bnQgJiYgdGhpcy5vbkZpcnN0UnVuKCksIHRoaXMudXBkYXRlQ291bnQgKz0gMTtcbiAgICAgICAgY29uc3QgbGFzdFByb3BzID0gdGhpcy5zdGVwLmdldExhc3RQcm9wcygpO1xuICAgICAgICBPYmplY3Qua2V5cyhsYXN0UHJvcHMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN1YkFuaW1hdGUuYW5pbWF0ZS52YWxpZEF0dHIoa2V5KSAmJiAob3V0W2tleV0gPSBsYXN0UHJvcHNba2V5XSk7XG4gICAgICAgIH0pKSwgdGhpcy5vblVwZGF0ZShlbmQsIHJhdGlvLCBvdXQpLCBlbmQgJiYgdGhpcy5vbkVuZCgpO1xuICAgIH1cbiAgICBvblVwZGF0ZShlbmQsIHJhdGlvLCBvdXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXQuc3RlcEludGVycG9sYXRlKHRoaXMuc3ViQW5pbWF0ZSwgdGhpcy5zdWJBbmltYXRlLmFuaW1hdGUsIG91dCwgdGhpcy5zdGVwLCByYXRpbywgZW5kLCB0aGlzLl90b0F0dHJpYnV0ZSwgdGhpcy5fZnJvbUF0dHJpYnV0ZSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXR0cmlidXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/attribute.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/config.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/config.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invokeAnimateSpec: () => (/* binding */ invokeAnimateSpec),\n/* harmony export */   normalizeAnimationConfig: () => (/* binding */ normalizeAnimationConfig),\n/* harmony export */   normalizeStateAnimationConfig: () => (/* binding */ normalizeStateAnimationConfig)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n\n\n\n\nfunction transformToTimelineConfig(animationConfig) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(animationConfig.timeSlices)) {\n        const typeConfig = animationConfig;\n        return {\n            startTime: null !== (_a = typeConfig.startTime) && void 0 !== _a ? _a : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationStartTime,\n            totalTime: typeConfig.totalTime,\n            oneByOne: null !== (_b = typeConfig.oneByOne) && void 0 !== _b ? _b : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationOneByOne,\n            loop: null !== (_c = typeConfig.loop) && void 0 !== _c ? _c : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationLoop,\n            controlOptions: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationControlOptions, null !== (_d = typeConfig.controlOptions) && void 0 !== _d ? _d : {}),\n            timeSlices: [ {\n                duration: null !== (_e = typeConfig.duration) && void 0 !== _e ? _e : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDuration,\n                delay: null !== (_f = typeConfig.delay) && void 0 !== _f ? _f : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDelay,\n                delayAfter: null !== (_g = typeConfig.delayAfter) && void 0 !== _g ? _g : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDelayAfter,\n                effects: [ {\n                    type: typeConfig.type,\n                    channel: typeConfig.channel,\n                    custom: typeConfig.custom,\n                    easing: null !== (_h = typeConfig.easing) && void 0 !== _h ? _h : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationEasing,\n                    customParameters: typeConfig.customParameters,\n                    options: typeConfig.options\n                } ]\n            } ]\n        };\n    }\n    const formattedTimeSlices = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(animationConfig.timeSlices).filter((timeSlice => timeSlice.effects && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(timeSlice.effects).filter((effect => effect.channel || effect.type)).length));\n    if (formattedTimeSlices.length) return {\n        startTime: null !== (_j = animationConfig.startTime) && void 0 !== _j ? _j : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationStartTime,\n        totalTime: animationConfig.totalTime,\n        oneByOne: null !== (_k = animationConfig.oneByOne) && void 0 !== _k ? _k : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationOneByOne,\n        loop: null !== (_l = animationConfig.loop) && void 0 !== _l ? _l : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationLoop,\n        controlOptions: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationControlOptions, null !== (_m = animationConfig.controlOptions) && void 0 !== _m ? _m : {}),\n        timeSlices: formattedTimeSlices.map((timeSlice => {\n            var _a, _b;\n            return {\n                duration: timeSlice.duration,\n                delay: null !== (_a = timeSlice.delay) && void 0 !== _a ? _a : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDelay,\n                delayAfter: null !== (_b = timeSlice.delayAfter) && void 0 !== _b ? _b : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationDelayAfter,\n                effects: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(timeSlice.effects).filter((effect => effect.channel || effect.type)).map((effect => {\n                    var _a;\n                    return {\n                        type: effect.type,\n                        channel: effect.channel,\n                        custom: effect.custom,\n                        easing: null !== (_a = effect.easing) && void 0 !== _a ? _a : _constants__WEBPACK_IMPORTED_MODULE_1__.DefaultAnimationEasing,\n                        customParameters: effect.customParameters,\n                        options: effect.options\n                    };\n                }))\n            };\n        })),\n        partitioner: animationConfig.partitioner,\n        sort: animationConfig.sort\n    };\n}\n\nfunction normalizeAnimationConfig(config) {\n    let normalizedConfig = [];\n    return Object.keys(config).forEach((state => {\n        normalizedConfig = normalizedConfig.concat(normalizeStateAnimationConfig(state, config[state]));\n    })), normalizedConfig;\n}\n\nfunction normalizeStateAnimationConfig(state, config, initialIndex = 0) {\n    const normalizedConfig = [];\n    let index = initialIndex;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(config).forEach((animationConfig => {\n        var _a;\n        const timelineConfig = transformToTimelineConfig(animationConfig);\n        timelineConfig && (normalizedConfig.push({\n            state: state,\n            id: null !== (_a = timelineConfig.id) && void 0 !== _a ? _a : `${state}-${index}`,\n            timeline: timelineConfig,\n            originConfig: animationConfig\n        }), index += 1);\n    })), normalizedConfig;\n}\n\nfunction invokeAnimateSpec(spec, element, parameters) {\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec) ? spec.call(null, element.getDatum(), element, parameters) : spec;\n}\n//# sourceMappingURL=config.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL2NvbmZpZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFtRTs7QUFFMks7O0FBRTlPO0FBQ0E7QUFDQSxRQUFRLDREQUFLO0FBQ2I7QUFDQTtBQUNBLG9GQUFvRixpRUFBeUI7QUFDN0c7QUFDQSxrRkFBa0YsZ0VBQXdCO0FBQzFHLDBFQUEwRSw0REFBb0I7QUFDOUYsNEJBQTRCLDREQUFLLEdBQUcsRUFBRSxzRUFBOEIsc0VBQXNFO0FBQzFJO0FBQ0Esc0ZBQXNGLGdFQUF3QjtBQUM5RyxnRkFBZ0YsNkRBQXFCO0FBQ3JHLDBGQUEwRixrRUFBMEI7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsOERBQXNCO0FBQzVHO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsY0FBYztBQUNkO0FBQ0E7QUFDQSxnQ0FBZ0MsdURBQUssdUVBQXVFLHVEQUFLO0FBQ2pIO0FBQ0EscUZBQXFGLGlFQUF5QjtBQUM5RztBQUNBLG1GQUFtRixnRUFBd0I7QUFDM0csMkVBQTJFLDREQUFvQjtBQUMvRix3QkFBd0IsNERBQUssR0FBRyxFQUFFLHNFQUE4QiwyRUFBMkU7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsNkRBQXFCO0FBQ3BHLHlGQUF5RixrRUFBMEI7QUFDbkgseUJBQXlCLHVEQUFLO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsOERBQXNCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQO0FBQ0E7QUFDQSxXQUFXLHVEQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLE1BQU0sR0FBRyxNQUFNO0FBQzVGO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUVPO0FBQ1AsV0FBVyw0REFBVTtBQUNyQjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hbmltYXRpb24vY29uZmlnLmpzPzg0Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXJyYXksIGlzRnVuY3Rpb24sIGlzTmlsLCBtZXJnZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IERlZmF1bHRBbmltYXRpb25Db250cm9sT3B0aW9ucywgRGVmYXVsdEFuaW1hdGlvbkRlbGF5LCBEZWZhdWx0QW5pbWF0aW9uRGVsYXlBZnRlciwgRGVmYXVsdEFuaW1hdGlvbkR1cmF0aW9uLCBEZWZhdWx0QW5pbWF0aW9uRWFzaW5nLCBEZWZhdWx0QW5pbWF0aW9uTG9vcCwgRGVmYXVsdEFuaW1hdGlvbk9uZUJ5T25lLCBEZWZhdWx0QW5pbWF0aW9uU3RhcnRUaW1lIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Ub1RpbWVsaW5lQ29uZmlnKGFuaW1hdGlvbkNvbmZpZykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tO1xuICAgIGlmIChpc05pbChhbmltYXRpb25Db25maWcudGltZVNsaWNlcykpIHtcbiAgICAgICAgY29uc3QgdHlwZUNvbmZpZyA9IGFuaW1hdGlvbkNvbmZpZztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZTogbnVsbCAhPT0gKF9hID0gdHlwZUNvbmZpZy5zdGFydFRpbWUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IERlZmF1bHRBbmltYXRpb25TdGFydFRpbWUsXG4gICAgICAgICAgICB0b3RhbFRpbWU6IHR5cGVDb25maWcudG90YWxUaW1lLFxuICAgICAgICAgICAgb25lQnlPbmU6IG51bGwgIT09IChfYiA9IHR5cGVDb25maWcub25lQnlPbmUpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IERlZmF1bHRBbmltYXRpb25PbmVCeU9uZSxcbiAgICAgICAgICAgIGxvb3A6IG51bGwgIT09IChfYyA9IHR5cGVDb25maWcubG9vcCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogRGVmYXVsdEFuaW1hdGlvbkxvb3AsXG4gICAgICAgICAgICBjb250cm9sT3B0aW9uczogbWVyZ2Uoe30sIERlZmF1bHRBbmltYXRpb25Db250cm9sT3B0aW9ucywgbnVsbCAhPT0gKF9kID0gdHlwZUNvbmZpZy5jb250cm9sT3B0aW9ucykgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDoge30pLFxuICAgICAgICAgICAgdGltZVNsaWNlczogWyB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG51bGwgIT09IChfZSA9IHR5cGVDb25maWcuZHVyYXRpb24pICYmIHZvaWQgMCAhPT0gX2UgPyBfZSA6IERlZmF1bHRBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgICAgICBkZWxheTogbnVsbCAhPT0gKF9mID0gdHlwZUNvbmZpZy5kZWxheSkgJiYgdm9pZCAwICE9PSBfZiA/IF9mIDogRGVmYXVsdEFuaW1hdGlvbkRlbGF5LFxuICAgICAgICAgICAgICAgIGRlbGF5QWZ0ZXI6IG51bGwgIT09IChfZyA9IHR5cGVDb25maWcuZGVsYXlBZnRlcikgJiYgdm9pZCAwICE9PSBfZyA/IF9nIDogRGVmYXVsdEFuaW1hdGlvbkRlbGF5QWZ0ZXIsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogWyB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVDb25maWcudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbDogdHlwZUNvbmZpZy5jaGFubmVsLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b206IHR5cGVDb25maWcuY3VzdG9tLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IG51bGwgIT09IChfaCA9IHR5cGVDb25maWcuZWFzaW5nKSAmJiB2b2lkIDAgIT09IF9oID8gX2ggOiBEZWZhdWx0QW5pbWF0aW9uRWFzaW5nLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21QYXJhbWV0ZXJzOiB0eXBlQ29uZmlnLmN1c3RvbVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHR5cGVDb25maWcub3B0aW9uc1xuICAgICAgICAgICAgICAgIH0gXVxuICAgICAgICAgICAgfSBdXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdHRlZFRpbWVTbGljZXMgPSBhcnJheShhbmltYXRpb25Db25maWcudGltZVNsaWNlcykuZmlsdGVyKCh0aW1lU2xpY2UgPT4gdGltZVNsaWNlLmVmZmVjdHMgJiYgYXJyYXkodGltZVNsaWNlLmVmZmVjdHMpLmZpbHRlcigoZWZmZWN0ID0+IGVmZmVjdC5jaGFubmVsIHx8IGVmZmVjdC50eXBlKSkubGVuZ3RoKSk7XG4gICAgaWYgKGZvcm1hdHRlZFRpbWVTbGljZXMubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICBzdGFydFRpbWU6IG51bGwgIT09IChfaiA9IGFuaW1hdGlvbkNvbmZpZy5zdGFydFRpbWUpICYmIHZvaWQgMCAhPT0gX2ogPyBfaiA6IERlZmF1bHRBbmltYXRpb25TdGFydFRpbWUsXG4gICAgICAgIHRvdGFsVGltZTogYW5pbWF0aW9uQ29uZmlnLnRvdGFsVGltZSxcbiAgICAgICAgb25lQnlPbmU6IG51bGwgIT09IChfayA9IGFuaW1hdGlvbkNvbmZpZy5vbmVCeU9uZSkgJiYgdm9pZCAwICE9PSBfayA/IF9rIDogRGVmYXVsdEFuaW1hdGlvbk9uZUJ5T25lLFxuICAgICAgICBsb29wOiBudWxsICE9PSAoX2wgPSBhbmltYXRpb25Db25maWcubG9vcCkgJiYgdm9pZCAwICE9PSBfbCA/IF9sIDogRGVmYXVsdEFuaW1hdGlvbkxvb3AsXG4gICAgICAgIGNvbnRyb2xPcHRpb25zOiBtZXJnZSh7fSwgRGVmYXVsdEFuaW1hdGlvbkNvbnRyb2xPcHRpb25zLCBudWxsICE9PSAoX20gPSBhbmltYXRpb25Db25maWcuY29udHJvbE9wdGlvbnMpICYmIHZvaWQgMCAhPT0gX20gPyBfbSA6IHt9KSxcbiAgICAgICAgdGltZVNsaWNlczogZm9ybWF0dGVkVGltZVNsaWNlcy5tYXAoKHRpbWVTbGljZSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGltZVNsaWNlLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGRlbGF5OiBudWxsICE9PSAoX2EgPSB0aW1lU2xpY2UuZGVsYXkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IERlZmF1bHRBbmltYXRpb25EZWxheSxcbiAgICAgICAgICAgICAgICBkZWxheUFmdGVyOiBudWxsICE9PSAoX2IgPSB0aW1lU2xpY2UuZGVsYXlBZnRlcikgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogRGVmYXVsdEFuaW1hdGlvbkRlbGF5QWZ0ZXIsXG4gICAgICAgICAgICAgICAgZWZmZWN0czogYXJyYXkodGltZVNsaWNlLmVmZmVjdHMpLmZpbHRlcigoZWZmZWN0ID0+IGVmZmVjdC5jaGFubmVsIHx8IGVmZmVjdC50eXBlKSkubWFwKChlZmZlY3QgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlZmZlY3QudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IGVmZmVjdC5jaGFubmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tOiBlZmZlY3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBudWxsICE9PSAoX2EgPSBlZmZlY3QuZWFzaW5nKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBEZWZhdWx0QW5pbWF0aW9uRWFzaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tUGFyYW1ldGVyczogZWZmZWN0LmN1c3RvbVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBlZmZlY3Qub3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpLFxuICAgICAgICBwYXJ0aXRpb25lcjogYW5pbWF0aW9uQ29uZmlnLnBhcnRpdGlvbmVyLFxuICAgICAgICBzb3J0OiBhbmltYXRpb25Db25maWcuc29ydFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVBbmltYXRpb25Db25maWcoY29uZmlnKSB7XG4gICAgbGV0IG5vcm1hbGl6ZWRDb25maWcgPSBbXTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoY29uZmlnKS5mb3JFYWNoKChzdGF0ZSA9PiB7XG4gICAgICAgIG5vcm1hbGl6ZWRDb25maWcgPSBub3JtYWxpemVkQ29uZmlnLmNvbmNhdChub3JtYWxpemVTdGF0ZUFuaW1hdGlvbkNvbmZpZyhzdGF0ZSwgY29uZmlnW3N0YXRlXSkpO1xuICAgIH0pKSwgbm9ybWFsaXplZENvbmZpZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVN0YXRlQW5pbWF0aW9uQ29uZmlnKHN0YXRlLCBjb25maWcsIGluaXRpYWxJbmRleCA9IDApIHtcbiAgICBjb25zdCBub3JtYWxpemVkQ29uZmlnID0gW107XG4gICAgbGV0IGluZGV4ID0gaW5pdGlhbEluZGV4O1xuICAgIHJldHVybiBhcnJheShjb25maWcpLmZvckVhY2goKGFuaW1hdGlvbkNvbmZpZyA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGltZWxpbmVDb25maWcgPSB0cmFuc2Zvcm1Ub1RpbWVsaW5lQ29uZmlnKGFuaW1hdGlvbkNvbmZpZyk7XG4gICAgICAgIHRpbWVsaW5lQ29uZmlnICYmIChub3JtYWxpemVkQ29uZmlnLnB1c2goe1xuICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgaWQ6IG51bGwgIT09IChfYSA9IHRpbWVsaW5lQ29uZmlnLmlkKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBgJHtzdGF0ZX0tJHtpbmRleH1gLFxuICAgICAgICAgICAgdGltZWxpbmU6IHRpbWVsaW5lQ29uZmlnLFxuICAgICAgICAgICAgb3JpZ2luQ29uZmlnOiBhbmltYXRpb25Db25maWdcbiAgICAgICAgfSksIGluZGV4ICs9IDEpO1xuICAgIH0pKSwgbm9ybWFsaXplZENvbmZpZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZUFuaW1hdGVTcGVjKHNwZWMsIGVsZW1lbnQsIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihzcGVjKSA/IHNwZWMuY2FsbChudWxsLCBlbGVtZW50LmdldERhdHVtKCksIGVsZW1lbnQsIHBhcmFtZXRlcnMpIDogc3BlYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/config.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/morph.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/morph.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   morph: () => (/* binding */ morph)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/animate/morphing.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _mark_differ__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../mark/differ */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\");\n\n\n\n\n\n\n\n\nconst doMorph = (prev, next, runningConfig, onEnd, parameters) => {\n    var _a, _b;\n    const morphData = {\n        prev: prev.map((element => element.getDatum())),\n        next: next.map((element => element.getDatum()))\n    }, morphElements = {\n        prev: prev.slice(),\n        next: next.slice()\n    }, easing = runningConfig.animation.easing, delay = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(runningConfig.animation.delay, parameters, morphData, morphElements), duration = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(runningConfig.animation.duration, parameters, morphData, morphElements), oneByOne = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(runningConfig.animation.oneByOne, parameters, morphData, morphElements), splitPath = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(runningConfig.animation.splitPath, parameters, morphData, morphElements), individualDelay = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(oneByOne) && oneByOne > 0 ? index => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(oneByOne) ? index * oneByOne : !0 === oneByOne ? index * duration : 0 : void 0;\n    1 !== prev.length && 0 !== prev.length || 1 !== next.length ? 1 === prev.length && next.length > 1 ? (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_3__.oneToMultiMorph)(prev[0].getGraphicItem(), next.map((element => element.getGraphicItem())), {\n        delay: delay,\n        duration: duration,\n        easing: easing,\n        onEnd: onEnd,\n        individualDelay: individualDelay,\n        splitPath: splitPath\n    }) : prev.length > 1 && 1 === next.length && (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_3__.multiToOneMorph)(prev.map((element => element.getGraphicItem())), next[0].getGraphicItem(), {\n        delay: delay,\n        duration: duration,\n        easing: easing,\n        onEnd: onEnd,\n        individualDelay: individualDelay,\n        splitPath: splitPath\n    }) : (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_3__.morphPath)(null === (_b = null === (_a = prev[0]) || void 0 === _a ? void 0 : _a.getGraphicItem) || void 0 === _b ? void 0 : _b.call(_a), next[0].getGraphicItem(), {\n        delay: delay,\n        duration: duration,\n        easing: easing,\n        onEnd: onEnd\n    });\n}, divideElements = (elements, count) => {\n    const divideLength = Math.floor(elements.length / count);\n    return new Array(count).fill(0).map(((i, index) => elements.slice(divideLength * index, index === count - 1 ? elements.length : divideLength * (index + 1))));\n}, appendMorphKeyToElements = mark => {\n    const config = mark.getMorphConfig();\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config.morphElementKey)) {\n        const getter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.parseField)(config.morphElementKey);\n        mark.elements && mark.elements.forEach((el => {\n            el.morphKey = getter(el.getDatum());\n        }));\n    }\n};\n\nconst morph = (prevMarks, nextMarks, runningConfig) => {\n    const prevElements = prevMarks.reduce(((elements, mark) => (appendMorphKeyToElements(mark), \n    elements.concat(mark.elements))), []), nextElements = nextMarks.reduce(((elements, mark) => (appendMorphKeyToElements(mark), \n    elements.concat(mark.elements))), []), diffResult = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_5__.diffMultiple)(prevElements, nextElements, (element => {\n        var _a;\n        return null !== (_a = element.morphKey) && void 0 !== _a ? _a : element.key;\n    }));\n    prevMarks.forEach((mark => {\n        var _a, _b;\n        return null === (_b = null === (_a = mark.animate) || void 0 === _a ? void 0 : _a.disable) || void 0 === _b ? void 0 : _b.call(_a);\n    })), nextMarks.forEach((mark => {\n        var _a, _b;\n        return null === (_b = null === (_a = mark.animate) || void 0 === _a ? void 0 : _a.disable) || void 0 === _b ? void 0 : _b.call(_a);\n    }));\n    const parameters = prevMarks.concat(nextMarks).reduce(((parameters, mark) => (Object.assign(parameters, mark.parameters()), \n    parameters)), {});\n    let morphCount = 0;\n    const onMorphEnd = () => {\n        morphCount -= 1, 0 === morphCount && nextMarks.forEach((mark => {\n            var _a, _b;\n            null === (_b = null === (_a = mark.animate) || void 0 === _a ? void 0 : _a.enable) || void 0 === _b || _b.call(_a);\n        }));\n    };\n    diffResult.enter.forEach((diff => {\n        diff.next.forEach((element => {\n            doMorph([], [ element ], runningConfig, onMorphEnd, parameters);\n        })), morphCount += 1;\n    })), diffResult.update.forEach((diff => {\n        const divideCount = Math.min(diff.prev.length, diff.next.length), prevDivide = divideElements(diff.prev, divideCount), nextDivide = divideElements(diff.next, divideCount);\n        for (let i = 0; i < divideCount; i++) doMorph(prevDivide[i], nextDivide[i], runningConfig, onMorphEnd, parameters), \n        morphCount += 1;\n    }));\n};\n//# sourceMappingURL=morph.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL21vcnBoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBcUY7O0FBRW5COztBQUVBOztBQUVwQjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSyxtREFBbUQsK0RBQWtCLGtGQUFrRiwrREFBa0IscUZBQXFGLCtEQUFrQixzRkFBc0YsK0RBQWtCLDZGQUE2Riw0REFBYSxzQ0FBc0MsNERBQVE7QUFDcmhCLHlHQUF5Ryx1RUFBZTtBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDRDQUE0Qyx1RUFBZTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUksaUVBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxTQUFTLDREQUFLO0FBQ2QsdUJBQXVCLHVEQUFVO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSx3REFBd0QsMERBQVk7QUFDcEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYW5pbWF0aW9uL21vcnBoLmpzPzIwZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbW9ycGhQYXRoLCBtdWx0aVRvT25lTW9ycGgsIG9uZVRvTXVsdGlNb3JwaCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmltcG9ydCB7IGlzTmlsLCBpc051bWJlciwgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSwgcGFyc2VGaWVsZCB9IGZyb20gXCIuLi8uLi9wYXJzZS91dGlsXCI7XG5cbmltcG9ydCB7IGRpZmZNdWx0aXBsZSB9IGZyb20gXCIuLi9tYXJrL2RpZmZlclwiO1xuXG5jb25zdCBkb01vcnBoID0gKHByZXYsIG5leHQsIHJ1bm5pbmdDb25maWcsIG9uRW5kLCBwYXJhbWV0ZXJzKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBtb3JwaERhdGEgPSB7XG4gICAgICAgIHByZXY6IHByZXYubWFwKChlbGVtZW50ID0+IGVsZW1lbnQuZ2V0RGF0dW0oKSkpLFxuICAgICAgICBuZXh0OiBuZXh0Lm1hcCgoZWxlbWVudCA9PiBlbGVtZW50LmdldERhdHVtKCkpKVxuICAgIH0sIG1vcnBoRWxlbWVudHMgPSB7XG4gICAgICAgIHByZXY6IHByZXYuc2xpY2UoKSxcbiAgICAgICAgbmV4dDogbmV4dC5zbGljZSgpXG4gICAgfSwgZWFzaW5nID0gcnVubmluZ0NvbmZpZy5hbmltYXRpb24uZWFzaW5nLCBkZWxheSA9IGludm9rZUZ1bmN0aW9uVHlwZShydW5uaW5nQ29uZmlnLmFuaW1hdGlvbi5kZWxheSwgcGFyYW1ldGVycywgbW9ycGhEYXRhLCBtb3JwaEVsZW1lbnRzKSwgZHVyYXRpb24gPSBpbnZva2VGdW5jdGlvblR5cGUocnVubmluZ0NvbmZpZy5hbmltYXRpb24uZHVyYXRpb24sIHBhcmFtZXRlcnMsIG1vcnBoRGF0YSwgbW9ycGhFbGVtZW50cyksIG9uZUJ5T25lID0gaW52b2tlRnVuY3Rpb25UeXBlKHJ1bm5pbmdDb25maWcuYW5pbWF0aW9uLm9uZUJ5T25lLCBwYXJhbWV0ZXJzLCBtb3JwaERhdGEsIG1vcnBoRWxlbWVudHMpLCBzcGxpdFBhdGggPSBpbnZva2VGdW5jdGlvblR5cGUocnVubmluZ0NvbmZpZy5hbmltYXRpb24uc3BsaXRQYXRoLCBwYXJhbWV0ZXJzLCBtb3JwaERhdGEsIG1vcnBoRWxlbWVudHMpLCBpbmRpdmlkdWFsRGVsYXkgPSBpc1ZhbGlkTnVtYmVyKG9uZUJ5T25lKSAmJiBvbmVCeU9uZSA+IDAgPyBpbmRleCA9PiBpc051bWJlcihvbmVCeU9uZSkgPyBpbmRleCAqIG9uZUJ5T25lIDogITAgPT09IG9uZUJ5T25lID8gaW5kZXggKiBkdXJhdGlvbiA6IDAgOiB2b2lkIDA7XG4gICAgMSAhPT0gcHJldi5sZW5ndGggJiYgMCAhPT0gcHJldi5sZW5ndGggfHwgMSAhPT0gbmV4dC5sZW5ndGggPyAxID09PSBwcmV2Lmxlbmd0aCAmJiBuZXh0Lmxlbmd0aCA+IDEgPyBvbmVUb011bHRpTW9ycGgocHJldlswXS5nZXRHcmFwaGljSXRlbSgpLCBuZXh0Lm1hcCgoZWxlbWVudCA9PiBlbGVtZW50LmdldEdyYXBoaWNJdGVtKCkpKSwge1xuICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiBlYXNpbmcsXG4gICAgICAgIG9uRW5kOiBvbkVuZCxcbiAgICAgICAgaW5kaXZpZHVhbERlbGF5OiBpbmRpdmlkdWFsRGVsYXksXG4gICAgICAgIHNwbGl0UGF0aDogc3BsaXRQYXRoXG4gICAgfSkgOiBwcmV2Lmxlbmd0aCA+IDEgJiYgMSA9PT0gbmV4dC5sZW5ndGggJiYgbXVsdGlUb09uZU1vcnBoKHByZXYubWFwKChlbGVtZW50ID0+IGVsZW1lbnQuZ2V0R3JhcGhpY0l0ZW0oKSkpLCBuZXh0WzBdLmdldEdyYXBoaWNJdGVtKCksIHtcbiAgICAgICAgZGVsYXk6IGRlbGF5LFxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogZWFzaW5nLFxuICAgICAgICBvbkVuZDogb25FbmQsXG4gICAgICAgIGluZGl2aWR1YWxEZWxheTogaW5kaXZpZHVhbERlbGF5LFxuICAgICAgICBzcGxpdFBhdGg6IHNwbGl0UGF0aFxuICAgIH0pIDogbW9ycGhQYXRoKG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IHByZXZbMF0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5nZXRHcmFwaGljSXRlbSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpLCBuZXh0WzBdLmdldEdyYXBoaWNJdGVtKCksIHtcbiAgICAgICAgZGVsYXk6IGRlbGF5LFxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogZWFzaW5nLFxuICAgICAgICBvbkVuZDogb25FbmRcbiAgICB9KTtcbn0sIGRpdmlkZUVsZW1lbnRzID0gKGVsZW1lbnRzLCBjb3VudCkgPT4ge1xuICAgIGNvbnN0IGRpdmlkZUxlbmd0aCA9IE1hdGguZmxvb3IoZWxlbWVudHMubGVuZ3RoIC8gY291bnQpO1xuICAgIHJldHVybiBuZXcgQXJyYXkoY291bnQpLmZpbGwoMCkubWFwKCgoaSwgaW5kZXgpID0+IGVsZW1lbnRzLnNsaWNlKGRpdmlkZUxlbmd0aCAqIGluZGV4LCBpbmRleCA9PT0gY291bnQgLSAxID8gZWxlbWVudHMubGVuZ3RoIDogZGl2aWRlTGVuZ3RoICogKGluZGV4ICsgMSkpKSk7XG59LCBhcHBlbmRNb3JwaEtleVRvRWxlbWVudHMgPSBtYXJrID0+IHtcbiAgICBjb25zdCBjb25maWcgPSBtYXJrLmdldE1vcnBoQ29uZmlnKCk7XG4gICAgaWYgKCFpc05pbChjb25maWcubW9ycGhFbGVtZW50S2V5KSkge1xuICAgICAgICBjb25zdCBnZXR0ZXIgPSBwYXJzZUZpZWxkKGNvbmZpZy5tb3JwaEVsZW1lbnRLZXkpO1xuICAgICAgICBtYXJrLmVsZW1lbnRzICYmIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgZWwubW9ycGhLZXkgPSBnZXR0ZXIoZWwuZ2V0RGF0dW0oKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgbW9ycGggPSAocHJldk1hcmtzLCBuZXh0TWFya3MsIHJ1bm5pbmdDb25maWcpID0+IHtcbiAgICBjb25zdCBwcmV2RWxlbWVudHMgPSBwcmV2TWFya3MucmVkdWNlKCgoZWxlbWVudHMsIG1hcmspID0+IChhcHBlbmRNb3JwaEtleVRvRWxlbWVudHMobWFyayksIFxuICAgIGVsZW1lbnRzLmNvbmNhdChtYXJrLmVsZW1lbnRzKSkpLCBbXSksIG5leHRFbGVtZW50cyA9IG5leHRNYXJrcy5yZWR1Y2UoKChlbGVtZW50cywgbWFyaykgPT4gKGFwcGVuZE1vcnBoS2V5VG9FbGVtZW50cyhtYXJrKSwgXG4gICAgZWxlbWVudHMuY29uY2F0KG1hcmsuZWxlbWVudHMpKSksIFtdKSwgZGlmZlJlc3VsdCA9IGRpZmZNdWx0aXBsZShwcmV2RWxlbWVudHMsIG5leHRFbGVtZW50cywgKGVsZW1lbnQgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSBlbGVtZW50Lm1vcnBoS2V5KSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBlbGVtZW50LmtleTtcbiAgICB9KSk7XG4gICAgcHJldk1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZGlzYWJsZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH0pKSwgbmV4dE1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZGlzYWJsZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH0pKTtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gcHJldk1hcmtzLmNvbmNhdChuZXh0TWFya3MpLnJlZHVjZSgoKHBhcmFtZXRlcnMsIG1hcmspID0+IChPYmplY3QuYXNzaWduKHBhcmFtZXRlcnMsIG1hcmsucGFyYW1ldGVycygpKSwgXG4gICAgcGFyYW1ldGVycykpLCB7fSk7XG4gICAgbGV0IG1vcnBoQ291bnQgPSAwO1xuICAgIGNvbnN0IG9uTW9ycGhFbmQgPSAoKSA9PiB7XG4gICAgICAgIG1vcnBoQ291bnQgLT0gMSwgMCA9PT0gbW9ycGhDb3VudCAmJiBuZXh0TWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gbWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZW5hYmxlKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EpO1xuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBkaWZmUmVzdWx0LmVudGVyLmZvckVhY2goKGRpZmYgPT4ge1xuICAgICAgICBkaWZmLm5leHQuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBkb01vcnBoKFtdLCBbIGVsZW1lbnQgXSwgcnVubmluZ0NvbmZpZywgb25Nb3JwaEVuZCwgcGFyYW1ldGVycyk7XG4gICAgICAgIH0pKSwgbW9ycGhDb3VudCArPSAxO1xuICAgIH0pKSwgZGlmZlJlc3VsdC51cGRhdGUuZm9yRWFjaCgoZGlmZiA9PiB7XG4gICAgICAgIGNvbnN0IGRpdmlkZUNvdW50ID0gTWF0aC5taW4oZGlmZi5wcmV2Lmxlbmd0aCwgZGlmZi5uZXh0Lmxlbmd0aCksIHByZXZEaXZpZGUgPSBkaXZpZGVFbGVtZW50cyhkaWZmLnByZXYsIGRpdmlkZUNvdW50KSwgbmV4dERpdmlkZSA9IGRpdmlkZUVsZW1lbnRzKGRpZmYubmV4dCwgZGl2aWRlQ291bnQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpdmlkZUNvdW50OyBpKyspIGRvTW9ycGgocHJldkRpdmlkZVtpXSwgbmV4dERpdmlkZVtpXSwgcnVubmluZ0NvbmZpZywgb25Nb3JwaEVuZCwgcGFyYW1ldGVycyksIFxuICAgICAgICBtb3JwaENvdW50ICs9IDE7XG4gICAgfSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vcnBoLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/morph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/common.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/common.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   commonAttributes: () => (/* binding */ commonAttributes),\n/* harmony export */   transformCommonAttribute: () => (/* binding */ transformCommonAttribute)\n/* harmony export */ });\nconst commonAttributes = [ \"fillOpacity\" ];\n\nconst transformCommonAttribute = (graphicAttributes, changedKey, nextAttrs) => {\n    var _a;\n    return \"fillOpacity\" === changedKey ? (graphicAttributes.fillOpacity = null !== (_a = nextAttrs.fillOpacity) && void 0 !== _a ? _a : 1, \n    [ \"fillOpacity\" ]) : [];\n};\n//# sourceMappingURL=common.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy9jb21tb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTzs7QUFFQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2F0dHJpYnV0ZXMvY29tbW9uLmpzPzg3YWUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbW1vbkF0dHJpYnV0ZXMgPSBbIFwiZmlsbE9wYWNpdHlcIiBdO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtQ29tbW9uQXR0cmlidXRlID0gKGdyYXBoaWNBdHRyaWJ1dGVzLCBjaGFuZ2VkS2V5LCBuZXh0QXR0cnMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIFwiZmlsbE9wYWNpdHlcIiA9PT0gY2hhbmdlZEtleSA/IChncmFwaGljQXR0cmlidXRlcy5maWxsT3BhY2l0eSA9IG51bGwgIT09IChfYSA9IG5leHRBdHRycy5maWxsT3BhY2l0eSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMSwgXG4gICAgWyBcImZpbGxPcGFjaXR5XCIgXSkgOiBbXTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/common.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLargeRectsPoints: () => (/* binding */ getLargeRectsPoints),\n/* harmony export */   getLargeSymbolsPoints: () => (/* binding */ getLargeSymbolsPoints),\n/* harmony export */   getLinePoints: () => (/* binding */ getLinePoints),\n/* harmony export */   getRulePoints: () => (/* binding */ getRulePoints),\n/* harmony export */   isPointsMarkType: () => (/* binding */ isPointsMarkType),\n/* harmony export */   isPositionOrSizeChannel: () => (/* binding */ isPositionOrSizeChannel),\n/* harmony export */   isValidPointsChannel: () => (/* binding */ isValidPointsChannel)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\nfunction isValidPointsChannel(channels, markType) {\n    switch (markType) {\n      case \"line\":\n        return channels.some((channel => [ \"x\", \"y\", \"defined\" ].includes(channel)));\n\n      case \"area\":\n        return channels.some((channel => [ \"x\", \"y\", \"x1\", \"y1\", \"defined\" ].includes(channel)));\n\n      case \"largeRects\":\n        return channels.some((channel => [ \"x\", \"y\", \"width\", \"y1\" ].includes(channel)));\n\n      case \"largeSymbols\":\n        return channels.some((channel => [ \"x\", \"y\" ].includes(channel)));\n    }\n    return !1;\n}\n\nfunction getRulePoints(nextAttrs) {\n    const {x: x, y: y, x1: x1, y1: y1} = nextAttrs;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(x) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(y) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(x1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(y1) ? [ {\n        x: x,\n        y: y\n    }, {\n        x: x1,\n        y: y1\n    } ] : [];\n}\n\nfunction getLinePoints(items, includeOnePoint, lastPoints, isArea) {\n    if (!items || !items.length || 1 === items.length && !includeOnePoint) return [];\n    return items.some((item => isValidPointsChannel(Object.keys(item.nextAttrs), \"line\"))) ? items.map(((item, index) => {\n        var _a;\n        const attrs = item.nextAttrs, {x: x, y: y, x1: x1, y1: y1, defined: defined} = null !== (_a = null == lastPoints ? void 0 : lastPoints[index]) && void 0 !== _a ? _a : {};\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.x) && (attrs.x = x), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.y) && (attrs.y = y), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.defined) && !1 === defined && (attrs.defined = !1), \n        attrs.context = item.key, isArea && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.x1) && (attrs.x1 = x1), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.y1) && (attrs.y1 = y1)), \n        attrs;\n    })) : null != lastPoints ? lastPoints : [];\n}\n\nfunction getLargeRectsPoints(items, includeOnePoint, lastPoints = []) {\n    if (!items || !items.length || 1 === items.length && !includeOnePoint) return [];\n    const arr = new Float32Array(4 * items.length);\n    return items.forEach(((item, index) => {\n        var _a, _b, _c, _d;\n        const attrs = item.nextAttrs, x = null !== (_a = attrs.x) && void 0 !== _a ? _a : lastPoints[4 * index], y = null !== (_b = attrs.y) && void 0 !== _b ? _b : lastPoints[4 * index + 1], width = null !== (_c = attrs.width) && void 0 !== _c ? _c : lastPoints[4 * index + 2], y1 = null !== (_d = attrs.y1) && void 0 !== _d ? _d : lastPoints[4 * index + 3];\n        arr[4 * index] = x, arr[4 * index + 1] = y, arr[4 * index + 2] = width, arr[4 * index + 3] = y1 - y;\n    })), arr;\n}\n\nfunction getLargeSymbolsPoints(items, includeOnePoint, lastPoints = []) {\n    if (!items || !items.length || 1 === items.length && !includeOnePoint) return [];\n    const arr = new Float32Array(2 * items.length);\n    return items.forEach(((item, index) => {\n        var _a, _b;\n        const attrs = item.nextAttrs, x = null !== (_a = attrs.x) && void 0 !== _a ? _a : lastPoints[2 * index], y = null !== (_b = attrs.y) && void 0 !== _b ? _b : lastPoints[2 * index + 1];\n        arr[2 * index] = x, arr[2 * index + 1] = y;\n    })), arr;\n}\n\nfunction isPositionOrSizeChannel(type, channel) {\n    if ([ \"x\", \"y\", \"dx\", \"dy\" ].includes(channel)) return !0;\n    switch (type) {\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.arc:\n        return [ \"innerRadius\", \"outerRadius\", \"startAngle\", \"endAngle\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group:\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.rect:\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.image:\n        return [ \"width\", \"height\", \"y1\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.path:\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.shape:\n        return [ \"path\", \"customPath\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.line:\n        return \"defined\" === channel;\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.area:\n        return [ \"x1\", \"y1\", \"defined\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.rule:\n        return [ \"x1\", \"y1\" ].includes(channel);\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.symbol:\n        return \"size\" === channel;\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.polygon:\n        return \"points\" === channel;\n\n      case _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.text:\n        return \"text\" === channel;\n    }\n    return !1;\n}\n\nfunction isPointsMarkType(markType) {\n    return [ _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.line, _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.area, _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.largeRects, _enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.largeSymbols ].includes(markType);\n}\n//# sourceMappingURL=helpers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy9oZWxwZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBd0Q7O0FBRWI7O0FBRXBDO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AsV0FBVyw0QkFBNEI7QUFDdkMsV0FBVyw0REFBYSxPQUFPLDREQUFhLE9BQU8sNERBQWEsUUFBUSw0REFBYTtBQUNyRjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsOENBQThDO0FBQ3JGLGVBQWUsNERBQUssNEJBQTRCLDREQUFLLDRCQUE0Qiw0REFBSztBQUN0Riw2Q0FBNkMsNERBQUssK0JBQStCLDREQUFLO0FBQ3RGO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBLFdBQVcsbURBQWU7QUFDMUI7O0FBRUEsV0FBVyxtREFBZTtBQUMxQixXQUFXLG1EQUFlO0FBQzFCLFdBQVcsbURBQWU7QUFDMUI7O0FBRUEsV0FBVyxtREFBZTtBQUMxQixXQUFXLG1EQUFlO0FBQzFCOztBQUVBLFdBQVcsbURBQWU7QUFDMUI7O0FBRUEsV0FBVyxtREFBZTtBQUMxQjs7QUFFQSxXQUFXLG1EQUFlO0FBQzFCOztBQUVBLFdBQVcsbURBQWU7QUFDMUI7O0FBRUEsV0FBVyxtREFBZTtBQUMxQjs7QUFFQSxXQUFXLG1EQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AsYUFBYSxtREFBZSxPQUFPLG1EQUFlLE9BQU8sbURBQWUsYUFBYSxtREFBZTtBQUNwRztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9hdHRyaWJ1dGVzL2hlbHBlcnMuanM/MWI3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCwgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9lbnVtc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFBvaW50c0NoYW5uZWwoY2hhbm5lbHMsIG1hcmtUeXBlKSB7XG4gICAgc3dpdGNoIChtYXJrVHlwZSkge1xuICAgICAgY2FzZSBcImxpbmVcIjpcbiAgICAgICAgcmV0dXJuIGNoYW5uZWxzLnNvbWUoKGNoYW5uZWwgPT4gWyBcInhcIiwgXCJ5XCIsIFwiZGVmaW5lZFwiIF0uaW5jbHVkZXMoY2hhbm5lbCkpKTtcblxuICAgICAgY2FzZSBcImFyZWFcIjpcbiAgICAgICAgcmV0dXJuIGNoYW5uZWxzLnNvbWUoKGNoYW5uZWwgPT4gWyBcInhcIiwgXCJ5XCIsIFwieDFcIiwgXCJ5MVwiLCBcImRlZmluZWRcIiBdLmluY2x1ZGVzKGNoYW5uZWwpKSk7XG5cbiAgICAgIGNhc2UgXCJsYXJnZVJlY3RzXCI6XG4gICAgICAgIHJldHVybiBjaGFubmVscy5zb21lKChjaGFubmVsID0+IFsgXCJ4XCIsIFwieVwiLCBcIndpZHRoXCIsIFwieTFcIiBdLmluY2x1ZGVzKGNoYW5uZWwpKSk7XG5cbiAgICAgIGNhc2UgXCJsYXJnZVN5bWJvbHNcIjpcbiAgICAgICAgcmV0dXJuIGNoYW5uZWxzLnNvbWUoKGNoYW5uZWwgPT4gWyBcInhcIiwgXCJ5XCIgXS5pbmNsdWRlcyhjaGFubmVsKSkpO1xuICAgIH1cbiAgICByZXR1cm4gITE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSdWxlUG9pbnRzKG5leHRBdHRycykge1xuICAgIGNvbnN0IHt4OiB4LCB5OiB5LCB4MTogeDEsIHkxOiB5MX0gPSBuZXh0QXR0cnM7XG4gICAgcmV0dXJuIGlzVmFsaWROdW1iZXIoeCkgJiYgaXNWYWxpZE51bWJlcih5KSAmJiBpc1ZhbGlkTnVtYmVyKHgxKSAmJiBpc1ZhbGlkTnVtYmVyKHkxKSA/IFsge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5XG4gICAgfSwge1xuICAgICAgICB4OiB4MSxcbiAgICAgICAgeTogeTFcbiAgICB9IF0gOiBbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpbmVQb2ludHMoaXRlbXMsIGluY2x1ZGVPbmVQb2ludCwgbGFzdFBvaW50cywgaXNBcmVhKSB7XG4gICAgaWYgKCFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoIHx8IDEgPT09IGl0ZW1zLmxlbmd0aCAmJiAhaW5jbHVkZU9uZVBvaW50KSByZXR1cm4gW107XG4gICAgcmV0dXJuIGl0ZW1zLnNvbWUoKGl0ZW0gPT4gaXNWYWxpZFBvaW50c0NoYW5uZWwoT2JqZWN0LmtleXMoaXRlbS5uZXh0QXR0cnMpLCBcImxpbmVcIikpKSA/IGl0ZW1zLm1hcCgoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBpdGVtLm5leHRBdHRycywge3g6IHgsIHk6IHksIHgxOiB4MSwgeTE6IHkxLCBkZWZpbmVkOiBkZWZpbmVkfSA9IG51bGwgIT09IChfYSA9IG51bGwgPT0gbGFzdFBvaW50cyA/IHZvaWQgMCA6IGxhc3RQb2ludHNbaW5kZXhdKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fTtcbiAgICAgICAgcmV0dXJuIGlzTmlsKGF0dHJzLngpICYmIChhdHRycy54ID0geCksIGlzTmlsKGF0dHJzLnkpICYmIChhdHRycy55ID0geSksIGlzTmlsKGF0dHJzLmRlZmluZWQpICYmICExID09PSBkZWZpbmVkICYmIChhdHRycy5kZWZpbmVkID0gITEpLCBcbiAgICAgICAgYXR0cnMuY29udGV4dCA9IGl0ZW0ua2V5LCBpc0FyZWEgJiYgKGlzTmlsKGF0dHJzLngxKSAmJiAoYXR0cnMueDEgPSB4MSksIGlzTmlsKGF0dHJzLnkxKSAmJiAoYXR0cnMueTEgPSB5MSkpLCBcbiAgICAgICAgYXR0cnM7XG4gICAgfSkpIDogbnVsbCAhPSBsYXN0UG9pbnRzID8gbGFzdFBvaW50cyA6IFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFyZ2VSZWN0c1BvaW50cyhpdGVtcywgaW5jbHVkZU9uZVBvaW50LCBsYXN0UG9pbnRzID0gW10pIHtcbiAgICBpZiAoIWl0ZW1zIHx8ICFpdGVtcy5sZW5ndGggfHwgMSA9PT0gaXRlbXMubGVuZ3RoICYmICFpbmNsdWRlT25lUG9pbnQpIHJldHVybiBbXTtcbiAgICBjb25zdCBhcnIgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiBpdGVtcy5sZW5ndGgpO1xuICAgIHJldHVybiBpdGVtcy5mb3JFYWNoKCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBjb25zdCBhdHRycyA9IGl0ZW0ubmV4dEF0dHJzLCB4ID0gbnVsbCAhPT0gKF9hID0gYXR0cnMueCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbGFzdFBvaW50c1s0ICogaW5kZXhdLCB5ID0gbnVsbCAhPT0gKF9iID0gYXR0cnMueSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogbGFzdFBvaW50c1s0ICogaW5kZXggKyAxXSwgd2lkdGggPSBudWxsICE9PSAoX2MgPSBhdHRycy53aWR0aCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogbGFzdFBvaW50c1s0ICogaW5kZXggKyAyXSwgeTEgPSBudWxsICE9PSAoX2QgPSBhdHRycy55MSkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogbGFzdFBvaW50c1s0ICogaW5kZXggKyAzXTtcbiAgICAgICAgYXJyWzQgKiBpbmRleF0gPSB4LCBhcnJbNCAqIGluZGV4ICsgMV0gPSB5LCBhcnJbNCAqIGluZGV4ICsgMl0gPSB3aWR0aCwgYXJyWzQgKiBpbmRleCArIDNdID0geTEgLSB5O1xuICAgIH0pKSwgYXJyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFyZ2VTeW1ib2xzUG9pbnRzKGl0ZW1zLCBpbmNsdWRlT25lUG9pbnQsIGxhc3RQb2ludHMgPSBbXSkge1xuICAgIGlmICghaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCB8fCAxID09PSBpdGVtcy5sZW5ndGggJiYgIWluY2x1ZGVPbmVQb2ludCkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IGFyciA9IG5ldyBGbG9hdDMyQXJyYXkoMiAqIGl0ZW1zLmxlbmd0aCk7XG4gICAgcmV0dXJuIGl0ZW1zLmZvckVhY2goKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBhdHRycyA9IGl0ZW0ubmV4dEF0dHJzLCB4ID0gbnVsbCAhPT0gKF9hID0gYXR0cnMueCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbGFzdFBvaW50c1syICogaW5kZXhdLCB5ID0gbnVsbCAhPT0gKF9iID0gYXR0cnMueSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogbGFzdFBvaW50c1syICogaW5kZXggKyAxXTtcbiAgICAgICAgYXJyWzIgKiBpbmRleF0gPSB4LCBhcnJbMiAqIGluZGV4ICsgMV0gPSB5O1xuICAgIH0pKSwgYXJyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQb3NpdGlvbk9yU2l6ZUNoYW5uZWwodHlwZSwgY2hhbm5lbCkge1xuICAgIGlmIChbIFwieFwiLCBcInlcIiwgXCJkeFwiLCBcImR5XCIgXS5pbmNsdWRlcyhjaGFubmVsKSkgcmV0dXJuICEwO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuYXJjOlxuICAgICAgICByZXR1cm4gWyBcImlubmVyUmFkaXVzXCIsIFwib3V0ZXJSYWRpdXNcIiwgXCJzdGFydEFuZ2xlXCIsIFwiZW5kQW5nbGVcIiBdLmluY2x1ZGVzKGNoYW5uZWwpO1xuXG4gICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5ncm91cDpcbiAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLnJlY3Q6XG4gICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5pbWFnZTpcbiAgICAgICAgcmV0dXJuIFsgXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcInkxXCIgXS5pbmNsdWRlcyhjaGFubmVsKTtcblxuICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUucGF0aDpcbiAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLnNoYXBlOlxuICAgICAgICByZXR1cm4gWyBcInBhdGhcIiwgXCJjdXN0b21QYXRoXCIgXS5pbmNsdWRlcyhjaGFubmVsKTtcblxuICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUubGluZTpcbiAgICAgICAgcmV0dXJuIFwiZGVmaW5lZFwiID09PSBjaGFubmVsO1xuXG4gICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS5hcmVhOlxuICAgICAgICByZXR1cm4gWyBcIngxXCIsIFwieTFcIiwgXCJkZWZpbmVkXCIgXS5pbmNsdWRlcyhjaGFubmVsKTtcblxuICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUucnVsZTpcbiAgICAgICAgcmV0dXJuIFsgXCJ4MVwiLCBcInkxXCIgXS5pbmNsdWRlcyhjaGFubmVsKTtcblxuICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuc3ltYm9sOlxuICAgICAgICByZXR1cm4gXCJzaXplXCIgPT09IGNoYW5uZWw7XG5cbiAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLnBvbHlnb246XG4gICAgICAgIHJldHVybiBcInBvaW50c1wiID09PSBjaGFubmVsO1xuXG4gICAgICBjYXNlIEdyYW1tYXJNYXJrVHlwZS50ZXh0OlxuICAgICAgICByZXR1cm4gXCJ0ZXh0XCIgPT09IGNoYW5uZWw7XG4gICAgfVxuICAgIHJldHVybiAhMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUG9pbnRzTWFya1R5cGUobWFya1R5cGUpIHtcbiAgICByZXR1cm4gWyBHcmFtbWFyTWFya1R5cGUubGluZSwgR3JhbW1hck1hcmtUeXBlLmFyZWEsIEdyYW1tYXJNYXJrVHlwZS5sYXJnZVJlY3RzLCBHcmFtbWFyTWFya1R5cGUubGFyZ2VTeW1ib2xzIF0uaW5jbHVkZXMobWFya1R5cGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/line.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/line.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getConnectLineSegmentConfigs: () => (/* binding */ getConnectLineSegmentConfigs),\n/* harmony export */   getLinePointsFromSegments: () => (/* binding */ getLinePointsFromSegments),\n/* harmony export */   getLineSegmentConfigs: () => (/* binding */ getLineSegmentConfigs),\n/* harmony export */   parseCollectionMarkAttributes: () => (/* binding */ parseCollectionMarkAttributes),\n/* harmony export */   removeSegmentAttrs: () => (/* binding */ removeSegmentAttrs)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nconst isStopsEqual = (prev, next) => {\n    var _a, _b;\n    if (prev === next) return !0;\n    const prevLength = null !== (_a = prev && prev.length) && void 0 !== _a ? _a : 0;\n    return prevLength === (null !== (_b = next && next.length) && void 0 !== _b ? _b : 0) && 0 !== prevLength && prev.every(((prevEntry, prevIndex) => !prevEntry && !next[prevIndex] || prevEntry && next[prevIndex] && prevEntry.color === next[prevIndex].color && prevEntry.offset === next[prevIndex].offset));\n}, isColorAttrEqual = (prev, next) => {\n    if (prev === next) return !0;\n    if (typeof prev != typeof next) return !1;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(prev)) return !1;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(prev)) return prev.length === next.length && prev.every(((prevEntry, index) => isColorAttrEqual(prevEntry, next[index])));\n    if (prev.gradient !== next.gradient) return !1;\n    const prevKeys = Object.keys(prev), nextKeys = Object.keys(next);\n    return prevKeys.length === nextKeys.length && prevKeys.every((key => \"stops\" === key ? isStopsEqual(prev[key], next[key]) : prev[key] === next[key]));\n}, isLineDashEqual = (prev, next) => prev.length === next.length && prev.join(\"-\") === next.join(\"-\"), isSegmentAttrEqual = (prev, next, key) => !(!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prev) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(next)) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prev) && (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(next) && (\"lineDash\" === key ? isLineDashEqual(prev, next) : \"stroke\" === key || \"fill\" === key ? isColorAttrEqual(prev, next) : prev === next)), fillAttrs = [ \"fill\", \"fillOpacity\", \"background\", \"texture\", \"texturePadding\", \"textureSize\", \"textureColor\" ], strokeAttrs = [ \"stroke\", \"strokeOpacity\", \"lineDash\", \"lineDashOffset\", \"lineCap\", \"lineJoin\", \"lineWidth\", \"miterLimit\" ], areaAttrs = fillAttrs.concat(strokeAttrs);\n\nfunction getLineSegmentConfigs(items, points, element) {\n    var _a;\n    if (!items || items.length <= 1) return null;\n    const checkAttributes = \"area\" === (null === (_a = null == element ? void 0 : element.mark) || void 0 === _a ? void 0 : _a.markType) ? areaAttrs : strokeAttrs, segments = [];\n    let prevSegmentAttrs = null;\n    return items.forEach(((item, index) => {\n        prevSegmentAttrs && checkAttributes.every((key => isSegmentAttrEqual(prevSegmentAttrs[key], item[key], key))) || (segments.length && (segments[segments.length - 1].endIndex = index), \n        prevSegmentAttrs = item, segments.push({\n            attrs: prevSegmentAttrs,\n            startIndex: index\n        }));\n    })), segments.length >= 2 ? segments.map((entry => {\n        const res = parseCollectionMarkAttributes(entry.attrs);\n        return res.points = points.slice(entry.startIndex, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(entry.endIndex) ? points.length : entry.endIndex), \n        res;\n    })) : null;\n}\n\nfunction getConnectLineSegmentConfigs(items, points, element) {\n    if (!items || items.length <= 1) return null;\n    const enableSegments = !!element && element.mark.getSpec().enableSegments;\n    let isPrevDefined, curSegment, segments = [], point = null;\n    if (items.forEach(((item, index) => {\n        point = points[index], point && !1 !== point.defined ? (isPrevDefined || (curSegment = {\n            items: [],\n            points: []\n        }, segments.push(curSegment)), curSegment.points.push(point), curSegment.items.push(item), \n        !1 === isPrevDefined && (curSegment.isConnect = !0, curSegment = {\n            items: [],\n            points: []\n        }, segments.push(curSegment)), isPrevDefined = !0) : isPrevDefined = !1;\n    })), segments = segments.filter((seg => seg.points.length > 0)), segments.length >= 2) {\n        const res = [];\n        return segments.forEach((entry => {\n            if (entry.isConnect) return void res.push({\n                points: entry.points,\n                isConnect: !0\n            });\n            if (enableSegments) {\n                const subSegments = getLineSegmentConfigs(entry.items, entry.points, element);\n                if (subSegments) return void subSegments.forEach((subSeg => {\n                    res.push(subSeg);\n                }));\n            }\n            const seg = parseCollectionMarkAttributes(entry.items[0]);\n            seg.points = entry.points, res.push(seg);\n        })), res;\n    }\n    return enableSegments ? getLineSegmentConfigs(items, points, element) : null;\n}\n\nfunction getLinePointsFromSegments(segments) {\n    return segments ? segments.reduce(((points, segment) => points.concat(segment.points)), []) : null;\n}\n\nfunction parseCollectionMarkAttributes(itemNextAttrs) {\n    const result = {};\n    if (!itemNextAttrs) return result;\n    const skipKeys = [ \"x\", \"y\", \"x1\", \"y1\", \"defined\", \"size\", \"width\", \"height\", \"context\" ];\n    return Object.keys(itemNextAttrs).forEach((key => {\n        skipKeys.includes(key) || (result[key] = itemNextAttrs[key]);\n    })), result;\n}\n\nfunction removeSegmentAttrs(itemNextAttrs, element) {\n    var _a;\n    if (!itemNextAttrs || !itemNextAttrs.segments || !itemNextAttrs.segments.length) return itemNextAttrs;\n    const segmentKeys = \"area\" === (null === (_a = null == element ? void 0 : element.mark) || void 0 === _a ? void 0 : _a.markType) ? [ \"fillOpacity\", \"strokeOpacity\" ] : [ \"strokeOpacity\" ], result = {};\n    return Object.keys(itemNextAttrs).forEach((key => {\n        segmentKeys.includes(key) || (result[key] = itemNextAttrs[key]);\n    })), result;\n}\n//# sourceMappingURL=line.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy9saW5lLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTREOztBQUU1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxRQUFRLDREQUFRO0FBQ2hCLFFBQVEsNERBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1KQUFtSiw0REFBSyxXQUFXLDREQUFLLFlBQVksNERBQUssWUFBWSw0REFBSzs7QUFFcE07QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsMkRBQTJELDREQUFLO0FBQ2hFO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy9saW5lLmpzP2JmMGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBcnJheSwgaXNOaWwsIGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuY29uc3QgaXNTdG9wc0VxdWFsID0gKHByZXYsIG5leHQpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChwcmV2ID09PSBuZXh0KSByZXR1cm4gITA7XG4gICAgY29uc3QgcHJldkxlbmd0aCA9IG51bGwgIT09IChfYSA9IHByZXYgJiYgcHJldi5sZW5ndGgpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDA7XG4gICAgcmV0dXJuIHByZXZMZW5ndGggPT09IChudWxsICE9PSAoX2IgPSBuZXh0ICYmIG5leHQubGVuZ3RoKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAwKSAmJiAwICE9PSBwcmV2TGVuZ3RoICYmIHByZXYuZXZlcnkoKChwcmV2RW50cnksIHByZXZJbmRleCkgPT4gIXByZXZFbnRyeSAmJiAhbmV4dFtwcmV2SW5kZXhdIHx8IHByZXZFbnRyeSAmJiBuZXh0W3ByZXZJbmRleF0gJiYgcHJldkVudHJ5LmNvbG9yID09PSBuZXh0W3ByZXZJbmRleF0uY29sb3IgJiYgcHJldkVudHJ5Lm9mZnNldCA9PT0gbmV4dFtwcmV2SW5kZXhdLm9mZnNldCkpO1xufSwgaXNDb2xvckF0dHJFcXVhbCA9IChwcmV2LCBuZXh0KSA9PiB7XG4gICAgaWYgKHByZXYgPT09IG5leHQpIHJldHVybiAhMDtcbiAgICBpZiAodHlwZW9mIHByZXYgIT0gdHlwZW9mIG5leHQpIHJldHVybiAhMTtcbiAgICBpZiAoaXNTdHJpbmcocHJldikpIHJldHVybiAhMTtcbiAgICBpZiAoaXNBcnJheShwcmV2KSkgcmV0dXJuIHByZXYubGVuZ3RoID09PSBuZXh0Lmxlbmd0aCAmJiBwcmV2LmV2ZXJ5KCgocHJldkVudHJ5LCBpbmRleCkgPT4gaXNDb2xvckF0dHJFcXVhbChwcmV2RW50cnksIG5leHRbaW5kZXhdKSkpO1xuICAgIGlmIChwcmV2LmdyYWRpZW50ICE9PSBuZXh0LmdyYWRpZW50KSByZXR1cm4gITE7XG4gICAgY29uc3QgcHJldktleXMgPSBPYmplY3Qua2V5cyhwcmV2KSwgbmV4dEtleXMgPSBPYmplY3Qua2V5cyhuZXh0KTtcbiAgICByZXR1cm4gcHJldktleXMubGVuZ3RoID09PSBuZXh0S2V5cy5sZW5ndGggJiYgcHJldktleXMuZXZlcnkoKGtleSA9PiBcInN0b3BzXCIgPT09IGtleSA/IGlzU3RvcHNFcXVhbChwcmV2W2tleV0sIG5leHRba2V5XSkgOiBwcmV2W2tleV0gPT09IG5leHRba2V5XSkpO1xufSwgaXNMaW5lRGFzaEVxdWFsID0gKHByZXYsIG5leHQpID0+IHByZXYubGVuZ3RoID09PSBuZXh0Lmxlbmd0aCAmJiBwcmV2LmpvaW4oXCItXCIpID09PSBuZXh0LmpvaW4oXCItXCIpLCBpc1NlZ21lbnRBdHRyRXF1YWwgPSAocHJldiwgbmV4dCwga2V5KSA9PiAhKCFpc05pbChwcmV2KSB8fCAhaXNOaWwobmV4dCkpIHx8ICFpc05pbChwcmV2KSAmJiAoIWlzTmlsKG5leHQpICYmIChcImxpbmVEYXNoXCIgPT09IGtleSA/IGlzTGluZURhc2hFcXVhbChwcmV2LCBuZXh0KSA6IFwic3Ryb2tlXCIgPT09IGtleSB8fCBcImZpbGxcIiA9PT0ga2V5ID8gaXNDb2xvckF0dHJFcXVhbChwcmV2LCBuZXh0KSA6IHByZXYgPT09IG5leHQpKSwgZmlsbEF0dHJzID0gWyBcImZpbGxcIiwgXCJmaWxsT3BhY2l0eVwiLCBcImJhY2tncm91bmRcIiwgXCJ0ZXh0dXJlXCIsIFwidGV4dHVyZVBhZGRpbmdcIiwgXCJ0ZXh0dXJlU2l6ZVwiLCBcInRleHR1cmVDb2xvclwiIF0sIHN0cm9rZUF0dHJzID0gWyBcInN0cm9rZVwiLCBcInN0cm9rZU9wYWNpdHlcIiwgXCJsaW5lRGFzaFwiLCBcImxpbmVEYXNoT2Zmc2V0XCIsIFwibGluZUNhcFwiLCBcImxpbmVKb2luXCIsIFwibGluZVdpZHRoXCIsIFwibWl0ZXJMaW1pdFwiIF0sIGFyZWFBdHRycyA9IGZpbGxBdHRycy5jb25jYXQoc3Ryb2tlQXR0cnMpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGluZVNlZ21lbnRDb25maWdzKGl0ZW1zLCBwb2ludHMsIGVsZW1lbnQpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFpdGVtcyB8fCBpdGVtcy5sZW5ndGggPD0gMSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgY2hlY2tBdHRyaWJ1dGVzID0gXCJhcmVhXCIgPT09IChudWxsID09PSAoX2EgPSBudWxsID09IGVsZW1lbnQgPyB2b2lkIDAgOiBlbGVtZW50Lm1hcmspIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5tYXJrVHlwZSkgPyBhcmVhQXR0cnMgOiBzdHJva2VBdHRycywgc2VnbWVudHMgPSBbXTtcbiAgICBsZXQgcHJldlNlZ21lbnRBdHRycyA9IG51bGw7XG4gICAgcmV0dXJuIGl0ZW1zLmZvckVhY2goKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBwcmV2U2VnbWVudEF0dHJzICYmIGNoZWNrQXR0cmlidXRlcy5ldmVyeSgoa2V5ID0+IGlzU2VnbWVudEF0dHJFcXVhbChwcmV2U2VnbWVudEF0dHJzW2tleV0sIGl0ZW1ba2V5XSwga2V5KSkpIHx8IChzZWdtZW50cy5sZW5ndGggJiYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdLmVuZEluZGV4ID0gaW5kZXgpLCBcbiAgICAgICAgcHJldlNlZ21lbnRBdHRycyA9IGl0ZW0sIHNlZ21lbnRzLnB1c2goe1xuICAgICAgICAgICAgYXR0cnM6IHByZXZTZWdtZW50QXR0cnMsXG4gICAgICAgICAgICBzdGFydEluZGV4OiBpbmRleFxuICAgICAgICB9KSk7XG4gICAgfSkpLCBzZWdtZW50cy5sZW5ndGggPj0gMiA/IHNlZ21lbnRzLm1hcCgoZW50cnkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSBwYXJzZUNvbGxlY3Rpb25NYXJrQXR0cmlidXRlcyhlbnRyeS5hdHRycyk7XG4gICAgICAgIHJldHVybiByZXMucG9pbnRzID0gcG9pbnRzLnNsaWNlKGVudHJ5LnN0YXJ0SW5kZXgsIGlzTmlsKGVudHJ5LmVuZEluZGV4KSA/IHBvaW50cy5sZW5ndGggOiBlbnRyeS5lbmRJbmRleCksIFxuICAgICAgICByZXM7XG4gICAgfSkpIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbm5lY3RMaW5lU2VnbWVudENvbmZpZ3MoaXRlbXMsIHBvaW50cywgZWxlbWVudCkge1xuICAgIGlmICghaXRlbXMgfHwgaXRlbXMubGVuZ3RoIDw9IDEpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGVuYWJsZVNlZ21lbnRzID0gISFlbGVtZW50ICYmIGVsZW1lbnQubWFyay5nZXRTcGVjKCkuZW5hYmxlU2VnbWVudHM7XG4gICAgbGV0IGlzUHJldkRlZmluZWQsIGN1clNlZ21lbnQsIHNlZ21lbnRzID0gW10sIHBvaW50ID0gbnVsbDtcbiAgICBpZiAoaXRlbXMuZm9yRWFjaCgoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIHBvaW50ID0gcG9pbnRzW2luZGV4XSwgcG9pbnQgJiYgITEgIT09IHBvaW50LmRlZmluZWQgPyAoaXNQcmV2RGVmaW5lZCB8fCAoY3VyU2VnbWVudCA9IHtcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgIHBvaW50czogW11cbiAgICAgICAgfSwgc2VnbWVudHMucHVzaChjdXJTZWdtZW50KSksIGN1clNlZ21lbnQucG9pbnRzLnB1c2gocG9pbnQpLCBjdXJTZWdtZW50Lml0ZW1zLnB1c2goaXRlbSksIFxuICAgICAgICAhMSA9PT0gaXNQcmV2RGVmaW5lZCAmJiAoY3VyU2VnbWVudC5pc0Nvbm5lY3QgPSAhMCwgY3VyU2VnbWVudCA9IHtcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgIHBvaW50czogW11cbiAgICAgICAgfSwgc2VnbWVudHMucHVzaChjdXJTZWdtZW50KSksIGlzUHJldkRlZmluZWQgPSAhMCkgOiBpc1ByZXZEZWZpbmVkID0gITE7XG4gICAgfSkpLCBzZWdtZW50cyA9IHNlZ21lbnRzLmZpbHRlcigoc2VnID0+IHNlZy5wb2ludHMubGVuZ3RoID4gMCkpLCBzZWdtZW50cy5sZW5ndGggPj0gMikge1xuICAgICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzLmZvckVhY2goKGVudHJ5ID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5pc0Nvbm5lY3QpIHJldHVybiB2b2lkIHJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBwb2ludHM6IGVudHJ5LnBvaW50cyxcbiAgICAgICAgICAgICAgICBpc0Nvbm5lY3Q6ICEwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChlbmFibGVTZWdtZW50cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YlNlZ21lbnRzID0gZ2V0TGluZVNlZ21lbnRDb25maWdzKGVudHJ5Lml0ZW1zLCBlbnRyeS5wb2ludHMsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJTZWdtZW50cykgcmV0dXJuIHZvaWQgc3ViU2VnbWVudHMuZm9yRWFjaCgoc3ViU2VnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goc3ViU2VnKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZWcgPSBwYXJzZUNvbGxlY3Rpb25NYXJrQXR0cmlidXRlcyhlbnRyeS5pdGVtc1swXSk7XG4gICAgICAgICAgICBzZWcucG9pbnRzID0gZW50cnkucG9pbnRzLCByZXMucHVzaChzZWcpO1xuICAgICAgICB9KSksIHJlcztcbiAgICB9XG4gICAgcmV0dXJuIGVuYWJsZVNlZ21lbnRzID8gZ2V0TGluZVNlZ21lbnRDb25maWdzKGl0ZW1zLCBwb2ludHMsIGVsZW1lbnQpIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpbmVQb2ludHNGcm9tU2VnbWVudHMoc2VnbWVudHMpIHtcbiAgICByZXR1cm4gc2VnbWVudHMgPyBzZWdtZW50cy5yZWR1Y2UoKChwb2ludHMsIHNlZ21lbnQpID0+IHBvaW50cy5jb25jYXQoc2VnbWVudC5wb2ludHMpKSwgW10pIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ29sbGVjdGlvbk1hcmtBdHRyaWJ1dGVzKGl0ZW1OZXh0QXR0cnMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBpZiAoIWl0ZW1OZXh0QXR0cnMpIHJldHVybiByZXN1bHQ7XG4gICAgY29uc3Qgc2tpcEtleXMgPSBbIFwieFwiLCBcInlcIiwgXCJ4MVwiLCBcInkxXCIsIFwiZGVmaW5lZFwiLCBcInNpemVcIiwgXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcImNvbnRleHRcIiBdO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhpdGVtTmV4dEF0dHJzKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBza2lwS2V5cy5pbmNsdWRlcyhrZXkpIHx8IChyZXN1bHRba2V5XSA9IGl0ZW1OZXh0QXR0cnNba2V5XSk7XG4gICAgfSkpLCByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTZWdtZW50QXR0cnMoaXRlbU5leHRBdHRycywgZWxlbWVudCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoIWl0ZW1OZXh0QXR0cnMgfHwgIWl0ZW1OZXh0QXR0cnMuc2VnbWVudHMgfHwgIWl0ZW1OZXh0QXR0cnMuc2VnbWVudHMubGVuZ3RoKSByZXR1cm4gaXRlbU5leHRBdHRycztcbiAgICBjb25zdCBzZWdtZW50S2V5cyA9IFwiYXJlYVwiID09PSAobnVsbCA9PT0gKF9hID0gbnVsbCA9PSBlbGVtZW50ID8gdm9pZCAwIDogZWxlbWVudC5tYXJrKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubWFya1R5cGUpID8gWyBcImZpbGxPcGFjaXR5XCIsIFwic3Ryb2tlT3BhY2l0eVwiIF0gOiBbIFwic3Ryb2tlT3BhY2l0eVwiIF0sIHJlc3VsdCA9IHt9O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhpdGVtTmV4dEF0dHJzKS5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBzZWdtZW50S2V5cy5pbmNsdWRlcyhrZXkpIHx8IChyZXN1bHRba2V5XSA9IGl0ZW1OZXh0QXR0cnNba2V5XSk7XG4gICAgfSkpLCByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saW5lLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/line.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloneTransformAttributes: () => (/* binding */ cloneTransformAttributes),\n/* harmony export */   transformAttributes: () => (/* binding */ transformAttributes),\n/* harmony export */   transformsByType: () => (/* binding */ transformsByType)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isPlainObject.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/has.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/common.js\");\n\n\n\n\n\n\n\n\nfunction storeOriginAttributes(name, channels, graphicAttributes, nextAttrs, element, markName) {\n    const prevStoredAttrs = element.getGraphicAttribute(name, !1, markName);\n    if (prevStoredAttrs) return channels.forEach((channel => {\n        channel in nextAttrs && (prevStoredAttrs[channel] = nextAttrs[channel]);\n    })), prevStoredAttrs;\n    const storedAttrs = {};\n    return channels.forEach((channel => {\n        storedAttrs[channel] = nextAttrs[channel];\n    })), graphicAttributes[name] = storedAttrs, storedAttrs;\n}\n\nconst transformsByType = {\n    rect3d: [ {\n        channels: [ \"x\", \"y\", \"z\", \"x1\", \"y1\", \"width\", \"height\", \"length\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.width) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.x1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.width) ? (graphicAttributes.x = Math.min(null !== (_a = storedAttrs.x) && void 0 !== _a ? _a : 0, null !== (_b = storedAttrs.x1) && void 0 !== _b ? _b : 1 / 0), \n            graphicAttributes.width = storedAttrs.width) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.x1) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.width) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.x1) ? (graphicAttributes.x = Math.min(storedAttrs.x, storedAttrs.x1), \n            graphicAttributes.width = Math.abs(storedAttrs.x1 - storedAttrs.x)) : (graphicAttributes.x = Math.min(null !== (_c = storedAttrs.x) && void 0 !== _c ? _c : 0, null !== (_d = storedAttrs.x1) && void 0 !== _d ? _d : 1 / 0), \n            graphicAttributes.width = storedAttrs.width), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.height) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.y1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.height) ? (graphicAttributes.y = Math.min(null !== (_e = storedAttrs.y) && void 0 !== _e ? _e : 0, null !== (_f = storedAttrs.y1) && void 0 !== _f ? _f : 1 / 0), \n            graphicAttributes.height = storedAttrs.height) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.y1) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.height) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.y1) ? (graphicAttributes.y = Math.min(storedAttrs.y, storedAttrs.y1), \n            graphicAttributes.height = Math.abs(storedAttrs.y1 - storedAttrs.y)) : (graphicAttributes.y = Math.min(null !== (_g = storedAttrs.y) && void 0 !== _g ? _g : 0, null !== (_h = storedAttrs.y1) && void 0 !== _h ? _h : 1 / 0), \n            graphicAttributes.height = storedAttrs.height), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.length) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.z1) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.length) ? (graphicAttributes.z = Math.min(null !== (_j = storedAttrs.z) && void 0 !== _j ? _j : 0, null !== (_k = storedAttrs.z1) && void 0 !== _k ? _k : 1 / 0), \n            graphicAttributes.length = storedAttrs.length) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.z1) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextAttrs.length) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(storedAttrs.z1) ? (graphicAttributes.z = Math.min(storedAttrs.z, storedAttrs.z1), \n            graphicAttributes.length = Math.abs(storedAttrs.z1 - storedAttrs.z)) : (graphicAttributes.z = Math.min(null !== (_l = storedAttrs.z) && void 0 !== _l ? _l : 0, null !== (_m = storedAttrs.z1) && void 0 !== _m ? _m : 1 / 0), \n            graphicAttributes.length = storedAttrs.length);\n        },\n        storedAttrs: \"sizeAttrs\"\n    } ],\n    [_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.text]: [ {\n        channels: [ \"text\", \"limit\", \"autoLimit\", \"maxLineWidth\", \"textType\", \"_originText\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            var _a, _b, _c, _d;\n            const limit = null !== (_a = storedAttrs.limit) && void 0 !== _a ? _a : 1 / 0, autoLimit = null !== (_b = storedAttrs.autoLimit) && void 0 !== _b ? _b : 1 / 0, maxWidth = Math.min(limit, autoLimit), isTextConfig = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(storedAttrs.text) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(storedAttrs.text.text), text = isTextConfig ? storedAttrs.text.text : storedAttrs.text;\n            Array.isArray(text), graphicAttributes.maxLineWidth = maxWidth === 1 / 0 ? storedAttrs.maxLineWidth : maxWidth, \n            isTextConfig || storedAttrs.textType ? \"rich\" === storedAttrs.text.type || \"rich\" === storedAttrs.textType ? graphicAttributes.textConfig = text : \"html\" === storedAttrs.text.type ? (graphicAttributes.html = text, \n            graphicAttributes.text = null !== (_c = storedAttrs._originText) && void 0 !== _c ? _c : \"\", \n            graphicAttributes.renderable = !1) : \"react\" === storedAttrs.text.type ? (graphicAttributes.react = text, \n            graphicAttributes.text = null !== (_d = storedAttrs._originText) && void 0 !== _d ? _d : \"\", \n            graphicAttributes.renderable = !1) : graphicAttributes.text = text : graphicAttributes.text = text;\n        },\n        storedAttrs: \"limitAttrs\"\n    } ],\n    [_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.rule]: [ {\n        channels: [ \"x\", \"y\", \"x1\", \"y1\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            const points = (0,_helpers__WEBPACK_IMPORTED_MODULE_4__.getRulePoints)(storedAttrs);\n            graphicAttributes.points = points, graphicAttributes.x = 0, graphicAttributes.y = 0;\n        },\n        storedAttrs: \"pointAttrs\"\n    } ],\n    [_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.symbol]: [ {\n        channels: [ \"shape\", \"symbolType\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            var _a;\n            graphicAttributes.symbolType = null !== (_a = nextAttrs.shape) && void 0 !== _a ? _a : nextAttrs.symbolType;\n        }\n    }, {\n        channels: [ \"image\", \"fill\", \"background\" ],\n        transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n            nextAttrs.image ? (graphicAttributes.background = nextAttrs.image, graphicAttributes.fill = !1) : storedAttrs.image ? (graphicAttributes.background = storedAttrs.image, \n            graphicAttributes.fill = !1) : (graphicAttributes.fill = storedAttrs.fill, graphicAttributes.background = storedAttrs.background);\n        },\n        storedAttrs: \"imageAttrs\"\n    } ]\n};\n\nfunction cloneTransformAttributes(markType, attributes) {\n    var _a;\n    return (null !== (_a = transformsByType[markType]) && void 0 !== _a ? _a : []).reduce(((clonedAttributes, transform) => (transform.channels.forEach((channel => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(attributes, channel) && (clonedAttributes[channel] = attributes[channel]);\n    })), clonedAttributes)), {});\n}\n\nconst transformAttributes = (markType, nextAttrs, element, markName) => {\n    const graphicAttributes = {}, changedKeys = nextAttrs ? Object.keys(nextAttrs) : [], transforms = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(markType) ? transformsByType[markType] : markType;\n    if (transforms && transforms.length) {\n        const tags = [];\n        changedKeys.forEach((key => {\n            let isTransformed = !1;\n            transforms.forEach(((transform, index) => {\n                if (transform.channels.includes(key)) {\n                    if (!tags[index]) if (transform.storedAttrs) {\n                        const storedAttrs = storeOriginAttributes(transform.storedAttrs, transform.channels, graphicAttributes, nextAttrs, element, markName);\n                        transform.transform(graphicAttributes, nextAttrs, storedAttrs);\n                    } else transform.transform(graphicAttributes, nextAttrs, null);\n                    tags[index] = !0, isTransformed = !0;\n                }\n            })), isTransformed || (_common__WEBPACK_IMPORTED_MODULE_7__.commonAttributes.includes(key) ? (0,_common__WEBPACK_IMPORTED_MODULE_7__.transformCommonAttribute)(graphicAttributes, key, nextAttrs) : graphicAttributes[key] = nextAttrs[key]);\n        }));\n    } else changedKeys.forEach((key => {\n        _common__WEBPACK_IMPORTED_MODULE_7__.commonAttributes.includes(key) ? (0,_common__WEBPACK_IMPORTED_MODULE_7__.transformCommonAttribute)(graphicAttributes, key, nextAttrs) : graphicAttributes[key] = nextAttrs[key];\n    }));\n    return graphicAttributes;\n};\n//# sourceMappingURL=transform.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy90cmFuc2Zvcm0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0Y7O0FBRTNDOztBQUVEOztBQUU0Qjs7QUFFdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFhLHNCQUFzQiw0REFBYSxrQkFBa0IsNERBQWE7QUFDM0YsMkRBQTJELDREQUFhLG1CQUFtQiw0REFBYSxxQkFBcUIsNERBQWE7QUFDMUk7QUFDQSwwREFBMEQsNERBQWEsdUJBQXVCLDREQUFhLGtCQUFrQiw0REFBYTtBQUMxSSw2REFBNkQsNERBQWEsbUJBQW1CLDREQUFhLHNCQUFzQiw0REFBYTtBQUM3STtBQUNBLDREQUE0RCw0REFBYSx1QkFBdUIsNERBQWEsa0JBQWtCLDREQUFhO0FBQzVJLDZEQUE2RCw0REFBYSxtQkFBbUIsNERBQWEsc0JBQXNCLDREQUFhO0FBQzdJO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ04sS0FBSyxtREFBZTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxrT0FBa08sNERBQWEsdUJBQXVCLDREQUFLO0FBQzNRO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTixLQUFLLG1EQUFlO0FBQ3BCO0FBQ0E7QUFDQSwyQkFBMkIsdURBQWE7QUFDeEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ04sS0FBSyxtREFBZTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsTUFBTTtBQUNOOztBQUVPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsNERBQUc7QUFDWCxLQUFLLDBCQUEwQjtBQUMvQjs7QUFFTztBQUNQLGdDQUFnQyxzRUFBc0UsNERBQVE7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxhQUFhLHNCQUFzQixxREFBZ0IsaUJBQWlCLGlFQUF3QjtBQUM1RixTQUFTO0FBQ1QsTUFBTTtBQUNOLFFBQVEscURBQWdCLGlCQUFpQixpRUFBd0I7QUFDakUsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvYXR0cmlidXRlcy90cmFuc2Zvcm0uanM/YzdkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXMsIGlzTmlsLCBpc1BsYWluT2JqZWN0LCBpc1N0cmluZywgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9lbnVtc1wiO1xuXG5pbXBvcnQgeyBnZXRSdWxlUG9pbnRzIH0gZnJvbSBcIi4vaGVscGVyc1wiO1xuXG5pbXBvcnQgeyBjb21tb25BdHRyaWJ1dGVzLCB0cmFuc2Zvcm1Db21tb25BdHRyaWJ1dGUgfSBmcm9tIFwiLi9jb21tb25cIjtcblxuZnVuY3Rpb24gc3RvcmVPcmlnaW5BdHRyaWJ1dGVzKG5hbWUsIGNoYW5uZWxzLCBncmFwaGljQXR0cmlidXRlcywgbmV4dEF0dHJzLCBlbGVtZW50LCBtYXJrTmFtZSkge1xuICAgIGNvbnN0IHByZXZTdG9yZWRBdHRycyA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShuYW1lLCAhMSwgbWFya05hbWUpO1xuICAgIGlmIChwcmV2U3RvcmVkQXR0cnMpIHJldHVybiBjaGFubmVscy5mb3JFYWNoKChjaGFubmVsID0+IHtcbiAgICAgICAgY2hhbm5lbCBpbiBuZXh0QXR0cnMgJiYgKHByZXZTdG9yZWRBdHRyc1tjaGFubmVsXSA9IG5leHRBdHRyc1tjaGFubmVsXSk7XG4gICAgfSkpLCBwcmV2U3RvcmVkQXR0cnM7XG4gICAgY29uc3Qgc3RvcmVkQXR0cnMgPSB7fTtcbiAgICByZXR1cm4gY2hhbm5lbHMuZm9yRWFjaCgoY2hhbm5lbCA9PiB7XG4gICAgICAgIHN0b3JlZEF0dHJzW2NoYW5uZWxdID0gbmV4dEF0dHJzW2NoYW5uZWxdO1xuICAgIH0pKSwgZ3JhcGhpY0F0dHJpYnV0ZXNbbmFtZV0gPSBzdG9yZWRBdHRycywgc3RvcmVkQXR0cnM7XG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1zQnlUeXBlID0ge1xuICAgIHJlY3QzZDogWyB7XG4gICAgICAgIGNoYW5uZWxzOiBbIFwieFwiLCBcInlcIiwgXCJ6XCIsIFwieDFcIiwgXCJ5MVwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwibGVuZ3RoXCIgXSxcbiAgICAgICAgdHJhbnNmb3JtOiAoZ3JhcGhpY0F0dHJpYnV0ZXMsIG5leHRBdHRycywgc3RvcmVkQXR0cnMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tO1xuICAgICAgICAgICAgaXNWYWxpZE51bWJlcihuZXh0QXR0cnMud2lkdGgpIHx8ICFpc1ZhbGlkTnVtYmVyKG5leHRBdHRycy54MSkgJiYgaXNWYWxpZE51bWJlcihzdG9yZWRBdHRycy53aWR0aCkgPyAoZ3JhcGhpY0F0dHJpYnV0ZXMueCA9IE1hdGgubWluKG51bGwgIT09IChfYSA9IHN0b3JlZEF0dHJzLngpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDAsIG51bGwgIT09IChfYiA9IHN0b3JlZEF0dHJzLngxKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAxIC8gMCksIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMud2lkdGggPSBzdG9yZWRBdHRycy53aWR0aCkgOiBpc1ZhbGlkTnVtYmVyKG5leHRBdHRycy54MSkgfHwgIWlzVmFsaWROdW1iZXIobmV4dEF0dHJzLndpZHRoKSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLngxKSA/IChncmFwaGljQXR0cmlidXRlcy54ID0gTWF0aC5taW4oc3RvcmVkQXR0cnMueCwgc3RvcmVkQXR0cnMueDEpLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLndpZHRoID0gTWF0aC5hYnMoc3RvcmVkQXR0cnMueDEgLSBzdG9yZWRBdHRycy54KSkgOiAoZ3JhcGhpY0F0dHJpYnV0ZXMueCA9IE1hdGgubWluKG51bGwgIT09IChfYyA9IHN0b3JlZEF0dHJzLngpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IDAsIG51bGwgIT09IChfZCA9IHN0b3JlZEF0dHJzLngxKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiAxIC8gMCksIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMud2lkdGggPSBzdG9yZWRBdHRycy53aWR0aCksIGlzVmFsaWROdW1iZXIobmV4dEF0dHJzLmhlaWdodCkgfHwgIWlzVmFsaWROdW1iZXIobmV4dEF0dHJzLnkxKSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLmhlaWdodCkgPyAoZ3JhcGhpY0F0dHJpYnV0ZXMueSA9IE1hdGgubWluKG51bGwgIT09IChfZSA9IHN0b3JlZEF0dHJzLnkpICYmIHZvaWQgMCAhPT0gX2UgPyBfZSA6IDAsIG51bGwgIT09IChfZiA9IHN0b3JlZEF0dHJzLnkxKSAmJiB2b2lkIDAgIT09IF9mID8gX2YgOiAxIC8gMCksIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMuaGVpZ2h0ID0gc3RvcmVkQXR0cnMuaGVpZ2h0KSA6IGlzVmFsaWROdW1iZXIobmV4dEF0dHJzLnkxKSB8fCAhaXNWYWxpZE51bWJlcihuZXh0QXR0cnMuaGVpZ2h0KSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLnkxKSA/IChncmFwaGljQXR0cmlidXRlcy55ID0gTWF0aC5taW4oc3RvcmVkQXR0cnMueSwgc3RvcmVkQXR0cnMueTEpLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLmhlaWdodCA9IE1hdGguYWJzKHN0b3JlZEF0dHJzLnkxIC0gc3RvcmVkQXR0cnMueSkpIDogKGdyYXBoaWNBdHRyaWJ1dGVzLnkgPSBNYXRoLm1pbihudWxsICE9PSAoX2cgPSBzdG9yZWRBdHRycy55KSAmJiB2b2lkIDAgIT09IF9nID8gX2cgOiAwLCBudWxsICE9PSAoX2ggPSBzdG9yZWRBdHRycy55MSkgJiYgdm9pZCAwICE9PSBfaCA/IF9oIDogMSAvIDApLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLmhlaWdodCA9IHN0b3JlZEF0dHJzLmhlaWdodCksIGlzVmFsaWROdW1iZXIobmV4dEF0dHJzLmxlbmd0aCkgfHwgIWlzVmFsaWROdW1iZXIobmV4dEF0dHJzLnoxKSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLmxlbmd0aCkgPyAoZ3JhcGhpY0F0dHJpYnV0ZXMueiA9IE1hdGgubWluKG51bGwgIT09IChfaiA9IHN0b3JlZEF0dHJzLnopICYmIHZvaWQgMCAhPT0gX2ogPyBfaiA6IDAsIG51bGwgIT09IChfayA9IHN0b3JlZEF0dHJzLnoxKSAmJiB2b2lkIDAgIT09IF9rID8gX2sgOiAxIC8gMCksIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMubGVuZ3RoID0gc3RvcmVkQXR0cnMubGVuZ3RoKSA6IGlzVmFsaWROdW1iZXIobmV4dEF0dHJzLnoxKSB8fCAhaXNWYWxpZE51bWJlcihuZXh0QXR0cnMubGVuZ3RoKSAmJiBpc1ZhbGlkTnVtYmVyKHN0b3JlZEF0dHJzLnoxKSA/IChncmFwaGljQXR0cmlidXRlcy56ID0gTWF0aC5taW4oc3RvcmVkQXR0cnMueiwgc3RvcmVkQXR0cnMuejEpLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLmxlbmd0aCA9IE1hdGguYWJzKHN0b3JlZEF0dHJzLnoxIC0gc3RvcmVkQXR0cnMueikpIDogKGdyYXBoaWNBdHRyaWJ1dGVzLnogPSBNYXRoLm1pbihudWxsICE9PSAoX2wgPSBzdG9yZWRBdHRycy56KSAmJiB2b2lkIDAgIT09IF9sID8gX2wgOiAwLCBudWxsICE9PSAoX20gPSBzdG9yZWRBdHRycy56MSkgJiYgdm9pZCAwICE9PSBfbSA/IF9tIDogMSAvIDApLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLmxlbmd0aCA9IHN0b3JlZEF0dHJzLmxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3JlZEF0dHJzOiBcInNpemVBdHRyc1wiXG4gICAgfSBdLFxuICAgIFtHcmFtbWFyTWFya1R5cGUudGV4dF06IFsge1xuICAgICAgICBjaGFubmVsczogWyBcInRleHRcIiwgXCJsaW1pdFwiLCBcImF1dG9MaW1pdFwiLCBcIm1heExpbmVXaWR0aFwiLCBcInRleHRUeXBlXCIsIFwiX29yaWdpblRleHRcIiBdLFxuICAgICAgICB0cmFuc2Zvcm06IChncmFwaGljQXR0cmlidXRlcywgbmV4dEF0dHJzLCBzdG9yZWRBdHRycykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgY29uc3QgbGltaXQgPSBudWxsICE9PSAoX2EgPSBzdG9yZWRBdHRycy5saW1pdCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMSAvIDAsIGF1dG9MaW1pdCA9IG51bGwgIT09IChfYiA9IHN0b3JlZEF0dHJzLmF1dG9MaW1pdCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMSAvIDAsIG1heFdpZHRoID0gTWF0aC5taW4obGltaXQsIGF1dG9MaW1pdCksIGlzVGV4dENvbmZpZyA9IGlzUGxhaW5PYmplY3Qoc3RvcmVkQXR0cnMudGV4dCkgJiYgIWlzTmlsKHN0b3JlZEF0dHJzLnRleHQudGV4dCksIHRleHQgPSBpc1RleHRDb25maWcgPyBzdG9yZWRBdHRycy50ZXh0LnRleHQgOiBzdG9yZWRBdHRycy50ZXh0O1xuICAgICAgICAgICAgQXJyYXkuaXNBcnJheSh0ZXh0KSwgZ3JhcGhpY0F0dHJpYnV0ZXMubWF4TGluZVdpZHRoID0gbWF4V2lkdGggPT09IDEgLyAwID8gc3RvcmVkQXR0cnMubWF4TGluZVdpZHRoIDogbWF4V2lkdGgsIFxuICAgICAgICAgICAgaXNUZXh0Q29uZmlnIHx8IHN0b3JlZEF0dHJzLnRleHRUeXBlID8gXCJyaWNoXCIgPT09IHN0b3JlZEF0dHJzLnRleHQudHlwZSB8fCBcInJpY2hcIiA9PT0gc3RvcmVkQXR0cnMudGV4dFR5cGUgPyBncmFwaGljQXR0cmlidXRlcy50ZXh0Q29uZmlnID0gdGV4dCA6IFwiaHRtbFwiID09PSBzdG9yZWRBdHRycy50ZXh0LnR5cGUgPyAoZ3JhcGhpY0F0dHJpYnV0ZXMuaHRtbCA9IHRleHQsIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMudGV4dCA9IG51bGwgIT09IChfYyA9IHN0b3JlZEF0dHJzLl9vcmlnaW5UZXh0KSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBcIlwiLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLnJlbmRlcmFibGUgPSAhMSkgOiBcInJlYWN0XCIgPT09IHN0b3JlZEF0dHJzLnRleHQudHlwZSA/IChncmFwaGljQXR0cmlidXRlcy5yZWFjdCA9IHRleHQsIFxuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMudGV4dCA9IG51bGwgIT09IChfZCA9IHN0b3JlZEF0dHJzLl9vcmlnaW5UZXh0KSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBcIlwiLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLnJlbmRlcmFibGUgPSAhMSkgOiBncmFwaGljQXR0cmlidXRlcy50ZXh0ID0gdGV4dCA6IGdyYXBoaWNBdHRyaWJ1dGVzLnRleHQgPSB0ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzdG9yZWRBdHRyczogXCJsaW1pdEF0dHJzXCJcbiAgICB9IF0sXG4gICAgW0dyYW1tYXJNYXJrVHlwZS5ydWxlXTogWyB7XG4gICAgICAgIGNoYW5uZWxzOiBbIFwieFwiLCBcInlcIiwgXCJ4MVwiLCBcInkxXCIgXSxcbiAgICAgICAgdHJhbnNmb3JtOiAoZ3JhcGhpY0F0dHJpYnV0ZXMsIG5leHRBdHRycywgc3RvcmVkQXR0cnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IGdldFJ1bGVQb2ludHMoc3RvcmVkQXR0cnMpO1xuICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMucG9pbnRzID0gcG9pbnRzLCBncmFwaGljQXR0cmlidXRlcy54ID0gMCwgZ3JhcGhpY0F0dHJpYnV0ZXMueSA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3JlZEF0dHJzOiBcInBvaW50QXR0cnNcIlxuICAgIH0gXSxcbiAgICBbR3JhbW1hck1hcmtUeXBlLnN5bWJvbF06IFsge1xuICAgICAgICBjaGFubmVsczogWyBcInNoYXBlXCIsIFwic3ltYm9sVHlwZVwiIF0sXG4gICAgICAgIHRyYW5zZm9ybTogKGdyYXBoaWNBdHRyaWJ1dGVzLCBuZXh0QXR0cnMsIHN0b3JlZEF0dHJzKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBncmFwaGljQXR0cmlidXRlcy5zeW1ib2xUeXBlID0gbnVsbCAhPT0gKF9hID0gbmV4dEF0dHJzLnNoYXBlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBuZXh0QXR0cnMuc3ltYm9sVHlwZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgY2hhbm5lbHM6IFsgXCJpbWFnZVwiLCBcImZpbGxcIiwgXCJiYWNrZ3JvdW5kXCIgXSxcbiAgICAgICAgdHJhbnNmb3JtOiAoZ3JhcGhpY0F0dHJpYnV0ZXMsIG5leHRBdHRycywgc3RvcmVkQXR0cnMpID0+IHtcbiAgICAgICAgICAgIG5leHRBdHRycy5pbWFnZSA/IChncmFwaGljQXR0cmlidXRlcy5iYWNrZ3JvdW5kID0gbmV4dEF0dHJzLmltYWdlLCBncmFwaGljQXR0cmlidXRlcy5maWxsID0gITEpIDogc3RvcmVkQXR0cnMuaW1hZ2UgPyAoZ3JhcGhpY0F0dHJpYnV0ZXMuYmFja2dyb3VuZCA9IHN0b3JlZEF0dHJzLmltYWdlLCBcbiAgICAgICAgICAgIGdyYXBoaWNBdHRyaWJ1dGVzLmZpbGwgPSAhMSkgOiAoZ3JhcGhpY0F0dHJpYnV0ZXMuZmlsbCA9IHN0b3JlZEF0dHJzLmZpbGwsIGdyYXBoaWNBdHRyaWJ1dGVzLmJhY2tncm91bmQgPSBzdG9yZWRBdHRycy5iYWNrZ3JvdW5kKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcmVkQXR0cnM6IFwiaW1hZ2VBdHRyc1wiXG4gICAgfSBdXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVUcmFuc2Zvcm1BdHRyaWJ1dGVzKG1hcmtUeXBlLCBhdHRyaWJ1dGVzKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAobnVsbCAhPT0gKF9hID0gdHJhbnNmb3Jtc0J5VHlwZVttYXJrVHlwZV0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFtdKS5yZWR1Y2UoKChjbG9uZWRBdHRyaWJ1dGVzLCB0cmFuc2Zvcm0pID0+ICh0cmFuc2Zvcm0uY2hhbm5lbHMuZm9yRWFjaCgoY2hhbm5lbCA9PiB7XG4gICAgICAgIGhhcyhhdHRyaWJ1dGVzLCBjaGFubmVsKSAmJiAoY2xvbmVkQXR0cmlidXRlc1tjaGFubmVsXSA9IGF0dHJpYnV0ZXNbY2hhbm5lbF0pO1xuICAgIH0pKSwgY2xvbmVkQXR0cmlidXRlcykpLCB7fSk7XG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1BdHRyaWJ1dGVzID0gKG1hcmtUeXBlLCBuZXh0QXR0cnMsIGVsZW1lbnQsIG1hcmtOYW1lKSA9PiB7XG4gICAgY29uc3QgZ3JhcGhpY0F0dHJpYnV0ZXMgPSB7fSwgY2hhbmdlZEtleXMgPSBuZXh0QXR0cnMgPyBPYmplY3Qua2V5cyhuZXh0QXR0cnMpIDogW10sIHRyYW5zZm9ybXMgPSBpc1N0cmluZyhtYXJrVHlwZSkgPyB0cmFuc2Zvcm1zQnlUeXBlW21hcmtUeXBlXSA6IG1hcmtUeXBlO1xuICAgIGlmICh0cmFuc2Zvcm1zICYmIHRyYW5zZm9ybXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICAgICAgY2hhbmdlZEtleXMuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgIGxldCBpc1RyYW5zZm9ybWVkID0gITE7XG4gICAgICAgICAgICB0cmFuc2Zvcm1zLmZvckVhY2goKCh0cmFuc2Zvcm0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybS5jaGFubmVscy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFnc1tpbmRleF0pIGlmICh0cmFuc2Zvcm0uc3RvcmVkQXR0cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlZEF0dHJzID0gc3RvcmVPcmlnaW5BdHRyaWJ1dGVzKHRyYW5zZm9ybS5zdG9yZWRBdHRycywgdHJhbnNmb3JtLmNoYW5uZWxzLCBncmFwaGljQXR0cmlidXRlcywgbmV4dEF0dHJzLCBlbGVtZW50LCBtYXJrTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udHJhbnNmb3JtKGdyYXBoaWNBdHRyaWJ1dGVzLCBuZXh0QXR0cnMsIHN0b3JlZEF0dHJzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHRyYW5zZm9ybS50cmFuc2Zvcm0oZ3JhcGhpY0F0dHJpYnV0ZXMsIG5leHRBdHRycywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHRhZ3NbaW5kZXhdID0gITAsIGlzVHJhbnNmb3JtZWQgPSAhMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSksIGlzVHJhbnNmb3JtZWQgfHwgKGNvbW1vbkF0dHJpYnV0ZXMuaW5jbHVkZXMoa2V5KSA/IHRyYW5zZm9ybUNvbW1vbkF0dHJpYnV0ZShncmFwaGljQXR0cmlidXRlcywga2V5LCBuZXh0QXR0cnMpIDogZ3JhcGhpY0F0dHJpYnV0ZXNba2V5XSA9IG5leHRBdHRyc1trZXldKTtcbiAgICAgICAgfSkpO1xuICAgIH0gZWxzZSBjaGFuZ2VkS2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBjb21tb25BdHRyaWJ1dGVzLmluY2x1ZGVzKGtleSkgPyB0cmFuc2Zvcm1Db21tb25BdHRyaWJ1dGUoZ3JhcGhpY0F0dHJpYnV0ZXMsIGtleSwgbmV4dEF0dHJzKSA6IGdyYXBoaWNBdHRyaWJ1dGVzW2tleV0gPSBuZXh0QXR0cnNba2V5XTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGdyYXBoaWNBdHRyaWJ1dGVzO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/canvas-renderer.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/canvas-renderer.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CanvasRenderer)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/tools.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/create.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\nclass CanvasRenderer {\n    constructor(view) {\n        this.handleAfterNextRender = () => {\n            this._stage && !this._viewOptions.disableDirtyBounds && this._stage.enableDirtyBounds(), \n            this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_VRENDER_DRAW), this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_VRENDER_NEXT_RENDER);\n        }, this._view = view;\n    }\n    initialize(width, height, options, eventConfig) {\n        return this._width = width, this._height = height, this._viewOptions = options, \n        this._eventConfig = eventConfig, this.initStage(), this;\n    }\n    stage() {\n        var _a;\n        return null !== (_a = this._stage) && void 0 !== _a ? _a : null;\n    }\n    gestureController() {\n        var _a;\n        return null !== (_a = this._gestureController) && void 0 !== _a ? _a : null;\n    }\n    canvas() {\n        return this._stage ? this._stage.window.getNativeHandler().nativeCanvas : null;\n    }\n    context() {\n        return this._stage ? this._stage.window.getContext().nativeContext : null;\n    }\n    combineIncrementalLayers() {\n        return this._stage && (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.waitForAllSubLayers)(this._stage).then((() => {\n            this._stage && this._stage.defaultLayer.combineSubLayer();\n        })), this;\n    }\n    background(color) {\n        if (this._stage) return this._stage.background = color, this;\n    }\n    setDpr(resolution, redraw) {\n        var _a, _b;\n        return null === (_b = null === (_a = this._stage) || void 0 === _a ? void 0 : _a.setDpr) || void 0 === _b || _b.call(_a, resolution), \n        redraw && this.renderNextFrame(), this;\n    }\n    shouldResize(width, height) {\n        return width !== this._width || height !== this._height;\n    }\n    resize(width, height) {\n        return this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_STAGE_RESIZE), this.shouldResize(width, height) && (this._width = width, \n        this._height = height, this._stage && this._stage.resize(width, height)), this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_STAGE_RESIZE), \n        this;\n    }\n    setViewBox(viewBox, rerender = !0) {\n        return this._stage ? (!viewBox || this._viewBox && viewBox.x1 === this._viewBox.x1 && viewBox.x2 === this._viewBox.x2 && viewBox.y1 === this._viewBox.y1 && viewBox.y2 === this._viewBox.y2 || (this._viewBox = viewBox, \n        this._stage.setViewBox(viewBox.x1, viewBox.y1, viewBox.x2 - viewBox.x1, viewBox.y2 - viewBox.y1, rerender)), \n        this) : this;\n    }\n    render(immediately = !1) {\n        return this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_VRENDER_DRAW), this.initStage(), this._stage.disableDirtyBounds(), \n        this._stage.afterNextRender(this.handleAfterNextRender), immediately && (this._stage.render(), \n        this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_VRENDER_DRAW)), this;\n    }\n    renderNextFrame() {\n        return this.initStage(), this._stage.renderNextFrame(), this;\n    }\n    toCanvas() {\n        return this._stage ? this._stage.toCanvas() : null;\n    }\n    preventRender(tag) {\n        this._stage && this._stage.preventRender(tag);\n    }\n    release() {\n        var _a;\n        this._view.traverseMarkTree((mark => {\n            mark.release();\n        })), this._dragController && this._dragController.release(), this._gestureController && this._gestureController.release(), \n        this._stage !== (null === (_a = this._viewOptions) || void 0 === _a ? void 0 : _a.stage) && this._stage.release(), \n        this._stage = null, this._layer = null, this._dragController = null, this._gestureController = null;\n    }\n    createStage() {\n        var _a, _b, _c, _d, _e;\n        this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_CREATE_VRENDER_STAGE);\n        const viewOptions = this._viewOptions, stage = null !== (_a = viewOptions.stage) && void 0 !== _a ? _a : (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_2__.createStage)({\n            width: this._width,\n            height: this._height,\n            renderStyle: viewOptions.renderStyle,\n            viewBox: viewOptions.viewBox,\n            dpr: viewOptions.dpr,\n            canvas: viewOptions.renderCanvas,\n            canvasControled: viewOptions.canvasControled,\n            container: viewOptions.container,\n            title: viewOptions.rendererTitle,\n            beforeRender: viewOptions.beforeRender,\n            afterRender: viewOptions.afterRender,\n            disableDirtyBounds: !0,\n            autoRender: !0,\n            pluginList: viewOptions.pluginList,\n            enableHtmlAttribute: viewOptions.enableHtmlAttribute,\n            optimize: viewOptions.optimize,\n            ticker: viewOptions.ticker,\n            supportsTouchEvents: viewOptions.supportsTouchEvents,\n            supportsPointerEvents: viewOptions.supportsPointerEvents,\n            event: {\n                clickInterval: this._eventConfig.clickInterval,\n                autoPreventDefault: !!this._eventConfig.autoPreventDefault\n            },\n            ReactDOM: viewOptions.ReactDOM,\n            autoRefresh: viewOptions.autoRefresh\n        });\n        (null === (_b = viewOptions.options3d) || void 0 === _b ? void 0 : _b.enable) && stage.set3dOptions(viewOptions.options3d), \n        stage.enableIncrementalAutoRender(), this._viewBox = viewOptions.viewBox, this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_CREATE_VRENDER_STAGE), \n        this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_CREATE_VRENDER_LAYER);\n        const layer = null !== (_c = viewOptions.layer) && void 0 !== _c ? _c : stage.defaultLayer;\n        if (this._view.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_CREATE_VRENDER_LAYER), (null === (_d = this._eventConfig) || void 0 === _d ? void 0 : _d.drag) && _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.getStageEventPlugin(\"drag\") && (this._dragController = new (_core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.getStageEventPlugin(\"drag\"))(stage)), \n        (null === (_e = this._eventConfig) || void 0 === _e ? void 0 : _e.gesture) && _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.getStageEventPlugin(\"gesture\")) {\n            const gestureConfig = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this._eventConfig.gesture) ? this._eventConfig.gesture : {};\n            this._gestureController = new (_core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.getStageEventPlugin(\"gesture\"))(stage, gestureConfig);\n        }\n        return {\n            stage: stage,\n            layer: layer\n        };\n    }\n    initStage() {\n        if (!this._stage) {\n            const {stage: stage, layer: layer} = this.createStage();\n            this._stage = stage, this._layer = layer;\n            const background = this._view.background();\n            this.background(background);\n        }\n    }\n}\n//# sourceMappingURL=canvas-renderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvY2FudmFzLXJlbmRlcmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE0Qzs7QUFFOEI7O0FBRXJDOztBQUVLOztBQUUzQjtBQUNmO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBVSxzQ0FBc0MsOENBQVU7QUFDdEYsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMkVBQW1CO0FBQ2pEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDhDQUFVO0FBQ3pDLGtHQUFrRyw4Q0FBVTtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDhDQUFVO0FBQ3pDO0FBQ0Esd0JBQXdCLDhDQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4Q0FBVTtBQUNsQyxpSEFBaUgsbUVBQVc7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGtHQUFrRyw4Q0FBVTtBQUM1Ryx3QkFBd0IsOENBQVU7QUFDbEM7QUFDQSw0QkFBNEIsOENBQVUseUdBQXlHLGtEQUFPLDZEQUE2RCxrREFBTztBQUMxTixzRkFBc0Ysa0RBQU87QUFDN0Ysa0NBQWtDLDREQUFRO0FBQzFDLDJDQUEyQyxrREFBTztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRCQUE0QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvY2FudmFzLXJlbmRlcmVyLmpzPzExY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBjcmVhdGVTdGFnZSwgd2FpdEZvckFsbFN1YkxheWVycyB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmltcG9ydCB7IEhPT0tfRVZFTlQgfSBmcm9tIFwiLi9lbnVtc1wiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLmhhbmRsZUFmdGVyTmV4dFJlbmRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YWdlICYmICF0aGlzLl92aWV3T3B0aW9ucy5kaXNhYmxlRGlydHlCb3VuZHMgJiYgdGhpcy5fc3RhZ2UuZW5hYmxlRGlydHlCb3VuZHMoKSwgXG4gICAgICAgICAgICB0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5BRlRFUl9WUkVOREVSX0RSQVcpLCB0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5BRlRFUl9WUkVOREVSX05FWFRfUkVOREVSKTtcbiAgICAgICAgfSwgdGhpcy5fdmlldyA9IHZpZXc7XG4gICAgfVxuICAgIGluaXRpYWxpemUod2lkdGgsIGhlaWdodCwgb3B0aW9ucywgZXZlbnRDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoID0gd2lkdGgsIHRoaXMuX2hlaWdodCA9IGhlaWdodCwgdGhpcy5fdmlld09wdGlvbnMgPSBvcHRpb25zLCBcbiAgICAgICAgdGhpcy5fZXZlbnRDb25maWcgPSBldmVudENvbmZpZywgdGhpcy5pbml0U3RhZ2UoKSwgdGhpcztcbiAgICB9XG4gICAgc3RhZ2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMuX3N0YWdlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBudWxsO1xuICAgIH1cbiAgICBnZXN0dXJlQ29udHJvbGxlcigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy5fZ2VzdHVyZUNvbnRyb2xsZXIpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGw7XG4gICAgfVxuICAgIGNhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YWdlID8gdGhpcy5fc3RhZ2Uud2luZG93LmdldE5hdGl2ZUhhbmRsZXIoKS5uYXRpdmVDYW52YXMgOiBudWxsO1xuICAgIH1cbiAgICBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhZ2UgPyB0aGlzLl9zdGFnZS53aW5kb3cuZ2V0Q29udGV4dCgpLm5hdGl2ZUNvbnRleHQgOiBudWxsO1xuICAgIH1cbiAgICBjb21iaW5lSW5jcmVtZW50YWxMYXllcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFnZSAmJiB3YWl0Rm9yQWxsU3ViTGF5ZXJzKHRoaXMuX3N0YWdlKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zdGFnZSAmJiB0aGlzLl9zdGFnZS5kZWZhdWx0TGF5ZXIuY29tYmluZVN1YkxheWVyKCk7XG4gICAgICAgIH0pKSwgdGhpcztcbiAgICB9XG4gICAgYmFja2dyb3VuZChjb2xvcikge1xuICAgICAgICBpZiAodGhpcy5fc3RhZ2UpIHJldHVybiB0aGlzLl9zdGFnZS5iYWNrZ3JvdW5kID0gY29sb3IsIHRoaXM7XG4gICAgfVxuICAgIHNldERwcihyZXNvbHV0aW9uLCByZWRyYXcpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IHRoaXMuX3N0YWdlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc2V0RHByKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EsIHJlc29sdXRpb24pLCBcbiAgICAgICAgcmVkcmF3ICYmIHRoaXMucmVuZGVyTmV4dEZyYW1lKCksIHRoaXM7XG4gICAgfVxuICAgIHNob3VsZFJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB3aWR0aCAhPT0gdGhpcy5fd2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuICAgIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfU1RBR0VfUkVTSVpFKSwgdGhpcy5zaG91bGRSZXNpemUod2lkdGgsIGhlaWdodCkgJiYgKHRoaXMuX3dpZHRoID0gd2lkdGgsIFxuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQsIHRoaXMuX3N0YWdlICYmIHRoaXMuX3N0YWdlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSksIHRoaXMuX3ZpZXcuZW1pdChIT09LX0VWRU5ULkFGVEVSX1NUQUdFX1JFU0laRSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBzZXRWaWV3Qm94KHZpZXdCb3gsIHJlcmVuZGVyID0gITApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YWdlID8gKCF2aWV3Qm94IHx8IHRoaXMuX3ZpZXdCb3ggJiYgdmlld0JveC54MSA9PT0gdGhpcy5fdmlld0JveC54MSAmJiB2aWV3Qm94LngyID09PSB0aGlzLl92aWV3Qm94LngyICYmIHZpZXdCb3gueTEgPT09IHRoaXMuX3ZpZXdCb3gueTEgJiYgdmlld0JveC55MiA9PT0gdGhpcy5fdmlld0JveC55MiB8fCAodGhpcy5fdmlld0JveCA9IHZpZXdCb3gsIFxuICAgICAgICB0aGlzLl9zdGFnZS5zZXRWaWV3Qm94KHZpZXdCb3gueDEsIHZpZXdCb3gueTEsIHZpZXdCb3gueDIgLSB2aWV3Qm94LngxLCB2aWV3Qm94LnkyIC0gdmlld0JveC55MSwgcmVyZW5kZXIpKSwgXG4gICAgICAgIHRoaXMpIDogdGhpcztcbiAgICB9XG4gICAgcmVuZGVyKGltbWVkaWF0ZWx5ID0gITEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXcuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9WUkVOREVSX0RSQVcpLCB0aGlzLmluaXRTdGFnZSgpLCB0aGlzLl9zdGFnZS5kaXNhYmxlRGlydHlCb3VuZHMoKSwgXG4gICAgICAgIHRoaXMuX3N0YWdlLmFmdGVyTmV4dFJlbmRlcih0aGlzLmhhbmRsZUFmdGVyTmV4dFJlbmRlciksIGltbWVkaWF0ZWx5ICYmICh0aGlzLl9zdGFnZS5yZW5kZXIoKSwgXG4gICAgICAgIHRoaXMuX3ZpZXcuZW1pdChIT09LX0VWRU5ULkFGVEVSX1ZSRU5ERVJfRFJBVykpLCB0aGlzO1xuICAgIH1cbiAgICByZW5kZXJOZXh0RnJhbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluaXRTdGFnZSgpLCB0aGlzLl9zdGFnZS5yZW5kZXJOZXh0RnJhbWUoKSwgdGhpcztcbiAgICB9XG4gICAgdG9DYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFnZSA/IHRoaXMuX3N0YWdlLnRvQ2FudmFzKCkgOiBudWxsO1xuICAgIH1cbiAgICBwcmV2ZW50UmVuZGVyKHRhZykge1xuICAgICAgICB0aGlzLl9zdGFnZSAmJiB0aGlzLl9zdGFnZS5wcmV2ZW50UmVuZGVyKHRhZyk7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5fdmlldy50cmF2ZXJzZU1hcmtUcmVlKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsucmVsZWFzZSgpO1xuICAgICAgICB9KSksIHRoaXMuX2RyYWdDb250cm9sbGVyICYmIHRoaXMuX2RyYWdDb250cm9sbGVyLnJlbGVhc2UoKSwgdGhpcy5fZ2VzdHVyZUNvbnRyb2xsZXIgJiYgdGhpcy5fZ2VzdHVyZUNvbnRyb2xsZXIucmVsZWFzZSgpLCBcbiAgICAgICAgdGhpcy5fc3RhZ2UgIT09IChudWxsID09PSAoX2EgPSB0aGlzLl92aWV3T3B0aW9ucykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnN0YWdlKSAmJiB0aGlzLl9zdGFnZS5yZWxlYXNlKCksIFxuICAgICAgICB0aGlzLl9zdGFnZSA9IG51bGwsIHRoaXMuX2xheWVyID0gbnVsbCwgdGhpcy5fZHJhZ0NvbnRyb2xsZXIgPSBudWxsLCB0aGlzLl9nZXN0dXJlQ29udHJvbGxlciA9IG51bGw7XG4gICAgfVxuICAgIGNyZWF0ZVN0YWdlKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICB0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfQ1JFQVRFX1ZSRU5ERVJfU1RBR0UpO1xuICAgICAgICBjb25zdCB2aWV3T3B0aW9ucyA9IHRoaXMuX3ZpZXdPcHRpb25zLCBzdGFnZSA9IG51bGwgIT09IChfYSA9IHZpZXdPcHRpb25zLnN0YWdlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBjcmVhdGVTdGFnZSh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5fd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuX2hlaWdodCxcbiAgICAgICAgICAgIHJlbmRlclN0eWxlOiB2aWV3T3B0aW9ucy5yZW5kZXJTdHlsZSxcbiAgICAgICAgICAgIHZpZXdCb3g6IHZpZXdPcHRpb25zLnZpZXdCb3gsXG4gICAgICAgICAgICBkcHI6IHZpZXdPcHRpb25zLmRwcixcbiAgICAgICAgICAgIGNhbnZhczogdmlld09wdGlvbnMucmVuZGVyQ2FudmFzLFxuICAgICAgICAgICAgY2FudmFzQ29udHJvbGVkOiB2aWV3T3B0aW9ucy5jYW52YXNDb250cm9sZWQsXG4gICAgICAgICAgICBjb250YWluZXI6IHZpZXdPcHRpb25zLmNvbnRhaW5lcixcbiAgICAgICAgICAgIHRpdGxlOiB2aWV3T3B0aW9ucy5yZW5kZXJlclRpdGxlLFxuICAgICAgICAgICAgYmVmb3JlUmVuZGVyOiB2aWV3T3B0aW9ucy5iZWZvcmVSZW5kZXIsXG4gICAgICAgICAgICBhZnRlclJlbmRlcjogdmlld09wdGlvbnMuYWZ0ZXJSZW5kZXIsXG4gICAgICAgICAgICBkaXNhYmxlRGlydHlCb3VuZHM6ICEwLFxuICAgICAgICAgICAgYXV0b1JlbmRlcjogITAsXG4gICAgICAgICAgICBwbHVnaW5MaXN0OiB2aWV3T3B0aW9ucy5wbHVnaW5MaXN0LFxuICAgICAgICAgICAgZW5hYmxlSHRtbEF0dHJpYnV0ZTogdmlld09wdGlvbnMuZW5hYmxlSHRtbEF0dHJpYnV0ZSxcbiAgICAgICAgICAgIG9wdGltaXplOiB2aWV3T3B0aW9ucy5vcHRpbWl6ZSxcbiAgICAgICAgICAgIHRpY2tlcjogdmlld09wdGlvbnMudGlja2VyLFxuICAgICAgICAgICAgc3VwcG9ydHNUb3VjaEV2ZW50czogdmlld09wdGlvbnMuc3VwcG9ydHNUb3VjaEV2ZW50cyxcbiAgICAgICAgICAgIHN1cHBvcnRzUG9pbnRlckV2ZW50czogdmlld09wdGlvbnMuc3VwcG9ydHNQb2ludGVyRXZlbnRzLFxuICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICBjbGlja0ludGVydmFsOiB0aGlzLl9ldmVudENvbmZpZy5jbGlja0ludGVydmFsLFxuICAgICAgICAgICAgICAgIGF1dG9QcmV2ZW50RGVmYXVsdDogISF0aGlzLl9ldmVudENvbmZpZy5hdXRvUHJldmVudERlZmF1bHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBSZWFjdERPTTogdmlld09wdGlvbnMuUmVhY3RET00sXG4gICAgICAgICAgICBhdXRvUmVmcmVzaDogdmlld09wdGlvbnMuYXV0b1JlZnJlc2hcbiAgICAgICAgfSk7XG4gICAgICAgIChudWxsID09PSAoX2IgPSB2aWV3T3B0aW9ucy5vcHRpb25zM2QpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5lbmFibGUpICYmIHN0YWdlLnNldDNkT3B0aW9ucyh2aWV3T3B0aW9ucy5vcHRpb25zM2QpLCBcbiAgICAgICAgc3RhZ2UuZW5hYmxlSW5jcmVtZW50YWxBdXRvUmVuZGVyKCksIHRoaXMuX3ZpZXdCb3ggPSB2aWV3T3B0aW9ucy52aWV3Qm94LCB0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5BRlRFUl9DUkVBVEVfVlJFTkRFUl9TVEFHRSksIFxuICAgICAgICB0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfQ1JFQVRFX1ZSRU5ERVJfTEFZRVIpO1xuICAgICAgICBjb25zdCBsYXllciA9IG51bGwgIT09IChfYyA9IHZpZXdPcHRpb25zLmxheWVyKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBzdGFnZS5kZWZhdWx0TGF5ZXI7XG4gICAgICAgIGlmICh0aGlzLl92aWV3LmVtaXQoSE9PS19FVkVOVC5BRlRFUl9DUkVBVEVfVlJFTkRFUl9MQVlFUiksIChudWxsID09PSAoX2QgPSB0aGlzLl9ldmVudENvbmZpZykgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kLmRyYWcpICYmIEZhY3RvcnkuZ2V0U3RhZ2VFdmVudFBsdWdpbihcImRyYWdcIikgJiYgKHRoaXMuX2RyYWdDb250cm9sbGVyID0gbmV3IChGYWN0b3J5LmdldFN0YWdlRXZlbnRQbHVnaW4oXCJkcmFnXCIpKShzdGFnZSkpLCBcbiAgICAgICAgKG51bGwgPT09IChfZSA9IHRoaXMuX2V2ZW50Q29uZmlnKSB8fCB2b2lkIDAgPT09IF9lID8gdm9pZCAwIDogX2UuZ2VzdHVyZSkgJiYgRmFjdG9yeS5nZXRTdGFnZUV2ZW50UGx1Z2luKFwiZ2VzdHVyZVwiKSkge1xuICAgICAgICAgICAgY29uc3QgZ2VzdHVyZUNvbmZpZyA9IGlzT2JqZWN0KHRoaXMuX2V2ZW50Q29uZmlnLmdlc3R1cmUpID8gdGhpcy5fZXZlbnRDb25maWcuZ2VzdHVyZSA6IHt9O1xuICAgICAgICAgICAgdGhpcy5fZ2VzdHVyZUNvbnRyb2xsZXIgPSBuZXcgKEZhY3RvcnkuZ2V0U3RhZ2VFdmVudFBsdWdpbihcImdlc3R1cmVcIikpKHN0YWdlLCBnZXN0dXJlQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhZ2U6IHN0YWdlLFxuICAgICAgICAgICAgbGF5ZXI6IGxheWVyXG4gICAgICAgIH07XG4gICAgfVxuICAgIGluaXRTdGFnZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdGFnZSkge1xuICAgICAgICAgICAgY29uc3Qge3N0YWdlOiBzdGFnZSwgbGF5ZXI6IGxheWVyfSA9IHRoaXMuY3JlYXRlU3RhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YWdlID0gc3RhZ2UsIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5fdmlldy5iYWNrZ3JvdW5kKCk7XG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQoYmFja2dyb3VuZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW52YXMtcmVuZGVyZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/canvas-renderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BridgeElementKey: () => (/* binding */ BridgeElementKey),\n/* harmony export */   CollectionMarkType: () => (/* binding */ CollectionMarkType),\n/* harmony export */   DefaultAnimationControlOptions: () => (/* binding */ DefaultAnimationControlOptions),\n/* harmony export */   DefaultAnimationDelay: () => (/* binding */ DefaultAnimationDelay),\n/* harmony export */   DefaultAnimationDelayAfter: () => (/* binding */ DefaultAnimationDelayAfter),\n/* harmony export */   DefaultAnimationDuration: () => (/* binding */ DefaultAnimationDuration),\n/* harmony export */   DefaultAnimationEasing: () => (/* binding */ DefaultAnimationEasing),\n/* harmony export */   DefaultAnimationLoop: () => (/* binding */ DefaultAnimationLoop),\n/* harmony export */   DefaultAnimationOneByOne: () => (/* binding */ DefaultAnimationOneByOne),\n/* harmony export */   DefaultAnimationParameters: () => (/* binding */ DefaultAnimationParameters),\n/* harmony export */   DefaultAnimationStartTime: () => (/* binding */ DefaultAnimationStartTime),\n/* harmony export */   DefaultEnableExitAnimation: () => (/* binding */ DefaultEnableExitAnimation),\n/* harmony export */   DefaultGroupKeys: () => (/* binding */ DefaultGroupKeys),\n/* harmony export */   DefaultKey: () => (/* binding */ DefaultKey),\n/* harmony export */   DefaultMarkData: () => (/* binding */ DefaultMarkData),\n/* harmony export */   DefaultMorph: () => (/* binding */ DefaultMorph),\n/* harmony export */   DefaultMorphAll: () => (/* binding */ DefaultMorphAll),\n/* harmony export */   DefaultReuse: () => (/* binding */ DefaultReuse),\n/* harmony export */   DefaultSplitPath: () => (/* binding */ DefaultSplitPath),\n/* harmony export */   ImmediateAnimationState: () => (/* binding */ ImmediateAnimationState),\n/* harmony export */   MARK_OVERLAP_HIDE_KEY: () => (/* binding */ MARK_OVERLAP_HIDE_KEY),\n/* harmony export */   Mark3DType: () => (/* binding */ Mark3DType)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\nconst BridgeElementKey = \"__vgrammar_scene_item__\";\n\nconst CollectionMarkType = [ _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.line, _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.area ];\n\nconst Mark3DType = [ _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.arc3d, _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.rect3d, _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.pyramid3d ];\n\nconst DefaultKey = \"key\";\n\nconst DefaultMarkData = [ {} ];\n\nconst DefaultGroupKeys = [ \"key\" ];\n\nconst DefaultReuse = !0;\n\nconst DefaultMorph = !0;\n\nconst DefaultMorphAll = !1;\n\nconst DefaultSplitPath = null;\n\nconst DefaultEnableExitAnimation = !0;\n\nconst ImmediateAnimationState = \"VGRAMMAR_IMMEDIATE_ANIMATION\";\n\nconst DefaultAnimationStartTime = 0;\n\nconst DefaultAnimationDuration = 1e3;\n\nconst DefaultAnimationDelay = 0;\n\nconst DefaultAnimationDelayAfter = 0;\n\nconst DefaultAnimationLoop = !1;\n\nconst DefaultAnimationOneByOne = !1;\n\nconst DefaultAnimationEasing = \"quintInOut\";\n\nconst DefaultAnimationControlOptions = {\n    stopWhenStateChange: !1,\n    immediatelyApply: !0\n};\n\nconst DefaultAnimationParameters = \"VGRAMMAR_ANIMATION_PARAMETERS\";\n\nconst MARK_OVERLAP_HIDE_KEY = \"_mo_hide_\";\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBDOztBQUVuQzs7QUFFQSw2QkFBNkIsbURBQWUsT0FBTyxtREFBZTs7QUFFbEUscUJBQXFCLG1EQUFlLFFBQVEsbURBQWUsU0FBUyxtREFBZTs7QUFFbkY7O0FBRUEsNkJBQTZCOztBQUU3Qjs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNQO0FBQ0E7QUFDQTs7QUFFTzs7QUFFQTtBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9jb25zdGFudHMuanM/Zjc4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi9lbnVtc1wiO1xuXG5leHBvcnQgY29uc3QgQnJpZGdlRWxlbWVudEtleSA9IFwiX192Z3JhbW1hcl9zY2VuZV9pdGVtX19cIjtcblxuZXhwb3J0IGNvbnN0IENvbGxlY3Rpb25NYXJrVHlwZSA9IFsgR3JhbW1hck1hcmtUeXBlLmxpbmUsIEdyYW1tYXJNYXJrVHlwZS5hcmVhIF07XG5cbmV4cG9ydCBjb25zdCBNYXJrM0RUeXBlID0gWyBHcmFtbWFyTWFya1R5cGUuYXJjM2QsIEdyYW1tYXJNYXJrVHlwZS5yZWN0M2QsIEdyYW1tYXJNYXJrVHlwZS5weXJhbWlkM2QgXTtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRLZXkgPSBcImtleVwiO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdE1hcmtEYXRhID0gWyB7fSBdO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEdyb3VwS2V5cyA9IFsgXCJrZXlcIiBdO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdFJldXNlID0gITA7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0TW9ycGggPSAhMDtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRNb3JwaEFsbCA9ICExO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdFNwbGl0UGF0aCA9IG51bGw7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0RW5hYmxlRXhpdEFuaW1hdGlvbiA9ICEwO1xuXG5leHBvcnQgY29uc3QgSW1tZWRpYXRlQW5pbWF0aW9uU3RhdGUgPSBcIlZHUkFNTUFSX0lNTUVESUFURV9BTklNQVRJT05cIjtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRBbmltYXRpb25TdGFydFRpbWUgPSAwO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvbkR1cmF0aW9uID0gMWUzO1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvbkRlbGF5ID0gMDtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRBbmltYXRpb25EZWxheUFmdGVyID0gMDtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRBbmltYXRpb25Mb29wID0gITE7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0QW5pbWF0aW9uT25lQnlPbmUgPSAhMTtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRBbmltYXRpb25FYXNpbmcgPSBcInF1aW50SW5PdXRcIjtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRBbmltYXRpb25Db250cm9sT3B0aW9ucyA9IHtcbiAgICBzdG9wV2hlblN0YXRlQ2hhbmdlOiAhMSxcbiAgICBpbW1lZGlhdGVseUFwcGx5OiAhMFxufTtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRBbmltYXRpb25QYXJhbWV0ZXJzID0gXCJWR1JBTU1BUl9BTklNQVRJT05fUEFSQU1FVEVSU1wiO1xuXG5leHBvcnQgY29uc3QgTUFSS19PVkVSTEFQX0hJREVfS0VZID0gXCJfbW9faGlkZV9cIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/element.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/element.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Element: () => (/* binding */ Element)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isBoolean.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isEqual.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/has.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isEmpty.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/get.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _mark_encode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _util_graphic__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _attributes_transform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./attributes/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _attributes_helpers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./attributes/helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n/* harmony import */ var _attributes_line__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./attributes/line */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/line.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/common/custom-path2d.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Element {\n    constructor(mark) {\n        this.data = null, this.states = [], this.diffState = _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.enter, this.isReserved = !1, \n        this.runtimeStatesEncoder = null, this.items = [], this.getStateAttrs = (stateName, nextStates) => {\n            var _a, _b, _c, _d;\n            const isRuntimeState = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null === (_a = this.runtimeStatesEncoder) || void 0 === _a ? void 0 : _a[stateName]), encoder = isRuntimeState ? Object.assign(Object.assign({}, null === (_b = this.mark.getSpec().encode) || void 0 === _b ? void 0 : _b[stateName]), this.runtimeStatesEncoder[stateName]) : null === (_c = this.mark.getSpec().encode) || void 0 === _c ? void 0 : _c[stateName];\n            if (!encoder) return {};\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(encoder)) return encoder(this.getDatum(), this, stateName, nextStates);\n            if (!isRuntimeState && (null === (_d = this.graphicItem.states) || void 0 === _d ? void 0 : _d[stateName])) return this.graphicItem.states[stateName];\n            const stateItems = this.items.map((item => Object.assign({}, item, {\n                nextAttrs: {}\n            })));\n            (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, stateItems, encoder, this.mark.parameters());\n            const graphicAttributes = this.transformElementItems(stateItems, this.mark.markType);\n            return this.graphicItem.states ? this.graphicItem.states[stateName] || (this.graphicItem.states[stateName] = graphicAttributes) : this.graphicItem.states = {\n                [stateName]: graphicAttributes\n            }, graphicAttributes;\n        }, this.mark = mark;\n    }\n    initGraphicItem(attributes = {}) {\n        if (this.graphicItem) return;\n        const attrTransforms = this.mark.getAttributeTransforms();\n        if (this.graphicItem = this.mark.addGraphicItem(attrTransforms ? (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_4__.transformAttributes)(attrTransforms, attributes, this) : attributes, this.groupKey), \n        !this.graphicItem) return;\n        const {graphicName: graphicName} = this.mark.getSpec();\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(graphicName) ? this.graphicItem.name = graphicName : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(graphicName) && (this.graphicItem.name = graphicName(this)), \n        this.graphicItem[_constants__WEBPACK_IMPORTED_MODULE_6__.BridgeElementKey] = this, attrTransforms && (this.graphicItem.onBeforeAttributeUpdate = attributes => {\n            if (!this.mark) return attributes;\n            return (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_4__.transformAttributes)(attrTransforms, attributes, this);\n        }), this.clearGraphicAttributes(), this.mark.needAnimate() && (this.setPrevGraphicAttributes(null), \n        this.setNextGraphicAttributes(Object.assign({}, attributes)), this.setFinalGraphicAttributes(Object.assign({}, attributes)));\n    }\n    updateGraphicItem() {\n        var _a;\n        if (!this.graphicItem) return;\n        this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.exit ? this.graphicItem.releaseStatus = \"willRelease\" : this.graphicItem.releaseStatus = void 0;\n        const stateAnimation = null === (_a = this.mark.animate) || void 0 === _a ? void 0 : _a.getAnimationConfigs(\"state\");\n        stateAnimation && 0 !== stateAnimation.length && (this.graphicItem.stateAnimateConfig = stateAnimation[0].originConfig);\n    }\n    getGraphicItem() {\n        return this.graphicItem;\n    }\n    removeGraphicItem() {\n        var _a, _b;\n        this.graphicItem && (null === (_b = null === (_a = this.graphicItem.animates) || void 0 === _a ? void 0 : _a.forEach) || void 0 === _b || _b.call(_a, (animate => animate.stop()))), \n        this.graphicItem && ((0,_util_graphic__WEBPACK_IMPORTED_MODULE_7__.removeGraphicItem)(this.graphicItem), this.graphicItem[_constants__WEBPACK_IMPORTED_MODULE_6__.BridgeElementKey] = null, \n        this.graphicItem = null);\n    }\n    resetGraphicItem() {\n        this.graphicItem && (this.graphicItem = null);\n    }\n    getBounds() {\n        var _a;\n        return null === (_a = this.graphicItem) || void 0 === _a ? void 0 : _a.AABBBounds;\n    }\n    getStates() {\n        return this.states;\n    }\n    updateData(groupKey, data, key) {\n        var _a;\n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_ELEMENT_UPDATE_DATA, {\n            groupKey: groupKey,\n            data: data,\n            key: key\n        }, this), this.data = data;\n        const keyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_8__.parseField)(key);\n        return this.items = data.map((datum => ({\n            datum: datum,\n            key: keyGetter(datum),\n            view: this.mark.view,\n            nextAttrs: {}\n        }))), this.groupKey = groupKey, this.key = this.mark.isCollectionMark() ? groupKey : null === (_a = this.items) || void 0 === _a ? void 0 : _a[0].key, \n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_ELEMENT_UPDATE_DATA, {\n            groupKey: groupKey,\n            data: data,\n            key: key\n        }, this), this.items;\n    }\n    state(markState, parameters) {\n        var _a;\n        const isCollectionMark = this.mark.isCollectionMark(), prevStateValues = this.states, newStateValues = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.array)((0,_parse_util__WEBPACK_IMPORTED_MODULE_8__.invokeFunctionType)(markState, parameters, this.getDatum(), this)), stateSort = null === (_a = this.mark.getSpec()) || void 0 === _a ? void 0 : _a.stateSort;\n        stateSort && newStateValues.length && newStateValues.sort(stateSort);\n        const isStateChanged = newStateValues.length !== prevStateValues.length || newStateValues.some(((newState, index) => newState !== prevStateValues[index]));\n        this.states = newStateValues, !isCollectionMark && isStateChanged && this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.unChange && (this.diffState = _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.update);\n    }\n    encodeGraphic(attrs) {\n        this.coordinateTransformEncode(this.items);\n        const graphicAttributes = this.transformElementItems(this.items, this.mark.markType);\n        attrs && Object.assign(graphicAttributes, attrs), this.graphicItem ? (this.graphicItem.clearStates(), \n        this.graphicItem.states = {}, this.graphicItem.stateProxy = null, _constants__WEBPACK_IMPORTED_MODULE_6__.MARK_OVERLAP_HIDE_KEY in this.graphicItem.attribute && \"visible\" in graphicAttributes && delete this.graphicItem.attribute[_constants__WEBPACK_IMPORTED_MODULE_6__.MARK_OVERLAP_HIDE_KEY], \n        this.applyGraphicAttributes(graphicAttributes)) : this.initGraphicItem(graphicAttributes), \n        this.diffState !== _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.enter && this.diffState !== _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.update || !this.states.length || this.useStates(this.states), \n        this.mark.markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.shape && (this.graphicItem.datum = this.items[0].datum), \n        this.items.forEach((item => {\n            item.nextAttrs = {};\n        })), this._setCustomizedShape();\n    }\n    _setCustomizedShape() {\n        var _a;\n        if (!this.graphicItem) return;\n        const setCustomizedShape = null === (_a = this.mark.getSpec()) || void 0 === _a ? void 0 : _a.setCustomizedShape;\n        setCustomizedShape && (this.graphicItem.pathProxy = attrs => setCustomizedShape(this.data, attrs, new _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_10__.CustomPath2D));\n    }\n    encodeItems(items, encoders, isReentered = !1, parameters) {\n        const isCollectionMark = this.mark.isCollectionMark(), updateEncoder = encoders[_enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames.update], enterEncoder = encoders[_enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames.enter], exitEncoder = encoders[_enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames.exit], onlyFullEncodeFirst = this.mark.isLargeMode() || isCollectionMark && !this.mark.getSpec().enableSegments;\n        this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.enter ? (enterEncoder && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, enterEncoder, parameters, onlyFullEncodeFirst), \n        updateEncoder && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, updateEncoder, parameters, onlyFullEncodeFirst)) : this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.update ? ((isCollectionMark && enterEncoder || isReentered) && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, enterEncoder, parameters, onlyFullEncodeFirst), \n        updateEncoder && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, updateEncoder, parameters, onlyFullEncodeFirst)) : this.diffState === _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState.exit && exitEncoder && (isReentered && (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, enterEncoder, parameters, onlyFullEncodeFirst), \n        (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, items, exitEncoder, parameters, onlyFullEncodeFirst));\n    }\n    coordinateTransformEncode(items) {\n        if (!this.mark.coord || \"arc\" === this.mark.markType || !0 === this.mark.disableCoordinateTransform) return;\n        const coord = this.mark.coord.output();\n        items.forEach((item => {\n            const nextAttrs = item.nextAttrs, convertedPoint = coord.convert(nextAttrs);\n            Object.assign(nextAttrs, convertedPoint);\n        }));\n    }\n    hasStateAnimation() {\n        var _a;\n        const stateAnimation = null === (_a = this.mark.animate) || void 0 === _a ? void 0 : _a.getAnimationConfigs(\"state\");\n        return stateAnimation && stateAnimation.length > 0;\n    }\n    clearStates(hasAnimation) {\n        const stateAnimationEnable = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(hasAnimation) ? hasAnimation : this.hasStateAnimation();\n        this.states = [], this.graphicItem && this.graphicItem.clearStates(stateAnimationEnable), \n        this.runtimeStatesEncoder && (this.runtimeStatesEncoder = {});\n    }\n    _updateRuntimeStates(state, attrs) {\n        this.runtimeStatesEncoder || (this.runtimeStatesEncoder = {}), this.runtimeStatesEncoder[state] = attrs;\n    }\n    hasState(state) {\n        return this.states && state && this.states.includes(state);\n    }\n    updateStates(states) {\n        if (!this.graphicItem) return !1;\n        let nextStates = this.states.slice();\n        const encode = this.mark.getSpec().encode;\n        let forceClearState = !1, hasUpdate = !1;\n        return Object.keys(states).forEach((stateKey => {\n            var _a;\n            if (!stateKey) return;\n            const stateValue = states[stateKey];\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(stateValue) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__.isEqual)(stateValue, null === (_a = this.runtimeStatesEncoder) || void 0 === _a ? void 0 : _a[stateKey])) nextStates.includes(stateKey) ? forceClearState = !0 : nextStates.push(stateKey), \n            this._updateRuntimeStates(stateKey, stateValue), hasUpdate = !0; else if (stateValue) !nextStates.includes(stateKey) && (null == encode ? void 0 : encode[stateKey]) && (nextStates.push(stateKey), \n            hasUpdate = !0); else if (nextStates.length) {\n                const newNextStates = nextStates.filter((state => state !== stateKey));\n                newNextStates.length !== nextStates.length && (hasUpdate = !0, nextStates = newNextStates), \n                this.runtimeStatesEncoder && this.runtimeStatesEncoder[stateKey] && (this.runtimeStatesEncoder[stateKey] = null);\n            }\n        })), forceClearState && this.graphicItem.clearStates(), !!hasUpdate && (this.useStates(nextStates), \n        !0);\n    }\n    addState(state, attrs) {\n        var _a;\n        if (!this.graphicItem) return !1;\n        if (attrs && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(state) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__.isEqual)(attrs, null === (_a = this.runtimeStatesEncoder) || void 0 === _a ? void 0 : _a[state])) {\n            const nextStates = this.states.slice();\n            return nextStates.includes(state) ? this.graphicItem.clearStates() : nextStates.push(state), \n            this._updateRuntimeStates(state, attrs), this.useStates(nextStates), !0;\n        }\n        const encode = this.mark.getSpec().encode, nextStates = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.array)(state).reduce(((nextStates, stateName) => (stateName && !nextStates.includes(stateName) && (null == encode ? void 0 : encode[stateName]) && nextStates.push(stateName), \n        nextStates)), this.states.slice());\n        return nextStates.length !== this.states.length && (this.useStates(nextStates), \n        !0);\n    }\n    removeState(state) {\n        if (!this.graphicItem) return !1;\n        const states = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.array)(state);\n        if (!states.length) return !1;\n        const nextStates = this.states.filter((state => !states.includes(state)));\n        return nextStates.length !== this.states.length && (this.runtimeStatesEncoder && states.forEach((state => {\n            this.runtimeStatesEncoder[state] = null;\n        })), this.useStates(nextStates), !0);\n    }\n    useStates(states, hasAnimation) {\n        var _a;\n        if (!this.graphicItem) return !1;\n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.BEFORE_ELEMENT_STATE, {\n            states: states\n        }, this);\n        const stateSort = null === (_a = this.mark.getSpec()) || void 0 === _a ? void 0 : _a.stateSort;\n        stateSort && states.sort(stateSort), this.states = states;\n        const stateAnimationEnable = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(hasAnimation) ? hasAnimation : this.hasStateAnimation();\n        return this.graphicItem.stateProxy = this.getStateAttrs, this.graphicItem.useStates(this.states, stateAnimationEnable), \n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.AFTER_ELEMENT_STATE, {\n            states: states\n        }, this), !0;\n    }\n    diffAttributes(graphicAttributes) {\n        const diffResult = {}, finalGraphicAttributes = this.getFinalGraphicAttributes();\n        for (const key in graphicAttributes) (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(finalGraphicAttributes, key) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__.isEqual)(finalGraphicAttributes[key], graphicAttributes[key]) || (diffResult[key] = graphicAttributes[key]);\n        return diffResult;\n    }\n    transformElementItems(items, markType, computePoints) {\n        var _a, _b, _c, _d, _e;\n        const item = items[0];\n        if (!item.nextAttrs || 0 === Object.keys(item.nextAttrs).length) return {};\n        let nextAttrs = item.nextAttrs;\n        if ((0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.isPointsMarkType)(markType) && items && items.length && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null === (_a = item.nextAttrs) || void 0 === _a ? void 0 : _a.points) && (!0 === computePoints || (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.isValidPointsChannel)(Object.keys(item.nextAttrs), this.mark.markType))) {\n            const markSpec = this.mark.getSpec(), lastPoints = this.getGraphicAttribute(\"points\", !1), lastSegments = this.getGraphicAttribute(\"segments\", !1), enableSegments = markSpec.enableSegments, connectNullsEncoder = null === (_b = this.mark.getSpec().encode) || void 0 === _b ? void 0 : _b[_enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames.connectNulls], itemNextAttrs = items.map((item => item.nextAttrs)), isProgressive = this.mark.isProgressive();\n            if (nextAttrs = (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.parseCollectionMarkAttributes)(nextAttrs), markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.line || markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.area) {\n                const linePoints = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.getLinePoints)(items, !0, lastPoints, markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.area);\n                if (isProgressive) nextAttrs.segments = (null !== (_e = null === (_d = null === (_c = this.graphicItem) || void 0 === _c ? void 0 : _c.attribute) || void 0 === _d ? void 0 : _d.segments) && void 0 !== _e ? _e : []).concat([ {\n                    points: linePoints\n                } ]); else if (connectNullsEncoder) {\n                    if (nextAttrs.segments = (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.getConnectLineSegmentConfigs)(itemNextAttrs, linePoints, this), \n                    nextAttrs.segments && nextAttrs.segments.some((seg => seg.isConnect))) {\n                        const connectStyle = (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoder)(connectNullsEncoder, this.getDatum(), this, this.mark.parameters());\n                        connectStyle && nextAttrs.segments.forEach((seg => {\n                            seg.isConnect && Object.assign(seg, connectStyle);\n                        }));\n                    }\n                    nextAttrs.points = linePoints;\n                } else if (enableSegments) {\n                    const points = linePoints && 0 !== linePoints.length ? linePoints : (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.getLinePointsFromSegments)(lastSegments), segments = (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.getLineSegmentConfigs)(itemNextAttrs, points, this);\n                    segments ? (nextAttrs.segments = segments, nextAttrs.points = null) : (nextAttrs.segments = null, \n                    nextAttrs.points = points), nextAttrs = (0,_attributes_line__WEBPACK_IMPORTED_MODULE_16__.removeSegmentAttrs)(nextAttrs, this);\n                } else nextAttrs.points = linePoints, nextAttrs.segments = null;\n            } else markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.largeRects ? nextAttrs.points = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.getLargeRectsPoints)(items, !0, lastPoints) : markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.largeSymbols && (nextAttrs.points = (0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_15__.getLargeSymbolsPoints)(items, !0, lastPoints));\n        }\n        return nextAttrs;\n    }\n    applyGraphicAttributes(graphicAttributes) {\n        var _a, _b, _c;\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(graphicAttributes)) if (this.mark.needAnimate()) {\n            const nextGraphicAttributes = this.diffAttributes(graphicAttributes), prevGraphicAttributes = null !== (_a = this.getPrevGraphicAttributes()) && void 0 !== _a ? _a : {}, finalGraphicAttributes = null !== (_b = this.getFinalGraphicAttributes()) && void 0 !== _b ? _b : {};\n            Object.keys(nextGraphicAttributes).forEach((channel => {\n                prevGraphicAttributes[channel] = this.getGraphicAttribute(channel), finalGraphicAttributes[channel] = nextGraphicAttributes[channel];\n            })), this.setNextGraphicAttributes(nextGraphicAttributes), this.setPrevGraphicAttributes(prevGraphicAttributes), \n            this.setFinalGraphicAttributes(finalGraphicAttributes);\n            const currentAnimators = null === (_c = this.mark.animate) || void 0 === _c ? void 0 : _c.getElementAnimators(this).filter((animator => {\n                var _a;\n                return !(null === (_a = animator.animationOptions.timeline.controlOptions) || void 0 === _a ? void 0 : _a.ignoreLoopFinalAttributes) || !animator.animationOptions.timeline.loop;\n            })), animateGraphicAttributes = (currentAnimators || []).reduce(((attributes, animator) => Object.assign(attributes, animator.getEndAttributes())), {}), currentGraphicAttributes = Object.assign({}, animateGraphicAttributes, finalGraphicAttributes);\n            this.graphicItem.setAttributes(currentGraphicAttributes);\n        } else this.graphicItem.setAttributes(graphicAttributes);\n    }\n    getGraphicAttribute(channel, prev = !1) {\n        var _a;\n        if (!this.graphicItem) return;\n        if (prev) {\n            let value;\n            const prevGraphicAttributes = this.getPrevGraphicAttributes();\n            if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(prevGraphicAttributes, channel))) return value;\n        }\n        const trans = this.mark.getAttributeTransforms();\n        let getKey = [ channel ];\n        if (trans && trans.length) {\n            const channelTransform = trans.find((entry => entry.storedAttrs && entry.channels.includes(channel)));\n            channelTransform && (getKey = [ channelTransform.storedAttrs, channel ]);\n        }\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(null === (_a = this.graphicItem) || void 0 === _a ? void 0 : _a.attribute, getKey);\n    }\n    setGraphicAttribute(channel, value, final = !0) {\n        if (!this.graphicItem) return;\n        const finalGraphicAttributes = this.getFinalGraphicAttributes(), prevGraphicAttributes = this.getPrevGraphicAttributes();\n        final && finalGraphicAttributes && (finalGraphicAttributes[channel] = value), prevGraphicAttributes && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(prevGraphicAttributes, channel) && (prevGraphicAttributes[channel] = this.graphicItem.attribute[channel]), \n        this.graphicItem.setAttribute(channel, value);\n    }\n    setGraphicAttributes(attributes, final = !0) {\n        if (!this.graphicItem) return;\n        const finalGraphicAttributes = this.getFinalGraphicAttributes(), prevGraphicAttributes = this.getPrevGraphicAttributes();\n        Object.keys(attributes).forEach((key => {\n            finalGraphicAttributes && final && (finalGraphicAttributes[key] = attributes[key]), \n            prevGraphicAttributes && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(prevGraphicAttributes, key) && (prevGraphicAttributes[key] = this.graphicItem.attribute[key]);\n        })), this.graphicItem.setAttributes(attributes);\n    }\n    getFinalGraphicAttributes() {\n        return this.graphicItem.finalAttrs;\n    }\n    setFinalGraphicAttributes(attributes) {\n        this.graphicItem.finalAttrs = attributes;\n    }\n    getPrevGraphicAttributes() {\n        return this.graphicItem.prevAttrs;\n    }\n    setPrevGraphicAttributes(attributes) {\n        this.graphicItem.prevAttrs = attributes;\n    }\n    getNextGraphicAttributes() {\n        return this.graphicItem.nextAttrs;\n    }\n    getFinalAnimationAttribute(channel) {\n        var _a, _b;\n        return null !== (_b = null === (_a = this.getFinalGraphicAttributes()) || void 0 === _a ? void 0 : _a[channel]) && void 0 !== _b ? _b : this.getGraphicAttribute(channel);\n    }\n    getFinalAnimationAttributes() {\n        var _a;\n        return null !== (_a = this.getFinalGraphicAttributes()) && void 0 !== _a ? _a : this.graphicItem.attribute;\n    }\n    setNextGraphicAttributes(attributes) {\n        this.graphicItem.nextAttrs = attributes;\n    }\n    clearChangedGraphicAttributes() {\n        this.graphicItem && (this.setPrevGraphicAttributes(null), this.setNextGraphicAttributes(null));\n    }\n    clearGraphicAttributes() {\n        this.graphicItem && (this.graphicItem.prevAttrs && this.setPrevGraphicAttributes(null), \n        this.graphicItem.nextAttrs && this.setNextGraphicAttributes(null), this.graphicItem.finalAttrs && this.setFinalGraphicAttributes(null));\n    }\n    remove() {\n        this.graphicItem && ((0,_util_graphic__WEBPACK_IMPORTED_MODULE_7__.removeGraphicItem)(this.graphicItem), this.graphicItem = null);\n    }\n    release() {\n        this.removeGraphicItem(), this.mark = null, this.data = null, this.items = null;\n    }\n    getItemAttribute(channel) {\n        var _a, _b;\n        if (null === (_a = this.items) || void 0 === _a ? void 0 : _a.length) return this.mark.isCollectionMark() ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(channel) ? this.items.map((item => item.nextAttrs)) : this.items.map((item => {\n            var _a;\n            return null === (_a = item.nextAttrs) || void 0 === _a ? void 0 : _a[channel];\n        })) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(channel) ? this.items[0].nextAttrs : null === (_b = this.items[0].nextAttrs) || void 0 === _b ? void 0 : _b[channel];\n    }\n    setItemAttributes(attributes) {\n        var _a;\n        (null === (_a = this.items) || void 0 === _a ? void 0 : _a.length) && (this.mark.isCollectionMark() ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(attributes) && this.items.forEach(((item, index) => {\n            Object.assign(item.nextAttrs, attributes[index]);\n        })) : Object.assign(this.items[0].nextAttrs, attributes));\n    }\n    getItem() {\n        var _a, _b;\n        return this.mark && this.mark.isCollectionMark() ? null !== (_a = this.items) && void 0 !== _a ? _a : [] : null === (_b = this.items) || void 0 === _b ? void 0 : _b[0];\n    }\n    getDatum() {\n        var _a, _b;\n        return this.mark && this.mark.isCollectionMark() ? null !== (_a = this.data) && void 0 !== _a ? _a : [] : null === (_b = this.data) || void 0 === _b ? void 0 : _b[0];\n    }\n}\n//# sourceMappingURL=element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvZWxlbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEk7O0FBRXhFOztBQUVlOztBQUVqQjs7QUFFakI7O0FBRVU7O0FBRTRFOztBQUU2Qjs7QUFFaEg7O0FBRVM7O0FBRXhEO0FBQ1A7QUFDQSw2REFBNkQsNkNBQVM7QUFDdEU7QUFDQTtBQUNBLG9DQUFvQyw0REFBSyxnSkFBZ0o7QUFDekw7QUFDQSxnQkFBZ0IsNERBQVU7QUFDMUI7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQSxhQUFhO0FBQ2IsWUFBWSxrRUFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0EseUVBQXlFLDBFQUFtQjtBQUM1RjtBQUNBLGVBQWUsMEJBQTBCO0FBQ3pDLFFBQVEsNERBQVEsc0RBQXNELDREQUFVO0FBQ2hGLHlCQUF5Qix3REFBZ0I7QUFDekM7QUFDQSxtQkFBbUIsMEVBQW1CO0FBQ3RDLFNBQVM7QUFDVCxzREFBc0QsK0RBQStEO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDZDQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnRUFBaUIscUNBQXFDLHdEQUFnQjtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhDQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwwQkFBMEIsdURBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx1QkFBdUIsOENBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLCtHQUErRyx1REFBSyxDQUFDLCtEQUFrQjtBQUN2STtBQUNBO0FBQ0EsZ0dBQWdHLDZDQUFTLCtCQUErQiw2Q0FBUztBQUNqSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNDQUFzQyw2REFBcUIsc0dBQXNHLDZEQUFxQjtBQUMxTjtBQUNBLDJCQUEyQiw2Q0FBUyw2QkFBNkIsNkNBQVM7QUFDMUUsK0JBQStCLG1EQUFlO0FBQzlDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhHQUE4RyxpRUFBWTtBQUMxSDtBQUNBO0FBQ0Esd0ZBQXdGLHNEQUFrQixrQ0FBa0Msc0RBQWtCLGdDQUFnQyxzREFBa0I7QUFDaE4sMkJBQTJCLDZDQUFTLDBCQUEwQixrRUFBb0I7QUFDbEYseUJBQXlCLGtFQUFvQixvRkFBb0YsNkNBQVMsZ0VBQWdFLGtFQUFvQjtBQUM5Tix5QkFBeUIsa0VBQW9CLG9GQUFvRiw2Q0FBUyx3Q0FBd0Msa0VBQW9CO0FBQ3RNLFFBQVEsa0VBQW9CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDZEQUFTO0FBQzlDO0FBQ0Esb0VBQW9FO0FBQ3BFO0FBQ0E7QUFDQSxvRUFBb0U7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkRBQVEsaUJBQWlCLDBEQUFVO0FBQ25ELDZFQUE2RTtBQUM3RSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0REFBUSxZQUFZLDBEQUFVO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLHVEQUFLO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1REFBSztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4Q0FBVTtBQUNqQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EscUNBQXFDLDZEQUFTO0FBQzlDO0FBQ0EsdUJBQXVCLDhDQUFVO0FBQ2pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsNkNBQTZDLDZEQUFHLGlDQUFpQywwREFBVTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0VBQWdCLHVDQUF1Qyw0REFBSyxtR0FBbUcsMEVBQW9CO0FBQy9MLDBTQUEwUyxzREFBa0I7QUFDNVQsNEJBQTRCLGdGQUE2QiwwQkFBMEIsbURBQWUsc0JBQXNCLG1EQUFlO0FBQ3ZJLG1DQUFtQyxtRUFBYSxxQ0FBcUMsbURBQWU7QUFDcEc7QUFDQTtBQUNBLGtCQUFrQixJQUFJO0FBQ3RCLDZDQUE2QywrRUFBNEI7QUFDekU7QUFDQSw2Q0FBNkMsMkRBQWE7QUFDMUQ7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLHdGQUF3Riw0RUFBeUIsMkJBQTJCLHdFQUFxQjtBQUNqSztBQUNBLDREQUE0RCxxRUFBa0I7QUFDOUUsa0JBQWtCO0FBQ2xCLGNBQWMsa0JBQWtCLG1EQUFlLGlDQUFpQyx5RUFBbUIsdUNBQXVDLG1EQUFlLHFDQUFxQywyRUFBcUI7QUFDbk47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNkRBQU87QUFDcEIsb0xBQW9MO0FBQ3BMO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHFKQUFxSiw4Q0FBOEM7QUFDaE47QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNERBQUssU0FBUyw2REFBRztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkRBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnSEFBZ0gsNkRBQUc7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQUc7QUFDekMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0VBQWlCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9IQUFvSCw0REFBSztBQUN6SDtBQUNBO0FBQ0EsU0FBUyxLQUFLLDREQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLDhHQUE4Ryw2REFBTztBQUNySDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9lbGVtZW50LmpzPzMwNTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXJyYXksIGhhcywgaXNCb29sZWFuLCBpc05pbCwgaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGlzQXJyYXksIGdldCwgaXNFbXB0eSwgaXNFcXVhbCBhcyBpc09iakVxdWFsLCBpc09iamVjdCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEJyaWRnZUVsZW1lbnRLZXksIE1BUktfT1ZFUkxBUF9ISURFX0tFWSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBEaWZmU3RhdGUsIEhPT0tfRVZFTlQsIEdyYW1tYXJNYXJrVHlwZSwgQnVpbHRJbkVuY29kZU5hbWVzIH0gZnJvbSBcIi4vZW51bXNcIjtcblxuaW1wb3J0IHsgaW52b2tlRW5jb2RlciwgaW52b2tlRW5jb2RlclRvSXRlbXMgfSBmcm9tIFwiLi9tYXJrL2VuY29kZVwiO1xuXG5pbXBvcnQgeyByZW1vdmVHcmFwaGljSXRlbSB9IGZyb20gXCIuL3V0aWwvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm1BdHRyaWJ1dGVzIH0gZnJvbSBcIi4vYXR0cmlidXRlcy90cmFuc2Zvcm1cIjtcblxuaW1wb3J0IHsgZ2V0TGFyZ2VSZWN0c1BvaW50cywgZ2V0TGFyZ2VTeW1ib2xzUG9pbnRzLCBnZXRMaW5lUG9pbnRzLCBpc1ZhbGlkUG9pbnRzQ2hhbm5lbCwgaXNQb2ludHNNYXJrVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZXMvaGVscGVyc1wiO1xuXG5pbXBvcnQgeyBnZXRMaW5lU2VnbWVudENvbmZpZ3MsIGdldExpbmVQb2ludHNGcm9tU2VnbWVudHMsIHBhcnNlQ29sbGVjdGlvbk1hcmtBdHRyaWJ1dGVzLCBnZXRDb25uZWN0TGluZVNlZ21lbnRDb25maWdzLCByZW1vdmVTZWdtZW50QXR0cnMgfSBmcm9tIFwiLi9hdHRyaWJ1dGVzL2xpbmVcIjtcblxuaW1wb3J0IHsgQ3VzdG9tUGF0aDJEIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuaW1wb3J0IHsgaW52b2tlRnVuY3Rpb25UeXBlLCBwYXJzZUZpZWxkIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG1hcmspIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbCwgdGhpcy5zdGF0ZXMgPSBbXSwgdGhpcy5kaWZmU3RhdGUgPSBEaWZmU3RhdGUuZW50ZXIsIHRoaXMuaXNSZXNlcnZlZCA9ICExLCBcbiAgICAgICAgdGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlciA9IG51bGwsIHRoaXMuaXRlbXMgPSBbXSwgdGhpcy5nZXRTdGF0ZUF0dHJzID0gKHN0YXRlTmFtZSwgbmV4dFN0YXRlcykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgY29uc3QgaXNSdW50aW1lU3RhdGUgPSAhaXNOaWwobnVsbCA9PT0gKF9hID0gdGhpcy5ydW50aW1lU3RhdGVzRW5jb2RlcikgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hW3N0YXRlTmFtZV0pLCBlbmNvZGVyID0gaXNSdW50aW1lU3RhdGUgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG51bGwgPT09IChfYiA9IHRoaXMubWFyay5nZXRTcGVjKCkuZW5jb2RlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2Jbc3RhdGVOYW1lXSksIHRoaXMucnVudGltZVN0YXRlc0VuY29kZXJbc3RhdGVOYW1lXSkgOiBudWxsID09PSAoX2MgPSB0aGlzLm1hcmsuZ2V0U3BlYygpLmVuY29kZSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jW3N0YXRlTmFtZV07XG4gICAgICAgICAgICBpZiAoIWVuY29kZXIpIHJldHVybiB7fTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGVuY29kZXIpKSByZXR1cm4gZW5jb2Rlcih0aGlzLmdldERhdHVtKCksIHRoaXMsIHN0YXRlTmFtZSwgbmV4dFN0YXRlcyk7XG4gICAgICAgICAgICBpZiAoIWlzUnVudGltZVN0YXRlICYmIChudWxsID09PSAoX2QgPSB0aGlzLmdyYXBoaWNJdGVtLnN0YXRlcykgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kW3N0YXRlTmFtZV0pKSByZXR1cm4gdGhpcy5ncmFwaGljSXRlbS5zdGF0ZXNbc3RhdGVOYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlSXRlbXMgPSB0aGlzLml0ZW1zLm1hcCgoaXRlbSA9PiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICAgICAgbmV4dEF0dHJzOiB7fVxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIGludm9rZUVuY29kZXJUb0l0ZW1zKHRoaXMsIHN0YXRlSXRlbXMsIGVuY29kZXIsIHRoaXMubWFyay5wYXJhbWV0ZXJzKCkpO1xuICAgICAgICAgICAgY29uc3QgZ3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLnRyYW5zZm9ybUVsZW1lbnRJdGVtcyhzdGF0ZUl0ZW1zLCB0aGlzLm1hcmsubWFya1R5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhpY0l0ZW0uc3RhdGVzID8gdGhpcy5ncmFwaGljSXRlbS5zdGF0ZXNbc3RhdGVOYW1lXSB8fCAodGhpcy5ncmFwaGljSXRlbS5zdGF0ZXNbc3RhdGVOYW1lXSA9IGdyYXBoaWNBdHRyaWJ1dGVzKSA6IHRoaXMuZ3JhcGhpY0l0ZW0uc3RhdGVzID0ge1xuICAgICAgICAgICAgICAgIFtzdGF0ZU5hbWVdOiBncmFwaGljQXR0cmlidXRlc1xuICAgICAgICAgICAgfSwgZ3JhcGhpY0F0dHJpYnV0ZXM7XG4gICAgICAgIH0sIHRoaXMubWFyayA9IG1hcms7XG4gICAgfVxuICAgIGluaXRHcmFwaGljSXRlbShhdHRyaWJ1dGVzID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgYXR0clRyYW5zZm9ybXMgPSB0aGlzLm1hcmsuZ2V0QXR0cmlidXRlVHJhbnNmb3JtcygpO1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljSXRlbSA9IHRoaXMubWFyay5hZGRHcmFwaGljSXRlbShhdHRyVHJhbnNmb3JtcyA/IHRyYW5zZm9ybUF0dHJpYnV0ZXMoYXR0clRyYW5zZm9ybXMsIGF0dHJpYnV0ZXMsIHRoaXMpIDogYXR0cmlidXRlcywgdGhpcy5ncm91cEtleSksIFxuICAgICAgICAhdGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB7Z3JhcGhpY05hbWU6IGdyYXBoaWNOYW1lfSA9IHRoaXMubWFyay5nZXRTcGVjKCk7XG4gICAgICAgIGlzU3RyaW5nKGdyYXBoaWNOYW1lKSA/IHRoaXMuZ3JhcGhpY0l0ZW0ubmFtZSA9IGdyYXBoaWNOYW1lIDogaXNGdW5jdGlvbihncmFwaGljTmFtZSkgJiYgKHRoaXMuZ3JhcGhpY0l0ZW0ubmFtZSA9IGdyYXBoaWNOYW1lKHRoaXMpKSwgXG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW1bQnJpZGdlRWxlbWVudEtleV0gPSB0aGlzLCBhdHRyVHJhbnNmb3JtcyAmJiAodGhpcy5ncmFwaGljSXRlbS5vbkJlZm9yZUF0dHJpYnV0ZVVwZGF0ZSA9IGF0dHJpYnV0ZXMgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1hcmspIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUF0dHJpYnV0ZXMoYXR0clRyYW5zZm9ybXMsIGF0dHJpYnV0ZXMsIHRoaXMpO1xuICAgICAgICB9KSwgdGhpcy5jbGVhckdyYXBoaWNBdHRyaWJ1dGVzKCksIHRoaXMubWFyay5uZWVkQW5pbWF0ZSgpICYmICh0aGlzLnNldFByZXZHcmFwaGljQXR0cmlidXRlcyhudWxsKSwgXG4gICAgICAgIHRoaXMuc2V0TmV4dEdyYXBoaWNBdHRyaWJ1dGVzKE9iamVjdC5hc3NpZ24oe30sIGF0dHJpYnV0ZXMpKSwgdGhpcy5zZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKE9iamVjdC5hc3NpZ24oe30sIGF0dHJpYnV0ZXMpKSk7XG4gICAgfVxuICAgIHVwZGF0ZUdyYXBoaWNJdGVtKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmRpZmZTdGF0ZSA9PT0gRGlmZlN0YXRlLmV4aXQgPyB0aGlzLmdyYXBoaWNJdGVtLnJlbGVhc2VTdGF0dXMgPSBcIndpbGxSZWxlYXNlXCIgOiB0aGlzLmdyYXBoaWNJdGVtLnJlbGVhc2VTdGF0dXMgPSB2b2lkIDA7XG4gICAgICAgIGNvbnN0IHN0YXRlQW5pbWF0aW9uID0gbnVsbCA9PT0gKF9hID0gdGhpcy5tYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5nZXRBbmltYXRpb25Db25maWdzKFwic3RhdGVcIik7XG4gICAgICAgIHN0YXRlQW5pbWF0aW9uICYmIDAgIT09IHN0YXRlQW5pbWF0aW9uLmxlbmd0aCAmJiAodGhpcy5ncmFwaGljSXRlbS5zdGF0ZUFuaW1hdGVDb25maWcgPSBzdGF0ZUFuaW1hdGlvblswXS5vcmlnaW5Db25maWcpO1xuICAgIH1cbiAgICBnZXRHcmFwaGljSXRlbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhpY0l0ZW07XG4gICAgfVxuICAgIHJlbW92ZUdyYXBoaWNJdGVtKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtICYmIChudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSB0aGlzLmdyYXBoaWNJdGVtLmFuaW1hdGVzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZm9yRWFjaCkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hLCAoYW5pbWF0ZSA9PiBhbmltYXRlLnN0b3AoKSkpKSwgXG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0gJiYgKHJlbW92ZUdyYXBoaWNJdGVtKHRoaXMuZ3JhcGhpY0l0ZW0pLCB0aGlzLmdyYXBoaWNJdGVtW0JyaWRnZUVsZW1lbnRLZXldID0gbnVsbCwgXG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0gPSBudWxsKTtcbiAgICB9XG4gICAgcmVzZXRHcmFwaGljSXRlbSgpIHtcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbSAmJiAodGhpcy5ncmFwaGljSXRlbSA9IG51bGwpO1xuICAgIH1cbiAgICBnZXRCb3VuZHMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgPT09IChfYSA9IHRoaXMuZ3JhcGhpY0l0ZW0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5BQUJCQm91bmRzO1xuICAgIH1cbiAgICBnZXRTdGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlcztcbiAgICB9XG4gICAgdXBkYXRlRGF0YShncm91cEtleSwgZGF0YSwga2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5tYXJrLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfRUxFTUVOVF9VUERBVEVfREFUQSwge1xuICAgICAgICAgICAgZ3JvdXBLZXk6IGdyb3VwS2V5LFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIGtleToga2V5XG4gICAgICAgIH0sIHRoaXMpLCB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICBjb25zdCBrZXlHZXR0ZXIgPSBwYXJzZUZpZWxkKGtleSk7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zID0gZGF0YS5tYXAoKGRhdHVtID0+ICh7XG4gICAgICAgICAgICBkYXR1bTogZGF0dW0sXG4gICAgICAgICAgICBrZXk6IGtleUdldHRlcihkYXR1bSksXG4gICAgICAgICAgICB2aWV3OiB0aGlzLm1hcmsudmlldyxcbiAgICAgICAgICAgIG5leHRBdHRyczoge31cbiAgICAgICAgfSkpKSwgdGhpcy5ncm91cEtleSA9IGdyb3VwS2V5LCB0aGlzLmtleSA9IHRoaXMubWFyay5pc0NvbGxlY3Rpb25NYXJrKCkgPyBncm91cEtleSA6IG51bGwgPT09IChfYSA9IHRoaXMuaXRlbXMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVswXS5rZXksIFxuICAgICAgICB0aGlzLm1hcmsuZW1pdChIT09LX0VWRU5ULkFGVEVSX0VMRU1FTlRfVVBEQVRFX0RBVEEsIHtcbiAgICAgICAgICAgIGdyb3VwS2V5OiBncm91cEtleSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBrZXk6IGtleVxuICAgICAgICB9LCB0aGlzKSwgdGhpcy5pdGVtcztcbiAgICB9XG4gICAgc3RhdGUobWFya1N0YXRlLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaXNDb2xsZWN0aW9uTWFyayA9IHRoaXMubWFyay5pc0NvbGxlY3Rpb25NYXJrKCksIHByZXZTdGF0ZVZhbHVlcyA9IHRoaXMuc3RhdGVzLCBuZXdTdGF0ZVZhbHVlcyA9IGFycmF5KGludm9rZUZ1bmN0aW9uVHlwZShtYXJrU3RhdGUsIHBhcmFtZXRlcnMsIHRoaXMuZ2V0RGF0dW0oKSwgdGhpcykpLCBzdGF0ZVNvcnQgPSBudWxsID09PSAoX2EgPSB0aGlzLm1hcmsuZ2V0U3BlYygpKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc3RhdGVTb3J0O1xuICAgICAgICBzdGF0ZVNvcnQgJiYgbmV3U3RhdGVWYWx1ZXMubGVuZ3RoICYmIG5ld1N0YXRlVmFsdWVzLnNvcnQoc3RhdGVTb3J0KTtcbiAgICAgICAgY29uc3QgaXNTdGF0ZUNoYW5nZWQgPSBuZXdTdGF0ZVZhbHVlcy5sZW5ndGggIT09IHByZXZTdGF0ZVZhbHVlcy5sZW5ndGggfHwgbmV3U3RhdGVWYWx1ZXMuc29tZSgoKG5ld1N0YXRlLCBpbmRleCkgPT4gbmV3U3RhdGUgIT09IHByZXZTdGF0ZVZhbHVlc1tpbmRleF0pKTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBuZXdTdGF0ZVZhbHVlcywgIWlzQ29sbGVjdGlvbk1hcmsgJiYgaXNTdGF0ZUNoYW5nZWQgJiYgdGhpcy5kaWZmU3RhdGUgPT09IERpZmZTdGF0ZS51bkNoYW5nZSAmJiAodGhpcy5kaWZmU3RhdGUgPSBEaWZmU3RhdGUudXBkYXRlKTtcbiAgICB9XG4gICAgZW5jb2RlR3JhcGhpYyhhdHRycykge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVUcmFuc2Zvcm1FbmNvZGUodGhpcy5pdGVtcyk7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy50cmFuc2Zvcm1FbGVtZW50SXRlbXModGhpcy5pdGVtcywgdGhpcy5tYXJrLm1hcmtUeXBlKTtcbiAgICAgICAgYXR0cnMgJiYgT2JqZWN0LmFzc2lnbihncmFwaGljQXR0cmlidXRlcywgYXR0cnMpLCB0aGlzLmdyYXBoaWNJdGVtID8gKHRoaXMuZ3JhcGhpY0l0ZW0uY2xlYXJTdGF0ZXMoKSwgXG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0uc3RhdGVzID0ge30sIHRoaXMuZ3JhcGhpY0l0ZW0uc3RhdGVQcm94eSA9IG51bGwsIE1BUktfT1ZFUkxBUF9ISURFX0tFWSBpbiB0aGlzLmdyYXBoaWNJdGVtLmF0dHJpYnV0ZSAmJiBcInZpc2libGVcIiBpbiBncmFwaGljQXR0cmlidXRlcyAmJiBkZWxldGUgdGhpcy5ncmFwaGljSXRlbS5hdHRyaWJ1dGVbTUFSS19PVkVSTEFQX0hJREVfS0VZXSwgXG4gICAgICAgIHRoaXMuYXBwbHlHcmFwaGljQXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcykpIDogdGhpcy5pbml0R3JhcGhpY0l0ZW0oZ3JhcGhpY0F0dHJpYnV0ZXMpLCBcbiAgICAgICAgdGhpcy5kaWZmU3RhdGUgIT09IERpZmZTdGF0ZS5lbnRlciAmJiB0aGlzLmRpZmZTdGF0ZSAhPT0gRGlmZlN0YXRlLnVwZGF0ZSB8fCAhdGhpcy5zdGF0ZXMubGVuZ3RoIHx8IHRoaXMudXNlU3RhdGVzKHRoaXMuc3RhdGVzKSwgXG4gICAgICAgIHRoaXMubWFyay5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLnNoYXBlICYmICh0aGlzLmdyYXBoaWNJdGVtLmRhdHVtID0gdGhpcy5pdGVtc1swXS5kYXR1bSksIFxuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaXRlbS5uZXh0QXR0cnMgPSB7fTtcbiAgICAgICAgfSkpLCB0aGlzLl9zZXRDdXN0b21pemVkU2hhcGUoKTtcbiAgICB9XG4gICAgX3NldEN1c3RvbWl6ZWRTaGFwZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2V0Q3VzdG9taXplZFNoYXBlID0gbnVsbCA9PT0gKF9hID0gdGhpcy5tYXJrLmdldFNwZWMoKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnNldEN1c3RvbWl6ZWRTaGFwZTtcbiAgICAgICAgc2V0Q3VzdG9taXplZFNoYXBlICYmICh0aGlzLmdyYXBoaWNJdGVtLnBhdGhQcm94eSA9IGF0dHJzID0+IHNldEN1c3RvbWl6ZWRTaGFwZSh0aGlzLmRhdGEsIGF0dHJzLCBuZXcgQ3VzdG9tUGF0aDJEKSk7XG4gICAgfVxuICAgIGVuY29kZUl0ZW1zKGl0ZW1zLCBlbmNvZGVycywgaXNSZWVudGVyZWQgPSAhMSwgcGFyYW1ldGVycykge1xuICAgICAgICBjb25zdCBpc0NvbGxlY3Rpb25NYXJrID0gdGhpcy5tYXJrLmlzQ29sbGVjdGlvbk1hcmsoKSwgdXBkYXRlRW5jb2RlciA9IGVuY29kZXJzW0J1aWx0SW5FbmNvZGVOYW1lcy51cGRhdGVdLCBlbnRlckVuY29kZXIgPSBlbmNvZGVyc1tCdWlsdEluRW5jb2RlTmFtZXMuZW50ZXJdLCBleGl0RW5jb2RlciA9IGVuY29kZXJzW0J1aWx0SW5FbmNvZGVOYW1lcy5leGl0XSwgb25seUZ1bGxFbmNvZGVGaXJzdCA9IHRoaXMubWFyay5pc0xhcmdlTW9kZSgpIHx8IGlzQ29sbGVjdGlvbk1hcmsgJiYgIXRoaXMubWFyay5nZXRTcGVjKCkuZW5hYmxlU2VnbWVudHM7XG4gICAgICAgIHRoaXMuZGlmZlN0YXRlID09PSBEaWZmU3RhdGUuZW50ZXIgPyAoZW50ZXJFbmNvZGVyICYmIGludm9rZUVuY29kZXJUb0l0ZW1zKHRoaXMsIGl0ZW1zLCBlbnRlckVuY29kZXIsIHBhcmFtZXRlcnMsIG9ubHlGdWxsRW5jb2RlRmlyc3QpLCBcbiAgICAgICAgdXBkYXRlRW5jb2RlciAmJiBpbnZva2VFbmNvZGVyVG9JdGVtcyh0aGlzLCBpdGVtcywgdXBkYXRlRW5jb2RlciwgcGFyYW1ldGVycywgb25seUZ1bGxFbmNvZGVGaXJzdCkpIDogdGhpcy5kaWZmU3RhdGUgPT09IERpZmZTdGF0ZS51cGRhdGUgPyAoKGlzQ29sbGVjdGlvbk1hcmsgJiYgZW50ZXJFbmNvZGVyIHx8IGlzUmVlbnRlcmVkKSAmJiBpbnZva2VFbmNvZGVyVG9JdGVtcyh0aGlzLCBpdGVtcywgZW50ZXJFbmNvZGVyLCBwYXJhbWV0ZXJzLCBvbmx5RnVsbEVuY29kZUZpcnN0KSwgXG4gICAgICAgIHVwZGF0ZUVuY29kZXIgJiYgaW52b2tlRW5jb2RlclRvSXRlbXModGhpcywgaXRlbXMsIHVwZGF0ZUVuY29kZXIsIHBhcmFtZXRlcnMsIG9ubHlGdWxsRW5jb2RlRmlyc3QpKSA6IHRoaXMuZGlmZlN0YXRlID09PSBEaWZmU3RhdGUuZXhpdCAmJiBleGl0RW5jb2RlciAmJiAoaXNSZWVudGVyZWQgJiYgaW52b2tlRW5jb2RlclRvSXRlbXModGhpcywgaXRlbXMsIGVudGVyRW5jb2RlciwgcGFyYW1ldGVycywgb25seUZ1bGxFbmNvZGVGaXJzdCksIFxuICAgICAgICBpbnZva2VFbmNvZGVyVG9JdGVtcyh0aGlzLCBpdGVtcywgZXhpdEVuY29kZXIsIHBhcmFtZXRlcnMsIG9ubHlGdWxsRW5jb2RlRmlyc3QpKTtcbiAgICB9XG4gICAgY29vcmRpbmF0ZVRyYW5zZm9ybUVuY29kZShpdGVtcykge1xuICAgICAgICBpZiAoIXRoaXMubWFyay5jb29yZCB8fCBcImFyY1wiID09PSB0aGlzLm1hcmsubWFya1R5cGUgfHwgITAgPT09IHRoaXMubWFyay5kaXNhYmxlQ29vcmRpbmF0ZVRyYW5zZm9ybSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb29yZCA9IHRoaXMubWFyay5jb29yZC5vdXRwdXQoKTtcbiAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0QXR0cnMgPSBpdGVtLm5leHRBdHRycywgY29udmVydGVkUG9pbnQgPSBjb29yZC5jb252ZXJ0KG5leHRBdHRycyk7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKG5leHRBdHRycywgY29udmVydGVkUG9pbnQpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGhhc1N0YXRlQW5pbWF0aW9uKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHN0YXRlQW5pbWF0aW9uID0gbnVsbCA9PT0gKF9hID0gdGhpcy5tYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5nZXRBbmltYXRpb25Db25maWdzKFwic3RhdGVcIik7XG4gICAgICAgIHJldHVybiBzdGF0ZUFuaW1hdGlvbiAmJiBzdGF0ZUFuaW1hdGlvbi5sZW5ndGggPiAwO1xuICAgIH1cbiAgICBjbGVhclN0YXRlcyhoYXNBbmltYXRpb24pIHtcbiAgICAgICAgY29uc3Qgc3RhdGVBbmltYXRpb25FbmFibGUgPSBpc0Jvb2xlYW4oaGFzQW5pbWF0aW9uKSA/IGhhc0FuaW1hdGlvbiA6IHRoaXMuaGFzU3RhdGVBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBbXSwgdGhpcy5ncmFwaGljSXRlbSAmJiB0aGlzLmdyYXBoaWNJdGVtLmNsZWFyU3RhdGVzKHN0YXRlQW5pbWF0aW9uRW5hYmxlKSwgXG4gICAgICAgIHRoaXMucnVudGltZVN0YXRlc0VuY29kZXIgJiYgKHRoaXMucnVudGltZVN0YXRlc0VuY29kZXIgPSB7fSk7XG4gICAgfVxuICAgIF91cGRhdGVSdW50aW1lU3RhdGVzKHN0YXRlLCBhdHRycykge1xuICAgICAgICB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyIHx8ICh0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyID0ge30pLCB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyW3N0YXRlXSA9IGF0dHJzO1xuICAgIH1cbiAgICBoYXNTdGF0ZShzdGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXMgJiYgc3RhdGUgJiYgdGhpcy5zdGF0ZXMuaW5jbHVkZXMoc3RhdGUpO1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZXMoc3RhdGVzKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuICExO1xuICAgICAgICBsZXQgbmV4dFN0YXRlcyA9IHRoaXMuc3RhdGVzLnNsaWNlKCk7XG4gICAgICAgIGNvbnN0IGVuY29kZSA9IHRoaXMubWFyay5nZXRTcGVjKCkuZW5jb2RlO1xuICAgICAgICBsZXQgZm9yY2VDbGVhclN0YXRlID0gITEsIGhhc1VwZGF0ZSA9ICExO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGVzKS5mb3JFYWNoKChzdGF0ZUtleSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIXN0YXRlS2V5KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBzdGF0ZVZhbHVlID0gc3RhdGVzW3N0YXRlS2V5XTtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChzdGF0ZVZhbHVlKSAmJiAhaXNPYmpFcXVhbChzdGF0ZVZhbHVlLCBudWxsID09PSAoX2EgPSB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Fbc3RhdGVLZXldKSkgbmV4dFN0YXRlcy5pbmNsdWRlcyhzdGF0ZUtleSkgPyBmb3JjZUNsZWFyU3RhdGUgPSAhMCA6IG5leHRTdGF0ZXMucHVzaChzdGF0ZUtleSksIFxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlUnVudGltZVN0YXRlcyhzdGF0ZUtleSwgc3RhdGVWYWx1ZSksIGhhc1VwZGF0ZSA9ICEwOyBlbHNlIGlmIChzdGF0ZVZhbHVlKSAhbmV4dFN0YXRlcy5pbmNsdWRlcyhzdGF0ZUtleSkgJiYgKG51bGwgPT0gZW5jb2RlID8gdm9pZCAwIDogZW5jb2RlW3N0YXRlS2V5XSkgJiYgKG5leHRTdGF0ZXMucHVzaChzdGF0ZUtleSksIFxuICAgICAgICAgICAgaGFzVXBkYXRlID0gITApOyBlbHNlIGlmIChuZXh0U3RhdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05leHRTdGF0ZXMgPSBuZXh0U3RhdGVzLmZpbHRlcigoc3RhdGUgPT4gc3RhdGUgIT09IHN0YXRlS2V5KSk7XG4gICAgICAgICAgICAgICAgbmV3TmV4dFN0YXRlcy5sZW5ndGggIT09IG5leHRTdGF0ZXMubGVuZ3RoICYmIChoYXNVcGRhdGUgPSAhMCwgbmV4dFN0YXRlcyA9IG5ld05leHRTdGF0ZXMpLCBcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyICYmIHRoaXMucnVudGltZVN0YXRlc0VuY29kZXJbc3RhdGVLZXldICYmICh0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyW3N0YXRlS2V5XSA9IG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIGZvcmNlQ2xlYXJTdGF0ZSAmJiB0aGlzLmdyYXBoaWNJdGVtLmNsZWFyU3RhdGVzKCksICEhaGFzVXBkYXRlICYmICh0aGlzLnVzZVN0YXRlcyhuZXh0U3RhdGVzKSwgXG4gICAgICAgICEwKTtcbiAgICB9XG4gICAgYWRkU3RhdGUoc3RhdGUsIGF0dHJzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNJdGVtKSByZXR1cm4gITE7XG4gICAgICAgIGlmIChhdHRycyAmJiBpc1N0cmluZyhzdGF0ZSkgJiYgIWlzT2JqRXF1YWwoYXR0cnMsIG51bGwgPT09IChfYSA9IHRoaXMucnVudGltZVN0YXRlc0VuY29kZXIpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVtzdGF0ZV0pKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0U3RhdGVzID0gdGhpcy5zdGF0ZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0U3RhdGVzLmluY2x1ZGVzKHN0YXRlKSA/IHRoaXMuZ3JhcGhpY0l0ZW0uY2xlYXJTdGF0ZXMoKSA6IG5leHRTdGF0ZXMucHVzaChzdGF0ZSksIFxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlUnVudGltZVN0YXRlcyhzdGF0ZSwgYXR0cnMpLCB0aGlzLnVzZVN0YXRlcyhuZXh0U3RhdGVzKSwgITA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5jb2RlID0gdGhpcy5tYXJrLmdldFNwZWMoKS5lbmNvZGUsIG5leHRTdGF0ZXMgPSBhcnJheShzdGF0ZSkucmVkdWNlKCgobmV4dFN0YXRlcywgc3RhdGVOYW1lKSA9PiAoc3RhdGVOYW1lICYmICFuZXh0U3RhdGVzLmluY2x1ZGVzKHN0YXRlTmFtZSkgJiYgKG51bGwgPT0gZW5jb2RlID8gdm9pZCAwIDogZW5jb2RlW3N0YXRlTmFtZV0pICYmIG5leHRTdGF0ZXMucHVzaChzdGF0ZU5hbWUpLCBcbiAgICAgICAgbmV4dFN0YXRlcykpLCB0aGlzLnN0YXRlcy5zbGljZSgpKTtcbiAgICAgICAgcmV0dXJuIG5leHRTdGF0ZXMubGVuZ3RoICE9PSB0aGlzLnN0YXRlcy5sZW5ndGggJiYgKHRoaXMudXNlU3RhdGVzKG5leHRTdGF0ZXMpLCBcbiAgICAgICAgITApO1xuICAgIH1cbiAgICByZW1vdmVTdGF0ZShzdGF0ZSkge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybiAhMTtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gYXJyYXkoc3RhdGUpO1xuICAgICAgICBpZiAoIXN0YXRlcy5sZW5ndGgpIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgbmV4dFN0YXRlcyA9IHRoaXMuc3RhdGVzLmZpbHRlcigoc3RhdGUgPT4gIXN0YXRlcy5pbmNsdWRlcyhzdGF0ZSkpKTtcbiAgICAgICAgcmV0dXJuIG5leHRTdGF0ZXMubGVuZ3RoICE9PSB0aGlzLnN0YXRlcy5sZW5ndGggJiYgKHRoaXMucnVudGltZVN0YXRlc0VuY29kZXIgJiYgc3RhdGVzLmZvckVhY2goKHN0YXRlID0+IHtcbiAgICAgICAgICAgIHRoaXMucnVudGltZVN0YXRlc0VuY29kZXJbc3RhdGVdID0gbnVsbDtcbiAgICAgICAgfSkpLCB0aGlzLnVzZVN0YXRlcyhuZXh0U3RhdGVzKSwgITApO1xuICAgIH1cbiAgICB1c2VTdGF0ZXMoc3RhdGVzLCBoYXNBbmltYXRpb24pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybiAhMTtcbiAgICAgICAgdGhpcy5tYXJrLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfRUxFTUVOVF9TVEFURSwge1xuICAgICAgICAgICAgc3RhdGVzOiBzdGF0ZXNcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGNvbnN0IHN0YXRlU29ydCA9IG51bGwgPT09IChfYSA9IHRoaXMubWFyay5nZXRTcGVjKCkpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zdGF0ZVNvcnQ7XG4gICAgICAgIHN0YXRlU29ydCAmJiBzdGF0ZXMuc29ydChzdGF0ZVNvcnQpLCB0aGlzLnN0YXRlcyA9IHN0YXRlcztcbiAgICAgICAgY29uc3Qgc3RhdGVBbmltYXRpb25FbmFibGUgPSBpc0Jvb2xlYW4oaGFzQW5pbWF0aW9uKSA/IGhhc0FuaW1hdGlvbiA6IHRoaXMuaGFzU3RhdGVBbmltYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhpY0l0ZW0uc3RhdGVQcm94eSA9IHRoaXMuZ2V0U3RhdGVBdHRycywgdGhpcy5ncmFwaGljSXRlbS51c2VTdGF0ZXModGhpcy5zdGF0ZXMsIHN0YXRlQW5pbWF0aW9uRW5hYmxlKSwgXG4gICAgICAgIHRoaXMubWFyay5lbWl0KEhPT0tfRVZFTlQuQUZURVJfRUxFTUVOVF9TVEFURSwge1xuICAgICAgICAgICAgc3RhdGVzOiBzdGF0ZXNcbiAgICAgICAgfSwgdGhpcyksICEwO1xuICAgIH1cbiAgICBkaWZmQXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBkaWZmUmVzdWx0ID0ge30sIGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLmdldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZ3JhcGhpY0F0dHJpYnV0ZXMpIGhhcyhmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzLCBrZXkpICYmIGlzT2JqRXF1YWwoZmluYWxHcmFwaGljQXR0cmlidXRlc1trZXldLCBncmFwaGljQXR0cmlidXRlc1trZXldKSB8fCAoZGlmZlJlc3VsdFtrZXldID0gZ3JhcGhpY0F0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgIHJldHVybiBkaWZmUmVzdWx0O1xuICAgIH1cbiAgICB0cmFuc2Zvcm1FbGVtZW50SXRlbXMoaXRlbXMsIG1hcmtUeXBlLCBjb21wdXRlUG9pbnRzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1swXTtcbiAgICAgICAgaWYgKCFpdGVtLm5leHRBdHRycyB8fCAwID09PSBPYmplY3Qua2V5cyhpdGVtLm5leHRBdHRycykubGVuZ3RoKSByZXR1cm4ge307XG4gICAgICAgIGxldCBuZXh0QXR0cnMgPSBpdGVtLm5leHRBdHRycztcbiAgICAgICAgaWYgKGlzUG9pbnRzTWFya1R5cGUobWFya1R5cGUpICYmIGl0ZW1zICYmIGl0ZW1zLmxlbmd0aCAmJiBpc05pbChudWxsID09PSAoX2EgPSBpdGVtLm5leHRBdHRycykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnBvaW50cykgJiYgKCEwID09PSBjb21wdXRlUG9pbnRzIHx8IGlzVmFsaWRQb2ludHNDaGFubmVsKE9iamVjdC5rZXlzKGl0ZW0ubmV4dEF0dHJzKSwgdGhpcy5tYXJrLm1hcmtUeXBlKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtTcGVjID0gdGhpcy5tYXJrLmdldFNwZWMoKSwgbGFzdFBvaW50cyA9IHRoaXMuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInBvaW50c1wiLCAhMSksIGxhc3RTZWdtZW50cyA9IHRoaXMuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInNlZ21lbnRzXCIsICExKSwgZW5hYmxlU2VnbWVudHMgPSBtYXJrU3BlYy5lbmFibGVTZWdtZW50cywgY29ubmVjdE51bGxzRW5jb2RlciA9IG51bGwgPT09IChfYiA9IHRoaXMubWFyay5nZXRTcGVjKCkuZW5jb2RlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2JbQnVpbHRJbkVuY29kZU5hbWVzLmNvbm5lY3ROdWxsc10sIGl0ZW1OZXh0QXR0cnMgPSBpdGVtcy5tYXAoKGl0ZW0gPT4gaXRlbS5uZXh0QXR0cnMpKSwgaXNQcm9ncmVzc2l2ZSA9IHRoaXMubWFyay5pc1Byb2dyZXNzaXZlKCk7XG4gICAgICAgICAgICBpZiAobmV4dEF0dHJzID0gcGFyc2VDb2xsZWN0aW9uTWFya0F0dHJpYnV0ZXMobmV4dEF0dHJzKSwgbWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5saW5lIHx8IG1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuYXJlYSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVQb2ludHMgPSBnZXRMaW5lUG9pbnRzKGl0ZW1zLCAhMCwgbGFzdFBvaW50cywgbWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5hcmVhKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcm9ncmVzc2l2ZSkgbmV4dEF0dHJzLnNlZ21lbnRzID0gKG51bGwgIT09IChfZSA9IG51bGwgPT09IChfZCA9IG51bGwgPT09IChfYyA9IHRoaXMuZ3JhcGhpY0l0ZW0pIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy5hdHRyaWJ1dGUpIHx8IHZvaWQgMCA9PT0gX2QgPyB2b2lkIDAgOiBfZC5zZWdtZW50cykgJiYgdm9pZCAwICE9PSBfZSA/IF9lIDogW10pLmNvbmNhdChbIHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzOiBsaW5lUG9pbnRzXG4gICAgICAgICAgICAgICAgfSBdKTsgZWxzZSBpZiAoY29ubmVjdE51bGxzRW5jb2Rlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEF0dHJzLnNlZ21lbnRzID0gZ2V0Q29ubmVjdExpbmVTZWdtZW50Q29uZmlncyhpdGVtTmV4dEF0dHJzLCBsaW5lUG9pbnRzLCB0aGlzKSwgXG4gICAgICAgICAgICAgICAgICAgIG5leHRBdHRycy5zZWdtZW50cyAmJiBuZXh0QXR0cnMuc2VnbWVudHMuc29tZSgoc2VnID0+IHNlZy5pc0Nvbm5lY3QpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29ubmVjdFN0eWxlID0gaW52b2tlRW5jb2Rlcihjb25uZWN0TnVsbHNFbmNvZGVyLCB0aGlzLmdldERhdHVtKCksIHRoaXMsIHRoaXMubWFyay5wYXJhbWV0ZXJzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdFN0eWxlICYmIG5leHRBdHRycy5zZWdtZW50cy5mb3JFYWNoKChzZWcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZy5pc0Nvbm5lY3QgJiYgT2JqZWN0LmFzc2lnbihzZWcsIGNvbm5lY3RTdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV4dEF0dHJzLnBvaW50cyA9IGxpbmVQb2ludHM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmFibGVTZWdtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludHMgPSBsaW5lUG9pbnRzICYmIDAgIT09IGxpbmVQb2ludHMubGVuZ3RoID8gbGluZVBvaW50cyA6IGdldExpbmVQb2ludHNGcm9tU2VnbWVudHMobGFzdFNlZ21lbnRzKSwgc2VnbWVudHMgPSBnZXRMaW5lU2VnbWVudENvbmZpZ3MoaXRlbU5leHRBdHRycywgcG9pbnRzLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudHMgPyAobmV4dEF0dHJzLnNlZ21lbnRzID0gc2VnbWVudHMsIG5leHRBdHRycy5wb2ludHMgPSBudWxsKSA6IChuZXh0QXR0cnMuc2VnbWVudHMgPSBudWxsLCBcbiAgICAgICAgICAgICAgICAgICAgbmV4dEF0dHJzLnBvaW50cyA9IHBvaW50cyksIG5leHRBdHRycyA9IHJlbW92ZVNlZ21lbnRBdHRycyhuZXh0QXR0cnMsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBuZXh0QXR0cnMucG9pbnRzID0gbGluZVBvaW50cywgbmV4dEF0dHJzLnNlZ21lbnRzID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBtYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmxhcmdlUmVjdHMgPyBuZXh0QXR0cnMucG9pbnRzID0gZ2V0TGFyZ2VSZWN0c1BvaW50cyhpdGVtcywgITAsIGxhc3RQb2ludHMpIDogbWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5sYXJnZVN5bWJvbHMgJiYgKG5leHRBdHRycy5wb2ludHMgPSBnZXRMYXJnZVN5bWJvbHNQb2ludHMoaXRlbXMsICEwLCBsYXN0UG9pbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHRBdHRycztcbiAgICB9XG4gICAgYXBwbHlHcmFwaGljQXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKCFpc0VtcHR5KGdyYXBoaWNBdHRyaWJ1dGVzKSkgaWYgKHRoaXMubWFyay5uZWVkQW5pbWF0ZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0R3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLmRpZmZBdHRyaWJ1dGVzKGdyYXBoaWNBdHRyaWJ1dGVzKSwgcHJldkdyYXBoaWNBdHRyaWJ1dGVzID0gbnVsbCAhPT0gKF9hID0gdGhpcy5nZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMoKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge30sIGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMgPSBudWxsICE9PSAoX2IgPSB0aGlzLmdldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMoKSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDoge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhuZXh0R3JhcGhpY0F0dHJpYnV0ZXMpLmZvckVhY2goKGNoYW5uZWwgPT4ge1xuICAgICAgICAgICAgICAgIHByZXZHcmFwaGljQXR0cmlidXRlc1tjaGFubmVsXSA9IHRoaXMuZ2V0R3JhcGhpY0F0dHJpYnV0ZShjaGFubmVsKSwgZmluYWxHcmFwaGljQXR0cmlidXRlc1tjaGFubmVsXSA9IG5leHRHcmFwaGljQXR0cmlidXRlc1tjaGFubmVsXTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy5zZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMobmV4dEdyYXBoaWNBdHRyaWJ1dGVzKSwgdGhpcy5zZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMocHJldkdyYXBoaWNBdHRyaWJ1dGVzKSwgXG4gICAgICAgICAgICB0aGlzLnNldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMoZmluYWxHcmFwaGljQXR0cmlidXRlcyk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5pbWF0b3JzID0gbnVsbCA9PT0gKF9jID0gdGhpcy5tYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy5nZXRFbGVtZW50QW5pbWF0b3JzKHRoaXMpLmZpbHRlcigoYW5pbWF0b3IgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShudWxsID09PSAoX2EgPSBhbmltYXRvci5hbmltYXRpb25PcHRpb25zLnRpbWVsaW5lLmNvbnRyb2xPcHRpb25zKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuaWdub3JlTG9vcEZpbmFsQXR0cmlidXRlcykgfHwgIWFuaW1hdG9yLmFuaW1hdGlvbk9wdGlvbnMudGltZWxpbmUubG9vcDtcbiAgICAgICAgICAgIH0pKSwgYW5pbWF0ZUdyYXBoaWNBdHRyaWJ1dGVzID0gKGN1cnJlbnRBbmltYXRvcnMgfHwgW10pLnJlZHVjZSgoKGF0dHJpYnV0ZXMsIGFuaW1hdG9yKSA9PiBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMsIGFuaW1hdG9yLmdldEVuZEF0dHJpYnV0ZXMoKSkpLCB7fSksIGN1cnJlbnRHcmFwaGljQXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIGFuaW1hdGVHcmFwaGljQXR0cmlidXRlcywgZmluYWxHcmFwaGljQXR0cmlidXRlcyk7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNJdGVtLnNldEF0dHJpYnV0ZXMoY3VycmVudEdyYXBoaWNBdHRyaWJ1dGVzKTtcbiAgICAgICAgfSBlbHNlIHRoaXMuZ3JhcGhpY0l0ZW0uc2V0QXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcyk7XG4gICAgfVxuICAgIGdldEdyYXBoaWNBdHRyaWJ1dGUoY2hhbm5lbCwgcHJldiA9ICExKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNJdGVtKSByZXR1cm47XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgICAgICBjb25zdCBwcmV2R3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLmdldFByZXZHcmFwaGljQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgaWYgKCFpc05pbCh2YWx1ZSA9IGdldChwcmV2R3JhcGhpY0F0dHJpYnV0ZXMsIGNoYW5uZWwpKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYW5zID0gdGhpcy5tYXJrLmdldEF0dHJpYnV0ZVRyYW5zZm9ybXMoKTtcbiAgICAgICAgbGV0IGdldEtleSA9IFsgY2hhbm5lbCBdO1xuICAgICAgICBpZiAodHJhbnMgJiYgdHJhbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsVHJhbnNmb3JtID0gdHJhbnMuZmluZCgoZW50cnkgPT4gZW50cnkuc3RvcmVkQXR0cnMgJiYgZW50cnkuY2hhbm5lbHMuaW5jbHVkZXMoY2hhbm5lbCkpKTtcbiAgICAgICAgICAgIGNoYW5uZWxUcmFuc2Zvcm0gJiYgKGdldEtleSA9IFsgY2hhbm5lbFRyYW5zZm9ybS5zdG9yZWRBdHRycywgY2hhbm5lbCBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0KG51bGwgPT09IChfYSA9IHRoaXMuZ3JhcGhpY0l0ZW0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5hdHRyaWJ1dGUsIGdldEtleSk7XG4gICAgfVxuICAgIHNldEdyYXBoaWNBdHRyaWJ1dGUoY2hhbm5lbCwgdmFsdWUsIGZpbmFsID0gITApIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNJdGVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLmdldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMoKSwgcHJldkdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5nZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMoKTtcbiAgICAgICAgZmluYWwgJiYgZmluYWxHcmFwaGljQXR0cmlidXRlcyAmJiAoZmluYWxHcmFwaGljQXR0cmlidXRlc1tjaGFubmVsXSA9IHZhbHVlKSwgcHJldkdyYXBoaWNBdHRyaWJ1dGVzICYmICFoYXMocHJldkdyYXBoaWNBdHRyaWJ1dGVzLCBjaGFubmVsKSAmJiAocHJldkdyYXBoaWNBdHRyaWJ1dGVzW2NoYW5uZWxdID0gdGhpcy5ncmFwaGljSXRlbS5hdHRyaWJ1dGVbY2hhbm5lbF0pLCBcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGUoY2hhbm5lbCwgdmFsdWUpO1xuICAgIH1cbiAgICBzZXRHcmFwaGljQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBmaW5hbCA9ICEwKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljSXRlbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5nZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKCksIHByZXZHcmFwaGljQXR0cmlidXRlcyA9IHRoaXMuZ2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKCk7XG4gICAgICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICBmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzICYmIGZpbmFsICYmIChmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzW2tleV0gPSBhdHRyaWJ1dGVzW2tleV0pLCBcbiAgICAgICAgICAgIHByZXZHcmFwaGljQXR0cmlidXRlcyAmJiAhaGFzKHByZXZHcmFwaGljQXR0cmlidXRlcywga2V5KSAmJiAocHJldkdyYXBoaWNBdHRyaWJ1dGVzW2tleV0gPSB0aGlzLmdyYXBoaWNJdGVtLmF0dHJpYnV0ZVtrZXldKTtcbiAgICAgICAgfSkpLCB0aGlzLmdyYXBoaWNJdGVtLnNldEF0dHJpYnV0ZXMoYXR0cmlidXRlcyk7XG4gICAgfVxuICAgIGdldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNJdGVtLmZpbmFsQXR0cnM7XG4gICAgfVxuICAgIHNldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMoYXR0cmlidXRlcykge1xuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtLmZpbmFsQXR0cnMgPSBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICBnZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNJdGVtLnByZXZBdHRycztcbiAgICB9XG4gICAgc2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbS5wcmV2QXR0cnMgPSBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICBnZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNJdGVtLm5leHRBdHRycztcbiAgICB9XG4gICAgZ2V0RmluYWxBbmltYXRpb25BdHRyaWJ1dGUoY2hhbm5lbCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9iID0gbnVsbCA9PT0gKF9hID0gdGhpcy5nZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKCkpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVtjaGFubmVsXSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogdGhpcy5nZXRHcmFwaGljQXR0cmlidXRlKGNoYW5uZWwpO1xuICAgIH1cbiAgICBnZXRGaW5hbEFuaW1hdGlvbkF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMuZ2V0RmluYWxHcmFwaGljQXR0cmlidXRlcygpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB0aGlzLmdyYXBoaWNJdGVtLmF0dHJpYnV0ZTtcbiAgICB9XG4gICAgc2V0TmV4dEdyYXBoaWNBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbS5uZXh0QXR0cnMgPSBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICBjbGVhckNoYW5nZWRHcmFwaGljQXR0cmlidXRlcygpIHtcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbSAmJiAodGhpcy5zZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMobnVsbCksIHRoaXMuc2V0TmV4dEdyYXBoaWNBdHRyaWJ1dGVzKG51bGwpKTtcbiAgICB9XG4gICAgY2xlYXJHcmFwaGljQXR0cmlidXRlcygpIHtcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbSAmJiAodGhpcy5ncmFwaGljSXRlbS5wcmV2QXR0cnMgJiYgdGhpcy5zZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMobnVsbCksIFxuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtLm5leHRBdHRycyAmJiB0aGlzLnNldE5leHRHcmFwaGljQXR0cmlidXRlcyhudWxsKSwgdGhpcy5ncmFwaGljSXRlbS5maW5hbEF0dHJzICYmIHRoaXMuc2V0RmluYWxHcmFwaGljQXR0cmlidXRlcyhudWxsKSk7XG4gICAgfVxuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbSAmJiAocmVtb3ZlR3JhcGhpY0l0ZW0odGhpcy5ncmFwaGljSXRlbSksIHRoaXMuZ3JhcGhpY0l0ZW0gPSBudWxsKTtcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVHcmFwaGljSXRlbSgpLCB0aGlzLm1hcmsgPSBudWxsLCB0aGlzLmRhdGEgPSBudWxsLCB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0SXRlbUF0dHJpYnV0ZShjaGFubmVsKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChudWxsID09PSAoX2EgPSB0aGlzLml0ZW1zKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubGVuZ3RoKSByZXR1cm4gdGhpcy5tYXJrLmlzQ29sbGVjdGlvbk1hcmsoKSA/IGlzTmlsKGNoYW5uZWwpID8gdGhpcy5pdGVtcy5tYXAoKGl0ZW0gPT4gaXRlbS5uZXh0QXR0cnMpKSA6IHRoaXMuaXRlbXMubWFwKChpdGVtID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiBudWxsID09PSAoX2EgPSBpdGVtLm5leHRBdHRycykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hW2NoYW5uZWxdO1xuICAgICAgICB9KSkgOiBpc05pbChjaGFubmVsKSA/IHRoaXMuaXRlbXNbMF0ubmV4dEF0dHJzIDogbnVsbCA9PT0gKF9iID0gdGhpcy5pdGVtc1swXS5uZXh0QXR0cnMpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYltjaGFubmVsXTtcbiAgICB9XG4gICAgc2V0SXRlbUF0dHJpYnV0ZXMoYXR0cmlidXRlcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChudWxsID09PSAoX2EgPSB0aGlzLml0ZW1zKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubGVuZ3RoKSAmJiAodGhpcy5tYXJrLmlzQ29sbGVjdGlvbk1hcmsoKSA/IGlzQXJyYXkoYXR0cmlidXRlcykgJiYgdGhpcy5pdGVtcy5mb3JFYWNoKCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oaXRlbS5uZXh0QXR0cnMsIGF0dHJpYnV0ZXNbaW5kZXhdKTtcbiAgICAgICAgfSkpIDogT2JqZWN0LmFzc2lnbih0aGlzLml0ZW1zWzBdLm5leHRBdHRycywgYXR0cmlidXRlcykpO1xuICAgIH1cbiAgICBnZXRJdGVtKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrICYmIHRoaXMubWFyay5pc0NvbGxlY3Rpb25NYXJrKCkgPyBudWxsICE9PSAoX2EgPSB0aGlzLml0ZW1zKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXSA6IG51bGwgPT09IChfYiA9IHRoaXMuaXRlbXMpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYlswXTtcbiAgICB9XG4gICAgZ2V0RGF0dW0oKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcmsgJiYgdGhpcy5tYXJrLmlzQ29sbGVjdGlvbk1hcmsoKSA/IG51bGwgIT09IChfYSA9IHRoaXMuZGF0YSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogW10gOiBudWxsID09PSAoX2IgPSB0aGlzLmRhdGEpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYlswXTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisEnum: () => (/* binding */ AxisEnum),\n/* harmony export */   BuiltInEncodeNames: () => (/* binding */ BuiltInEncodeNames),\n/* harmony export */   ComponentEnum: () => (/* binding */ ComponentEnum),\n/* harmony export */   CrosshairEnum: () => (/* binding */ CrosshairEnum),\n/* harmony export */   DataFilterRank: () => (/* binding */ DataFilterRank),\n/* harmony export */   DiffState: () => (/* binding */ DiffState),\n/* harmony export */   GrammarMarkType: () => (/* binding */ GrammarMarkType),\n/* harmony export */   GrammarTypeEnum: () => (/* binding */ GrammarTypeEnum),\n/* harmony export */   GridEnum: () => (/* binding */ GridEnum),\n/* harmony export */   HOOK_EVENT: () => (/* binding */ HOOK_EVENT),\n/* harmony export */   InteractionStateEnum: () => (/* binding */ InteractionStateEnum),\n/* harmony export */   LabelEnum: () => (/* binding */ LabelEnum),\n/* harmony export */   LayoutState: () => (/* binding */ LayoutState),\n/* harmony export */   LegendEnum: () => (/* binding */ LegendEnum),\n/* harmony export */   PlayerEnum: () => (/* binding */ PlayerEnum)\n/* harmony export */ });\nvar BuiltInEncodeNames;\n\n!function(BuiltInEncodeNames) {\n    BuiltInEncodeNames.enter = \"enter\", BuiltInEncodeNames.update = \"update\", BuiltInEncodeNames.exit = \"exit\", \n    BuiltInEncodeNames.group = \"group\", BuiltInEncodeNames.connectNulls = \"connectNulls\";\n}(BuiltInEncodeNames || (BuiltInEncodeNames = {}));\n\nvar DiffState;\n\n!function(DiffState) {\n    DiffState.enter = \"enter\", DiffState.update = \"update\", DiffState.exit = \"exit\", \n    DiffState.unChange = \"unChange\";\n}(DiffState || (DiffState = {}));\n\nvar GrammarMarkType;\n\n!function(GrammarMarkType) {\n    GrammarMarkType.arc = \"arc\", GrammarMarkType.arc3d = \"arc3d\", GrammarMarkType.area = \"area\", \n    GrammarMarkType.image = \"image\", GrammarMarkType.line = \"line\", GrammarMarkType.path = \"path\", \n    GrammarMarkType.rect = \"rect\", GrammarMarkType.rect3d = \"rect3d\", GrammarMarkType.rule = \"rule\", \n    GrammarMarkType.shape = \"shape\", GrammarMarkType.symbol = \"symbol\", GrammarMarkType.text = \"text\", \n    GrammarMarkType.richtext = \"richtext\", GrammarMarkType.polygon = \"polygon\", GrammarMarkType.pyramid3d = \"pyramid3d\", \n    GrammarMarkType.circle = \"circle\", GrammarMarkType.cell = \"cell\", GrammarMarkType.interval = \"interval\", \n    GrammarMarkType.group = \"group\", GrammarMarkType.glyph = \"glyph\", GrammarMarkType.component = \"component\", \n    GrammarMarkType.largeRects = \"largeRects\", GrammarMarkType.largeSymbols = \"largeSymbols\";\n}(GrammarMarkType || (GrammarMarkType = {}));\n\nvar ComponentEnum;\n\n!function(ComponentEnum) {\n    ComponentEnum.axis = \"axis\", ComponentEnum.grid = \"grid\", ComponentEnum.legend = \"legend\", \n    ComponentEnum.slider = \"slider\", ComponentEnum.label = \"label\", ComponentEnum.datazoom = \"datazoom\", \n    ComponentEnum.player = \"player\", ComponentEnum.title = \"title\", ComponentEnum.scrollbar = \"scrollbar\";\n}(ComponentEnum || (ComponentEnum = {}));\n\nvar DataFilterRank;\n\n!function(DataFilterRank) {\n    DataFilterRank[DataFilterRank.player = 1] = \"player\", DataFilterRank[DataFilterRank.rollUp = 2] = \"rollUp\", \n    DataFilterRank[DataFilterRank.drillDown = 3] = \"drillDown\", DataFilterRank[DataFilterRank.slider = 4] = \"slider\", \n    DataFilterRank[DataFilterRank.datazoom = 5] = \"datazoom\", DataFilterRank[DataFilterRank.legend = 6] = \"legend\", \n    DataFilterRank[DataFilterRank.scrollbar = 7] = \"scrollbar\", DataFilterRank[DataFilterRank.brush = 8] = \"brush\", \n    DataFilterRank[DataFilterRank.normal = 9] = \"normal\";\n}(DataFilterRank || (DataFilterRank = {}));\n\nvar AxisEnum;\n\n!function(AxisEnum) {\n    AxisEnum.lineAxis = \"lineAxis\", AxisEnum.circleAxis = \"circleAxis\";\n}(AxisEnum || (AxisEnum = {}));\n\nvar GridEnum;\n\n!function(GridEnum) {\n    GridEnum.lineAxisGrid = \"lineAxisGrid\", GridEnum.circleAxisGrid = \"circleAxisGrid\";\n}(GridEnum || (GridEnum = {}));\n\nvar LegendEnum;\n\n!function(LegendEnum) {\n    LegendEnum.discreteLegend = \"discreteLegend\", LegendEnum.colorLegend = \"colorLegend\", \n    LegendEnum.sizeLegend = \"sizeLegend\";\n}(LegendEnum || (LegendEnum = {}));\n\nvar CrosshairEnum;\n\n!function(CrosshairEnum) {\n    CrosshairEnum.lineCrosshair = \"lineCrosshair\", CrosshairEnum.rectCrosshair = \"rectCrosshair\", \n    CrosshairEnum.sectorCrosshair = \"sectorCrosshair\", CrosshairEnum.circleCrosshair = \"circleCrosshair\", \n    CrosshairEnum.polygonCrosshair = \"polygonCrosshair\", CrosshairEnum.ringCrosshair = \"ringCrosshair\";\n}(CrosshairEnum || (CrosshairEnum = {}));\n\nvar LabelEnum;\n\n!function(LabelEnum) {\n    LabelEnum.symbolLabel = \"symbolLabel\", LabelEnum.rectLabel = \"rectLabel\", LabelEnum.lineLabel = \"lineLabel\", \n    LabelEnum.dataLabel = \"dataLabel\";\n}(LabelEnum || (LabelEnum = {}));\n\nvar PlayerEnum;\n\n!function(PlayerEnum) {\n    PlayerEnum.continuousPlayer = \"continuousPlayer\", PlayerEnum.discretePlayer = \"discretePlayer\";\n}(PlayerEnum || (PlayerEnum = {}));\n\nvar LayoutState;\n\n!function(LayoutState) {\n    LayoutState.before = \"before\", LayoutState.layouting = \"layouting\", LayoutState.reevaluate = \"reevaluate\", \n    LayoutState.after = \"after\";\n}(LayoutState || (LayoutState = {}));\n\nvar HOOK_EVENT;\n\n!function(HOOK_EVENT) {\n    HOOK_EVENT.BEFORE_EVALUATE_DATA = \"beforeEvaluateData\", HOOK_EVENT.AFTER_EVALUATE_DATA = \"afterEvaluateData\", \n    HOOK_EVENT.BEFORE_EVALUATE_SCALE = \"beforeEvaluateScale\", HOOK_EVENT.AFTER_EVALUATE_SCALE = \"afterEvaluateScale\", \n    HOOK_EVENT.BEFORE_PARSE_VIEW = \"beforeParseView\", HOOK_EVENT.AFTER_PARSE_VIEW = \"afterParseView\", \n    HOOK_EVENT.BEFORE_TRANSFORM = \"beforeTransform\", HOOK_EVENT.AFTER_TRANSFORM = \"afterTransform\", \n    HOOK_EVENT.BEFORE_CREATE_VRENDER_STAGE = \"beforeCreateVRenderStage\", HOOK_EVENT.AFTER_CREATE_VRENDER_STAGE = \"afterCreateVRenderStage\", \n    HOOK_EVENT.BEFORE_CREATE_VRENDER_LAYER = \"beforeCreateVRenderLayer\", HOOK_EVENT.AFTER_CREATE_VRENDER_LAYER = \"afterCreateVRenderLayer\", \n    HOOK_EVENT.BEFORE_STAGE_RESIZE = \"beforeStageResize\", HOOK_EVENT.AFTER_STAGE_RESIZE = \"afterStageResize\", \n    HOOK_EVENT.BEFORE_VRENDER_DRAW = \"beforeVRenderDraw\", HOOK_EVENT.AFTER_VRENDER_DRAW = \"afterVRenderDraw\", \n    HOOK_EVENT.BEFORE_MARK_JOIN = \"beforeMarkJoin\", HOOK_EVENT.AFTER_MARK_JOIN = \"afterMarkJoin\", \n    HOOK_EVENT.BEFORE_MARK_UPDATE = \"beforeMarkUpdate\", HOOK_EVENT.AFTER_MARK_UPDATE = \"afterMarkUpdate\", \n    HOOK_EVENT.BEFORE_MARK_STATE = \"beforeMarkState\", HOOK_EVENT.AFTER_MARK_STATE = \"afterMarkState\", \n    HOOK_EVENT.BEFORE_MARK_ENCODE = \"beforeMarkEncode\", HOOK_EVENT.AFTER_MARK_ENCODE = \"afterMarkEncode\", \n    HOOK_EVENT.BEFORE_DO_LAYOUT = \"beforeDoLayout\", HOOK_EVENT.AFTER_DO_LAYOUT = \"afterDoLayout\", \n    HOOK_EVENT.BEFORE_MARK_LAYOUT_END = \"beforeMarkLayoutEnd\", HOOK_EVENT.AFTER_MARK_LAYOUT_END = \"afterMarkLayoutEnd\", \n    HOOK_EVENT.BEFORE_DO_RENDER = \"beforeDoRender\", HOOK_EVENT.AFTER_DO_RENDER = \"afterDoRender\", \n    HOOK_EVENT.BEFORE_MARK_RENDER_END = \"beforeMarkRenderEnd\", HOOK_EVENT.AFTER_MARK_RENDER_END = \"afterMarkRenderEnd\", \n    HOOK_EVENT.BEFORE_CREATE_VRENDER_MARK = \"beforeCreateVRenderMark\", HOOK_EVENT.AFTER_CREATE_VRENDER_MARK = \"afterCreateVRenderMark\", \n    HOOK_EVENT.BEFORE_ADD_VRENDER_MARK = \"beforeAddVRenderMark\", HOOK_EVENT.AFTER_ADD_VRENDER_MARK = \"afterAddVRenderMark\", \n    HOOK_EVENT.AFTER_VRENDER_NEXT_RENDER = \"afterVRenderNextRender\", HOOK_EVENT.BEFORE_ELEMENT_UPDATE_DATA = \"beforeElementUpdateData\", \n    HOOK_EVENT.AFTER_ELEMENT_UPDATE_DATA = \"afterElementUpdateData\", HOOK_EVENT.BEFORE_ELEMENT_STATE = \"beforeElementState\", \n    HOOK_EVENT.AFTER_ELEMENT_STATE = \"afterElementState\", HOOK_EVENT.BEFORE_ELEMENT_ENCODE = \"beforeElementEncode\", \n    HOOK_EVENT.AFTER_ELEMENT_ENCODE = \"afterElementEncode\", HOOK_EVENT.ANIMATION_START = \"animationStart\", \n    HOOK_EVENT.ANIMATION_END = \"animationEnd\", HOOK_EVENT.ELEMENT_ANIMATION_START = \"elementAnimationStart\", \n    HOOK_EVENT.ELEMENT_ANIMATION_END = \"elementAnimationEnd\", HOOK_EVENT.ALL_ANIMATION_START = \"allAnimationStart\", \n    HOOK_EVENT.ALL_ANIMATION_END = \"allAnimationEnd\";\n}(HOOK_EVENT || (HOOK_EVENT = {}));\n\nvar GrammarTypeEnum;\n\n!function(GrammarTypeEnum) {\n    GrammarTypeEnum.signal = \"signal\", GrammarTypeEnum.data = \"data\", GrammarTypeEnum.scale = \"scale\", \n    GrammarTypeEnum.coordinate = \"coordinate\", GrammarTypeEnum.mark = \"mark\";\n}(GrammarTypeEnum || (GrammarTypeEnum = {}));\n\nvar InteractionStateEnum;\n\n!function(InteractionStateEnum) {\n    InteractionStateEnum.active = \"active\", InteractionStateEnum.selected = \"selected\", \n    InteractionStateEnum.highlight = \"highlight\", InteractionStateEnum.blur = \"blur\";\n}(InteractionStateEnum || (InteractionStateEnum = {}));\n//# sourceMappingURL=enums.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvZW51bXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsQ0FBQywrQ0FBK0M7O0FBRXpDOztBQUVQO0FBQ0E7QUFDQTtBQUNBLENBQUMsNkJBQTZCOztBQUV2Qjs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlDQUF5Qzs7QUFFbkM7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFDQUFxQzs7QUFFL0I7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx1Q0FBdUM7O0FBRWpDOztBQUVQO0FBQ0E7QUFDQSxDQUFDLDJCQUEyQjs7QUFFckI7O0FBRVA7QUFDQTtBQUNBLENBQUMsMkJBQTJCOztBQUVyQjs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxDQUFDLCtCQUErQjs7QUFFekI7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFDQUFxQzs7QUFFL0I7O0FBRVA7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw2QkFBNkI7O0FBRXZCOztBQUVQO0FBQ0E7QUFDQSxDQUFDLCtCQUErQjs7QUFFekI7O0FBRVA7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxpQ0FBaUM7O0FBRTNCOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLCtCQUErQjs7QUFFekI7O0FBRVA7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx5Q0FBeUM7O0FBRW5DOztBQUVQO0FBQ0E7QUFDQTtBQUNBLENBQUMsbURBQW1EO0FBQ3BEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9lbnVtcy5qcz81ZWI4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgQnVpbHRJbkVuY29kZU5hbWVzO1xuXG4hZnVuY3Rpb24oQnVpbHRJbkVuY29kZU5hbWVzKSB7XG4gICAgQnVpbHRJbkVuY29kZU5hbWVzLmVudGVyID0gXCJlbnRlclwiLCBCdWlsdEluRW5jb2RlTmFtZXMudXBkYXRlID0gXCJ1cGRhdGVcIiwgQnVpbHRJbkVuY29kZU5hbWVzLmV4aXQgPSBcImV4aXRcIiwgXG4gICAgQnVpbHRJbkVuY29kZU5hbWVzLmdyb3VwID0gXCJncm91cFwiLCBCdWlsdEluRW5jb2RlTmFtZXMuY29ubmVjdE51bGxzID0gXCJjb25uZWN0TnVsbHNcIjtcbn0oQnVpbHRJbkVuY29kZU5hbWVzIHx8IChCdWlsdEluRW5jb2RlTmFtZXMgPSB7fSkpO1xuXG5leHBvcnQgdmFyIERpZmZTdGF0ZTtcblxuIWZ1bmN0aW9uKERpZmZTdGF0ZSkge1xuICAgIERpZmZTdGF0ZS5lbnRlciA9IFwiZW50ZXJcIiwgRGlmZlN0YXRlLnVwZGF0ZSA9IFwidXBkYXRlXCIsIERpZmZTdGF0ZS5leGl0ID0gXCJleGl0XCIsIFxuICAgIERpZmZTdGF0ZS51bkNoYW5nZSA9IFwidW5DaGFuZ2VcIjtcbn0oRGlmZlN0YXRlIHx8IChEaWZmU3RhdGUgPSB7fSkpO1xuXG5leHBvcnQgdmFyIEdyYW1tYXJNYXJrVHlwZTtcblxuIWZ1bmN0aW9uKEdyYW1tYXJNYXJrVHlwZSkge1xuICAgIEdyYW1tYXJNYXJrVHlwZS5hcmMgPSBcImFyY1wiLCBHcmFtbWFyTWFya1R5cGUuYXJjM2QgPSBcImFyYzNkXCIsIEdyYW1tYXJNYXJrVHlwZS5hcmVhID0gXCJhcmVhXCIsIFxuICAgIEdyYW1tYXJNYXJrVHlwZS5pbWFnZSA9IFwiaW1hZ2VcIiwgR3JhbW1hck1hcmtUeXBlLmxpbmUgPSBcImxpbmVcIiwgR3JhbW1hck1hcmtUeXBlLnBhdGggPSBcInBhdGhcIiwgXG4gICAgR3JhbW1hck1hcmtUeXBlLnJlY3QgPSBcInJlY3RcIiwgR3JhbW1hck1hcmtUeXBlLnJlY3QzZCA9IFwicmVjdDNkXCIsIEdyYW1tYXJNYXJrVHlwZS5ydWxlID0gXCJydWxlXCIsIFxuICAgIEdyYW1tYXJNYXJrVHlwZS5zaGFwZSA9IFwic2hhcGVcIiwgR3JhbW1hck1hcmtUeXBlLnN5bWJvbCA9IFwic3ltYm9sXCIsIEdyYW1tYXJNYXJrVHlwZS50ZXh0ID0gXCJ0ZXh0XCIsIFxuICAgIEdyYW1tYXJNYXJrVHlwZS5yaWNodGV4dCA9IFwicmljaHRleHRcIiwgR3JhbW1hck1hcmtUeXBlLnBvbHlnb24gPSBcInBvbHlnb25cIiwgR3JhbW1hck1hcmtUeXBlLnB5cmFtaWQzZCA9IFwicHlyYW1pZDNkXCIsIFxuICAgIEdyYW1tYXJNYXJrVHlwZS5jaXJjbGUgPSBcImNpcmNsZVwiLCBHcmFtbWFyTWFya1R5cGUuY2VsbCA9IFwiY2VsbFwiLCBHcmFtbWFyTWFya1R5cGUuaW50ZXJ2YWwgPSBcImludGVydmFsXCIsIFxuICAgIEdyYW1tYXJNYXJrVHlwZS5ncm91cCA9IFwiZ3JvdXBcIiwgR3JhbW1hck1hcmtUeXBlLmdseXBoID0gXCJnbHlwaFwiLCBHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50ID0gXCJjb21wb25lbnRcIiwgXG4gICAgR3JhbW1hck1hcmtUeXBlLmxhcmdlUmVjdHMgPSBcImxhcmdlUmVjdHNcIiwgR3JhbW1hck1hcmtUeXBlLmxhcmdlU3ltYm9scyA9IFwibGFyZ2VTeW1ib2xzXCI7XG59KEdyYW1tYXJNYXJrVHlwZSB8fCAoR3JhbW1hck1hcmtUeXBlID0ge30pKTtcblxuZXhwb3J0IHZhciBDb21wb25lbnRFbnVtO1xuXG4hZnVuY3Rpb24oQ29tcG9uZW50RW51bSkge1xuICAgIENvbXBvbmVudEVudW0uYXhpcyA9IFwiYXhpc1wiLCBDb21wb25lbnRFbnVtLmdyaWQgPSBcImdyaWRcIiwgQ29tcG9uZW50RW51bS5sZWdlbmQgPSBcImxlZ2VuZFwiLCBcbiAgICBDb21wb25lbnRFbnVtLnNsaWRlciA9IFwic2xpZGVyXCIsIENvbXBvbmVudEVudW0ubGFiZWwgPSBcImxhYmVsXCIsIENvbXBvbmVudEVudW0uZGF0YXpvb20gPSBcImRhdGF6b29tXCIsIFxuICAgIENvbXBvbmVudEVudW0ucGxheWVyID0gXCJwbGF5ZXJcIiwgQ29tcG9uZW50RW51bS50aXRsZSA9IFwidGl0bGVcIiwgQ29tcG9uZW50RW51bS5zY3JvbGxiYXIgPSBcInNjcm9sbGJhclwiO1xufShDb21wb25lbnRFbnVtIHx8IChDb21wb25lbnRFbnVtID0ge30pKTtcblxuZXhwb3J0IHZhciBEYXRhRmlsdGVyUmFuaztcblxuIWZ1bmN0aW9uKERhdGFGaWx0ZXJSYW5rKSB7XG4gICAgRGF0YUZpbHRlclJhbmtbRGF0YUZpbHRlclJhbmsucGxheWVyID0gMV0gPSBcInBsYXllclwiLCBEYXRhRmlsdGVyUmFua1tEYXRhRmlsdGVyUmFuay5yb2xsVXAgPSAyXSA9IFwicm9sbFVwXCIsIFxuICAgIERhdGFGaWx0ZXJSYW5rW0RhdGFGaWx0ZXJSYW5rLmRyaWxsRG93biA9IDNdID0gXCJkcmlsbERvd25cIiwgRGF0YUZpbHRlclJhbmtbRGF0YUZpbHRlclJhbmsuc2xpZGVyID0gNF0gPSBcInNsaWRlclwiLCBcbiAgICBEYXRhRmlsdGVyUmFua1tEYXRhRmlsdGVyUmFuay5kYXRhem9vbSA9IDVdID0gXCJkYXRhem9vbVwiLCBEYXRhRmlsdGVyUmFua1tEYXRhRmlsdGVyUmFuay5sZWdlbmQgPSA2XSA9IFwibGVnZW5kXCIsIFxuICAgIERhdGFGaWx0ZXJSYW5rW0RhdGFGaWx0ZXJSYW5rLnNjcm9sbGJhciA9IDddID0gXCJzY3JvbGxiYXJcIiwgRGF0YUZpbHRlclJhbmtbRGF0YUZpbHRlclJhbmsuYnJ1c2ggPSA4XSA9IFwiYnJ1c2hcIiwgXG4gICAgRGF0YUZpbHRlclJhbmtbRGF0YUZpbHRlclJhbmsubm9ybWFsID0gOV0gPSBcIm5vcm1hbFwiO1xufShEYXRhRmlsdGVyUmFuayB8fCAoRGF0YUZpbHRlclJhbmsgPSB7fSkpO1xuXG5leHBvcnQgdmFyIEF4aXNFbnVtO1xuXG4hZnVuY3Rpb24oQXhpc0VudW0pIHtcbiAgICBBeGlzRW51bS5saW5lQXhpcyA9IFwibGluZUF4aXNcIiwgQXhpc0VudW0uY2lyY2xlQXhpcyA9IFwiY2lyY2xlQXhpc1wiO1xufShBeGlzRW51bSB8fCAoQXhpc0VudW0gPSB7fSkpO1xuXG5leHBvcnQgdmFyIEdyaWRFbnVtO1xuXG4hZnVuY3Rpb24oR3JpZEVudW0pIHtcbiAgICBHcmlkRW51bS5saW5lQXhpc0dyaWQgPSBcImxpbmVBeGlzR3JpZFwiLCBHcmlkRW51bS5jaXJjbGVBeGlzR3JpZCA9IFwiY2lyY2xlQXhpc0dyaWRcIjtcbn0oR3JpZEVudW0gfHwgKEdyaWRFbnVtID0ge30pKTtcblxuZXhwb3J0IHZhciBMZWdlbmRFbnVtO1xuXG4hZnVuY3Rpb24oTGVnZW5kRW51bSkge1xuICAgIExlZ2VuZEVudW0uZGlzY3JldGVMZWdlbmQgPSBcImRpc2NyZXRlTGVnZW5kXCIsIExlZ2VuZEVudW0uY29sb3JMZWdlbmQgPSBcImNvbG9yTGVnZW5kXCIsIFxuICAgIExlZ2VuZEVudW0uc2l6ZUxlZ2VuZCA9IFwic2l6ZUxlZ2VuZFwiO1xufShMZWdlbmRFbnVtIHx8IChMZWdlbmRFbnVtID0ge30pKTtcblxuZXhwb3J0IHZhciBDcm9zc2hhaXJFbnVtO1xuXG4hZnVuY3Rpb24oQ3Jvc3NoYWlyRW51bSkge1xuICAgIENyb3NzaGFpckVudW0ubGluZUNyb3NzaGFpciA9IFwibGluZUNyb3NzaGFpclwiLCBDcm9zc2hhaXJFbnVtLnJlY3RDcm9zc2hhaXIgPSBcInJlY3RDcm9zc2hhaXJcIiwgXG4gICAgQ3Jvc3NoYWlyRW51bS5zZWN0b3JDcm9zc2hhaXIgPSBcInNlY3RvckNyb3NzaGFpclwiLCBDcm9zc2hhaXJFbnVtLmNpcmNsZUNyb3NzaGFpciA9IFwiY2lyY2xlQ3Jvc3NoYWlyXCIsIFxuICAgIENyb3NzaGFpckVudW0ucG9seWdvbkNyb3NzaGFpciA9IFwicG9seWdvbkNyb3NzaGFpclwiLCBDcm9zc2hhaXJFbnVtLnJpbmdDcm9zc2hhaXIgPSBcInJpbmdDcm9zc2hhaXJcIjtcbn0oQ3Jvc3NoYWlyRW51bSB8fCAoQ3Jvc3NoYWlyRW51bSA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgTGFiZWxFbnVtO1xuXG4hZnVuY3Rpb24oTGFiZWxFbnVtKSB7XG4gICAgTGFiZWxFbnVtLnN5bWJvbExhYmVsID0gXCJzeW1ib2xMYWJlbFwiLCBMYWJlbEVudW0ucmVjdExhYmVsID0gXCJyZWN0TGFiZWxcIiwgTGFiZWxFbnVtLmxpbmVMYWJlbCA9IFwibGluZUxhYmVsXCIsIFxuICAgIExhYmVsRW51bS5kYXRhTGFiZWwgPSBcImRhdGFMYWJlbFwiO1xufShMYWJlbEVudW0gfHwgKExhYmVsRW51bSA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgUGxheWVyRW51bTtcblxuIWZ1bmN0aW9uKFBsYXllckVudW0pIHtcbiAgICBQbGF5ZXJFbnVtLmNvbnRpbnVvdXNQbGF5ZXIgPSBcImNvbnRpbnVvdXNQbGF5ZXJcIiwgUGxheWVyRW51bS5kaXNjcmV0ZVBsYXllciA9IFwiZGlzY3JldGVQbGF5ZXJcIjtcbn0oUGxheWVyRW51bSB8fCAoUGxheWVyRW51bSA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgTGF5b3V0U3RhdGU7XG5cbiFmdW5jdGlvbihMYXlvdXRTdGF0ZSkge1xuICAgIExheW91dFN0YXRlLmJlZm9yZSA9IFwiYmVmb3JlXCIsIExheW91dFN0YXRlLmxheW91dGluZyA9IFwibGF5b3V0aW5nXCIsIExheW91dFN0YXRlLnJlZXZhbHVhdGUgPSBcInJlZXZhbHVhdGVcIiwgXG4gICAgTGF5b3V0U3RhdGUuYWZ0ZXIgPSBcImFmdGVyXCI7XG59KExheW91dFN0YXRlIHx8IChMYXlvdXRTdGF0ZSA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgSE9PS19FVkVOVDtcblxuIWZ1bmN0aW9uKEhPT0tfRVZFTlQpIHtcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9FVkFMVUFURV9EQVRBID0gXCJiZWZvcmVFdmFsdWF0ZURhdGFcIiwgSE9PS19FVkVOVC5BRlRFUl9FVkFMVUFURV9EQVRBID0gXCJhZnRlckV2YWx1YXRlRGF0YVwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9FVkFMVUFURV9TQ0FMRSA9IFwiYmVmb3JlRXZhbHVhdGVTY2FsZVwiLCBIT09LX0VWRU5ULkFGVEVSX0VWQUxVQVRFX1NDQUxFID0gXCJhZnRlckV2YWx1YXRlU2NhbGVcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfUEFSU0VfVklFVyA9IFwiYmVmb3JlUGFyc2VWaWV3XCIsIEhPT0tfRVZFTlQuQUZURVJfUEFSU0VfVklFVyA9IFwiYWZ0ZXJQYXJzZVZpZXdcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfVFJBTlNGT1JNID0gXCJiZWZvcmVUcmFuc2Zvcm1cIiwgSE9PS19FVkVOVC5BRlRFUl9UUkFOU0ZPUk0gPSBcImFmdGVyVHJhbnNmb3JtXCIsIFxuICAgIEhPT0tfRVZFTlQuQkVGT1JFX0NSRUFURV9WUkVOREVSX1NUQUdFID0gXCJiZWZvcmVDcmVhdGVWUmVuZGVyU3RhZ2VcIiwgSE9PS19FVkVOVC5BRlRFUl9DUkVBVEVfVlJFTkRFUl9TVEFHRSA9IFwiYWZ0ZXJDcmVhdGVWUmVuZGVyU3RhZ2VcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfQ1JFQVRFX1ZSRU5ERVJfTEFZRVIgPSBcImJlZm9yZUNyZWF0ZVZSZW5kZXJMYXllclwiLCBIT09LX0VWRU5ULkFGVEVSX0NSRUFURV9WUkVOREVSX0xBWUVSID0gXCJhZnRlckNyZWF0ZVZSZW5kZXJMYXllclwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9TVEFHRV9SRVNJWkUgPSBcImJlZm9yZVN0YWdlUmVzaXplXCIsIEhPT0tfRVZFTlQuQUZURVJfU1RBR0VfUkVTSVpFID0gXCJhZnRlclN0YWdlUmVzaXplXCIsIFxuICAgIEhPT0tfRVZFTlQuQkVGT1JFX1ZSRU5ERVJfRFJBVyA9IFwiYmVmb3JlVlJlbmRlckRyYXdcIiwgSE9PS19FVkVOVC5BRlRFUl9WUkVOREVSX0RSQVcgPSBcImFmdGVyVlJlbmRlckRyYXdcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfTUFSS19KT0lOID0gXCJiZWZvcmVNYXJrSm9pblwiLCBIT09LX0VWRU5ULkFGVEVSX01BUktfSk9JTiA9IFwiYWZ0ZXJNYXJrSm9pblwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9NQVJLX1VQREFURSA9IFwiYmVmb3JlTWFya1VwZGF0ZVwiLCBIT09LX0VWRU5ULkFGVEVSX01BUktfVVBEQVRFID0gXCJhZnRlck1hcmtVcGRhdGVcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfTUFSS19TVEFURSA9IFwiYmVmb3JlTWFya1N0YXRlXCIsIEhPT0tfRVZFTlQuQUZURVJfTUFSS19TVEFURSA9IFwiYWZ0ZXJNYXJrU3RhdGVcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfTUFSS19FTkNPREUgPSBcImJlZm9yZU1hcmtFbmNvZGVcIiwgSE9PS19FVkVOVC5BRlRFUl9NQVJLX0VOQ09ERSA9IFwiYWZ0ZXJNYXJrRW5jb2RlXCIsIFxuICAgIEhPT0tfRVZFTlQuQkVGT1JFX0RPX0xBWU9VVCA9IFwiYmVmb3JlRG9MYXlvdXRcIiwgSE9PS19FVkVOVC5BRlRFUl9ET19MQVlPVVQgPSBcImFmdGVyRG9MYXlvdXRcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfTUFSS19MQVlPVVRfRU5EID0gXCJiZWZvcmVNYXJrTGF5b3V0RW5kXCIsIEhPT0tfRVZFTlQuQUZURVJfTUFSS19MQVlPVVRfRU5EID0gXCJhZnRlck1hcmtMYXlvdXRFbmRcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfRE9fUkVOREVSID0gXCJiZWZvcmVEb1JlbmRlclwiLCBIT09LX0VWRU5ULkFGVEVSX0RPX1JFTkRFUiA9IFwiYWZ0ZXJEb1JlbmRlclwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9NQVJLX1JFTkRFUl9FTkQgPSBcImJlZm9yZU1hcmtSZW5kZXJFbmRcIiwgSE9PS19FVkVOVC5BRlRFUl9NQVJLX1JFTkRFUl9FTkQgPSBcImFmdGVyTWFya1JlbmRlckVuZFwiLCBcbiAgICBIT09LX0VWRU5ULkJFRk9SRV9DUkVBVEVfVlJFTkRFUl9NQVJLID0gXCJiZWZvcmVDcmVhdGVWUmVuZGVyTWFya1wiLCBIT09LX0VWRU5ULkFGVEVSX0NSRUFURV9WUkVOREVSX01BUksgPSBcImFmdGVyQ3JlYXRlVlJlbmRlck1hcmtcIiwgXG4gICAgSE9PS19FVkVOVC5CRUZPUkVfQUREX1ZSRU5ERVJfTUFSSyA9IFwiYmVmb3JlQWRkVlJlbmRlck1hcmtcIiwgSE9PS19FVkVOVC5BRlRFUl9BRERfVlJFTkRFUl9NQVJLID0gXCJhZnRlckFkZFZSZW5kZXJNYXJrXCIsIFxuICAgIEhPT0tfRVZFTlQuQUZURVJfVlJFTkRFUl9ORVhUX1JFTkRFUiA9IFwiYWZ0ZXJWUmVuZGVyTmV4dFJlbmRlclwiLCBIT09LX0VWRU5ULkJFRk9SRV9FTEVNRU5UX1VQREFURV9EQVRBID0gXCJiZWZvcmVFbGVtZW50VXBkYXRlRGF0YVwiLCBcbiAgICBIT09LX0VWRU5ULkFGVEVSX0VMRU1FTlRfVVBEQVRFX0RBVEEgPSBcImFmdGVyRWxlbWVudFVwZGF0ZURhdGFcIiwgSE9PS19FVkVOVC5CRUZPUkVfRUxFTUVOVF9TVEFURSA9IFwiYmVmb3JlRWxlbWVudFN0YXRlXCIsIFxuICAgIEhPT0tfRVZFTlQuQUZURVJfRUxFTUVOVF9TVEFURSA9IFwiYWZ0ZXJFbGVtZW50U3RhdGVcIiwgSE9PS19FVkVOVC5CRUZPUkVfRUxFTUVOVF9FTkNPREUgPSBcImJlZm9yZUVsZW1lbnRFbmNvZGVcIiwgXG4gICAgSE9PS19FVkVOVC5BRlRFUl9FTEVNRU5UX0VOQ09ERSA9IFwiYWZ0ZXJFbGVtZW50RW5jb2RlXCIsIEhPT0tfRVZFTlQuQU5JTUFUSU9OX1NUQVJUID0gXCJhbmltYXRpb25TdGFydFwiLCBcbiAgICBIT09LX0VWRU5ULkFOSU1BVElPTl9FTkQgPSBcImFuaW1hdGlvbkVuZFwiLCBIT09LX0VWRU5ULkVMRU1FTlRfQU5JTUFUSU9OX1NUQVJUID0gXCJlbGVtZW50QW5pbWF0aW9uU3RhcnRcIiwgXG4gICAgSE9PS19FVkVOVC5FTEVNRU5UX0FOSU1BVElPTl9FTkQgPSBcImVsZW1lbnRBbmltYXRpb25FbmRcIiwgSE9PS19FVkVOVC5BTExfQU5JTUFUSU9OX1NUQVJUID0gXCJhbGxBbmltYXRpb25TdGFydFwiLCBcbiAgICBIT09LX0VWRU5ULkFMTF9BTklNQVRJT05fRU5EID0gXCJhbGxBbmltYXRpb25FbmRcIjtcbn0oSE9PS19FVkVOVCB8fCAoSE9PS19FVkVOVCA9IHt9KSk7XG5cbmV4cG9ydCB2YXIgR3JhbW1hclR5cGVFbnVtO1xuXG4hZnVuY3Rpb24oR3JhbW1hclR5cGVFbnVtKSB7XG4gICAgR3JhbW1hclR5cGVFbnVtLnNpZ25hbCA9IFwic2lnbmFsXCIsIEdyYW1tYXJUeXBlRW51bS5kYXRhID0gXCJkYXRhXCIsIEdyYW1tYXJUeXBlRW51bS5zY2FsZSA9IFwic2NhbGVcIiwgXG4gICAgR3JhbW1hclR5cGVFbnVtLmNvb3JkaW5hdGUgPSBcImNvb3JkaW5hdGVcIiwgR3JhbW1hclR5cGVFbnVtLm1hcmsgPSBcIm1hcmtcIjtcbn0oR3JhbW1hclR5cGVFbnVtIHx8IChHcmFtbWFyVHlwZUVudW0gPSB7fSkpO1xuXG5leHBvcnQgdmFyIEludGVyYWN0aW9uU3RhdGVFbnVtO1xuXG4hZnVuY3Rpb24oSW50ZXJhY3Rpb25TdGF0ZUVudW0pIHtcbiAgICBJbnRlcmFjdGlvblN0YXRlRW51bS5hY3RpdmUgPSBcImFjdGl2ZVwiLCBJbnRlcmFjdGlvblN0YXRlRW51bS5zZWxlY3RlZCA9IFwic2VsZWN0ZWRcIiwgXG4gICAgSW50ZXJhY3Rpb25TdGF0ZUVudW0uaGlnaGxpZ2h0ID0gXCJoaWdobGlnaHRcIiwgSW50ZXJhY3Rpb25TdGF0ZUVudW0uYmx1ciA9IFwiYmx1clwiO1xufShJbnRlcmFjdGlvblN0YXRlRW51bSB8fCAoSW50ZXJhY3Rpb25TdGF0ZUVudW0gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW51bXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/glyph-element.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/glyph-element.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlyphElement: () => (/* binding */ GlyphElement)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isBoolean.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/has.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isEqual.js\");\n/* harmony import */ var _attributes_transform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./attributes/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/element.js\");\n/* harmony import */ var _mark_encode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nclass GlyphElement extends _element__WEBPACK_IMPORTED_MODULE_0__.Element {\n    constructor(mark) {\n        super(mark), this.getStateAttrs = (stateName, nextStates) => {\n            var _a, _b, _c, _d;\n            const isRuntimeState = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(null === (_a = this.runtimeStatesEncoder) || void 0 === _a ? void 0 : _a[stateName]), encoder = isRuntimeState ? Object.assign(Object.assign({}, null === (_b = this.mark.getSpec().encode) || void 0 === _b ? void 0 : _b[stateName]), this.runtimeStatesEncoder[stateName]) : null === (_c = this.mark.getSpec().encode) || void 0 === _c ? void 0 : _c[stateName], glyphStateAttributes = {};\n            if (!encoder) return glyphStateAttributes;\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(encoder)) return glyphStateAttributes.attributes = encoder(this.getDatum(), this, stateName, nextStates), \n            glyphStateAttributes;\n            if (!isRuntimeState && (null === (_d = this.graphicItem.glyphStates) || void 0 === _d ? void 0 : _d[stateName])) return this.graphicItem.glyphStates[stateName];\n            if (encoder) {\n                const item = this.items[0], targetItems = [ Object.assign({}, item, {\n                    nextAttrs: {}\n                }) ];\n                return (0,_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoderToItems)(this, targetItems, encoder, this.mark.parameters()), \n                this.coordinateTransformEncode(targetItems), glyphStateAttributes.attributes = targetItems[0].nextAttrs, \n                this.graphicItem.glyphStates ? this.graphicItem.glyphStates[stateName] || (this.graphicItem.glyphStates[stateName] = glyphStateAttributes) : this.graphicItem.glyphStates = {\n                    [stateName]: glyphStateAttributes\n                }, glyphStateAttributes;\n            }\n            return glyphStateAttributes;\n        }, this.glyphMeta = this.mark.getGlyphMeta();\n    }\n    getGlyphGraphicItems() {\n        return this.glyphGraphicItems;\n    }\n    initGraphicItem(attributes = {}) {\n        if (this.graphicItem) return;\n        this.graphicItem = this.mark.addGraphicItem(attributes, this.groupKey), this.graphicItem[_constants__WEBPACK_IMPORTED_MODULE_4__.BridgeElementKey] = this, \n        this.graphicItem.onBeforeAttributeUpdate = this._onGlyphAttributeUpdate(!1);\n        const glyphMarks = this.glyphMeta.getMarks();\n        this.glyphGraphicItems = {}, this.graphicItem.getSubGraphic().forEach((graphic => {\n            const markType = glyphMarks[graphic.name];\n            this.glyphGraphicItems[graphic.name] = graphic, graphic.onBeforeAttributeUpdate = attributes => {\n                if (!this.mark) return attributes;\n                return (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_5__.transformAttributes)(markType, attributes, this, graphic.name);\n            };\n        })), this.clearGraphicAttributes();\n    }\n    useStates(states, hasAnimation) {\n        if (!this.graphicItem) return !1;\n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_6__.HOOK_EVENT.BEFORE_ELEMENT_STATE, {\n            states: states\n        }, this), this.states = states.slice();\n        const stateAnimationEnable = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(hasAnimation) ? hasAnimation : this.hasStateAnimation();\n        return this.graphicItem.glyphStateProxy = this.getStateAttrs, this.graphicItem.useStates(this.states, stateAnimationEnable), \n        this.mark.emit(_enums__WEBPACK_IMPORTED_MODULE_6__.HOOK_EVENT.AFTER_ELEMENT_STATE, {\n            states: states\n        }, this), !0;\n    }\n    encodeGraphic() {\n        this.coordinateTransformEncode(this.items);\n        const graphicAttributes = this.transformElementItems(this.items, this.mark.markType), isGraphicInit = !this.graphicItem;\n        this.graphicItem ? (this.graphicItem.clearStates(), this.graphicItem.states = {}, \n        this.graphicItem.stateProxy = null) : this.initGraphicItem(), this.diffState === _enums__WEBPACK_IMPORTED_MODULE_6__.DiffState.enter || isGraphicInit ? (this.graphicItem.onBeforeAttributeUpdate = this._onGlyphAttributeUpdate(!0), \n        this.applyGraphicAttributes(graphicAttributes), this.graphicItem.onBeforeAttributeUpdate = this._onGlyphAttributeUpdate(!1)) : this.applyGraphicAttributes(graphicAttributes), \n        this.diffState !== _enums__WEBPACK_IMPORTED_MODULE_6__.DiffState.enter && this.diffState !== _enums__WEBPACK_IMPORTED_MODULE_6__.DiffState.update || !this.states.length || (Object.values(this.glyphGraphicItems).forEach((graphicItem => {\n            graphicItem.states = {};\n        })), this.useStates(this.states)), this.items.map((item => {\n            item.nextAttrs = {};\n        }));\n    }\n    encodeCustom(nextAttrs) {\n        var _a;\n        let customEncodeValues = {};\n        const channelEncoder = this.glyphMeta.getChannelEncoder(), functionEncoder = this.glyphMeta.getFunctionEncoder();\n        if (functionEncoder && (customEncodeValues = functionEncoder.call(null, Object.assign({}, null === (_a = this.graphicItem) || void 0 === _a ? void 0 : _a.attribute, nextAttrs), this.getDatum(), this, this.mark.getGlyphConfig())), \n        channelEncoder) {\n            let allAttrs;\n            Object.keys(channelEncoder).forEach((channel => {\n                var _a;\n                if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(nextAttrs[channel])) {\n                    allAttrs || (allAttrs = Object.assign({}, null === (_a = this.graphicItem) || void 0 === _a ? void 0 : _a.attribute, nextAttrs));\n                    const encodeResult = channelEncoder[channel].call(null, channel, nextAttrs[channel], allAttrs, this.getDatum(), this, this.mark.getGlyphConfig());\n                    Object.keys(null != encodeResult ? encodeResult : {}).forEach((markName => {\n                        var _a;\n                        customEncodeValues[markName] = Object.assign(null !== (_a = customEncodeValues[markName]) && void 0 !== _a ? _a : {}, encodeResult[markName]);\n                    }));\n                }\n            }));\n        }\n        return customEncodeValues;\n    }\n    encodeDefault() {\n        const defaultEncodeValues = {};\n        if (this.glyphMeta.getDefaultEncoder()) {\n            const defaultEncodeResult = this.glyphMeta.getDefaultEncoder().call(null, this.getDatum(), this, this.mark.getGlyphConfig());\n            Object.assign(defaultEncodeValues, defaultEncodeResult);\n        }\n        return defaultEncodeValues;\n    }\n    _onGlyphAttributeUpdate(first = !1) {\n        return attributes => {\n            if (!this.mark) return attributes;\n            const glyphMarks = this.glyphMeta.getMarks(), graphicAttributes = (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_5__.transformAttributes)(this.mark.getAttributeTransforms(), attributes, this), defaultEncodeValues = first ? this.encodeDefault() : null, customEncodeValues = this.encodeCustom(attributes);\n            return Object.keys(glyphMarks).forEach((markName => {\n                const markType = glyphMarks[markName], graphicItem = this.glyphGraphicItems[markName], customAttributes = null == customEncodeValues ? void 0 : customEncodeValues[markName], additionalAttributes = Object.assign({}, customAttributes);\n                if (first) {\n                    const defaultAttributes = null == defaultEncodeValues ? void 0 : defaultEncodeValues[markName];\n                    Object.keys(null != defaultAttributes ? defaultAttributes : {}).forEach((key => {\n                        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this.items[0].nextAttrs, key) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(additionalAttributes, key) || (additionalAttributes[key] = defaultAttributes[key]);\n                    }));\n                }\n                const glyphAttributes = Object.assign({}, (0,_attributes_transform__WEBPACK_IMPORTED_MODULE_5__.cloneTransformAttributes)(markType, attributes), additionalAttributes), glyphItems = this._generateGlyphItems(markType, this.items, glyphAttributes);\n                this.coordinateTransformEncode(glyphItems);\n                const graphicAttributes = this.transformElementItems(glyphItems, markType);\n                this.applyGlyphGraphicAttributes(graphicAttributes, markName, graphicItem), markType === _enums__WEBPACK_IMPORTED_MODULE_6__.GrammarMarkType.shape && (graphicItem.datum = glyphItems[0].datum);\n            })), graphicAttributes;\n        };\n    }\n    _generateGlyphItems(markType, items, additionalAttributes) {\n        const glyphItems = items.map((item => Object.assign({}, item, {\n            nextAttrs: additionalAttributes\n        })));\n        return _constants__WEBPACK_IMPORTED_MODULE_4__.CollectionMarkType.includes(markType) && this.mark.getSpec().enableSegments && glyphItems.forEach(((glyphItem, index) => {\n            glyphItem.nextAttrs = Object.assign({}, items[index].nextAttrs, additionalAttributes);\n        })), glyphItems;\n    }\n    getGraphicAttribute(channel, prev = !1, markName) {\n        if (!this.graphicItem) return;\n        const prevGraphicAttributes = this.getPrevGraphicAttributes(markName);\n        if (prev && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(prevGraphicAttributes, channel)) return prevGraphicAttributes[channel];\n        return (markName ? this.glyphGraphicItems[markName] : this.graphicItem).attribute[channel];\n    }\n    setGraphicAttribute(channel, value, final = !0, markName) {\n        if (!this.graphicItem) return;\n        const graphicItem = markName ? this.glyphGraphicItems[markName] : this.graphicItem, finalGraphicAttributes = this.getFinalGraphicAttributes(markName), prevGraphicAttributes = this.getPrevGraphicAttributes(markName);\n        final && (finalGraphicAttributes[channel] = value), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(prevGraphicAttributes, channel) || (prevGraphicAttributes[channel] = graphicItem.attribute[channel]), \n        graphicItem.setAttribute(channel, value);\n    }\n    setGraphicAttributes(attributes, final = !0, markName) {\n        if (!this.graphicItem) return;\n        const graphicItem = markName ? this.glyphGraphicItems[markName] : this.graphicItem, finalGraphicAttributes = this.getFinalGraphicAttributes(markName), prevGraphicAttributes = this.getPrevGraphicAttributes(markName);\n        Object.keys(attributes).forEach((key => {\n            final && (finalGraphicAttributes[key] = attributes[key]), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(prevGraphicAttributes, key) || (prevGraphicAttributes[key] = graphicItem.attribute[key]);\n        })), graphicItem.setAttributes(attributes);\n    }\n    diffAttributes(graphicAttributes, markName) {\n        const diffResult = {}, finalGraphicAttributes = this.getFinalGraphicAttributes(markName);\n        for (const key in graphicAttributes) (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(finalGraphicAttributes, key) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__.isEqual)(finalGraphicAttributes[key], graphicAttributes[key]) || (diffResult[key] = graphicAttributes[key]);\n        return diffResult;\n    }\n    applyGlyphGraphicAttributes(graphicAttributes, markName, graphicItem) {\n        var _a, _b;\n        if (this.mark.needAnimate()) {\n            const nextGraphicAttributes = this.diffAttributes(graphicAttributes, markName), prevGraphicAttributes = null !== (_a = this.getPrevGraphicAttributes(markName)) && void 0 !== _a ? _a : {}, finalGraphicAttributes = null !== (_b = this.getFinalGraphicAttributes(markName)) && void 0 !== _b ? _b : {};\n            Object.keys(nextGraphicAttributes).forEach((channel => {\n                prevGraphicAttributes[channel] = graphicItem.attribute[channel], finalGraphicAttributes[channel] = nextGraphicAttributes[channel];\n            })), this.setNextGraphicAttributes(nextGraphicAttributes, markName), this.setPrevGraphicAttributes(prevGraphicAttributes, markName), \n            this.setFinalGraphicAttributes(finalGraphicAttributes, markName), graphicItem.setAttributes(nextGraphicAttributes);\n        } else graphicItem.setAttributes(graphicAttributes);\n    }\n    getFinalGraphicAttributes(markName) {\n        return (markName ? this.glyphGraphicItems[markName] : this.graphicItem).finalAttrs;\n    }\n    setFinalGraphicAttributes(attributes, markName) {\n        (markName ? this.glyphGraphicItems[markName] : this.graphicItem).finalAttrs = attributes;\n    }\n    getPrevGraphicAttributes(markName) {\n        return (markName ? this.glyphGraphicItems[markName] : this.graphicItem).prevAttrs;\n    }\n    setPrevGraphicAttributes(attributes, markName) {\n        (markName ? this.glyphGraphicItems[markName] : this.graphicItem).prevAttrs = attributes;\n    }\n    getNextGraphicAttributes(markName) {\n        return (markName ? this.glyphGraphicItems[markName] : this.graphicItem).nextAttrs;\n    }\n    setNextGraphicAttributes(attributes, markName) {\n        (markName ? this.glyphGraphicItems[markName] : this.graphicItem).nextAttrs = attributes;\n    }\n    clearChangedGraphicAttributes() {\n        this.setPrevGraphicAttributes(null), this.setNextGraphicAttributes(null), Object.keys(this.glyphGraphicItems).forEach((markName => {\n            this.setPrevGraphicAttributes(null, markName), this.setNextGraphicAttributes(null, markName);\n        }));\n    }\n    clearGraphicAttributes() {\n        this.setPrevGraphicAttributes(null), this.setNextGraphicAttributes(null), this.setFinalGraphicAttributes(null), \n        Object.keys(this.glyphGraphicItems).forEach((markName => {\n            this.setPrevGraphicAttributes(null, markName), this.setNextGraphicAttributes(null, markName), \n            this.setFinalGraphicAttributes(null, markName);\n        }));\n    }\n    remove() {\n        this.glyphGraphicItems = null, super.remove();\n    }\n    release() {\n        this.glyphGraphicItems && (Object.values(this.glyphGraphicItems).forEach((graphicItem => {\n            graphicItem[_constants__WEBPACK_IMPORTED_MODULE_4__.BridgeElementKey] = null;\n        })), this.glyphGraphicItems = null), super.release();\n    }\n}\n//# sourceMappingURL=glyph-element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvZ2x5cGgtZWxlbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUE4RTs7QUFFUzs7QUFFcEI7O0FBRUY7O0FBRTdCOztBQUVpQjs7QUFFOUMsMkJBQTJCLDZDQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw0REFBSyxnSkFBZ0o7QUFDekw7QUFDQSxnQkFBZ0IsNERBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0EsaUJBQWlCO0FBQ2pCLHVCQUF1QixrRUFBb0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQSxpR0FBaUcsd0RBQWdCO0FBQ2pIO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBFQUFtQjtBQUMxQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOENBQVU7QUFDakM7QUFDQSxTQUFTO0FBQ1QscUNBQXFDLDREQUFTO0FBQzlDO0FBQ0EsdUJBQXVCLDhDQUFVO0FBQ2pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGO0FBQ3hGLHlGQUF5Riw2Q0FBUztBQUNsRztBQUNBLDJCQUEyQiw2Q0FBUyw2QkFBNkIsNkNBQVM7QUFDMUU7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRztBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0REFBSztBQUMxQiw0REFBNEQ7QUFDNUQ7QUFDQSx3RUFBd0U7QUFDeEU7QUFDQSw0SUFBNEk7QUFDNUkscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsMEVBQW1CO0FBQ2pHO0FBQ0EscU9BQXFPO0FBQ3JPO0FBQ0E7QUFDQSxrRkFBa0Y7QUFDbEYsd0JBQXdCLDREQUFHLGtDQUFrQyw0REFBRztBQUNoRSxxQkFBcUI7QUFDckI7QUFDQSx3REFBd0QsRUFBRSwrRUFBd0I7QUFDbEY7QUFDQTtBQUNBLHlHQUF5RyxtREFBZTtBQUN4SCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0EsU0FBUztBQUNULGVBQWUsMERBQWtCO0FBQ2pDLGtEQUFrRDtBQUNsRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQUc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCw0REFBRztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsNERBQUc7QUFDekUsU0FBUztBQUNUO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsNkNBQTZDLDREQUFHLGlDQUFpQyx5REFBTztBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc01BQXNNO0FBQ3RNO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3REFBZ0I7QUFDeEMsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvZ2x5cGgtZWxlbWVudC5qcz8zNzUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhcywgaXNOaWwsIGlzQm9vbGVhbiwgaXNGdW5jdGlvbiwgaXNFcXVhbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGNsb25lVHJhbnNmb3JtQXR0cmlidXRlcywgdHJhbnNmb3JtQXR0cmlidXRlcyB9IGZyb20gXCIuL2F0dHJpYnV0ZXMvdHJhbnNmb3JtXCI7XG5cbmltcG9ydCB7IEJyaWRnZUVsZW1lbnRLZXksIENvbGxlY3Rpb25NYXJrVHlwZSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBEaWZmU3RhdGUsIEhPT0tfRVZFTlQsIEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuL2VudW1zXCI7XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXJUb0l0ZW1zIH0gZnJvbSBcIi4vbWFyay9lbmNvZGVcIjtcblxuZXhwb3J0IGNsYXNzIEdseXBoRWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG1hcmspIHtcbiAgICAgICAgc3VwZXIobWFyayksIHRoaXMuZ2V0U3RhdGVBdHRycyA9IChzdGF0ZU5hbWUsIG5leHRTdGF0ZXMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgIGNvbnN0IGlzUnVudGltZVN0YXRlID0gIWlzTmlsKG51bGwgPT09IChfYSA9IHRoaXMucnVudGltZVN0YXRlc0VuY29kZXIpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVtzdGF0ZU5hbWVdKSwgZW5jb2RlciA9IGlzUnVudGltZVN0YXRlID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBudWxsID09PSAoX2IgPSB0aGlzLm1hcmsuZ2V0U3BlYygpLmVuY29kZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iW3N0YXRlTmFtZV0pLCB0aGlzLnJ1bnRpbWVTdGF0ZXNFbmNvZGVyW3N0YXRlTmFtZV0pIDogbnVsbCA9PT0gKF9jID0gdGhpcy5tYXJrLmdldFNwZWMoKS5lbmNvZGUpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfY1tzdGF0ZU5hbWVdLCBnbHlwaFN0YXRlQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICAgICAgaWYgKCFlbmNvZGVyKSByZXR1cm4gZ2x5cGhTdGF0ZUF0dHJpYnV0ZXM7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihlbmNvZGVyKSkgcmV0dXJuIGdseXBoU3RhdGVBdHRyaWJ1dGVzLmF0dHJpYnV0ZXMgPSBlbmNvZGVyKHRoaXMuZ2V0RGF0dW0oKSwgdGhpcywgc3RhdGVOYW1lLCBuZXh0U3RhdGVzKSwgXG4gICAgICAgICAgICBnbHlwaFN0YXRlQXR0cmlidXRlcztcbiAgICAgICAgICAgIGlmICghaXNSdW50aW1lU3RhdGUgJiYgKG51bGwgPT09IChfZCA9IHRoaXMuZ3JhcGhpY0l0ZW0uZ2x5cGhTdGF0ZXMpIHx8IHZvaWQgMCA9PT0gX2QgPyB2b2lkIDAgOiBfZFtzdGF0ZU5hbWVdKSkgcmV0dXJuIHRoaXMuZ3JhcGhpY0l0ZW0uZ2x5cGhTdGF0ZXNbc3RhdGVOYW1lXTtcbiAgICAgICAgICAgIGlmIChlbmNvZGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXNbMF0sIHRhcmdldEl0ZW1zID0gWyBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRBdHRyczoge31cbiAgICAgICAgICAgICAgICB9KSBdO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnZva2VFbmNvZGVyVG9JdGVtcyh0aGlzLCB0YXJnZXRJdGVtcywgZW5jb2RlciwgdGhpcy5tYXJrLnBhcmFtZXRlcnMoKSksIFxuICAgICAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZVRyYW5zZm9ybUVuY29kZSh0YXJnZXRJdGVtcyksIGdseXBoU3RhdGVBdHRyaWJ1dGVzLmF0dHJpYnV0ZXMgPSB0YXJnZXRJdGVtc1swXS5uZXh0QXR0cnMsIFxuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0uZ2x5cGhTdGF0ZXMgPyB0aGlzLmdyYXBoaWNJdGVtLmdseXBoU3RhdGVzW3N0YXRlTmFtZV0gfHwgKHRoaXMuZ3JhcGhpY0l0ZW0uZ2x5cGhTdGF0ZXNbc3RhdGVOYW1lXSA9IGdseXBoU3RhdGVBdHRyaWJ1dGVzKSA6IHRoaXMuZ3JhcGhpY0l0ZW0uZ2x5cGhTdGF0ZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIFtzdGF0ZU5hbWVdOiBnbHlwaFN0YXRlQXR0cmlidXRlc1xuICAgICAgICAgICAgICAgIH0sIGdseXBoU3RhdGVBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdseXBoU3RhdGVBdHRyaWJ1dGVzO1xuICAgICAgICB9LCB0aGlzLmdseXBoTWV0YSA9IHRoaXMubWFyay5nZXRHbHlwaE1ldGEoKTtcbiAgICB9XG4gICAgZ2V0R2x5cGhHcmFwaGljSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdseXBoR3JhcGhpY0l0ZW1zO1xuICAgIH1cbiAgICBpbml0R3JhcGhpY0l0ZW0oYXR0cmlidXRlcyA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNJdGVtKSByZXR1cm47XG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0gPSB0aGlzLm1hcmsuYWRkR3JhcGhpY0l0ZW0oYXR0cmlidXRlcywgdGhpcy5ncm91cEtleSksIHRoaXMuZ3JhcGhpY0l0ZW1bQnJpZGdlRWxlbWVudEtleV0gPSB0aGlzLCBcbiAgICAgICAgdGhpcy5ncmFwaGljSXRlbS5vbkJlZm9yZUF0dHJpYnV0ZVVwZGF0ZSA9IHRoaXMuX29uR2x5cGhBdHRyaWJ1dGVVcGRhdGUoITEpO1xuICAgICAgICBjb25zdCBnbHlwaE1hcmtzID0gdGhpcy5nbHlwaE1ldGEuZ2V0TWFya3MoKTtcbiAgICAgICAgdGhpcy5nbHlwaEdyYXBoaWNJdGVtcyA9IHt9LCB0aGlzLmdyYXBoaWNJdGVtLmdldFN1YkdyYXBoaWMoKS5mb3JFYWNoKChncmFwaGljID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtUeXBlID0gZ2x5cGhNYXJrc1tncmFwaGljLm5hbWVdO1xuICAgICAgICAgICAgdGhpcy5nbHlwaEdyYXBoaWNJdGVtc1tncmFwaGljLm5hbWVdID0gZ3JhcGhpYywgZ3JhcGhpYy5vbkJlZm9yZUF0dHJpYnV0ZVVwZGF0ZSA9IGF0dHJpYnV0ZXMgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5tYXJrKSByZXR1cm4gYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtQXR0cmlidXRlcyhtYXJrVHlwZSwgYXR0cmlidXRlcywgdGhpcywgZ3JhcGhpYy5uYW1lKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKSwgdGhpcy5jbGVhckdyYXBoaWNBdHRyaWJ1dGVzKCk7XG4gICAgfVxuICAgIHVzZVN0YXRlcyhzdGF0ZXMsIGhhc0FuaW1hdGlvbikge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybiAhMTtcbiAgICAgICAgdGhpcy5tYXJrLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfRUxFTUVOVF9TVEFURSwge1xuICAgICAgICAgICAgc3RhdGVzOiBzdGF0ZXNcbiAgICAgICAgfSwgdGhpcyksIHRoaXMuc3RhdGVzID0gc3RhdGVzLnNsaWNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXRlQW5pbWF0aW9uRW5hYmxlID0gaXNCb29sZWFuKGhhc0FuaW1hdGlvbikgPyBoYXNBbmltYXRpb24gOiB0aGlzLmhhc1N0YXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNJdGVtLmdseXBoU3RhdGVQcm94eSA9IHRoaXMuZ2V0U3RhdGVBdHRycywgdGhpcy5ncmFwaGljSXRlbS51c2VTdGF0ZXModGhpcy5zdGF0ZXMsIHN0YXRlQW5pbWF0aW9uRW5hYmxlKSwgXG4gICAgICAgIHRoaXMubWFyay5lbWl0KEhPT0tfRVZFTlQuQUZURVJfRUxFTUVOVF9TVEFURSwge1xuICAgICAgICAgICAgc3RhdGVzOiBzdGF0ZXNcbiAgICAgICAgfSwgdGhpcyksICEwO1xuICAgIH1cbiAgICBlbmNvZGVHcmFwaGljKCkge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVUcmFuc2Zvcm1FbmNvZGUodGhpcy5pdGVtcyk7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy50cmFuc2Zvcm1FbGVtZW50SXRlbXModGhpcy5pdGVtcywgdGhpcy5tYXJrLm1hcmtUeXBlKSwgaXNHcmFwaGljSW5pdCA9ICF0aGlzLmdyYXBoaWNJdGVtO1xuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtID8gKHRoaXMuZ3JhcGhpY0l0ZW0uY2xlYXJTdGF0ZXMoKSwgdGhpcy5ncmFwaGljSXRlbS5zdGF0ZXMgPSB7fSwgXG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0uc3RhdGVQcm94eSA9IG51bGwpIDogdGhpcy5pbml0R3JhcGhpY0l0ZW0oKSwgdGhpcy5kaWZmU3RhdGUgPT09IERpZmZTdGF0ZS5lbnRlciB8fCBpc0dyYXBoaWNJbml0ID8gKHRoaXMuZ3JhcGhpY0l0ZW0ub25CZWZvcmVBdHRyaWJ1dGVVcGRhdGUgPSB0aGlzLl9vbkdseXBoQXR0cmlidXRlVXBkYXRlKCEwKSwgXG4gICAgICAgIHRoaXMuYXBwbHlHcmFwaGljQXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcyksIHRoaXMuZ3JhcGhpY0l0ZW0ub25CZWZvcmVBdHRyaWJ1dGVVcGRhdGUgPSB0aGlzLl9vbkdseXBoQXR0cmlidXRlVXBkYXRlKCExKSkgOiB0aGlzLmFwcGx5R3JhcGhpY0F0dHJpYnV0ZXMoZ3JhcGhpY0F0dHJpYnV0ZXMpLCBcbiAgICAgICAgdGhpcy5kaWZmU3RhdGUgIT09IERpZmZTdGF0ZS5lbnRlciAmJiB0aGlzLmRpZmZTdGF0ZSAhPT0gRGlmZlN0YXRlLnVwZGF0ZSB8fCAhdGhpcy5zdGF0ZXMubGVuZ3RoIHx8IChPYmplY3QudmFsdWVzKHRoaXMuZ2x5cGhHcmFwaGljSXRlbXMpLmZvckVhY2goKGdyYXBoaWNJdGVtID0+IHtcbiAgICAgICAgICAgIGdyYXBoaWNJdGVtLnN0YXRlcyA9IHt9O1xuICAgICAgICB9KSksIHRoaXMudXNlU3RhdGVzKHRoaXMuc3RhdGVzKSksIHRoaXMuaXRlbXMubWFwKChpdGVtID0+IHtcbiAgICAgICAgICAgIGl0ZW0ubmV4dEF0dHJzID0ge307XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZW5jb2RlQ3VzdG9tKG5leHRBdHRycykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBjdXN0b21FbmNvZGVWYWx1ZXMgPSB7fTtcbiAgICAgICAgY29uc3QgY2hhbm5lbEVuY29kZXIgPSB0aGlzLmdseXBoTWV0YS5nZXRDaGFubmVsRW5jb2RlcigpLCBmdW5jdGlvbkVuY29kZXIgPSB0aGlzLmdseXBoTWV0YS5nZXRGdW5jdGlvbkVuY29kZXIoKTtcbiAgICAgICAgaWYgKGZ1bmN0aW9uRW5jb2RlciAmJiAoY3VzdG9tRW5jb2RlVmFsdWVzID0gZnVuY3Rpb25FbmNvZGVyLmNhbGwobnVsbCwgT2JqZWN0LmFzc2lnbih7fSwgbnVsbCA9PT0gKF9hID0gdGhpcy5ncmFwaGljSXRlbSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmF0dHJpYnV0ZSwgbmV4dEF0dHJzKSwgdGhpcy5nZXREYXR1bSgpLCB0aGlzLCB0aGlzLm1hcmsuZ2V0R2x5cGhDb25maWcoKSkpLCBcbiAgICAgICAgY2hhbm5lbEVuY29kZXIpIHtcbiAgICAgICAgICAgIGxldCBhbGxBdHRycztcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGNoYW5uZWxFbmNvZGVyKS5mb3JFYWNoKChjaGFubmVsID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05pbChuZXh0QXR0cnNbY2hhbm5lbF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbEF0dHJzIHx8IChhbGxBdHRycyA9IE9iamVjdC5hc3NpZ24oe30sIG51bGwgPT09IChfYSA9IHRoaXMuZ3JhcGhpY0l0ZW0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5hdHRyaWJ1dGUsIG5leHRBdHRycykpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmNvZGVSZXN1bHQgPSBjaGFubmVsRW5jb2RlcltjaGFubmVsXS5jYWxsKG51bGwsIGNoYW5uZWwsIG5leHRBdHRyc1tjaGFubmVsXSwgYWxsQXR0cnMsIHRoaXMuZ2V0RGF0dW0oKSwgdGhpcywgdGhpcy5tYXJrLmdldEdseXBoQ29uZmlnKCkpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhudWxsICE9IGVuY29kZVJlc3VsdCA/IGVuY29kZVJlc3VsdCA6IHt9KS5mb3JFYWNoKChtYXJrTmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21FbmNvZGVWYWx1ZXNbbWFya05hbWVdID0gT2JqZWN0LmFzc2lnbihudWxsICE9PSAoX2EgPSBjdXN0b21FbmNvZGVWYWx1ZXNbbWFya05hbWVdKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fSwgZW5jb2RlUmVzdWx0W21hcmtOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1c3RvbUVuY29kZVZhbHVlcztcbiAgICB9XG4gICAgZW5jb2RlRGVmYXVsdCgpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEVuY29kZVZhbHVlcyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5nbHlwaE1ldGEuZ2V0RGVmYXVsdEVuY29kZXIoKSkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEVuY29kZVJlc3VsdCA9IHRoaXMuZ2x5cGhNZXRhLmdldERlZmF1bHRFbmNvZGVyKCkuY2FsbChudWxsLCB0aGlzLmdldERhdHVtKCksIHRoaXMsIHRoaXMubWFyay5nZXRHbHlwaENvbmZpZygpKTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZGVmYXVsdEVuY29kZVZhbHVlcywgZGVmYXVsdEVuY29kZVJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRFbmNvZGVWYWx1ZXM7XG4gICAgfVxuICAgIF9vbkdseXBoQXR0cmlidXRlVXBkYXRlKGZpcnN0ID0gITEpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXMgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1hcmspIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgICAgICAgICAgY29uc3QgZ2x5cGhNYXJrcyA9IHRoaXMuZ2x5cGhNZXRhLmdldE1hcmtzKCksIGdyYXBoaWNBdHRyaWJ1dGVzID0gdHJhbnNmb3JtQXR0cmlidXRlcyh0aGlzLm1hcmsuZ2V0QXR0cmlidXRlVHJhbnNmb3JtcygpLCBhdHRyaWJ1dGVzLCB0aGlzKSwgZGVmYXVsdEVuY29kZVZhbHVlcyA9IGZpcnN0ID8gdGhpcy5lbmNvZGVEZWZhdWx0KCkgOiBudWxsLCBjdXN0b21FbmNvZGVWYWx1ZXMgPSB0aGlzLmVuY29kZUN1c3RvbShhdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhnbHlwaE1hcmtzKS5mb3JFYWNoKChtYXJrTmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFya1R5cGUgPSBnbHlwaE1hcmtzW21hcmtOYW1lXSwgZ3JhcGhpY0l0ZW0gPSB0aGlzLmdseXBoR3JhcGhpY0l0ZW1zW21hcmtOYW1lXSwgY3VzdG9tQXR0cmlidXRlcyA9IG51bGwgPT0gY3VzdG9tRW5jb2RlVmFsdWVzID8gdm9pZCAwIDogY3VzdG9tRW5jb2RlVmFsdWVzW21hcmtOYW1lXSwgYWRkaXRpb25hbEF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBjdXN0b21BdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEF0dHJpYnV0ZXMgPSBudWxsID09IGRlZmF1bHRFbmNvZGVWYWx1ZXMgPyB2b2lkIDAgOiBkZWZhdWx0RW5jb2RlVmFsdWVzW21hcmtOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMobnVsbCAhPSBkZWZhdWx0QXR0cmlidXRlcyA/IGRlZmF1bHRBdHRyaWJ1dGVzIDoge30pLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXModGhpcy5pdGVtc1swXS5uZXh0QXR0cnMsIGtleSkgfHwgaGFzKGFkZGl0aW9uYWxBdHRyaWJ1dGVzLCBrZXkpIHx8IChhZGRpdGlvbmFsQXR0cmlidXRlc1trZXldID0gZGVmYXVsdEF0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZ2x5cGhBdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgY2xvbmVUcmFuc2Zvcm1BdHRyaWJ1dGVzKG1hcmtUeXBlLCBhdHRyaWJ1dGVzKSwgYWRkaXRpb25hbEF0dHJpYnV0ZXMpLCBnbHlwaEl0ZW1zID0gdGhpcy5fZ2VuZXJhdGVHbHlwaEl0ZW1zKG1hcmtUeXBlLCB0aGlzLml0ZW1zLCBnbHlwaEF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZVRyYW5zZm9ybUVuY29kZShnbHlwaEl0ZW1zKTtcbiAgICAgICAgICAgICAgICBjb25zdCBncmFwaGljQXR0cmlidXRlcyA9IHRoaXMudHJhbnNmb3JtRWxlbWVudEl0ZW1zKGdseXBoSXRlbXMsIG1hcmtUeXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5R2x5cGhHcmFwaGljQXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcywgbWFya05hbWUsIGdyYXBoaWNJdGVtKSwgbWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5zaGFwZSAmJiAoZ3JhcGhpY0l0ZW0uZGF0dW0gPSBnbHlwaEl0ZW1zWzBdLmRhdHVtKTtcbiAgICAgICAgICAgIH0pKSwgZ3JhcGhpY0F0dHJpYnV0ZXM7XG4gICAgICAgIH07XG4gICAgfVxuICAgIF9nZW5lcmF0ZUdseXBoSXRlbXMobWFya1R5cGUsIGl0ZW1zLCBhZGRpdGlvbmFsQXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBnbHlwaEl0ZW1zID0gaXRlbXMubWFwKChpdGVtID0+IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgICAgICAgIG5leHRBdHRyczogYWRkaXRpb25hbEF0dHJpYnV0ZXNcbiAgICAgICAgfSkpKTtcbiAgICAgICAgcmV0dXJuIENvbGxlY3Rpb25NYXJrVHlwZS5pbmNsdWRlcyhtYXJrVHlwZSkgJiYgdGhpcy5tYXJrLmdldFNwZWMoKS5lbmFibGVTZWdtZW50cyAmJiBnbHlwaEl0ZW1zLmZvckVhY2goKChnbHlwaEl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBnbHlwaEl0ZW0ubmV4dEF0dHJzID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbXNbaW5kZXhdLm5leHRBdHRycywgYWRkaXRpb25hbEF0dHJpYnV0ZXMpO1xuICAgICAgICB9KSksIGdseXBoSXRlbXM7XG4gICAgfVxuICAgIGdldEdyYXBoaWNBdHRyaWJ1dGUoY2hhbm5lbCwgcHJldiA9ICExLCBtYXJrTmFtZSkge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgcHJldkdyYXBoaWNBdHRyaWJ1dGVzID0gdGhpcy5nZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMobWFya05hbWUpO1xuICAgICAgICBpZiAocHJldiAmJiBoYXMocHJldkdyYXBoaWNBdHRyaWJ1dGVzLCBjaGFubmVsKSkgcmV0dXJuIHByZXZHcmFwaGljQXR0cmlidXRlc1tjaGFubmVsXTtcbiAgICAgICAgcmV0dXJuIChtYXJrTmFtZSA/IHRoaXMuZ2x5cGhHcmFwaGljSXRlbXNbbWFya05hbWVdIDogdGhpcy5ncmFwaGljSXRlbSkuYXR0cmlidXRlW2NoYW5uZWxdO1xuICAgIH1cbiAgICBzZXRHcmFwaGljQXR0cmlidXRlKGNoYW5uZWwsIHZhbHVlLCBmaW5hbCA9ICEwLCBtYXJrTmFtZSkge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSBtYXJrTmFtZSA/IHRoaXMuZ2x5cGhHcmFwaGljSXRlbXNbbWFya05hbWVdIDogdGhpcy5ncmFwaGljSXRlbSwgZmluYWxHcmFwaGljQXR0cmlidXRlcyA9IHRoaXMuZ2V0RmluYWxHcmFwaGljQXR0cmlidXRlcyhtYXJrTmFtZSksIHByZXZHcmFwaGljQXR0cmlidXRlcyA9IHRoaXMuZ2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKG1hcmtOYW1lKTtcbiAgICAgICAgZmluYWwgJiYgKGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXNbY2hhbm5lbF0gPSB2YWx1ZSksIGhhcyhwcmV2R3JhcGhpY0F0dHJpYnV0ZXMsIGNoYW5uZWwpIHx8IChwcmV2R3JhcGhpY0F0dHJpYnV0ZXNbY2hhbm5lbF0gPSBncmFwaGljSXRlbS5hdHRyaWJ1dGVbY2hhbm5lbF0pLCBcbiAgICAgICAgZ3JhcGhpY0l0ZW0uc2V0QXR0cmlidXRlKGNoYW5uZWwsIHZhbHVlKTtcbiAgICB9XG4gICAgc2V0R3JhcGhpY0F0dHJpYnV0ZXMoYXR0cmlidXRlcywgZmluYWwgPSAhMCwgbWFya05hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNJdGVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGdyYXBoaWNJdGVtID0gbWFya05hbWUgPyB0aGlzLmdseXBoR3JhcGhpY0l0ZW1zW21hcmtOYW1lXSA6IHRoaXMuZ3JhcGhpY0l0ZW0sIGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLmdldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMobWFya05hbWUpLCBwcmV2R3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLmdldFByZXZHcmFwaGljQXR0cmlidXRlcyhtYXJrTmFtZSk7XG4gICAgICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICBmaW5hbCAmJiAoZmluYWxHcmFwaGljQXR0cmlidXRlc1trZXldID0gYXR0cmlidXRlc1trZXldKSwgaGFzKHByZXZHcmFwaGljQXR0cmlidXRlcywga2V5KSB8fCAocHJldkdyYXBoaWNBdHRyaWJ1dGVzW2tleV0gPSBncmFwaGljSXRlbS5hdHRyaWJ1dGVba2V5XSk7XG4gICAgICAgIH0pKSwgZ3JhcGhpY0l0ZW0uc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgZGlmZkF0dHJpYnV0ZXMoZ3JhcGhpY0F0dHJpYnV0ZXMsIG1hcmtOYW1lKSB7XG4gICAgICAgIGNvbnN0IGRpZmZSZXN1bHQgPSB7fSwgZmluYWxHcmFwaGljQXR0cmlidXRlcyA9IHRoaXMuZ2V0RmluYWxHcmFwaGljQXR0cmlidXRlcyhtYXJrTmFtZSk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGdyYXBoaWNBdHRyaWJ1dGVzKSBoYXMoZmluYWxHcmFwaGljQXR0cmlidXRlcywga2V5KSAmJiBpc0VxdWFsKGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXNba2V5XSwgZ3JhcGhpY0F0dHJpYnV0ZXNba2V5XSkgfHwgKGRpZmZSZXN1bHRba2V5XSA9IGdyYXBoaWNBdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICByZXR1cm4gZGlmZlJlc3VsdDtcbiAgICB9XG4gICAgYXBwbHlHbHlwaEdyYXBoaWNBdHRyaWJ1dGVzKGdyYXBoaWNBdHRyaWJ1dGVzLCBtYXJrTmFtZSwgZ3JhcGhpY0l0ZW0pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHRoaXMubWFyay5uZWVkQW5pbWF0ZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0R3JhcGhpY0F0dHJpYnV0ZXMgPSB0aGlzLmRpZmZBdHRyaWJ1dGVzKGdyYXBoaWNBdHRyaWJ1dGVzLCBtYXJrTmFtZSksIHByZXZHcmFwaGljQXR0cmlidXRlcyA9IG51bGwgIT09IChfYSA9IHRoaXMuZ2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKG1hcmtOYW1lKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge30sIGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMgPSBudWxsICE9PSAoX2IgPSB0aGlzLmdldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMobWFya05hbWUpKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiB7fTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG5leHRHcmFwaGljQXR0cmlidXRlcykuZm9yRWFjaCgoY2hhbm5lbCA9PiB7XG4gICAgICAgICAgICAgICAgcHJldkdyYXBoaWNBdHRyaWJ1dGVzW2NoYW5uZWxdID0gZ3JhcGhpY0l0ZW0uYXR0cmlidXRlW2NoYW5uZWxdLCBmaW5hbEdyYXBoaWNBdHRyaWJ1dGVzW2NoYW5uZWxdID0gbmV4dEdyYXBoaWNBdHRyaWJ1dGVzW2NoYW5uZWxdO1xuICAgICAgICAgICAgfSkpLCB0aGlzLnNldE5leHRHcmFwaGljQXR0cmlidXRlcyhuZXh0R3JhcGhpY0F0dHJpYnV0ZXMsIG1hcmtOYW1lKSwgdGhpcy5zZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMocHJldkdyYXBoaWNBdHRyaWJ1dGVzLCBtYXJrTmFtZSksIFxuICAgICAgICAgICAgdGhpcy5zZXRGaW5hbEdyYXBoaWNBdHRyaWJ1dGVzKGZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMsIG1hcmtOYW1lKSwgZ3JhcGhpY0l0ZW0uc2V0QXR0cmlidXRlcyhuZXh0R3JhcGhpY0F0dHJpYnV0ZXMpO1xuICAgICAgICB9IGVsc2UgZ3JhcGhpY0l0ZW0uc2V0QXR0cmlidXRlcyhncmFwaGljQXR0cmlidXRlcyk7XG4gICAgfVxuICAgIGdldEZpbmFsR3JhcGhpY0F0dHJpYnV0ZXMobWFya05hbWUpIHtcbiAgICAgICAgcmV0dXJuIChtYXJrTmFtZSA/IHRoaXMuZ2x5cGhHcmFwaGljSXRlbXNbbWFya05hbWVdIDogdGhpcy5ncmFwaGljSXRlbSkuZmluYWxBdHRycztcbiAgICB9XG4gICAgc2V0RmluYWxHcmFwaGljQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBtYXJrTmFtZSkge1xuICAgICAgICAobWFya05hbWUgPyB0aGlzLmdseXBoR3JhcGhpY0l0ZW1zW21hcmtOYW1lXSA6IHRoaXMuZ3JhcGhpY0l0ZW0pLmZpbmFsQXR0cnMgPSBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICBnZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMobWFya05hbWUpIHtcbiAgICAgICAgcmV0dXJuIChtYXJrTmFtZSA/IHRoaXMuZ2x5cGhHcmFwaGljSXRlbXNbbWFya05hbWVdIDogdGhpcy5ncmFwaGljSXRlbSkucHJldkF0dHJzO1xuICAgIH1cbiAgICBzZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMoYXR0cmlidXRlcywgbWFya05hbWUpIHtcbiAgICAgICAgKG1hcmtOYW1lID8gdGhpcy5nbHlwaEdyYXBoaWNJdGVtc1ttYXJrTmFtZV0gOiB0aGlzLmdyYXBoaWNJdGVtKS5wcmV2QXR0cnMgPSBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICBnZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMobWFya05hbWUpIHtcbiAgICAgICAgcmV0dXJuIChtYXJrTmFtZSA/IHRoaXMuZ2x5cGhHcmFwaGljSXRlbXNbbWFya05hbWVdIDogdGhpcy5ncmFwaGljSXRlbSkubmV4dEF0dHJzO1xuICAgIH1cbiAgICBzZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMoYXR0cmlidXRlcywgbWFya05hbWUpIHtcbiAgICAgICAgKG1hcmtOYW1lID8gdGhpcy5nbHlwaEdyYXBoaWNJdGVtc1ttYXJrTmFtZV0gOiB0aGlzLmdyYXBoaWNJdGVtKS5uZXh0QXR0cnMgPSBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICBjbGVhckNoYW5nZWRHcmFwaGljQXR0cmlidXRlcygpIHtcbiAgICAgICAgdGhpcy5zZXRQcmV2R3JhcGhpY0F0dHJpYnV0ZXMobnVsbCksIHRoaXMuc2V0TmV4dEdyYXBoaWNBdHRyaWJ1dGVzKG51bGwpLCBPYmplY3Qua2V5cyh0aGlzLmdseXBoR3JhcGhpY0l0ZW1zKS5mb3JFYWNoKChtYXJrTmFtZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFByZXZHcmFwaGljQXR0cmlidXRlcyhudWxsLCBtYXJrTmFtZSksIHRoaXMuc2V0TmV4dEdyYXBoaWNBdHRyaWJ1dGVzKG51bGwsIG1hcmtOYW1lKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjbGVhckdyYXBoaWNBdHRyaWJ1dGVzKCkge1xuICAgICAgICB0aGlzLnNldFByZXZHcmFwaGljQXR0cmlidXRlcyhudWxsKSwgdGhpcy5zZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMobnVsbCksIHRoaXMuc2V0RmluYWxHcmFwaGljQXR0cmlidXRlcyhudWxsKSwgXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZ2x5cGhHcmFwaGljSXRlbXMpLmZvckVhY2goKG1hcmtOYW1lID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0UHJldkdyYXBoaWNBdHRyaWJ1dGVzKG51bGwsIG1hcmtOYW1lKSwgdGhpcy5zZXROZXh0R3JhcGhpY0F0dHJpYnV0ZXMobnVsbCwgbWFya05hbWUpLCBcbiAgICAgICAgICAgIHRoaXMuc2V0RmluYWxHcmFwaGljQXR0cmlidXRlcyhudWxsLCBtYXJrTmFtZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVtb3ZlKCkge1xuICAgICAgICB0aGlzLmdseXBoR3JhcGhpY0l0ZW1zID0gbnVsbCwgc3VwZXIucmVtb3ZlKCk7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMuZ2x5cGhHcmFwaGljSXRlbXMgJiYgKE9iamVjdC52YWx1ZXModGhpcy5nbHlwaEdyYXBoaWNJdGVtcykuZm9yRWFjaCgoZ3JhcGhpY0l0ZW0gPT4ge1xuICAgICAgICAgICAgZ3JhcGhpY0l0ZW1bQnJpZGdlRWxlbWVudEtleV0gPSBudWxsO1xuICAgICAgICB9KSksIHRoaXMuZ2x5cGhHcmFwaGljSXRlbXMgPSBudWxsKSwgc3VwZXIucmVsZWFzZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdseXBoLWVsZW1lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/glyph-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/index.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/index.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.AxisEnum),\n/* harmony export */   BuiltInEncodeNames: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames),\n/* harmony export */   ComponentEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum),\n/* harmony export */   CrosshairEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.CrosshairEnum),\n/* harmony export */   DataFilterRank: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.DataFilterRank),\n/* harmony export */   DiffState: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.DiffState),\n/* harmony export */   Element: () => (/* reexport safe */ _element__WEBPACK_IMPORTED_MODULE_1__.Element),\n/* harmony export */   GrammarMarkType: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType),\n/* harmony export */   GrammarTypeEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarTypeEnum),\n/* harmony export */   GridEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.GridEnum),\n/* harmony export */   HOOK_EVENT: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT),\n/* harmony export */   InteractionStateEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.InteractionStateEnum),\n/* harmony export */   LabelEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.LabelEnum),\n/* harmony export */   LayoutState: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.LayoutState),\n/* harmony export */   LegendEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.LegendEnum),\n/* harmony export */   PlayerEnum: () => (/* reexport safe */ _enums__WEBPACK_IMPORTED_MODULE_0__.PlayerEnum),\n/* harmony export */   getLinePoints: () => (/* reexport safe */ _attributes_helpers__WEBPACK_IMPORTED_MODULE_2__.getLinePoints),\n/* harmony export */   getRulePoints: () => (/* reexport safe */ _attributes_helpers__WEBPACK_IMPORTED_MODULE_2__.getRulePoints)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./element */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/element.js\");\n/* harmony import */ var _attributes_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attributes/helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdCOztBQUVZOztBQUVnQztBQUNwRSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvaW5kZXguanM/OGM4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9lbnVtc1wiO1xuXG5leHBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xuXG5leHBvcnQgeyBnZXRMaW5lUG9pbnRzLCBnZXRSdWxlUG9pbnRzIH0gZnJvbSBcIi4vYXR0cmlidXRlcy9oZWxwZXJzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/grid.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/grid.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doGridLayout: () => (/* binding */ doGridLayout)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n\n\nfunction parseTemplate(template, total) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(template)) return template;\n    const trimmedTemplate = template.trim();\n    if (\"auto\" === trimmedTemplate) return 0;\n    if (trimmedTemplate.endsWith(\"%\")) {\n        const percent = parseFloat(trimmedTemplate.substring(0, trimmedTemplate.length - 1));\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(percent) ? percent * total : 0;\n    }\n    return 0;\n}\n\nfunction computeGrid(layout, width, height) {\n    var _a, _b, _c, _d;\n    const templateRows = null !== (_a = layout.gridTemplateRows) && void 0 !== _a ? _a : [ height ], templateColumns = null !== (_b = layout.gridTemplateColumns) && void 0 !== _b ? _b : [ width ], rowGap = null !== (_c = layout.gridRowGap) && void 0 !== _c ? _c : 0, columnGap = null !== (_d = layout.gridColumnGap) && void 0 !== _d ? _d : 0, rows = templateRows.map((row => parseTemplate(row, height))), columns = templateColumns.map((column => parseTemplate(column, width))), rowAuto = Math.max(0, rows.reduce(((left, row) => left - row), height) - rows.length * rowGap) / templateRows.filter((row => \"auto\" === row)).length, columnAuto = Math.max(0, columns.reduce(((left, column) => left - column), width) - columns.length * columnGap) / templateColumns.filter((column => \"auto\" === column)).length;\n    let lastRow = 0;\n    const accumulateRows = rows.map(((row, index) => {\n        const finalRow = \"auto\" === templateRows[index] ? rowAuto : row, last = lastRow;\n        return lastRow += finalRow + rowGap, last;\n    }));\n    accumulateRows.push(lastRow);\n    let lastColumn = 0;\n    const accumulateColumns = columns.map(((column, index) => {\n        const finalColumn = \"auto\" === templateColumns[index] ? columnAuto : column, last = lastColumn;\n        return lastColumn += finalColumn + columnGap, last;\n    }));\n    return accumulateColumns.push(lastColumn), {\n        rows: accumulateRows,\n        columns: accumulateColumns,\n        rowGap: rowGap,\n        columnGap: columnGap\n    };\n}\n\nfunction normalizeIndex(index, count) {\n    return Math.min(index < 0 ? index + count : index - 1, count);\n}\n\nfunction normalizeStartEndIndex(start, end, count) {\n    let finalStart = normalizeIndex(start, count), finalEnd = normalizeIndex(end, count);\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(start) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(end) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(start) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(end) || (finalStart = normalizeIndex(Math.max(0, finalEnd - 1), count)) : finalEnd = normalizeIndex(finalStart + 1, count) : (finalStart = 1, \n    finalEnd = 2), finalStart > finalEnd) {\n        const temp = finalEnd;\n        finalEnd = finalStart, finalStart = temp;\n    }\n    return {\n        start: finalStart,\n        end: finalEnd\n    };\n}\n\nfunction getCellBounds(grid, rowStart, rowEnd, columnStart, columnEnd) {\n    const rowCount = grid.rows.length, columnCount = grid.columns.length, {start: finalRowStart, end: finalRowEnd} = normalizeStartEndIndex(rowStart, rowEnd, rowCount), {start: finalColumnStart, end: finalColumnEnd} = normalizeStartEndIndex(columnStart, columnEnd, columnCount), x1 = grid.columns[finalRowStart], x2 = grid.columns[finalRowEnd] - (finalColumnEnd === columnCount ? 0 : grid.columnGap), y1 = grid.rows[finalColumnStart], y2 = grid.rows[finalColumnEnd] - (finalRowEnd === rowCount ? 0 : grid.rowGap);\n    return (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.Bounds).set(x1, y1, x2, y2);\n}\n\nconst doGridLayout = (group, children, parentLayoutBounds, options) => {\n    const grid = computeGrid(group.getSpec().layout, parentLayoutBounds.width(), parentLayoutBounds.height());\n    children && children.forEach((mark => {\n        const markLayout = mark.getSpec().layout;\n        mark.layoutBounds = getCellBounds(grid, markLayout.gridRowStart, markLayout.gridRowEnd, markLayout.gridColumnStart, markLayout.gridColumnEnd), \n        mark.commit();\n    }));\n};\n//# sourceMappingURL=grid.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbGF5b3V0L2dyaWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlEOztBQUV6RDtBQUNBLFFBQVEsNERBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFhO0FBQzVCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUSw0REFBYSxXQUFXLDREQUFhLFFBQVEsNERBQWEsVUFBVSw0REFBYTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyRUFBMkUsd0NBQXdDLHVEQUF1RCw4Q0FBOEM7QUFDeE4sZ0JBQWdCLG9EQUFNO0FBQ3RCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9sYXlvdXQvZ3JpZC5qcz9kOTU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvdW5kcywgaXNWYWxpZE51bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmZ1bmN0aW9uIHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHRvdGFsKSB7XG4gICAgaWYgKGlzVmFsaWROdW1iZXIodGVtcGxhdGUpKSByZXR1cm4gdGVtcGxhdGU7XG4gICAgY29uc3QgdHJpbW1lZFRlbXBsYXRlID0gdGVtcGxhdGUudHJpbSgpO1xuICAgIGlmIChcImF1dG9cIiA9PT0gdHJpbW1lZFRlbXBsYXRlKSByZXR1cm4gMDtcbiAgICBpZiAodHJpbW1lZFRlbXBsYXRlLmVuZHNXaXRoKFwiJVwiKSkge1xuICAgICAgICBjb25zdCBwZXJjZW50ID0gcGFyc2VGbG9hdCh0cmltbWVkVGVtcGxhdGUuc3Vic3RyaW5nKDAsIHRyaW1tZWRUZW1wbGF0ZS5sZW5ndGggLSAxKSk7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkTnVtYmVyKHBlcmNlbnQpID8gcGVyY2VudCAqIHRvdGFsIDogMDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVHcmlkKGxheW91dCwgd2lkdGgsIGhlaWdodCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCB0ZW1wbGF0ZVJvd3MgPSBudWxsICE9PSAoX2EgPSBsYXlvdXQuZ3JpZFRlbXBsYXRlUm93cykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogWyBoZWlnaHQgXSwgdGVtcGxhdGVDb2x1bW5zID0gbnVsbCAhPT0gKF9iID0gbGF5b3V0LmdyaWRUZW1wbGF0ZUNvbHVtbnMpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IFsgd2lkdGggXSwgcm93R2FwID0gbnVsbCAhPT0gKF9jID0gbGF5b3V0LmdyaWRSb3dHYXApICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IDAsIGNvbHVtbkdhcCA9IG51bGwgIT09IChfZCA9IGxheW91dC5ncmlkQ29sdW1uR2FwKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiAwLCByb3dzID0gdGVtcGxhdGVSb3dzLm1hcCgocm93ID0+IHBhcnNlVGVtcGxhdGUocm93LCBoZWlnaHQpKSksIGNvbHVtbnMgPSB0ZW1wbGF0ZUNvbHVtbnMubWFwKChjb2x1bW4gPT4gcGFyc2VUZW1wbGF0ZShjb2x1bW4sIHdpZHRoKSkpLCByb3dBdXRvID0gTWF0aC5tYXgoMCwgcm93cy5yZWR1Y2UoKChsZWZ0LCByb3cpID0+IGxlZnQgLSByb3cpLCBoZWlnaHQpIC0gcm93cy5sZW5ndGggKiByb3dHYXApIC8gdGVtcGxhdGVSb3dzLmZpbHRlcigocm93ID0+IFwiYXV0b1wiID09PSByb3cpKS5sZW5ndGgsIGNvbHVtbkF1dG8gPSBNYXRoLm1heCgwLCBjb2x1bW5zLnJlZHVjZSgoKGxlZnQsIGNvbHVtbikgPT4gbGVmdCAtIGNvbHVtbiksIHdpZHRoKSAtIGNvbHVtbnMubGVuZ3RoICogY29sdW1uR2FwKSAvIHRlbXBsYXRlQ29sdW1ucy5maWx0ZXIoKGNvbHVtbiA9PiBcImF1dG9cIiA9PT0gY29sdW1uKSkubGVuZ3RoO1xuICAgIGxldCBsYXN0Um93ID0gMDtcbiAgICBjb25zdCBhY2N1bXVsYXRlUm93cyA9IHJvd3MubWFwKCgocm93LCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBmaW5hbFJvdyA9IFwiYXV0b1wiID09PSB0ZW1wbGF0ZVJvd3NbaW5kZXhdID8gcm93QXV0byA6IHJvdywgbGFzdCA9IGxhc3RSb3c7XG4gICAgICAgIHJldHVybiBsYXN0Um93ICs9IGZpbmFsUm93ICsgcm93R2FwLCBsYXN0O1xuICAgIH0pKTtcbiAgICBhY2N1bXVsYXRlUm93cy5wdXNoKGxhc3RSb3cpO1xuICAgIGxldCBsYXN0Q29sdW1uID0gMDtcbiAgICBjb25zdCBhY2N1bXVsYXRlQ29sdW1ucyA9IGNvbHVtbnMubWFwKCgoY29sdW1uLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBmaW5hbENvbHVtbiA9IFwiYXV0b1wiID09PSB0ZW1wbGF0ZUNvbHVtbnNbaW5kZXhdID8gY29sdW1uQXV0byA6IGNvbHVtbiwgbGFzdCA9IGxhc3RDb2x1bW47XG4gICAgICAgIHJldHVybiBsYXN0Q29sdW1uICs9IGZpbmFsQ29sdW1uICsgY29sdW1uR2FwLCBsYXN0O1xuICAgIH0pKTtcbiAgICByZXR1cm4gYWNjdW11bGF0ZUNvbHVtbnMucHVzaChsYXN0Q29sdW1uKSwge1xuICAgICAgICByb3dzOiBhY2N1bXVsYXRlUm93cyxcbiAgICAgICAgY29sdW1uczogYWNjdW11bGF0ZUNvbHVtbnMsXG4gICAgICAgIHJvd0dhcDogcm93R2FwLFxuICAgICAgICBjb2x1bW5HYXA6IGNvbHVtbkdhcFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUluZGV4KGluZGV4LCBjb3VudCkge1xuICAgIHJldHVybiBNYXRoLm1pbihpbmRleCA8IDAgPyBpbmRleCArIGNvdW50IDogaW5kZXggLSAxLCBjb3VudCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0YXJ0RW5kSW5kZXgoc3RhcnQsIGVuZCwgY291bnQpIHtcbiAgICBsZXQgZmluYWxTdGFydCA9IG5vcm1hbGl6ZUluZGV4KHN0YXJ0LCBjb3VudCksIGZpbmFsRW5kID0gbm9ybWFsaXplSW5kZXgoZW5kLCBjb3VudCk7XG4gICAgaWYgKGlzVmFsaWROdW1iZXIoc3RhcnQpIHx8IGlzVmFsaWROdW1iZXIoZW5kKSA/IGlzVmFsaWROdW1iZXIoc3RhcnQpID8gaXNWYWxpZE51bWJlcihlbmQpIHx8IChmaW5hbFN0YXJ0ID0gbm9ybWFsaXplSW5kZXgoTWF0aC5tYXgoMCwgZmluYWxFbmQgLSAxKSwgY291bnQpKSA6IGZpbmFsRW5kID0gbm9ybWFsaXplSW5kZXgoZmluYWxTdGFydCArIDEsIGNvdW50KSA6IChmaW5hbFN0YXJ0ID0gMSwgXG4gICAgZmluYWxFbmQgPSAyKSwgZmluYWxTdGFydCA+IGZpbmFsRW5kKSB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBmaW5hbEVuZDtcbiAgICAgICAgZmluYWxFbmQgPSBmaW5hbFN0YXJ0LCBmaW5hbFN0YXJ0ID0gdGVtcDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IGZpbmFsU3RhcnQsXG4gICAgICAgIGVuZDogZmluYWxFbmRcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRDZWxsQm91bmRzKGdyaWQsIHJvd1N0YXJ0LCByb3dFbmQsIGNvbHVtblN0YXJ0LCBjb2x1bW5FbmQpIHtcbiAgICBjb25zdCByb3dDb3VudCA9IGdyaWQucm93cy5sZW5ndGgsIGNvbHVtbkNvdW50ID0gZ3JpZC5jb2x1bW5zLmxlbmd0aCwge3N0YXJ0OiBmaW5hbFJvd1N0YXJ0LCBlbmQ6IGZpbmFsUm93RW5kfSA9IG5vcm1hbGl6ZVN0YXJ0RW5kSW5kZXgocm93U3RhcnQsIHJvd0VuZCwgcm93Q291bnQpLCB7c3RhcnQ6IGZpbmFsQ29sdW1uU3RhcnQsIGVuZDogZmluYWxDb2x1bW5FbmR9ID0gbm9ybWFsaXplU3RhcnRFbmRJbmRleChjb2x1bW5TdGFydCwgY29sdW1uRW5kLCBjb2x1bW5Db3VudCksIHgxID0gZ3JpZC5jb2x1bW5zW2ZpbmFsUm93U3RhcnRdLCB4MiA9IGdyaWQuY29sdW1uc1tmaW5hbFJvd0VuZF0gLSAoZmluYWxDb2x1bW5FbmQgPT09IGNvbHVtbkNvdW50ID8gMCA6IGdyaWQuY29sdW1uR2FwKSwgeTEgPSBncmlkLnJvd3NbZmluYWxDb2x1bW5TdGFydF0sIHkyID0gZ3JpZC5yb3dzW2ZpbmFsQ29sdW1uRW5kXSAtIChmaW5hbFJvd0VuZCA9PT0gcm93Q291bnQgPyAwIDogZ3JpZC5yb3dHYXApO1xuICAgIHJldHVybiAobmV3IEJvdW5kcykuc2V0KHgxLCB5MSwgeDIsIHkyKTtcbn1cblxuZXhwb3J0IGNvbnN0IGRvR3JpZExheW91dCA9IChncm91cCwgY2hpbGRyZW4sIHBhcmVudExheW91dEJvdW5kcywgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGdyaWQgPSBjb21wdXRlR3JpZChncm91cC5nZXRTcGVjKCkubGF5b3V0LCBwYXJlbnRMYXlvdXRCb3VuZHMud2lkdGgoKSwgcGFyZW50TGF5b3V0Qm91bmRzLmhlaWdodCgpKTtcbiAgICBjaGlsZHJlbiAmJiBjaGlsZHJlbi5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgY29uc3QgbWFya0xheW91dCA9IG1hcmsuZ2V0U3BlYygpLmxheW91dDtcbiAgICAgICAgbWFyay5sYXlvdXRCb3VuZHMgPSBnZXRDZWxsQm91bmRzKGdyaWQsIG1hcmtMYXlvdXQuZ3JpZFJvd1N0YXJ0LCBtYXJrTGF5b3V0LmdyaWRSb3dFbmQsIG1hcmtMYXlvdXQuZ3JpZENvbHVtblN0YXJ0LCBtYXJrTGF5b3V0LmdyaWRDb2x1bW5FbmQpLCBcbiAgICAgICAgbWFyay5jb21taXQoKTtcbiAgICB9KSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JpZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/grid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/layout.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/layout.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultDoLayout: () => (/* binding */ defaultDoLayout),\n/* harmony export */   registerDefaultLayout: () => (/* binding */ registerDefaultLayout)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./grid */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/grid.js\");\n/* harmony import */ var _relative__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./relative */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/relative.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst defaultDoLayout = (layoutMarks, options, view) => {\n    null == layoutMarks || layoutMarks.forEach((mark => {\n        var _a;\n        if (mark.markType !== _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.group) return;\n        const layoutChildren = mark.layoutChildren, layoutSpec = mark.getSpec().layout, bounds = null !== (_a = mark.layoutBounds) && void 0 !== _a ? _a : mark.getBounds();\n        if (bounds) {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(layoutSpec)) layoutSpec.call(null, mark, layoutChildren, bounds, options); else if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(layoutSpec.callback)) layoutSpec.callback.call(null, mark, layoutChildren, bounds, options); else if (\"relative\" === layoutSpec.display) if (layoutSpec.updateViewSignals) {\n                const oldViewBox = view.getViewBox();\n                oldViewBox && bounds.intersect(oldViewBox);\n                const viewBounds = (0,_relative__WEBPACK_IMPORTED_MODULE_2__.doRelativeLayout)(mark, layoutChildren, bounds, options), viewWidth = viewBounds.width(), viewHeight = viewBounds.height(), padding = {\n                    top: viewBounds.y1,\n                    right: view.width() - viewBounds.x2,\n                    left: viewBounds.x1,\n                    bottom: view.height() - viewBounds.y2\n                };\n                view.updateSignal(_view_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_WIDTH, viewWidth), view.updateSignal(_view_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_HEIGHT, viewHeight), \n                view.updateSignal(_view_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_PADDING, padding);\n            } else (0,_relative__WEBPACK_IMPORTED_MODULE_2__.doRelativeLayout)(mark, layoutChildren, bounds, options); else \"grid\" === layoutSpec.display && (0,_grid__WEBPACK_IMPORTED_MODULE_4__.doGridLayout)(mark, layoutChildren, bounds, options);\n            defaultDoLayout(layoutChildren, options, view);\n        }\n    }));\n};\n\nconst registerDefaultLayout = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerDefaultLayout(defaultDoLayout);\n};\n//# sourceMappingURL=layout.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbGF5b3V0L2xheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE4Qzs7QUFFaUQ7O0FBRXBEOztBQUVMOztBQUVROztBQUVEOztBQUV0QztBQUNQO0FBQ0E7QUFDQSw4QkFBOEIsbURBQWU7QUFDN0M7QUFDQTtBQUNBLGdCQUFnQiw0REFBVSw0RUFBNEUsU0FBUyw0REFBVSw4RkFBOEY7QUFDdk47QUFDQTtBQUNBLG1DQUFtQywyREFBZ0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw4REFBaUIsZ0NBQWdDLCtEQUFrQjtBQUNyRyxrQ0FBa0MsMkRBQWM7QUFDaEQsY0FBYyxLQUFLLDJEQUFnQix5Q0FBeUMsc0NBQXNDLG1EQUFZO0FBQzlIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1g7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbGF5b3V0L2xheW91dC5qcz9jZDllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBTSUdOQUxfVklFV19IRUlHSFQsIFNJR05BTF9QQURESU5HLCBTSUdOQUxfVklFV19XSURUSCB9IGZyb20gXCIuLy4uLy4uL3ZpZXcvY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9lbnVtc1wiO1xuXG5pbXBvcnQgeyBkb0dyaWRMYXlvdXQgfSBmcm9tIFwiLi9ncmlkXCI7XG5cbmltcG9ydCB7IGRvUmVsYXRpdmVMYXlvdXQgfSBmcm9tIFwiLi9yZWxhdGl2ZVwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uLy4uL2NvcmUvZmFjdG9yeVwiO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdERvTGF5b3V0ID0gKGxheW91dE1hcmtzLCBvcHRpb25zLCB2aWV3KSA9PiB7XG4gICAgbnVsbCA9PSBsYXlvdXRNYXJrcyB8fCBsYXlvdXRNYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAobWFyay5tYXJrVHlwZSAhPT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dENoaWxkcmVuID0gbWFyay5sYXlvdXRDaGlsZHJlbiwgbGF5b3V0U3BlYyA9IG1hcmsuZ2V0U3BlYygpLmxheW91dCwgYm91bmRzID0gbnVsbCAhPT0gKF9hID0gbWFyay5sYXlvdXRCb3VuZHMpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG1hcmsuZ2V0Qm91bmRzKCk7XG4gICAgICAgIGlmIChib3VuZHMpIHtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxheW91dFNwZWMpKSBsYXlvdXRTcGVjLmNhbGwobnVsbCwgbWFyaywgbGF5b3V0Q2hpbGRyZW4sIGJvdW5kcywgb3B0aW9ucyk7IGVsc2UgaWYgKGlzRnVuY3Rpb24obGF5b3V0U3BlYy5jYWxsYmFjaykpIGxheW91dFNwZWMuY2FsbGJhY2suY2FsbChudWxsLCBtYXJrLCBsYXlvdXRDaGlsZHJlbiwgYm91bmRzLCBvcHRpb25zKTsgZWxzZSBpZiAoXCJyZWxhdGl2ZVwiID09PSBsYXlvdXRTcGVjLmRpc3BsYXkpIGlmIChsYXlvdXRTcGVjLnVwZGF0ZVZpZXdTaWduYWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkVmlld0JveCA9IHZpZXcuZ2V0Vmlld0JveCgpO1xuICAgICAgICAgICAgICAgIG9sZFZpZXdCb3ggJiYgYm91bmRzLmludGVyc2VjdChvbGRWaWV3Qm94KTtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3Qm91bmRzID0gZG9SZWxhdGl2ZUxheW91dChtYXJrLCBsYXlvdXRDaGlsZHJlbiwgYm91bmRzLCBvcHRpb25zKSwgdmlld1dpZHRoID0gdmlld0JvdW5kcy53aWR0aCgpLCB2aWV3SGVpZ2h0ID0gdmlld0JvdW5kcy5oZWlnaHQoKSwgcGFkZGluZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB2aWV3Qm91bmRzLnkxLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogdmlldy53aWR0aCgpIC0gdmlld0JvdW5kcy54MixcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogdmlld0JvdW5kcy54MSxcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB2aWV3LmhlaWdodCgpIC0gdmlld0JvdW5kcy55MlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmlldy51cGRhdGVTaWduYWwoU0lHTkFMX1ZJRVdfV0lEVEgsIHZpZXdXaWR0aCksIHZpZXcudXBkYXRlU2lnbmFsKFNJR05BTF9WSUVXX0hFSUdIVCwgdmlld0hlaWdodCksIFxuICAgICAgICAgICAgICAgIHZpZXcudXBkYXRlU2lnbmFsKFNJR05BTF9QQURESU5HLCBwYWRkaW5nKTtcbiAgICAgICAgICAgIH0gZWxzZSBkb1JlbGF0aXZlTGF5b3V0KG1hcmssIGxheW91dENoaWxkcmVuLCBib3VuZHMsIG9wdGlvbnMpOyBlbHNlIFwiZ3JpZFwiID09PSBsYXlvdXRTcGVjLmRpc3BsYXkgJiYgZG9HcmlkTGF5b3V0KG1hcmssIGxheW91dENoaWxkcmVuLCBib3VuZHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgZGVmYXVsdERvTGF5b3V0KGxheW91dENoaWxkcmVuLCBvcHRpb25zLCB2aWV3KTtcbiAgICAgICAgfVxuICAgIH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckRlZmF1bHRMYXlvdXQgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckRlZmF1bHRMYXlvdXQoZGVmYXVsdERvTGF5b3V0KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYXlvdXQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/layout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/relative.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/relative.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doRelativeLayout: () => (/* binding */ doRelativeLayout)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/toPercent.js\");\n/* harmony import */ var _parse_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../parse/view */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/view.js\");\n\n\n\n\n\n\n\n\nconst defaultLayoutOrder = {\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.axis]: 0,\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.legend]: 1,\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.slider]: 2,\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.player]: 3,\n    [_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.datazoom]: 4\n}, getLayoutOrderOfMark = mark => {\n    var _a, _b, _c;\n    return null !== (_b = null === (_a = mark.getSpec().layout) || void 0 === _a ? void 0 : _a.order) && void 0 !== _b ? _b : \"component\" === mark.markType && null !== (_c = defaultLayoutOrder[mark.componentType]) && void 0 !== _c ? _c : 1 / 0;\n};\n\nconst doRelativeLayout = (group, children, parentLayoutBounds, options) => {\n    const viewBounds = parentLayoutBounds.clone(), groupLayoutSpec = group.getSpec().layout, maxChildWidth = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(groupLayoutSpec.maxChildWidth, viewBounds.width()), maxChildHeight = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(groupLayoutSpec.maxChildHeight, viewBounds.width());\n    let minDeltaX1 = 0, minDeltaX2 = 0, minDeltaY1 = 0, minDeltaY2 = 0;\n    children.forEach((child => {\n        const layoutSpec = child.getSpec().layout, padding = (0,_parse_view__WEBPACK_IMPORTED_MODULE_2__.normalizePadding)(layoutSpec.padding), bounds = options.parseMarkBounds ? options.parseMarkBounds(child.getBounds(), child) : child.getBounds();\n        if (\"top\" === layoutSpec.position || \"bottom\" === layoutSpec.position) {\n            const childHeight = Math.min(bounds.height() + padding.top + padding.bottom, maxChildHeight);\n            \"top\" === layoutSpec.position ? viewBounds.y1 += childHeight : viewBounds.y2 -= childHeight, \n            bounds.x1 < parentLayoutBounds.x1 && (minDeltaX1 = Math.max(minDeltaX1, parentLayoutBounds.x1 - bounds.x1)), \n            bounds.x2 > parentLayoutBounds.x2 && (minDeltaX2 = Math.max(minDeltaX2, bounds.x2 - parentLayoutBounds.x2));\n        }\n        if (\"left\" === layoutSpec.position || \"right\" === layoutSpec.position) {\n            const childWidth = Math.min(bounds.width() + padding.left + padding.right, maxChildWidth);\n            \"left\" === layoutSpec.position ? viewBounds.x1 += childWidth : viewBounds.x2 -= childWidth, \n            bounds.y1 < parentLayoutBounds.y1 && (minDeltaY1 = Math.max(minDeltaY1, parentLayoutBounds.y1 - bounds.y1)), \n            bounds.y2 > parentLayoutBounds.y2 && (minDeltaY2 = Math.max(minDeltaY2, bounds.y2 - parentLayoutBounds.y2));\n        }\n        \"outside\" === layoutSpec.position && (viewBounds.x1 += Math.max(parentLayoutBounds.x1 - bounds.x1, 0) + padding.left, \n        viewBounds.x2 -= Math.max(bounds.x2 - parentLayoutBounds.x2, 0) + padding.right, \n        viewBounds.y1 += Math.max(parentLayoutBounds.y1 - bounds.y1, 0) + padding.top, viewBounds.y2 -= Math.max(bounds.y2 - parentLayoutBounds.y2) + padding.bottom);\n    })), minDeltaX1 > viewBounds.x1 - parentLayoutBounds.x1 && minDeltaX1 < parentLayoutBounds.width() && (viewBounds.x1 = parentLayoutBounds.x1 + minDeltaX1), \n    minDeltaX2 > parentLayoutBounds.x2 - viewBounds.x2 && minDeltaX2 < parentLayoutBounds.width() && (viewBounds.x2 = parentLayoutBounds.x2 - minDeltaX2), \n    minDeltaY1 > viewBounds.y1 - parentLayoutBounds.y1 && minDeltaY1 < parentLayoutBounds.height() && (viewBounds.y1 = parentLayoutBounds.y1 + minDeltaY1), \n    minDeltaY2 > parentLayoutBounds.y2 - viewBounds.y2 && minDeltaY2 < parentLayoutBounds.height() && (viewBounds.y2 = parentLayoutBounds.y2 - minDeltaY2);\n    let curTopY = viewBounds.y1, curBottomY = viewBounds.y2, curLeftX = viewBounds.x1, curRightX = viewBounds.x2;\n    const sortedChildren = children.slice().sort(((markA, markB) => getLayoutOrderOfMark(markA) - getLayoutOrderOfMark(markB)));\n    for (let i = 0, len = sortedChildren.length; i < len; i++) {\n        const child = sortedChildren[i], layoutSpec = child.getSpec().layout, padding = (0,_parse_view__WEBPACK_IMPORTED_MODULE_2__.normalizePadding)(layoutSpec.padding), bounds = options.parseMarkBounds ? options.parseMarkBounds(child.getBounds(), child) : child.getBounds();\n        if (\"top\" === layoutSpec.position || \"bottom\" === layoutSpec.position) {\n            const childHeight = Math.min(bounds.height() + padding.top + padding.bottom, maxChildHeight);\n            if (\"top\" === layoutSpec.position ? (child.layoutBounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.Bounds).set(viewBounds.x1, curTopY - childHeight, viewBounds.x2, curTopY), \n            curTopY -= childHeight) : (child.layoutBounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.Bounds).set(viewBounds.x1, curBottomY, viewBounds.x2, curBottomY + childHeight), \n            curBottomY += childHeight), child.relativePosition = {\n                top: child.layoutBounds.y1 - viewBounds.y1,\n                bottom: child.layoutBounds.y1 - viewBounds.y2\n            }, layoutSpec.align) {\n                const childWidth = bounds.width() + padding.left + padding.right;\n                childWidth < viewBounds.width() && (\"center\" === layoutSpec.align ? (child.layoutBounds.x1 = (viewBounds.x1 + viewBounds.x2) / 2 - childWidth / 2, \n                child.layoutBounds.x2 = child.layoutBounds.x1 + childWidth, child.relativePosition.left = child.relativePosition.right = (viewBounds.width() - childWidth) / 2) : \"right\" === layoutSpec.align ? (child.layoutBounds.x1 = viewBounds.x2 - childWidth, \n                child.layoutBounds.x2 = viewBounds.x2, child.relativePosition.right = 0, child.relativePosition.left = viewBounds.width() - childWidth) : \"left\" === layoutSpec.align && (child.layoutBounds.x1 = viewBounds.x1, \n                child.layoutBounds.x2 = viewBounds.x1 + childWidth, child.relativePosition.left = 0, \n                child.relativePosition.right = viewBounds.width() - childWidth));\n            }\n        } else if (\"left\" === layoutSpec.position || \"right\" === layoutSpec.position) {\n            const childWidth = Math.min(bounds.width() + padding.left + padding.right, maxChildWidth);\n            if (\"left\" === layoutSpec.position ? (child.layoutBounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.Bounds).set(curLeftX - childWidth, viewBounds.y1, curLeftX, viewBounds.y2), \n            curLeftX -= childWidth) : (child.layoutBounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.Bounds).set(curRightX, viewBounds.y1, curRightX + childWidth, viewBounds.y2), \n            curRightX += childWidth), child.relativePosition = {\n                left: child.layoutBounds.x1 - viewBounds.x1,\n                right: child.layoutBounds.x1 - viewBounds.x2\n            }, layoutSpec.align) {\n                const childHeight = bounds.height() + padding.top + padding.bottom;\n                childWidth < viewBounds.width() && (\"middle\" === layoutSpec.align ? (child.layoutBounds.y1 = (viewBounds.y1 + viewBounds.y2) / 2 - childHeight / 2, \n                child.layoutBounds.y2 = child.layoutBounds.y1 + childHeight, child.relativePosition.top = child.relativePosition.bottom = (viewBounds.height() - childHeight) / 2) : \"bottom\" === layoutSpec.align ? (child.layoutBounds.y1 = viewBounds.y2 - childHeight, \n                child.layoutBounds.y2 = viewBounds.y2, child.relativePosition.top = viewBounds.height() - childHeight, \n                child.relativePosition.bottom = 0) : \"top\" === layoutSpec.align && (child.layoutBounds.y1 = viewBounds.y1, \n                child.layoutBounds.y2 = viewBounds.y1 + childHeight, child.relativePosition.bottom = viewBounds.height() - childHeight, \n                child.relativePosition.top = 0));\n            }\n        } else \"outside\" === layoutSpec.position ? (curLeftX -= Math.max(parentLayoutBounds.x1 - bounds.x1, 0) + padding.left, \n        curRightX -= Math.max(bounds.x2 - parentLayoutBounds.x2, 0) + padding.right, curTopY -= Math.max(parentLayoutBounds.y1 - bounds.y1, 0) + padding.top, \n        curBottomY += Math.max(bounds.y2 - parentLayoutBounds.y2) + padding.bottom) : child.layoutBounds = viewBounds;\n    }\n    return viewBounds;\n};\n//# sourceMappingURL=relative.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbGF5b3V0L3JlbGF0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDOztBQUVEOztBQUVVOztBQUVBOztBQUVwRDtBQUNBLEtBQUssaURBQWE7QUFDbEIsS0FBSyxpREFBYTtBQUNsQixLQUFLLGlEQUFhO0FBQ2xCLEtBQUssaURBQWE7QUFDbEIsS0FBSyxpREFBYTtBQUNsQixDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVPO0FBQ1AsNkdBQTZHLGtFQUFTLHNFQUFzRSxrRUFBUztBQUNyTTtBQUNBO0FBQ0EsNkRBQTZELDZEQUFnQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxTQUFTO0FBQzFELHdGQUF3Riw2REFBZ0I7QUFDeEc7QUFDQTtBQUNBLDJFQUEyRSxvREFBTTtBQUNqRixpRUFBaUUsb0RBQU07QUFDdkU7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsNEVBQTRFLG9EQUFNO0FBQ2xGLGlFQUFpRSxvREFBTTtBQUN2RTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL2xheW91dC9yZWxhdGl2ZS5qcz9jNzdjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudEVudW0gfSBmcm9tIFwiLi8uLi9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyB0b1BlcmNlbnQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuaW1wb3J0IHsgbm9ybWFsaXplUGFkZGluZyB9IGZyb20gXCIuLi8uLi9wYXJzZS92aWV3XCI7XG5cbmNvbnN0IGRlZmF1bHRMYXlvdXRPcmRlciA9IHtcbiAgICBbQ29tcG9uZW50RW51bS5heGlzXTogMCxcbiAgICBbQ29tcG9uZW50RW51bS5sZWdlbmRdOiAxLFxuICAgIFtDb21wb25lbnRFbnVtLnNsaWRlcl06IDIsXG4gICAgW0NvbXBvbmVudEVudW0ucGxheWVyXTogMyxcbiAgICBbQ29tcG9uZW50RW51bS5kYXRhem9vbV06IDRcbn0sIGdldExheW91dE9yZGVyT2ZNYXJrID0gbWFyayA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuIG51bGwgIT09IChfYiA9IG51bGwgPT09IChfYSA9IG1hcmsuZ2V0U3BlYygpLmxheW91dCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLm9yZGVyKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBcImNvbXBvbmVudFwiID09PSBtYXJrLm1hcmtUeXBlICYmIG51bGwgIT09IChfYyA9IGRlZmF1bHRMYXlvdXRPcmRlclttYXJrLmNvbXBvbmVudFR5cGVdKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAxIC8gMDtcbn07XG5cbmV4cG9ydCBjb25zdCBkb1JlbGF0aXZlTGF5b3V0ID0gKGdyb3VwLCBjaGlsZHJlbiwgcGFyZW50TGF5b3V0Qm91bmRzLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3Qgdmlld0JvdW5kcyA9IHBhcmVudExheW91dEJvdW5kcy5jbG9uZSgpLCBncm91cExheW91dFNwZWMgPSBncm91cC5nZXRTcGVjKCkubGF5b3V0LCBtYXhDaGlsZFdpZHRoID0gdG9QZXJjZW50KGdyb3VwTGF5b3V0U3BlYy5tYXhDaGlsZFdpZHRoLCB2aWV3Qm91bmRzLndpZHRoKCkpLCBtYXhDaGlsZEhlaWdodCA9IHRvUGVyY2VudChncm91cExheW91dFNwZWMubWF4Q2hpbGRIZWlnaHQsIHZpZXdCb3VuZHMud2lkdGgoKSk7XG4gICAgbGV0IG1pbkRlbHRhWDEgPSAwLCBtaW5EZWx0YVgyID0gMCwgbWluRGVsdGFZMSA9IDAsIG1pbkRlbHRhWTIgPSAwO1xuICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkID0+IHtcbiAgICAgICAgY29uc3QgbGF5b3V0U3BlYyA9IGNoaWxkLmdldFNwZWMoKS5sYXlvdXQsIHBhZGRpbmcgPSBub3JtYWxpemVQYWRkaW5nKGxheW91dFNwZWMucGFkZGluZyksIGJvdW5kcyA9IG9wdGlvbnMucGFyc2VNYXJrQm91bmRzID8gb3B0aW9ucy5wYXJzZU1hcmtCb3VuZHMoY2hpbGQuZ2V0Qm91bmRzKCksIGNoaWxkKSA6IGNoaWxkLmdldEJvdW5kcygpO1xuICAgICAgICBpZiAoXCJ0b3BcIiA9PT0gbGF5b3V0U3BlYy5wb3NpdGlvbiB8fCBcImJvdHRvbVwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZEhlaWdodCA9IE1hdGgubWluKGJvdW5kcy5oZWlnaHQoKSArIHBhZGRpbmcudG9wICsgcGFkZGluZy5ib3R0b20sIG1heENoaWxkSGVpZ2h0KTtcbiAgICAgICAgICAgIFwidG9wXCIgPT09IGxheW91dFNwZWMucG9zaXRpb24gPyB2aWV3Qm91bmRzLnkxICs9IGNoaWxkSGVpZ2h0IDogdmlld0JvdW5kcy55MiAtPSBjaGlsZEhlaWdodCwgXG4gICAgICAgICAgICBib3VuZHMueDEgPCBwYXJlbnRMYXlvdXRCb3VuZHMueDEgJiYgKG1pbkRlbHRhWDEgPSBNYXRoLm1heChtaW5EZWx0YVgxLCBwYXJlbnRMYXlvdXRCb3VuZHMueDEgLSBib3VuZHMueDEpKSwgXG4gICAgICAgICAgICBib3VuZHMueDIgPiBwYXJlbnRMYXlvdXRCb3VuZHMueDIgJiYgKG1pbkRlbHRhWDIgPSBNYXRoLm1heChtaW5EZWx0YVgyLCBib3VuZHMueDIgLSBwYXJlbnRMYXlvdXRCb3VuZHMueDIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJsZWZ0XCIgPT09IGxheW91dFNwZWMucG9zaXRpb24gfHwgXCJyaWdodFwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFdpZHRoID0gTWF0aC5taW4oYm91bmRzLndpZHRoKCkgKyBwYWRkaW5nLmxlZnQgKyBwYWRkaW5nLnJpZ2h0LCBtYXhDaGlsZFdpZHRoKTtcbiAgICAgICAgICAgIFwibGVmdFwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uID8gdmlld0JvdW5kcy54MSArPSBjaGlsZFdpZHRoIDogdmlld0JvdW5kcy54MiAtPSBjaGlsZFdpZHRoLCBcbiAgICAgICAgICAgIGJvdW5kcy55MSA8IHBhcmVudExheW91dEJvdW5kcy55MSAmJiAobWluRGVsdGFZMSA9IE1hdGgubWF4KG1pbkRlbHRhWTEsIHBhcmVudExheW91dEJvdW5kcy55MSAtIGJvdW5kcy55MSkpLCBcbiAgICAgICAgICAgIGJvdW5kcy55MiA+IHBhcmVudExheW91dEJvdW5kcy55MiAmJiAobWluRGVsdGFZMiA9IE1hdGgubWF4KG1pbkRlbHRhWTIsIGJvdW5kcy55MiAtIHBhcmVudExheW91dEJvdW5kcy55MikpO1xuICAgICAgICB9XG4gICAgICAgIFwib3V0c2lkZVwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uICYmICh2aWV3Qm91bmRzLngxICs9IE1hdGgubWF4KHBhcmVudExheW91dEJvdW5kcy54MSAtIGJvdW5kcy54MSwgMCkgKyBwYWRkaW5nLmxlZnQsIFxuICAgICAgICB2aWV3Qm91bmRzLngyIC09IE1hdGgubWF4KGJvdW5kcy54MiAtIHBhcmVudExheW91dEJvdW5kcy54MiwgMCkgKyBwYWRkaW5nLnJpZ2h0LCBcbiAgICAgICAgdmlld0JvdW5kcy55MSArPSBNYXRoLm1heChwYXJlbnRMYXlvdXRCb3VuZHMueTEgLSBib3VuZHMueTEsIDApICsgcGFkZGluZy50b3AsIHZpZXdCb3VuZHMueTIgLT0gTWF0aC5tYXgoYm91bmRzLnkyIC0gcGFyZW50TGF5b3V0Qm91bmRzLnkyKSArIHBhZGRpbmcuYm90dG9tKTtcbiAgICB9KSksIG1pbkRlbHRhWDEgPiB2aWV3Qm91bmRzLngxIC0gcGFyZW50TGF5b3V0Qm91bmRzLngxICYmIG1pbkRlbHRhWDEgPCBwYXJlbnRMYXlvdXRCb3VuZHMud2lkdGgoKSAmJiAodmlld0JvdW5kcy54MSA9IHBhcmVudExheW91dEJvdW5kcy54MSArIG1pbkRlbHRhWDEpLCBcbiAgICBtaW5EZWx0YVgyID4gcGFyZW50TGF5b3V0Qm91bmRzLngyIC0gdmlld0JvdW5kcy54MiAmJiBtaW5EZWx0YVgyIDwgcGFyZW50TGF5b3V0Qm91bmRzLndpZHRoKCkgJiYgKHZpZXdCb3VuZHMueDIgPSBwYXJlbnRMYXlvdXRCb3VuZHMueDIgLSBtaW5EZWx0YVgyKSwgXG4gICAgbWluRGVsdGFZMSA+IHZpZXdCb3VuZHMueTEgLSBwYXJlbnRMYXlvdXRCb3VuZHMueTEgJiYgbWluRGVsdGFZMSA8IHBhcmVudExheW91dEJvdW5kcy5oZWlnaHQoKSAmJiAodmlld0JvdW5kcy55MSA9IHBhcmVudExheW91dEJvdW5kcy55MSArIG1pbkRlbHRhWTEpLCBcbiAgICBtaW5EZWx0YVkyID4gcGFyZW50TGF5b3V0Qm91bmRzLnkyIC0gdmlld0JvdW5kcy55MiAmJiBtaW5EZWx0YVkyIDwgcGFyZW50TGF5b3V0Qm91bmRzLmhlaWdodCgpICYmICh2aWV3Qm91bmRzLnkyID0gcGFyZW50TGF5b3V0Qm91bmRzLnkyIC0gbWluRGVsdGFZMik7XG4gICAgbGV0IGN1clRvcFkgPSB2aWV3Qm91bmRzLnkxLCBjdXJCb3R0b21ZID0gdmlld0JvdW5kcy55MiwgY3VyTGVmdFggPSB2aWV3Qm91bmRzLngxLCBjdXJSaWdodFggPSB2aWV3Qm91bmRzLngyO1xuICAgIGNvbnN0IHNvcnRlZENoaWxkcmVuID0gY2hpbGRyZW4uc2xpY2UoKS5zb3J0KCgobWFya0EsIG1hcmtCKSA9PiBnZXRMYXlvdXRPcmRlck9mTWFyayhtYXJrQSkgLSBnZXRMYXlvdXRPcmRlck9mTWFyayhtYXJrQikpKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc29ydGVkQ2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBzb3J0ZWRDaGlsZHJlbltpXSwgbGF5b3V0U3BlYyA9IGNoaWxkLmdldFNwZWMoKS5sYXlvdXQsIHBhZGRpbmcgPSBub3JtYWxpemVQYWRkaW5nKGxheW91dFNwZWMucGFkZGluZyksIGJvdW5kcyA9IG9wdGlvbnMucGFyc2VNYXJrQm91bmRzID8gb3B0aW9ucy5wYXJzZU1hcmtCb3VuZHMoY2hpbGQuZ2V0Qm91bmRzKCksIGNoaWxkKSA6IGNoaWxkLmdldEJvdW5kcygpO1xuICAgICAgICBpZiAoXCJ0b3BcIiA9PT0gbGF5b3V0U3BlYy5wb3NpdGlvbiB8fCBcImJvdHRvbVwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZEhlaWdodCA9IE1hdGgubWluKGJvdW5kcy5oZWlnaHQoKSArIHBhZGRpbmcudG9wICsgcGFkZGluZy5ib3R0b20sIG1heENoaWxkSGVpZ2h0KTtcbiAgICAgICAgICAgIGlmIChcInRvcFwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uID8gKGNoaWxkLmxheW91dEJvdW5kcyA9IChuZXcgQm91bmRzKS5zZXQodmlld0JvdW5kcy54MSwgY3VyVG9wWSAtIGNoaWxkSGVpZ2h0LCB2aWV3Qm91bmRzLngyLCBjdXJUb3BZKSwgXG4gICAgICAgICAgICBjdXJUb3BZIC09IGNoaWxkSGVpZ2h0KSA6IChjaGlsZC5sYXlvdXRCb3VuZHMgPSAobmV3IEJvdW5kcykuc2V0KHZpZXdCb3VuZHMueDEsIGN1ckJvdHRvbVksIHZpZXdCb3VuZHMueDIsIGN1ckJvdHRvbVkgKyBjaGlsZEhlaWdodCksIFxuICAgICAgICAgICAgY3VyQm90dG9tWSArPSBjaGlsZEhlaWdodCksIGNoaWxkLnJlbGF0aXZlUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgdG9wOiBjaGlsZC5sYXlvdXRCb3VuZHMueTEgLSB2aWV3Qm91bmRzLnkxLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogY2hpbGQubGF5b3V0Qm91bmRzLnkxIC0gdmlld0JvdW5kcy55MlxuICAgICAgICAgICAgfSwgbGF5b3V0U3BlYy5hbGlnbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkV2lkdGggPSBib3VuZHMud2lkdGgoKSArIHBhZGRpbmcubGVmdCArIHBhZGRpbmcucmlnaHQ7XG4gICAgICAgICAgICAgICAgY2hpbGRXaWR0aCA8IHZpZXdCb3VuZHMud2lkdGgoKSAmJiAoXCJjZW50ZXJcIiA9PT0gbGF5b3V0U3BlYy5hbGlnbiA/IChjaGlsZC5sYXlvdXRCb3VuZHMueDEgPSAodmlld0JvdW5kcy54MSArIHZpZXdCb3VuZHMueDIpIC8gMiAtIGNoaWxkV2lkdGggLyAyLCBcbiAgICAgICAgICAgICAgICBjaGlsZC5sYXlvdXRCb3VuZHMueDIgPSBjaGlsZC5sYXlvdXRCb3VuZHMueDEgKyBjaGlsZFdpZHRoLCBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uLmxlZnQgPSBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uLnJpZ2h0ID0gKHZpZXdCb3VuZHMud2lkdGgoKSAtIGNoaWxkV2lkdGgpIC8gMikgOiBcInJpZ2h0XCIgPT09IGxheW91dFNwZWMuYWxpZ24gPyAoY2hpbGQubGF5b3V0Qm91bmRzLngxID0gdmlld0JvdW5kcy54MiAtIGNoaWxkV2lkdGgsIFxuICAgICAgICAgICAgICAgIGNoaWxkLmxheW91dEJvdW5kcy54MiA9IHZpZXdCb3VuZHMueDIsIGNoaWxkLnJlbGF0aXZlUG9zaXRpb24ucmlnaHQgPSAwLCBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uLmxlZnQgPSB2aWV3Qm91bmRzLndpZHRoKCkgLSBjaGlsZFdpZHRoKSA6IFwibGVmdFwiID09PSBsYXlvdXRTcGVjLmFsaWduICYmIChjaGlsZC5sYXlvdXRCb3VuZHMueDEgPSB2aWV3Qm91bmRzLngxLCBcbiAgICAgICAgICAgICAgICBjaGlsZC5sYXlvdXRCb3VuZHMueDIgPSB2aWV3Qm91bmRzLngxICsgY2hpbGRXaWR0aCwgY2hpbGQucmVsYXRpdmVQb3NpdGlvbi5sZWZ0ID0gMCwgXG4gICAgICAgICAgICAgICAgY2hpbGQucmVsYXRpdmVQb3NpdGlvbi5yaWdodCA9IHZpZXdCb3VuZHMud2lkdGgoKSAtIGNoaWxkV2lkdGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChcImxlZnRcIiA9PT0gbGF5b3V0U3BlYy5wb3NpdGlvbiB8fCBcInJpZ2h0XCIgPT09IGxheW91dFNwZWMucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkV2lkdGggPSBNYXRoLm1pbihib3VuZHMud2lkdGgoKSArIHBhZGRpbmcubGVmdCArIHBhZGRpbmcucmlnaHQsIG1heENoaWxkV2lkdGgpO1xuICAgICAgICAgICAgaWYgKFwibGVmdFwiID09PSBsYXlvdXRTcGVjLnBvc2l0aW9uID8gKGNoaWxkLmxheW91dEJvdW5kcyA9IChuZXcgQm91bmRzKS5zZXQoY3VyTGVmdFggLSBjaGlsZFdpZHRoLCB2aWV3Qm91bmRzLnkxLCBjdXJMZWZ0WCwgdmlld0JvdW5kcy55MiksIFxuICAgICAgICAgICAgY3VyTGVmdFggLT0gY2hpbGRXaWR0aCkgOiAoY2hpbGQubGF5b3V0Qm91bmRzID0gKG5ldyBCb3VuZHMpLnNldChjdXJSaWdodFgsIHZpZXdCb3VuZHMueTEsIGN1clJpZ2h0WCArIGNoaWxkV2lkdGgsIHZpZXdCb3VuZHMueTIpLCBcbiAgICAgICAgICAgIGN1clJpZ2h0WCArPSBjaGlsZFdpZHRoKSwgY2hpbGQucmVsYXRpdmVQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBjaGlsZC5sYXlvdXRCb3VuZHMueDEgLSB2aWV3Qm91bmRzLngxLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBjaGlsZC5sYXlvdXRCb3VuZHMueDEgLSB2aWV3Qm91bmRzLngyXG4gICAgICAgICAgICB9LCBsYXlvdXRTcGVjLmFsaWduKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRIZWlnaHQgPSBib3VuZHMuaGVpZ2h0KCkgKyBwYWRkaW5nLnRvcCArIHBhZGRpbmcuYm90dG9tO1xuICAgICAgICAgICAgICAgIGNoaWxkV2lkdGggPCB2aWV3Qm91bmRzLndpZHRoKCkgJiYgKFwibWlkZGxlXCIgPT09IGxheW91dFNwZWMuYWxpZ24gPyAoY2hpbGQubGF5b3V0Qm91bmRzLnkxID0gKHZpZXdCb3VuZHMueTEgKyB2aWV3Qm91bmRzLnkyKSAvIDIgLSBjaGlsZEhlaWdodCAvIDIsIFxuICAgICAgICAgICAgICAgIGNoaWxkLmxheW91dEJvdW5kcy55MiA9IGNoaWxkLmxheW91dEJvdW5kcy55MSArIGNoaWxkSGVpZ2h0LCBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uLnRvcCA9IGNoaWxkLnJlbGF0aXZlUG9zaXRpb24uYm90dG9tID0gKHZpZXdCb3VuZHMuaGVpZ2h0KCkgLSBjaGlsZEhlaWdodCkgLyAyKSA6IFwiYm90dG9tXCIgPT09IGxheW91dFNwZWMuYWxpZ24gPyAoY2hpbGQubGF5b3V0Qm91bmRzLnkxID0gdmlld0JvdW5kcy55MiAtIGNoaWxkSGVpZ2h0LCBcbiAgICAgICAgICAgICAgICBjaGlsZC5sYXlvdXRCb3VuZHMueTIgPSB2aWV3Qm91bmRzLnkyLCBjaGlsZC5yZWxhdGl2ZVBvc2l0aW9uLnRvcCA9IHZpZXdCb3VuZHMuaGVpZ2h0KCkgLSBjaGlsZEhlaWdodCwgXG4gICAgICAgICAgICAgICAgY2hpbGQucmVsYXRpdmVQb3NpdGlvbi5ib3R0b20gPSAwKSA6IFwidG9wXCIgPT09IGxheW91dFNwZWMuYWxpZ24gJiYgKGNoaWxkLmxheW91dEJvdW5kcy55MSA9IHZpZXdCb3VuZHMueTEsIFxuICAgICAgICAgICAgICAgIGNoaWxkLmxheW91dEJvdW5kcy55MiA9IHZpZXdCb3VuZHMueTEgKyBjaGlsZEhlaWdodCwgY2hpbGQucmVsYXRpdmVQb3NpdGlvbi5ib3R0b20gPSB2aWV3Qm91bmRzLmhlaWdodCgpIC0gY2hpbGRIZWlnaHQsIFxuICAgICAgICAgICAgICAgIGNoaWxkLnJlbGF0aXZlUG9zaXRpb24udG9wID0gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgXCJvdXRzaWRlXCIgPT09IGxheW91dFNwZWMucG9zaXRpb24gPyAoY3VyTGVmdFggLT0gTWF0aC5tYXgocGFyZW50TGF5b3V0Qm91bmRzLngxIC0gYm91bmRzLngxLCAwKSArIHBhZGRpbmcubGVmdCwgXG4gICAgICAgIGN1clJpZ2h0WCAtPSBNYXRoLm1heChib3VuZHMueDIgLSBwYXJlbnRMYXlvdXRCb3VuZHMueDIsIDApICsgcGFkZGluZy5yaWdodCwgY3VyVG9wWSAtPSBNYXRoLm1heChwYXJlbnRMYXlvdXRCb3VuZHMueTEgLSBib3VuZHMueTEsIDApICsgcGFkZGluZy50b3AsIFxuICAgICAgICBjdXJCb3R0b21ZICs9IE1hdGgubWF4KGJvdW5kcy55MiAtIHBhcmVudExheW91dEJvdW5kcy55MikgKyBwYWRkaW5nLmJvdHRvbSkgOiBjaGlsZC5sYXlvdXRCb3VuZHMgPSB2aWV3Qm91bmRzO1xuICAgIH1cbiAgICByZXR1cm4gdmlld0JvdW5kcztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWxhdGl2ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/relative.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark-tree.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark-tree.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   traverseMarkTree: () => (/* binding */ traverseMarkTree)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\nconst traverseMarkTree = (rootMark, childrenKey, apply, filter, leafFirst) => {\n    const traverse = mark => {\n        if (leafFirst || !mark || filter && !filter(mark) || apply.call(null, mark), mark.markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.group) {\n            const children = mark[childrenKey];\n            children && children.forEach((child => {\n                traverse(child);\n            }));\n        }\n        leafFirst && (!mark || filter && !filter(mark) || apply.call(null, mark));\n    };\n    traverse(rootMark);\n};\n//# sourceMappingURL=mark-tree.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay10cmVlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUVuQztBQUNQO0FBQ0EsdUdBQXVHLG1EQUFlO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL21hcmstdHJlZS5qcz9jZTdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuL2VudW1zXCI7XG5cbmV4cG9ydCBjb25zdCB0cmF2ZXJzZU1hcmtUcmVlID0gKHJvb3RNYXJrLCBjaGlsZHJlbktleSwgYXBwbHksIGZpbHRlciwgbGVhZkZpcnN0KSA9PiB7XG4gICAgY29uc3QgdHJhdmVyc2UgPSBtYXJrID0+IHtcbiAgICAgICAgaWYgKGxlYWZGaXJzdCB8fCAhbWFyayB8fCBmaWx0ZXIgJiYgIWZpbHRlcihtYXJrKSB8fCBhcHBseS5jYWxsKG51bGwsIG1hcmspLCBtYXJrLm1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuZ3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gbWFya1tjaGlsZHJlbktleV07XG4gICAgICAgICAgICBjaGlsZHJlbiAmJiBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2UoY2hpbGQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGxlYWZGaXJzdCAmJiAoIW1hcmsgfHwgZmlsdGVyICYmICFmaWx0ZXIobWFyaykgfHwgYXBwbHkuY2FsbChudWxsLCBtYXJrKSk7XG4gICAgfTtcbiAgICB0cmF2ZXJzZShyb290TWFyayk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFyay10cmVlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark-tree.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Differ: () => (/* binding */ Differ),\n/* harmony export */   diffMultiple: () => (/* binding */ diffMultiple),\n/* harmony export */   diffSingle: () => (/* binding */ diffSingle),\n/* harmony export */   groupData: () => (/* binding */ groupData)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n\n\n\n\n\n\nfunction groupData(data, key, sort) {\n    const groupedData = new Map;\n    if (!data || 0 === data.length) return {\n        keys: [],\n        data: groupedData\n    };\n    if (!key) return groupedData.set(_constants__WEBPACK_IMPORTED_MODULE_0__.DefaultKey, sort ? data.slice().sort(sort) : data.slice()), \n    {\n        keys: _constants__WEBPACK_IMPORTED_MODULE_0__.DefaultGroupKeys,\n        data: groupedData\n    };\n    const keyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.parseField)(key);\n    if (1 === data.length) {\n        const key = keyGetter(data[0]);\n        return groupedData.set(key, [ data[0] ]), {\n            keys: [ key ],\n            data: groupedData\n        };\n    }\n    const keys = new Set;\n    return data.forEach((entry => {\n        var _a;\n        const key = keyGetter(entry), lastData = null !== (_a = groupedData.get(key)) && void 0 !== _a ? _a : [];\n        lastData.push(entry), groupedData.set(key, lastData), keys.add(key);\n    })), sort && keys.forEach((key => {\n        groupedData.get(key).sort(sort);\n    })), {\n        keys: Array.from(keys),\n        data: groupedData\n    };\n}\n\nclass Differ {\n    constructor(data, key, sort) {\n        this.prevData = (null == data ? void 0 : data.length) ? groupData(data, null != key ? key : null, sort) : null;\n    }\n    setCurrentData(currentData) {\n        this.currentData = currentData;\n    }\n    getCurrentData() {\n        return this.currentData;\n    }\n    doDiff() {\n        if (this.callback) if (this.currentData && this.prevData) {\n            const prevMap = new Map(this.prevData.data);\n            this.currentData.keys.forEach((key => {\n                this.callback(key, this.currentData.data.get(key), prevMap.get(key)), prevMap.delete(key);\n            })), this.prevData.keys.forEach((key => {\n                prevMap.has(key) && this.callback(key, null, prevMap.get(key));\n            }));\n        } else if (this.currentData) {\n            this.currentData.keys.forEach((key => {\n                this.callback(key, this.currentData.data.get(key), null);\n            }));\n        } else this.prevData && this.prevData.keys.forEach((key => {\n            this.callback(key, null, this.prevData.data.get(key));\n        }));\n    }\n    setCallback(callback) {\n        this.callback = callback;\n    }\n    updateToCurrent() {\n        this.prevData = this.currentData, this.currentData = null;\n    }\n    reset() {\n        this.prevData = null;\n    }\n}\n\nfunction diffSingle(prev, next, key) {\n    const result = {\n        enter: [],\n        exit: [],\n        update: []\n    }, differ = new Differ(prev, key);\n    return differ.setCallback(((key, data, prevData) => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(data) ? result.exit.push({\n            prev: prevData[0]\n        }) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prevData) ? result.enter.push({\n            next: data[0]\n        }) : result.update.push({\n            next: data[0],\n            prev: prevData[0]\n        });\n    })), differ.setCurrentData(groupData(next, key)), differ.doDiff(), result;\n}\n\nfunction diffMultiple(prev, next, key) {\n    const result = {\n        enter: [],\n        exit: [],\n        update: []\n    }, differ = new Differ(prev, key);\n    return differ.setCallback(((key, data, prevData) => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(data) ? result.exit.push({\n            prev: prevData\n        }) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(prevData) ? result.enter.push({\n            next: data\n        }) : result.update.push({\n            next: data,\n            prev: prevData\n        });\n    })), differ.setCurrentData(groupData(next, key)), differ.doDiff(), result;\n}\n//# sourceMappingURL=differ.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9kaWZmZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF5Qzs7QUFFSzs7QUFFYzs7QUFFckQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtEQUFVO0FBQy9DO0FBQ0EsY0FBYyx3REFBZ0I7QUFDOUI7QUFDQTtBQUNBLHNCQUFzQix1REFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFVBQVU7QUFDVjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFVBQVU7QUFDVjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxRQUFRLDREQUFLO0FBQ2I7QUFDQSxTQUFTLElBQUksNERBQUs7QUFDbEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFFBQVEsNERBQUs7QUFDYjtBQUNBLFNBQVMsSUFBSSw0REFBSztBQUNsQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9tYXJrL2RpZmZlci5qcz84NjE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgcGFyc2VGaWVsZCB9IGZyb20gXCIuLi8uLi9wYXJzZS91dGlsXCI7XG5cbmltcG9ydCB7IERlZmF1bHRLZXksIERlZmF1bHRHcm91cEtleXMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBncm91cERhdGEoZGF0YSwga2V5LCBzb3J0KSB7XG4gICAgY29uc3QgZ3JvdXBlZERhdGEgPSBuZXcgTWFwO1xuICAgIGlmICghZGF0YSB8fCAwID09PSBkYXRhLmxlbmd0aCkgcmV0dXJuIHtcbiAgICAgICAga2V5czogW10sXG4gICAgICAgIGRhdGE6IGdyb3VwZWREYXRhXG4gICAgfTtcbiAgICBpZiAoIWtleSkgcmV0dXJuIGdyb3VwZWREYXRhLnNldChEZWZhdWx0S2V5LCBzb3J0ID8gZGF0YS5zbGljZSgpLnNvcnQoc29ydCkgOiBkYXRhLnNsaWNlKCkpLCBcbiAgICB7XG4gICAgICAgIGtleXM6IERlZmF1bHRHcm91cEtleXMsXG4gICAgICAgIGRhdGE6IGdyb3VwZWREYXRhXG4gICAgfTtcbiAgICBjb25zdCBrZXlHZXR0ZXIgPSBwYXJzZUZpZWxkKGtleSk7XG4gICAgaWYgKDEgPT09IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleUdldHRlcihkYXRhWzBdKTtcbiAgICAgICAgcmV0dXJuIGdyb3VwZWREYXRhLnNldChrZXksIFsgZGF0YVswXSBdKSwge1xuICAgICAgICAgICAga2V5czogWyBrZXkgXSxcbiAgICAgICAgICAgIGRhdGE6IGdyb3VwZWREYXRhXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0O1xuICAgIHJldHVybiBkYXRhLmZvckVhY2goKGVudHJ5ID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlHZXR0ZXIoZW50cnkpLCBsYXN0RGF0YSA9IG51bGwgIT09IChfYSA9IGdyb3VwZWREYXRhLmdldChrZXkpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbXTtcbiAgICAgICAgbGFzdERhdGEucHVzaChlbnRyeSksIGdyb3VwZWREYXRhLnNldChrZXksIGxhc3REYXRhKSwga2V5cy5hZGQoa2V5KTtcbiAgICB9KSksIHNvcnQgJiYga2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBncm91cGVkRGF0YS5nZXQoa2V5KS5zb3J0KHNvcnQpO1xuICAgIH0pKSwge1xuICAgICAgICBrZXlzOiBBcnJheS5mcm9tKGtleXMpLFxuICAgICAgICBkYXRhOiBncm91cGVkRGF0YVxuICAgIH07XG59XG5cbmV4cG9ydCBjbGFzcyBEaWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIGtleSwgc29ydCkge1xuICAgICAgICB0aGlzLnByZXZEYXRhID0gKG51bGwgPT0gZGF0YSA/IHZvaWQgMCA6IGRhdGEubGVuZ3RoKSA/IGdyb3VwRGF0YShkYXRhLCBudWxsICE9IGtleSA/IGtleSA6IG51bGwsIHNvcnQpIDogbnVsbDtcbiAgICB9XG4gICAgc2V0Q3VycmVudERhdGEoY3VycmVudERhdGEpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50RGF0YSA9IGN1cnJlbnREYXRhO1xuICAgIH1cbiAgICBnZXRDdXJyZW50RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudERhdGE7XG4gICAgfVxuICAgIGRvRGlmZigpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2spIGlmICh0aGlzLmN1cnJlbnREYXRhICYmIHRoaXMucHJldkRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZNYXAgPSBuZXcgTWFwKHRoaXMucHJldkRhdGEuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRhLmtleXMuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGtleSwgdGhpcy5jdXJyZW50RGF0YS5kYXRhLmdldChrZXkpLCBwcmV2TWFwLmdldChrZXkpKSwgcHJldk1hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy5wcmV2RGF0YS5rZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgcHJldk1hcC5oYXMoa2V5KSAmJiB0aGlzLmNhbGxiYWNrKGtleSwgbnVsbCwgcHJldk1hcC5nZXQoa2V5KSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50RGF0YSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0YS5rZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayhrZXksIHRoaXMuY3VycmVudERhdGEuZGF0YS5nZXQoa2V5KSwgbnVsbCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB0aGlzLnByZXZEYXRhICYmIHRoaXMucHJldkRhdGEua2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayhrZXksIG51bGwsIHRoaXMucHJldkRhdGEuZGF0YS5nZXQoa2V5KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2V0Q2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICB1cGRhdGVUb0N1cnJlbnQoKSB7XG4gICAgICAgIHRoaXMucHJldkRhdGEgPSB0aGlzLmN1cnJlbnREYXRhLCB0aGlzLmN1cnJlbnREYXRhID0gbnVsbDtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucHJldkRhdGEgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZTaW5nbGUocHJldiwgbmV4dCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBlbnRlcjogW10sXG4gICAgICAgIGV4aXQ6IFtdLFxuICAgICAgICB1cGRhdGU6IFtdXG4gICAgfSwgZGlmZmVyID0gbmV3IERpZmZlcihwcmV2LCBrZXkpO1xuICAgIHJldHVybiBkaWZmZXIuc2V0Q2FsbGJhY2soKChrZXksIGRhdGEsIHByZXZEYXRhKSA9PiB7XG4gICAgICAgIGlzTmlsKGRhdGEpID8gcmVzdWx0LmV4aXQucHVzaCh7XG4gICAgICAgICAgICBwcmV2OiBwcmV2RGF0YVswXVxuICAgICAgICB9KSA6IGlzTmlsKHByZXZEYXRhKSA/IHJlc3VsdC5lbnRlci5wdXNoKHtcbiAgICAgICAgICAgIG5leHQ6IGRhdGFbMF1cbiAgICAgICAgfSkgOiByZXN1bHQudXBkYXRlLnB1c2goe1xuICAgICAgICAgICAgbmV4dDogZGF0YVswXSxcbiAgICAgICAgICAgIHByZXY6IHByZXZEYXRhWzBdXG4gICAgICAgIH0pO1xuICAgIH0pKSwgZGlmZmVyLnNldEN1cnJlbnREYXRhKGdyb3VwRGF0YShuZXh0LCBrZXkpKSwgZGlmZmVyLmRvRGlmZigpLCByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmTXVsdGlwbGUocHJldiwgbmV4dCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBlbnRlcjogW10sXG4gICAgICAgIGV4aXQ6IFtdLFxuICAgICAgICB1cGRhdGU6IFtdXG4gICAgfSwgZGlmZmVyID0gbmV3IERpZmZlcihwcmV2LCBrZXkpO1xuICAgIHJldHVybiBkaWZmZXIuc2V0Q2FsbGJhY2soKChrZXksIGRhdGEsIHByZXZEYXRhKSA9PiB7XG4gICAgICAgIGlzTmlsKGRhdGEpID8gcmVzdWx0LmV4aXQucHVzaCh7XG4gICAgICAgICAgICBwcmV2OiBwcmV2RGF0YVxuICAgICAgICB9KSA6IGlzTmlsKHByZXZEYXRhKSA/IHJlc3VsdC5lbnRlci5wdXNoKHtcbiAgICAgICAgICAgIG5leHQ6IGRhdGFcbiAgICAgICAgfSkgOiByZXN1bHQudXBkYXRlLnB1c2goe1xuICAgICAgICAgICAgbmV4dDogZGF0YSxcbiAgICAgICAgICAgIHByZXY6IHByZXZEYXRhXG4gICAgICAgIH0pO1xuICAgIH0pKSwgZGlmZmVyLnNldEN1cnJlbnREYXRhKGdyb3VwRGF0YShuZXh0LCBrZXkpKSwgZGlmZmVyLmRvRGlmZigpLCByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWZmZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invokeEncoder: () => (/* binding */ invokeEncoder),\n/* harmony export */   invokeEncoderToItems: () => (/* binding */ invokeEncoderToItems)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _attributes_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributes/helpers */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/helpers.js\");\n\n\n\n\n\n\n\n\n\n\nfunction invokeEncoderToItems(element, items, encoder, parameters, onlyFullEncodeFirst) {\n    encoder && ((0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.isFunctionType)(encoder) ? items.forEach((item => {\n        const attributes = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(encoder, parameters, item.datum, element);\n        Object.assign(item.nextAttrs, attributes);\n    })) : Object.keys(encoder).forEach((channel => {\n        var _a, _b;\n        const encode = encoder[channel], encodeItems = onlyFullEncodeFirst && !(0,_attributes_helpers__WEBPACK_IMPORTED_MODULE_1__.isPositionOrSizeChannel)(element.mark.markType, channel) ? [ items[0] ] : items;\n        if ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isScaleEncode)(encode)) {\n            const scale = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.getGrammarOutput)(encode.scale, parameters), offset = null !== (_a = null == encode ? void 0 : encode.offset) && void 0 !== _a ? _a : 0, bandOffset = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(encode.band) && scale.bandwidth ? scale.bandwidth() * encode.band : null, hasField = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(null == encode ? void 0 : encode.field), fieldAccessor = hasField ? (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__.field)(encode.field) : null;\n            let to = hasField ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(null == encode ? void 0 : encode.value) ? 0 : null === (_b = scale.scale) || void 0 === _b ? void 0 : _b.call(scale, encode.value);\n            encodeItems.forEach((item => {\n                var _a;\n                hasField && (to = null === (_a = scale.scale) || void 0 === _a ? void 0 : _a.call(scale, fieldAccessor(item.datum))), \n                item.nextAttrs[channel] = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(to) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(bandOffset) ? to + offset + bandOffset : to;\n            }));\n        } else if ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isFieldEncode)(encode)) {\n            const fieldAccessor = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__.field)(encode.field);\n            encodeItems.forEach((item => {\n                item.nextAttrs[channel] = fieldAccessor(item.datum);\n            }));\n        } else encodeItems.forEach((item => {\n            item.nextAttrs[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(encode, parameters, item.datum, element);\n        }));\n    })));\n}\n\nfunction invokeEncoder(encoder, datum, element, parameters) {\n    if (!encoder) return null;\n    if ((0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.isFunctionType)(encoder)) return (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(encoder, parameters, datum, element);\n    const attributes = {};\n    return Object.keys(encoder).forEach((channel => {\n        var _a, _b, _c;\n        const encode = encoder[channel];\n        if ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isScaleEncode)(encode)) {\n            const scale = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.getGrammarOutput)(encode.scale, parameters), offset = null !== (_a = null == encode ? void 0 : encode.offset) && void 0 !== _a ? _a : 0, bandOffset = !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(encode.band) && scale.bandwidth ? scale.bandwidth() * encode.band : null, hasField = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(null == encode ? void 0 : encode.field), fieldAccessor = hasField ? (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__.field)(encode.field) : null, to = hasField ? null === (_b = scale.scale) || void 0 === _b ? void 0 : _b.call(scale, fieldAccessor(datum)) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(null == encode ? void 0 : encode.value) ? 0 : null === (_c = scale.scale) || void 0 === _c ? void 0 : _c.call(scale, encode.value);\n            attributes[channel] = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(to) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(bandOffset) ? to + offset + bandOffset : to;\n        } else if ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isFieldEncode)(encode)) {\n            const fieldAccessor = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_5__.field)(encode.field);\n            attributes[channel] = fieldAccessor(datum);\n        } else attributes[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_0__.invokeFunctionType)(encode, parameters, datum, element);\n    })), attributes;\n}\n//# sourceMappingURL=encode.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9lbmNvZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTZEOztBQUVPOztBQUVKOztBQUV3Qjs7QUFFeEI7O0FBRXpEO0FBQ1AsZ0JBQWdCLDJEQUFjO0FBQzlCLDJCQUEyQiwrREFBa0I7QUFDN0M7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrRUFBK0UsNEVBQXVCO0FBQ3RHLFlBQVksMERBQWE7QUFDekIsMEJBQTBCLDZEQUFnQixzSUFBc0ksNERBQUssc0ZBQXNGLDREQUFRLHFFQUFxRSw4REFBZ0I7QUFDeFcsdUNBQXVDLDREQUFLO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyw0REFBUSxRQUFRLDREQUFRO0FBQ2xFLGFBQWE7QUFDYixVQUFVLFNBQVMsMERBQWE7QUFDaEMsa0NBQWtDLDhEQUFnQjtBQUNsRDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFVBQVU7QUFDVixzQ0FBc0MsK0RBQWtCO0FBQ3hELFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBLFFBQVEsMkRBQWMsa0JBQWtCLCtEQUFrQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMERBQWE7QUFDekIsMEJBQTBCLDZEQUFnQixzSUFBc0ksNERBQUssc0ZBQXNGLDREQUFRLHFFQUFxRSw4REFBZ0Isc0lBQXNJLDREQUFLO0FBQ25mLGtDQUFrQyw0REFBUSxRQUFRLDREQUFRO0FBQzFELFVBQVUsU0FBUywwREFBYTtBQUNoQyxrQ0FBa0MsOERBQWdCO0FBQ2xEO0FBQ0EsVUFBVSwyQkFBMkIsK0RBQWtCO0FBQ3ZELEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9tYXJrL2VuY29kZS5qcz83MzA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsLCBpc051bWJlciwgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBmaWVsZCBhcyBnZXRGaWVsZEFjY2Vzc29yIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmltcG9ydCB7IGlzRmllbGRFbmNvZGUsIGlzU2NhbGVFbmNvZGUgfSBmcm9tIFwiLi4vLi4vcGFyc2UvbWFya1wiO1xuXG5pbXBvcnQgeyBnZXRHcmFtbWFyT3V0cHV0LCBpbnZva2VGdW5jdGlvblR5cGUsIGlzRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uLy4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgaXNQb3NpdGlvbk9yU2l6ZUNoYW5uZWwgfSBmcm9tIFwiLi4vYXR0cmlidXRlcy9oZWxwZXJzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VFbmNvZGVyVG9JdGVtcyhlbGVtZW50LCBpdGVtcywgZW5jb2RlciwgcGFyYW1ldGVycywgb25seUZ1bGxFbmNvZGVGaXJzdCkge1xuICAgIGVuY29kZXIgJiYgKGlzRnVuY3Rpb25UeXBlKGVuY29kZXIpID8gaXRlbXMuZm9yRWFjaCgoaXRlbSA9PiB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBpbnZva2VGdW5jdGlvblR5cGUoZW5jb2RlciwgcGFyYW1ldGVycywgaXRlbS5kYXR1bSwgZWxlbWVudCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oaXRlbS5uZXh0QXR0cnMsIGF0dHJpYnV0ZXMpO1xuICAgIH0pKSA6IE9iamVjdC5rZXlzKGVuY29kZXIpLmZvckVhY2goKGNoYW5uZWwgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBlbmNvZGUgPSBlbmNvZGVyW2NoYW5uZWxdLCBlbmNvZGVJdGVtcyA9IG9ubHlGdWxsRW5jb2RlRmlyc3QgJiYgIWlzUG9zaXRpb25PclNpemVDaGFubmVsKGVsZW1lbnQubWFyay5tYXJrVHlwZSwgY2hhbm5lbCkgPyBbIGl0ZW1zWzBdIF0gOiBpdGVtcztcbiAgICAgICAgaWYgKGlzU2NhbGVFbmNvZGUoZW5jb2RlKSkge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBnZXRHcmFtbWFyT3V0cHV0KGVuY29kZS5zY2FsZSwgcGFyYW1ldGVycyksIG9mZnNldCA9IG51bGwgIT09IChfYSA9IG51bGwgPT0gZW5jb2RlID8gdm9pZCAwIDogZW5jb2RlLm9mZnNldCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMCwgYmFuZE9mZnNldCA9ICFpc05pbChlbmNvZGUuYmFuZCkgJiYgc2NhbGUuYmFuZHdpZHRoID8gc2NhbGUuYmFuZHdpZHRoKCkgKiBlbmNvZGUuYmFuZCA6IG51bGwsIGhhc0ZpZWxkID0gaXNTdHJpbmcobnVsbCA9PSBlbmNvZGUgPyB2b2lkIDAgOiBlbmNvZGUuZmllbGQpLCBmaWVsZEFjY2Vzc29yID0gaGFzRmllbGQgPyBnZXRGaWVsZEFjY2Vzc29yKGVuY29kZS5maWVsZCkgOiBudWxsO1xuICAgICAgICAgICAgbGV0IHRvID0gaGFzRmllbGQgPyBudWxsIDogaXNOaWwobnVsbCA9PSBlbmNvZGUgPyB2b2lkIDAgOiBlbmNvZGUudmFsdWUpID8gMCA6IG51bGwgPT09IChfYiA9IHNjYWxlLnNjYWxlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuY2FsbChzY2FsZSwgZW5jb2RlLnZhbHVlKTtcbiAgICAgICAgICAgIGVuY29kZUl0ZW1zLmZvckVhY2goKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBoYXNGaWVsZCAmJiAodG8gPSBudWxsID09PSAoX2EgPSBzY2FsZS5zY2FsZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmNhbGwoc2NhbGUsIGZpZWxkQWNjZXNzb3IoaXRlbS5kYXR1bSkpKSwgXG4gICAgICAgICAgICAgICAgaXRlbS5uZXh0QXR0cnNbY2hhbm5lbF0gPSBpc051bWJlcih0bykgfHwgaXNOdW1iZXIoYmFuZE9mZnNldCkgPyB0byArIG9mZnNldCArIGJhbmRPZmZzZXQgOiB0bztcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZpZWxkRW5jb2RlKGVuY29kZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkQWNjZXNzb3IgPSBnZXRGaWVsZEFjY2Vzc29yKGVuY29kZS5maWVsZCk7XG4gICAgICAgICAgICBlbmNvZGVJdGVtcy5mb3JFYWNoKChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICBpdGVtLm5leHRBdHRyc1tjaGFubmVsXSA9IGZpZWxkQWNjZXNzb3IoaXRlbS5kYXR1bSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSBlbmNvZGVJdGVtcy5mb3JFYWNoKChpdGVtID0+IHtcbiAgICAgICAgICAgIGl0ZW0ubmV4dEF0dHJzW2NoYW5uZWxdID0gaW52b2tlRnVuY3Rpb25UeXBlKGVuY29kZSwgcGFyYW1ldGVycywgaXRlbS5kYXR1bSwgZWxlbWVudCk7XG4gICAgICAgIH0pKTtcbiAgICB9KSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlRW5jb2RlcihlbmNvZGVyLCBkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycykge1xuICAgIGlmICghZW5jb2RlcikgcmV0dXJuIG51bGw7XG4gICAgaWYgKGlzRnVuY3Rpb25UeXBlKGVuY29kZXIpKSByZXR1cm4gaW52b2tlRnVuY3Rpb25UeXBlKGVuY29kZXIsIHBhcmFtZXRlcnMsIGRhdHVtLCBlbGVtZW50KTtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0ge307XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGVuY29kZXIpLmZvckVhY2goKGNoYW5uZWwgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgZW5jb2RlID0gZW5jb2RlcltjaGFubmVsXTtcbiAgICAgICAgaWYgKGlzU2NhbGVFbmNvZGUoZW5jb2RlKSkge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBnZXRHcmFtbWFyT3V0cHV0KGVuY29kZS5zY2FsZSwgcGFyYW1ldGVycyksIG9mZnNldCA9IG51bGwgIT09IChfYSA9IG51bGwgPT0gZW5jb2RlID8gdm9pZCAwIDogZW5jb2RlLm9mZnNldCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMCwgYmFuZE9mZnNldCA9ICFpc05pbChlbmNvZGUuYmFuZCkgJiYgc2NhbGUuYmFuZHdpZHRoID8gc2NhbGUuYmFuZHdpZHRoKCkgKiBlbmNvZGUuYmFuZCA6IG51bGwsIGhhc0ZpZWxkID0gaXNTdHJpbmcobnVsbCA9PSBlbmNvZGUgPyB2b2lkIDAgOiBlbmNvZGUuZmllbGQpLCBmaWVsZEFjY2Vzc29yID0gaGFzRmllbGQgPyBnZXRGaWVsZEFjY2Vzc29yKGVuY29kZS5maWVsZCkgOiBudWxsLCB0byA9IGhhc0ZpZWxkID8gbnVsbCA9PT0gKF9iID0gc2NhbGUuc2NhbGUpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5jYWxsKHNjYWxlLCBmaWVsZEFjY2Vzc29yKGRhdHVtKSkgOiBpc05pbChudWxsID09IGVuY29kZSA/IHZvaWQgMCA6IGVuY29kZS52YWx1ZSkgPyAwIDogbnVsbCA9PT0gKF9jID0gc2NhbGUuc2NhbGUpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy5jYWxsKHNjYWxlLCBlbmNvZGUudmFsdWUpO1xuICAgICAgICAgICAgYXR0cmlidXRlc1tjaGFubmVsXSA9IGlzTnVtYmVyKHRvKSB8fCBpc051bWJlcihiYW5kT2Zmc2V0KSA/IHRvICsgb2Zmc2V0ICsgYmFuZE9mZnNldCA6IHRvO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmllbGRFbmNvZGUoZW5jb2RlKSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRBY2Nlc3NvciA9IGdldEZpZWxkQWNjZXNzb3IoZW5jb2RlLmZpZWxkKTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNbY2hhbm5lbF0gPSBmaWVsZEFjY2Vzc29yKGRhdHVtKTtcbiAgICAgICAgfSBlbHNlIGF0dHJpYnV0ZXNbY2hhbm5lbF0gPSBpbnZva2VGdW5jdGlvblR5cGUoZW5jb2RlLCBwYXJhbWV0ZXJzLCBkYXR1bSwgZWxlbWVudCk7XG4gICAgfSkpLCBhdHRyaWJ1dGVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jb2RlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerArc3dGraphic: () => (/* binding */ registerArc3dGraphic),\n/* harmony export */   registerArcGraphic: () => (/* binding */ registerArcGraphic),\n/* harmony export */   registerAreaGraphic: () => (/* binding */ registerAreaGraphic),\n/* harmony export */   registerCellGraphic: () => (/* binding */ registerCellGraphic),\n/* harmony export */   registerCircleGraphic: () => (/* binding */ registerCircleGraphic),\n/* harmony export */   registerGlyphGraphic: () => (/* binding */ registerGlyphGraphic),\n/* harmony export */   registerGroupGraphic: () => (/* binding */ registerGroupGraphic),\n/* harmony export */   registerImageGraphic: () => (/* binding */ registerImageGraphic),\n/* harmony export */   registerIntervalGraphic: () => (/* binding */ registerIntervalGraphic),\n/* harmony export */   registerLargeRectsGraphic: () => (/* binding */ registerLargeRectsGraphic),\n/* harmony export */   registerLargeSymbolsGraphic: () => (/* binding */ registerLargeSymbolsGraphic),\n/* harmony export */   registerLineGraphic: () => (/* binding */ registerLineGraphic),\n/* harmony export */   registerPathGraphic: () => (/* binding */ registerPathGraphic),\n/* harmony export */   registerPolygonGraphic: () => (/* binding */ registerPolygonGraphic),\n/* harmony export */   registerPyramid3dGraphic: () => (/* binding */ registerPyramid3dGraphic),\n/* harmony export */   registerRect3dGraphic: () => (/* binding */ registerRect3dGraphic),\n/* harmony export */   registerRectGraphic: () => (/* binding */ registerRectGraphic),\n/* harmony export */   registerRichTextGraphic: () => (/* binding */ registerRichTextGraphic),\n/* harmony export */   registerRuleGraphic: () => (/* binding */ registerRuleGraphic),\n/* harmony export */   registerShapeGraphic: () => (/* binding */ registerShapeGraphic),\n/* harmony export */   registerSymbolGraphic: () => (/* binding */ registerSymbolGraphic),\n/* harmony export */   registerTextGraphic: () => (/* binding */ registerTextGraphic)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _large_rects__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./large-rects */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/large-rects.js\");\n/* harmony import */ var _large_symbols__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./large-symbols */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/large-symbols.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-shadowRoot.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-circle.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-arc.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-arc3d.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-pyramid3d.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-area.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-group.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-image.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-line.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-path.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-rect.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-rect3d.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-symbol.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-text.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-richtext.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-polygon.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/register/register-glyph.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/circle.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/arc.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/arc3d.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/pyramid3d.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/area.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/group.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/image.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/line.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/path.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/rect.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/rect3d.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/symbol.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/text.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/polygon.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/richtext.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/glyph.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/label/arc.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/label/line.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/label/symbol.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/label/rect.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerCircleGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_1__.registerCircle)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.circle, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_4__.createCircle);\n};\n\nconst registerArcGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_5__.registerArc)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.arc, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_6__.createArc), \n    (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.registerArcDataLabel)();\n};\n\nconst registerArc3dGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_8__.registerArc3d)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.arc3d, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_9__.createArc3d);\n};\n\nconst registerPyramid3dGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_10__.registerPyramid3d)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.pyramid3d, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_11__.createPyramid3d);\n};\n\nconst registerAreaGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_12__.registerArea)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.area, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_13__.createArea), \n    (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_14__.registerLineDataLabel)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__.registerSymbolDataLabel)();\n};\n\nconst registerGroupGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_16__.registerGroup)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.group, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_17__.createGroup);\n};\n\nconst registerImageGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_18__.registerImage)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.image, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_19__.createImage);\n};\n\nconst registerLineGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_20__.registerLine)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_14__.registerLineDataLabel)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__.registerSymbolDataLabel)(), \n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.line, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_21__.createLine);\n};\n\nconst registerPathGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__.registerPath)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.path, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_23__.createPath);\n};\n\nconst registerRectGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__.registerRect)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_25__.registerRectDataLabel)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.rect, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_26__.createRect);\n};\n\nconst registerRect3dGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_27__.registerRect3d)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.rect3d, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__.createRect3d);\n};\n\nconst registerRuleGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_20__.registerLine)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.rule, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_21__.createLine);\n};\n\nconst registerShapeGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__.registerPath)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.shape, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_23__.createPath);\n};\n\nconst registerSymbolGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_29__.registerSymbol)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__.registerSymbolDataLabel)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.symbol, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_30__.createSymbol);\n};\n\nconst registerTextGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_31__.registerText)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_32__.registerRichtext)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.text, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_33__.createText);\n};\n\nconst registerPolygonGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_34__.registerPolygon)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.polygon, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_35__.createPolygon);\n};\n\nconst registerRichTextGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_32__.registerRichtext)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.richtext, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_36__.createRichText);\n};\n\nconst registerCellGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_29__.registerSymbol)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_15__.registerSymbolDataLabel)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.cell, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_30__.createSymbol);\n};\n\nconst registerIntervalGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__.registerRect)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_25__.registerRectDataLabel)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_5__.registerArc)(), (0,_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.registerArcDataLabel)(), \n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.interval, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_26__.createRect);\n};\n\nconst registerGlyphGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_37__.registerGlyph)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.glyph, _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_38__.createGlyph);\n};\n\nconst registerLargeRectsGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__.registerPath)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.largeRects, (attrs => new _large_rects__WEBPACK_IMPORTED_MODULE_39__.LargeRects(attrs)));\n};\n\nconst registerLargeSymbolsGraphic = () => {\n    (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_0__.registerShadowRoot)(), (0,_visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_22__.registerPath)(), _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGraphic(_enums__WEBPACK_IMPORTED_MODULE_3__.GrammarMarkType.largeSymbols, (attrs => new _large_symbols__WEBPACK_IMPORTED_MODULE_40__.LargeSymbols(attrs)));\n};\n//# sourceMappingURL=graphic.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9ncmFwaGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2Qzs7QUFFRjs7QUFFQTs7QUFFSTs7QUFFa1E7O0FBRXBEOztBQUVsSDs7QUFFcEk7QUFDUCxJQUFJLDBFQUFrQixJQUFJLHNFQUFjLElBQUksa0RBQU8saUJBQWlCLG1EQUFlLFNBQVMsZ0VBQVk7QUFDeEc7O0FBRU87QUFDUCxJQUFJLDBFQUFrQixJQUFJLG1FQUFXLElBQUksa0RBQU8saUJBQWlCLG1EQUFlLE1BQU0sNkRBQVM7QUFDL0YsSUFBSSxrRkFBb0I7QUFDeEI7O0FBRU87QUFDUCxJQUFJLDBFQUFrQixJQUFJLHFFQUFhLElBQUksa0RBQU8saUJBQWlCLG1EQUFlLFFBQVEsK0RBQVc7QUFDckc7O0FBRU87QUFDUCxJQUFJLDBFQUFrQixJQUFJLDBFQUFpQixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxZQUFZLG9FQUFlO0FBQ2pIOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQ2xHLElBQUksb0ZBQXFCLElBQUksc0ZBQXVCO0FBQ3BEOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxzRUFBYSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxRQUFRLGdFQUFXO0FBQ3JHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxzRUFBYSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxRQUFRLGdFQUFXO0FBQ3JHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLG9GQUFxQixJQUFJLHNGQUF1QjtBQUMxRixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQzVEOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQ2xHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLG9GQUFxQixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQzNIOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSx1RUFBYyxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxTQUFTLGlFQUFZO0FBQ3hHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQ2xHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxRQUFRLCtEQUFVO0FBQ25HOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSx1RUFBYyxJQUFJLHNGQUF1QixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxTQUFTLGlFQUFZO0FBQ25JOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLHlFQUFnQixJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxPQUFPLCtEQUFVO0FBQ3RIOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSx3RUFBZSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxVQUFVLGtFQUFhO0FBQzNHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSx5RUFBZ0IsSUFBSSxrREFBTyxpQkFBaUIsbURBQWUsV0FBVyxtRUFBYztBQUM5Rzs7QUFFTztBQUNQLElBQUksMEVBQWtCLElBQUksdUVBQWMsSUFBSSxzRkFBdUIsSUFBSSxrREFBTyxpQkFBaUIsbURBQWUsT0FBTyxpRUFBWTtBQUNqSTs7QUFFTztBQUNQLElBQUksMEVBQWtCLElBQUkscUVBQVksSUFBSSxvRkFBcUIsSUFBSSxtRUFBVyxJQUFJLGtGQUFvQjtBQUN0RyxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxXQUFXLCtEQUFVO0FBQ2hFOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxzRUFBYSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSxRQUFRLGdFQUFXO0FBQ3JHOztBQUVPO0FBQ1AsSUFBSSwwRUFBa0IsSUFBSSxxRUFBWSxJQUFJLGtEQUFPLGlCQUFpQixtREFBZSwyQkFBMkIscURBQVU7QUFDdEg7O0FBRU87QUFDUCxJQUFJLDBFQUFrQixJQUFJLHFFQUFZLElBQUksa0RBQU8saUJBQWlCLG1EQUFlLDZCQUE2Qix5REFBWTtBQUMxSDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9tYXJrL2dyYXBoaWMuanM/ODk5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uLy4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZW51bXNcIjtcblxuaW1wb3J0IHsgTGFyZ2VSZWN0cyB9IGZyb20gXCIuL2xhcmdlLXJlY3RzXCI7XG5cbmltcG9ydCB7IExhcmdlU3ltYm9scyB9IGZyb20gXCIuL2xhcmdlLXN5bWJvbHNcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJDaXJjbGUsIHJlZ2lzdGVyQXJjLCByZWdpc3RlckFyYzNkLCByZWdpc3RlclB5cmFtaWQzZCwgcmVnaXN0ZXJBcmVhLCByZWdpc3Rlckdyb3VwLCByZWdpc3RlckltYWdlLCByZWdpc3RlclJlY3QzZCwgcmVnaXN0ZXJMaW5lLCByZWdpc3RlclBhdGgsIHJlZ2lzdGVyUmVjdCwgcmVnaXN0ZXJTeW1ib2wsIHJlZ2lzdGVyVGV4dCwgcmVnaXN0ZXJQb2x5Z29uLCByZWdpc3RlclJpY2h0ZXh0LCByZWdpc3RlckdseXBoLCByZWdpc3RlclNoYWRvd1Jvb3QgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXIta2l0c1wiO1xuXG5pbXBvcnQgeyBjcmVhdGVBcmMsIGNyZWF0ZUNpcmNsZSwgY3JlYXRlQXJjM2QsIGNyZWF0ZVB5cmFtaWQzZCwgY3JlYXRlQXJlYSwgY3JlYXRlR3JvdXAsIGNyZWF0ZUltYWdlLCBjcmVhdGVSZWN0M2QsIGNyZWF0ZUxpbmUsIGNyZWF0ZVBhdGgsIGNyZWF0ZVJlY3QsIGNyZWF0ZVN5bWJvbCwgY3JlYXRlVGV4dCwgY3JlYXRlUG9seWdvbiwgY3JlYXRlUmljaFRleHQsIGNyZWF0ZUdseXBoIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvcmVcIjtcblxuaW1wb3J0IHsgcmVnaXN0ZXJSZWN0RGF0YUxhYmVsLCByZWdpc3RlckxpbmVEYXRhTGFiZWwsIHJlZ2lzdGVyQXJjRGF0YUxhYmVsLCByZWdpc3RlclN5bWJvbERhdGFMYWJlbCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckNpcmNsZUdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyQ2lyY2xlKCksIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5jaXJjbGUsIGNyZWF0ZUNpcmNsZSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJBcmNHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlckFyYygpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUuYXJjLCBjcmVhdGVBcmMpLCBcbiAgICByZWdpc3RlckFyY0RhdGFMYWJlbCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQXJjM2RHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlckFyYzNkKCksIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5hcmMzZCwgY3JlYXRlQXJjM2QpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUHlyYW1pZDNkR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJQeXJhbWlkM2QoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLnB5cmFtaWQzZCwgY3JlYXRlUHlyYW1pZDNkKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckFyZWFHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlckFyZWEoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLmFyZWEsIGNyZWF0ZUFyZWEpLCBcbiAgICByZWdpc3RlckxpbmVEYXRhTGFiZWwoKSwgcmVnaXN0ZXJTeW1ib2xEYXRhTGFiZWwoKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdyb3VwR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJHcm91cCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUuZ3JvdXAsIGNyZWF0ZUdyb3VwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckltYWdlR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJJbWFnZSgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUuaW1hZ2UsIGNyZWF0ZUltYWdlKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckxpbmVHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlckxpbmUoKSwgcmVnaXN0ZXJMaW5lRGF0YUxhYmVsKCksIHJlZ2lzdGVyU3ltYm9sRGF0YUxhYmVsKCksIFxuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5saW5lLCBjcmVhdGVMaW5lKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclBhdGhHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlclBhdGgoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLnBhdGgsIGNyZWF0ZVBhdGgpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUmVjdEdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyUmVjdCgpLCByZWdpc3RlclJlY3REYXRhTGFiZWwoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLnJlY3QsIGNyZWF0ZVJlY3QpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUmVjdDNkR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJSZWN0M2QoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLnJlY3QzZCwgY3JlYXRlUmVjdDNkKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclJ1bGVHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlckxpbmUoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLnJ1bGUsIGNyZWF0ZUxpbmUpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU2hhcGVHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlclBhdGgoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLnNoYXBlLCBjcmVhdGVQYXRoKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclN5bWJvbEdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyU3ltYm9sKCksIHJlZ2lzdGVyU3ltYm9sRGF0YUxhYmVsKCksIEZhY3RvcnkucmVnaXN0ZXJHcmFwaGljKEdyYW1tYXJNYXJrVHlwZS5zeW1ib2wsIGNyZWF0ZVN5bWJvbCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJUZXh0R3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJUZXh0KCksIHJlZ2lzdGVyUmljaHRleHQoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLnRleHQsIGNyZWF0ZVRleHQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyUG9seWdvbkdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyUG9seWdvbigpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUucG9seWdvbiwgY3JlYXRlUG9seWdvbik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSaWNoVGV4dEdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyUmljaHRleHQoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLnJpY2h0ZXh0LCBjcmVhdGVSaWNoVGV4dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJDZWxsR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJTeW1ib2woKSwgcmVnaXN0ZXJTeW1ib2xEYXRhTGFiZWwoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLmNlbGwsIGNyZWF0ZVN5bWJvbCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJJbnRlcnZhbEdyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyUmVjdCgpLCByZWdpc3RlclJlY3REYXRhTGFiZWwoKSwgcmVnaXN0ZXJBcmMoKSwgcmVnaXN0ZXJBcmNEYXRhTGFiZWwoKSwgXG4gICAgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLmludGVydmFsLCBjcmVhdGVSZWN0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckdseXBoR3JhcGhpYyA9ICgpID0+IHtcbiAgICByZWdpc3RlclNoYWRvd1Jvb3QoKSwgcmVnaXN0ZXJHbHlwaCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUuZ2x5cGgsIGNyZWF0ZUdseXBoKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckxhcmdlUmVjdHNHcmFwaGljID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyU2hhZG93Um9vdCgpLCByZWdpc3RlclBhdGgoKSwgRmFjdG9yeS5yZWdpc3RlckdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLmxhcmdlUmVjdHMsIChhdHRycyA9PiBuZXcgTGFyZ2VSZWN0cyhhdHRycykpKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckxhcmdlU3ltYm9sc0dyYXBoaWMgPSAoKSA9PiB7XG4gICAgcmVnaXN0ZXJTaGFkb3dSb290KCksIHJlZ2lzdGVyUGF0aCgpLCBGYWN0b3J5LnJlZ2lzdGVyR3JhcGhpYyhHcmFtbWFyTWFya1R5cGUubGFyZ2VTeW1ib2xzLCAoYXR0cnMgPT4gbmV3IExhcmdlU3ltYm9scyhhdHRycykpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaGljLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/large-rects.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/large-rects.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LargeRects: () => (/* binding */ LargeRects)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/group.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/common/custom-path2d.js\");\n\n\nclass LargeRects extends _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.Group {\n    constructor(attributes) {\n        super(attributes), this.attribute = attributes, this.onSetStage((() => {\n            this.render();\n        }));\n    }\n    render() {\n        var _a;\n        const pathNode = this.createOrUpdateChild(\"large-path\", {}, \"path\"), points = this.attribute.points, path2d = null !== (_a = pathNode.attribute.path) && void 0 !== _a ? _a : new _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.CustomPath2D;\n        let x, y, width, height;\n        path2d.clear();\n        for (let i = 0, len = points.length; i < len; i += 4) x = points[i], y = points[i + 1], \n        width = points[i + 2], height = points[i + 3], path2d.rect(x, y, width, height);\n        const pathAttrs = Object.assign({}, this.attribute, {\n            path: path2d,\n            points: null\n        });\n        this.attribute = {}, pathNode.setAttributes(pathAttrs);\n    }\n}\n//# sourceMappingURL=large-rects.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9sYXJnZS1yZWN0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkQ7O0FBRXRELHlCQUF5Qix5REFBSztBQUNyQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLHdIQUF3SCxnRUFBWTtBQUN0TTtBQUNBO0FBQ0EsNkNBQTZDLFNBQVM7QUFDdEQ7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBLFNBQVM7QUFDVCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9tYXJrL2xhcmdlLXJlY3RzLmpzPzU3ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JvdXAsIEN1c3RvbVBhdGgyRCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBMYXJnZVJlY3RzIGV4dGVuZHMgR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgc3VwZXIoYXR0cmlidXRlcyksIHRoaXMuYXR0cmlidXRlID0gYXR0cmlidXRlcywgdGhpcy5vblNldFN0YWdlKCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBwYXRoTm9kZSA9IHRoaXMuY3JlYXRlT3JVcGRhdGVDaGlsZChcImxhcmdlLXBhdGhcIiwge30sIFwicGF0aFwiKSwgcG9pbnRzID0gdGhpcy5hdHRyaWJ1dGUucG9pbnRzLCBwYXRoMmQgPSBudWxsICE9PSAoX2EgPSBwYXRoTm9kZS5hdHRyaWJ1dGUucGF0aCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbmV3IEN1c3RvbVBhdGgyRDtcbiAgICAgICAgbGV0IHgsIHksIHdpZHRoLCBoZWlnaHQ7XG4gICAgICAgIHBhdGgyZC5jbGVhcigpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSA0KSB4ID0gcG9pbnRzW2ldLCB5ID0gcG9pbnRzW2kgKyAxXSwgXG4gICAgICAgIHdpZHRoID0gcG9pbnRzW2kgKyAyXSwgaGVpZ2h0ID0gcG9pbnRzW2kgKyAzXSwgcGF0aDJkLnJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGNvbnN0IHBhdGhBdHRycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYXR0cmlidXRlLCB7XG4gICAgICAgICAgICBwYXRoOiBwYXRoMmQsXG4gICAgICAgICAgICBwb2ludHM6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlID0ge30sIHBhdGhOb2RlLnNldEF0dHJpYnV0ZXMocGF0aEF0dHJzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYXJnZS1yZWN0cy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/large-rects.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/large-symbols.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/large-symbols.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LargeSymbols: () => (/* binding */ LargeSymbols)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/math.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/group.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/config.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/common/custom-path2d.js\");\n\n\n\n\nclass LargeSymbols extends _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.Group {\n    constructor(attributes) {\n        super(attributes), this.attribute = attributes, this.onSetStage((() => {\n            this.render();\n        }));\n    }\n    render() {\n        var _a, _b;\n        const pathNode = this.createOrUpdateChild(\"large-path\", {}, \"path\"), points = this.attribute.points, size = null !== (_a = this.attribute.size) && void 0 !== _a ? _a : _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.DefaultSymbolAttribute.size, path2d = null !== (_b = pathNode.attribute.path) && void 0 !== _b ? _b : new _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_2__.CustomPath2D;\n        let x, y;\n        path2d.clear();\n        const maxSize = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(size) ? size : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.max)(size[0], size[1]);\n        for (let i = 0, len = points.length; i < len; i += 4) x = points[i], y = points[i + 1], \n        path2d.arc(x, y, maxSize / 2, 0, 2 * Math.PI), path2d.closePath();\n        const pathAttrs = Object.assign({}, this.attribute, {\n            path: path2d,\n            points: null,\n            size: null\n        });\n        this.attribute = {}, pathNode.setAttributes(pathAttrs);\n    }\n}\n//# sourceMappingURL=large-symbols.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvbWFyay9sYXJnZS1zeW1ib2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpRDs7QUFFb0M7O0FBRTlFLDJCQUEyQix5REFBSztBQUN2QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLDhHQUE4RywwRUFBc0Isb0ZBQW9GLGdFQUFZO0FBQ3RTO0FBQ0E7QUFDQSx3QkFBd0IsNERBQVEsZ0JBQWdCLHFEQUFHO0FBQ25ELDZDQUE2QyxTQUFTO0FBQ3REO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC9tYXJrL2xhcmdlLXN5bWJvbHMuanM/ZTE0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc051bWJlciwgbWF4IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQ3VzdG9tUGF0aDJELCBHcm91cCwgRGVmYXVsdFN5bWJvbEF0dHJpYnV0ZSB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBMYXJnZVN5bWJvbHMgZXh0ZW5kcyBHcm91cCB7XG4gICAgY29uc3RydWN0b3IoYXR0cmlidXRlcykge1xuICAgICAgICBzdXBlcihhdHRyaWJ1dGVzKSwgdGhpcy5hdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzLCB0aGlzLm9uU2V0U3RhZ2UoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBwYXRoTm9kZSA9IHRoaXMuY3JlYXRlT3JVcGRhdGVDaGlsZChcImxhcmdlLXBhdGhcIiwge30sIFwicGF0aFwiKSwgcG9pbnRzID0gdGhpcy5hdHRyaWJ1dGUucG9pbnRzLCBzaXplID0gbnVsbCAhPT0gKF9hID0gdGhpcy5hdHRyaWJ1dGUuc2l6ZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogRGVmYXVsdFN5bWJvbEF0dHJpYnV0ZS5zaXplLCBwYXRoMmQgPSBudWxsICE9PSAoX2IgPSBwYXRoTm9kZS5hdHRyaWJ1dGUucGF0aCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogbmV3IEN1c3RvbVBhdGgyRDtcbiAgICAgICAgbGV0IHgsIHk7XG4gICAgICAgIHBhdGgyZC5jbGVhcigpO1xuICAgICAgICBjb25zdCBtYXhTaXplID0gaXNOdW1iZXIoc2l6ZSkgPyBzaXplIDogbWF4KHNpemVbMF0sIHNpemVbMV0pO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSA0KSB4ID0gcG9pbnRzW2ldLCB5ID0gcG9pbnRzW2kgKyAxXSwgXG4gICAgICAgIHBhdGgyZC5hcmMoeCwgeSwgbWF4U2l6ZSAvIDIsIDAsIDIgKiBNYXRoLlBJKSwgcGF0aDJkLmNsb3NlUGF0aCgpO1xuICAgICAgICBjb25zdCBwYXRoQXR0cnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmF0dHJpYnV0ZSwge1xuICAgICAgICAgICAgcGF0aDogcGF0aDJkLFxuICAgICAgICAgICAgcG9pbnRzOiBudWxsLFxuICAgICAgICAgICAgc2l6ZTogbnVsbFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGUgPSB7fSwgcGF0aE5vZGUuc2V0QXR0cmlidXRlcyhwYXRoQXR0cnMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhcmdlLXN5bWJvbHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/large-symbols.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/env.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/env.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   configureEnvironment: () => (/* binding */ configureEnvironment)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/modules.js\");\n\n\nfunction configureEnvironment(options) {\n    options.mode && _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.vglobal.setEnv(options.mode, options.modeParams || {});\n}\n//# sourceMappingURL=env.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdXRpbC9lbnYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUQ7O0FBRTFDO0FBQ1Asb0JBQW9CLDJEQUFPLDhDQUE4QztBQUN6RTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC91dGlsL2Vudi5qcz83Y2JmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZnbG9iYWwgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29yZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlRW52aXJvbm1lbnQob3B0aW9ucykge1xuICAgIG9wdGlvbnMubW9kZSAmJiB2Z2xvYmFsLnNldEVudihvcHRpb25zLm1vZGUsIG9wdGlvbnMubW9kZVBhcmFtcyB8fCB7fSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnYuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getExtendedEvents)\n/* harmony export */ });\n/* harmony import */ var _point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./point */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/point.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n\n\n\n\n\n\nfunction getExtendedEvents(view, event, type, source) {\n    var _a, _b;\n    if (source === _view_constants__WEBPACK_IMPORTED_MODULE_0__.EVENT_SOURCE_WINDOW) {\n        const e = event.changedTouches ? event.changedTouches[0] : event;\n        (0,_point__WEBPACK_IMPORTED_MODULE_1__.point)(e);\n    }\n    let element = null === (_a = event.target) || void 0 === _a ? void 0 : _a[_constants__WEBPACK_IMPORTED_MODULE_2__.BridgeElementKey];\n    if (!element && source === _view_constants__WEBPACK_IMPORTED_MODULE_0__.EVENT_SOURCE_VIEW) {\n        let target = event.target;\n        const rootGraphic = null === (_b = view.rootMark) || void 0 === _b ? void 0 : _b.graphicItem;\n        for (;(null == target ? void 0 : target.parent) && target.parent !== rootGraphic; ) if (target = target.parent, \n        target[_constants__WEBPACK_IMPORTED_MODULE_2__.BridgeElementKey]) {\n            element = target[_constants__WEBPACK_IMPORTED_MODULE_2__.BridgeElementKey];\n            break;\n        }\n    }\n    return event.element = element, event;\n}\n//# sourceMappingURL=events-extend.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdXRpbC9ldmVudHMtZXh0ZW5kLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0M7O0FBRThDOztBQUU5Qjs7QUFFakM7QUFDZjtBQUNBLG1CQUFtQixnRUFBbUI7QUFDdEM7QUFDQSxRQUFRLDZDQUFLO0FBQ2I7QUFDQSw4RUFBOEUsd0RBQWdCO0FBQzlGLCtCQUErQiw4REFBaUI7QUFDaEQ7QUFDQTtBQUNBLGNBQWMsNEVBQTRFO0FBQzFGLGVBQWUsd0RBQWdCO0FBQy9CLDZCQUE2Qix3REFBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC91dGlsL2V2ZW50cy1leHRlbmQuanM/OTQwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwb2ludCB9IGZyb20gXCIuL3BvaW50XCI7XG5cbmltcG9ydCB7IEVWRU5UX1NPVVJDRV9WSUVXLCBFVkVOVF9TT1VSQ0VfV0lORE9XIH0gZnJvbSBcIi4uLy4uL3ZpZXcvY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IEJyaWRnZUVsZW1lbnRLZXkgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEV4dGVuZGVkRXZlbnRzKHZpZXcsIGV2ZW50LCB0eXBlLCBzb3VyY2UpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChzb3VyY2UgPT09IEVWRU5UX1NPVVJDRV9XSU5ET1cpIHtcbiAgICAgICAgY29uc3QgZSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBldmVudDtcbiAgICAgICAgcG9pbnQoZSk7XG4gICAgfVxuICAgIGxldCBlbGVtZW50ID0gbnVsbCA9PT0gKF9hID0gZXZlbnQudGFyZ2V0KSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2FbQnJpZGdlRWxlbWVudEtleV07XG4gICAgaWYgKCFlbGVtZW50ICYmIHNvdXJjZSA9PT0gRVZFTlRfU09VUkNFX1ZJRVcpIHtcbiAgICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgY29uc3Qgcm9vdEdyYXBoaWMgPSBudWxsID09PSAoX2IgPSB2aWV3LnJvb3RNYXJrKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuZ3JhcGhpY0l0ZW07XG4gICAgICAgIGZvciAoOyhudWxsID09IHRhcmdldCA/IHZvaWQgMCA6IHRhcmdldC5wYXJlbnQpICYmIHRhcmdldC5wYXJlbnQgIT09IHJvb3RHcmFwaGljOyApIGlmICh0YXJnZXQgPSB0YXJnZXQucGFyZW50LCBcbiAgICAgICAgdGFyZ2V0W0JyaWRnZUVsZW1lbnRLZXldKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gdGFyZ2V0W0JyaWRnZUVsZW1lbnRLZXldO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50LmVsZW1lbnQgPSBlbGVtZW50LCBldmVudDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy1leHRlbmQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGlyphGraphicItem: () => (/* binding */ createGlyphGraphicItem),\n/* harmony export */   createGraphicItem: () => (/* binding */ createGraphicItem),\n/* harmony export */   getMarkTypeOfLarge: () => (/* binding */ getMarkTypeOfLarge),\n/* harmony export */   isMarkType: () => (/* binding */ isMarkType),\n/* harmony export */   removeGraphicItem: () => (/* binding */ removeGraphicItem)\n/* harmony export */ });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/logger.js\");\n\n\n\n\n\n\n\n\nconst isMarkType = type => !!_enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType[type];\n\nfunction createGraphicItem(mark, markType, attrs = {}) {\n    var _a;\n    const graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.getGraphicType(markType) ? _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.createGraphic(markType, attrs) : _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.createGraphicComponent(markType, attrs, {\n        skipDefault: null === (_a = null == mark ? void 0 : mark.spec) || void 0 === _a ? void 0 : _a.skipTheme\n    });\n    if (!graphicItem) {\n        _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.Logger.getInstance().error(`create ${markType} graphic failed!`);\n    }\n    return graphicItem;\n}\n\nfunction createGlyphGraphicItem(mark, glyphMeta, attrs = {}) {\n    if (!_core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.getGraphicType(_enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.glyph)) return;\n    const graphicItem = _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.createGraphic(_enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.glyph, attrs), glyphMarks = glyphMeta.getMarks(), subGraphics = Object.keys(glyphMarks).map((name => {\n        if (_core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.getGraphicType(glyphMarks[name])) {\n            const graphic = _core_factory__WEBPACK_IMPORTED_MODULE_1__.Factory.createGraphic(glyphMarks[name]);\n            if (graphic) return graphic.name = name, graphic;\n        }\n    }));\n    return graphicItem.setSubGraphic(subGraphics), graphicItem;\n}\n\nconst removeGraphicItem = graphicItem => {\n    graphicItem && (graphicItem[_constants__WEBPACK_IMPORTED_MODULE_3__.BridgeElementKey] = null, graphicItem.release(), graphicItem.parent && graphicItem.parent.removeChild(graphicItem));\n};\n\nconst getMarkTypeOfLarge = markType => markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.rect ? _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.largeRects : markType === _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.symbol ? _enums__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType.largeSymbols : markType;\n//# sourceMappingURL=graphic.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdXRpbC9ncmFwaGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyQzs7QUFFSzs7QUFFSDs7QUFFSDs7QUFFbkMsNkJBQTZCLG1EQUFlOztBQUU1QyxxREFBcUQ7QUFDNUQ7QUFDQSx3QkFBd0Isa0RBQU8sNEJBQTRCLGtEQUFPLGtDQUFrQyxrREFBTztBQUMzRztBQUNBLEtBQUs7QUFDTDtBQUNBLFFBQVEsb0RBQU0sK0JBQStCLFVBQVU7QUFDdkQ7QUFDQTtBQUNBOztBQUVPLDJEQUEyRDtBQUNsRSxTQUFTLGtEQUFPLGdCQUFnQixtREFBZTtBQUMvQyx3QkFBd0Isa0RBQU8sZUFBZSxtREFBZTtBQUM3RCxZQUFZLGtEQUFPO0FBQ25CLDRCQUE0QixrREFBTztBQUNuQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRU87QUFDUCxnQ0FBZ0Msd0RBQWdCO0FBQ2hEOztBQUVPLG9EQUFvRCxtREFBZSxRQUFRLG1EQUFlLDJCQUEyQixtREFBZSxVQUFVLG1EQUFlO0FBQ3BLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9ncmFwaC91dGlsL2dyYXBoaWMuanM/MjlmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZW51bXNcIjtcblxuaW1wb3J0IHsgQnJpZGdlRWxlbWVudEtleSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi8uLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IGlzTWFya1R5cGUgPSB0eXBlID0+ICEhR3JhbW1hck1hcmtUeXBlW3R5cGVdO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR3JhcGhpY0l0ZW0obWFyaywgbWFya1R5cGUsIGF0dHJzID0ge30pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSBGYWN0b3J5LmdldEdyYXBoaWNUeXBlKG1hcmtUeXBlKSA/IEZhY3RvcnkuY3JlYXRlR3JhcGhpYyhtYXJrVHlwZSwgYXR0cnMpIDogRmFjdG9yeS5jcmVhdGVHcmFwaGljQ29tcG9uZW50KG1hcmtUeXBlLCBhdHRycywge1xuICAgICAgICBza2lwRGVmYXVsdDogbnVsbCA9PT0gKF9hID0gbnVsbCA9PSBtYXJrID8gdm9pZCAwIDogbWFyay5zcGVjKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc2tpcFRoZW1lXG4gICAgfSk7XG4gICAgaWYgKCFncmFwaGljSXRlbSkge1xuICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoKS5lcnJvcihgY3JlYXRlICR7bWFya1R5cGV9IGdyYXBoaWMgZmFpbGVkIWApO1xuICAgIH1cbiAgICByZXR1cm4gZ3JhcGhpY0l0ZW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHbHlwaEdyYXBoaWNJdGVtKG1hcmssIGdseXBoTWV0YSwgYXR0cnMgPSB7fSkge1xuICAgIGlmICghRmFjdG9yeS5nZXRHcmFwaGljVHlwZShHcmFtbWFyTWFya1R5cGUuZ2x5cGgpKSByZXR1cm47XG4gICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSBGYWN0b3J5LmNyZWF0ZUdyYXBoaWMoR3JhbW1hck1hcmtUeXBlLmdseXBoLCBhdHRycyksIGdseXBoTWFya3MgPSBnbHlwaE1ldGEuZ2V0TWFya3MoKSwgc3ViR3JhcGhpY3MgPSBPYmplY3Qua2V5cyhnbHlwaE1hcmtzKS5tYXAoKG5hbWUgPT4ge1xuICAgICAgICBpZiAoRmFjdG9yeS5nZXRHcmFwaGljVHlwZShnbHlwaE1hcmtzW25hbWVdKSkge1xuICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IEZhY3RvcnkuY3JlYXRlR3JhcGhpYyhnbHlwaE1hcmtzW25hbWVdKTtcbiAgICAgICAgICAgIGlmIChncmFwaGljKSByZXR1cm4gZ3JhcGhpYy5uYW1lID0gbmFtZSwgZ3JhcGhpYztcbiAgICAgICAgfVxuICAgIH0pKTtcbiAgICByZXR1cm4gZ3JhcGhpY0l0ZW0uc2V0U3ViR3JhcGhpYyhzdWJHcmFwaGljcyksIGdyYXBoaWNJdGVtO1xufVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlR3JhcGhpY0l0ZW0gPSBncmFwaGljSXRlbSA9PiB7XG4gICAgZ3JhcGhpY0l0ZW0gJiYgKGdyYXBoaWNJdGVtW0JyaWRnZUVsZW1lbnRLZXldID0gbnVsbCwgZ3JhcGhpY0l0ZW0ucmVsZWFzZSgpLCBncmFwaGljSXRlbS5wYXJlbnQgJiYgZ3JhcGhpY0l0ZW0ucGFyZW50LnJlbW92ZUNoaWxkKGdyYXBoaWNJdGVtKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TWFya1R5cGVPZkxhcmdlID0gbWFya1R5cGUgPT4gbWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5yZWN0ID8gR3JhbW1hck1hcmtUeXBlLmxhcmdlUmVjdHMgOiBtYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLnN5bWJvbCA/IEdyYW1tYXJNYXJrVHlwZS5sYXJnZVN5bWJvbHMgOiBtYXJrVHlwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBoaWMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/point.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/point.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   point: () => (/* binding */ point)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nfunction point(event) {\n    [ \"touches\", \"changedTouches\", \"targetTouches\" ].forEach((touchKey => {\n        event[touchKey] && event[touchKey].length && Array.from(event[touchKey]).forEach((touch => {\n            defineSrPosition(touch, clientToLocal(touch), !1);\n        }));\n    }));\n    const pos = clientToLocal(event);\n    return defineSrPosition(event, pos);\n}\n\nfunction clientToLocal(e) {\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.offsetX) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.x) ? e.changedTouches && e.changedTouches.length ? getChangedTouchesPos(e) : {\n        canvasX: 0,\n        canvasY: 0\n    } : getXYPos(e) : getOffsetPos(e);\n}\n\nfunction getOffsetPos(e) {\n    return {\n        canvasX: e.offsetX,\n        canvasY: e.offsetY\n    };\n}\n\nfunction getXYPos(e) {\n    return {\n        canvasX: e.x,\n        canvasY: e.y\n    };\n}\n\nfunction getChangedTouchesPos(e) {\n    const pos = e.changedTouches[0];\n    return {\n        canvasX: pos.x,\n        canvasY: pos.y\n    };\n}\n\nfunction defineSrPosition(event, pos, client = !0) {\n    const keys = [ \"canvasX\", \"canvasY\" ];\n    return client && (keys.push(\"clientX\"), keys.push(\"clientY\")), keys.forEach((key => {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(pos[key]) && Object.defineProperty(event, key, {\n            value: pos[key],\n            writable: !0\n        });\n    })), [ pos.canvasX, pos.canvasY ];\n}\n//# sourceMappingURL=point.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdXRpbC9wb2ludC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7O0FBRWpEO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLDREQUFLLGNBQWMsNERBQUs7QUFDbkM7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQWE7QUFDckI7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdXRpbC9wb2ludC5qcz9jMWEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVmFsaWROdW1iZXIsIGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50KGV2ZW50KSB7XG4gICAgWyBcInRvdWNoZXNcIiwgXCJjaGFuZ2VkVG91Y2hlc1wiLCBcInRhcmdldFRvdWNoZXNcIiBdLmZvckVhY2goKHRvdWNoS2V5ID0+IHtcbiAgICAgICAgZXZlbnRbdG91Y2hLZXldICYmIGV2ZW50W3RvdWNoS2V5XS5sZW5ndGggJiYgQXJyYXkuZnJvbShldmVudFt0b3VjaEtleV0pLmZvckVhY2goKHRvdWNoID0+IHtcbiAgICAgICAgICAgIGRlZmluZVNyUG9zaXRpb24odG91Y2gsIGNsaWVudFRvTG9jYWwodG91Y2gpLCAhMSk7XG4gICAgICAgIH0pKTtcbiAgICB9KSk7XG4gICAgY29uc3QgcG9zID0gY2xpZW50VG9Mb2NhbChldmVudCk7XG4gICAgcmV0dXJuIGRlZmluZVNyUG9zaXRpb24oZXZlbnQsIHBvcyk7XG59XG5cbmZ1bmN0aW9uIGNsaWVudFRvTG9jYWwoZSkge1xuICAgIHJldHVybiBpc05pbChlLm9mZnNldFgpID8gaXNOaWwoZS54KSA/IGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPyBnZXRDaGFuZ2VkVG91Y2hlc1BvcyhlKSA6IHtcbiAgICAgICAgY2FudmFzWDogMCxcbiAgICAgICAgY2FudmFzWTogMFxuICAgIH0gOiBnZXRYWVBvcyhlKSA6IGdldE9mZnNldFBvcyhlKTtcbn1cblxuZnVuY3Rpb24gZ2V0T2Zmc2V0UG9zKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjYW52YXNYOiBlLm9mZnNldFgsXG4gICAgICAgIGNhbnZhc1k6IGUub2Zmc2V0WVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFhZUG9zKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjYW52YXNYOiBlLngsXG4gICAgICAgIGNhbnZhc1k6IGUueVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldENoYW5nZWRUb3VjaGVzUG9zKGUpIHtcbiAgICBjb25zdCBwb3MgPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNhbnZhc1g6IHBvcy54LFxuICAgICAgICBjYW52YXNZOiBwb3MueVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGRlZmluZVNyUG9zaXRpb24oZXZlbnQsIHBvcywgY2xpZW50ID0gITApIHtcbiAgICBjb25zdCBrZXlzID0gWyBcImNhbnZhc1hcIiwgXCJjYW52YXNZXCIgXTtcbiAgICByZXR1cm4gY2xpZW50ICYmIChrZXlzLnB1c2goXCJjbGllbnRYXCIpLCBrZXlzLnB1c2goXCJjbGllbnRZXCIpKSwga2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBpc1ZhbGlkTnVtYmVyKHBvc1trZXldKSAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsIGtleSwge1xuICAgICAgICAgICAgdmFsdWU6IHBvc1trZXldLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgIH0pO1xuICAgIH0pKSwgWyBwb3MuY2FudmFzWCwgcG9zLmNhbnZhc1kgXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvaW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/point.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/view-diff.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/view-diff.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewDiff: () => (/* binding */ ViewDiff)\n/* harmony export */ });\n/* harmony import */ var _mark_differ__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mark/differ */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\nconst EmptyKey = Symbol.for(\"key\");\n\nclass ViewDiff {\n    diffGrammar(prevGrammars, nextGrammars) {\n        return (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.diffSingle)(prevGrammars, nextGrammars, (grammar => {\n            var _a;\n            return null !== (_a = grammar.id()) && void 0 !== _a ? _a : Symbol();\n        }));\n    }\n    diffMark(prevMarks, nextMarks, runningConfig) {\n        const diffResult = {\n            enter: [],\n            exit: [],\n            update: []\n        };\n        let prevDiffMarks = [], nextDiffMarks = [];\n        prevMarks.forEach((mark => {\n            mark.markType !== _enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.group && (runningConfig.morph && mark.getMorphConfig().morph || runningConfig.morphAll || runningConfig.reuse) ? prevDiffMarks.push(mark) : diffResult.exit.push({\n                prev: [ mark ]\n            });\n        })), nextMarks.forEach((mark => {\n            mark.markType !== _enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.group && (runningConfig.morph && mark.getMorphConfig().morph || runningConfig.morphAll || runningConfig.reuse) ? nextDiffMarks.push(mark) : diffResult.enter.push({\n                next: [ mark ]\n            });\n        }));\n        const keyDiffResult = this.diffUpdateByGroup(prevDiffMarks, nextDiffMarks, (mark => mark.getMorphConfig().morphKey), (mark => mark.getMorphConfig().morphKey));\n        prevDiffMarks = keyDiffResult.prev, nextDiffMarks = keyDiffResult.next, diffResult.update = diffResult.update.concat(keyDiffResult.update);\n        const nameDiffResult = this.diffUpdateByGroup(prevDiffMarks, nextDiffMarks, (mark => mark.id()), (mark => mark.id()));\n        prevDiffMarks = nameDiffResult.prev, nextDiffMarks = nameDiffResult.next, diffResult.update = diffResult.update.concat(nameDiffResult.update);\n        const prevParentGroup = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(prevDiffMarks, (mark => {\n            var _a, _b;\n            return null === (_b = null === (_a = mark.group) || void 0 === _a ? void 0 : _a.id) || void 0 === _b ? void 0 : _b.call(_a);\n        })), nextParentGroup = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(nextDiffMarks, (mark => {\n            var _a, _b;\n            return null === (_b = null === (_a = mark.group) || void 0 === _a ? void 0 : _a.id) || void 0 === _b ? void 0 : _b.call(_a);\n        }));\n        return Object.keys(nextParentGroup).forEach((groupName => {\n            const prevChildren = prevParentGroup.data.get(groupName), nextChildren = nextParentGroup.data.get(groupName);\n            if (prevChildren && nextChildren) {\n                for (let i = 0; i < Math.max(prevChildren.length, nextChildren.length); i += 1) {\n                    const prevChild = prevChildren[i], nextChild = nextChildren[i];\n                    prevChild && nextChild ? diffResult.update.push({\n                        prev: [ prevChild ],\n                        next: [ nextChild ]\n                    }) : prevChild ? diffResult.exit.push({\n                        prev: [ prevChild ]\n                    }) : nextChild && diffResult.enter.push({\n                        next: [ nextChild ]\n                    });\n                }\n                prevDiffMarks = prevDiffMarks.filter((mark => !prevChildren.includes(mark))), nextDiffMarks = nextDiffMarks.filter((mark => !nextChildren.includes(mark)));\n            }\n        })), prevDiffMarks.forEach((mark => diffResult.exit.push({\n            prev: [ mark ]\n        }))), nextDiffMarks.forEach((mark => diffResult.enter.push({\n            next: [ mark ]\n        }))), diffResult;\n    }\n    diffUpdateByGroup(prev, next, prevKey, nextKey) {\n        const prevGroup = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(prev, (datum => {\n            var _a;\n            return null !== (_a = prevKey(datum)) && void 0 !== _a ? _a : EmptyKey;\n        })), nextGroup = (0,_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(next, (datum => {\n            var _a;\n            return null !== (_a = nextKey(datum)) && void 0 !== _a ? _a : EmptyKey;\n        }));\n        let prevAfterDiff = prev, nextAfterDiff = next;\n        const update = [];\n        return nextGroup.keys.forEach((key => {\n            if (key !== EmptyKey) {\n                const prevKeyData = prevGroup.data.get(key), nextKeyData = nextGroup.data.get(key);\n                prevKeyData && nextKeyData && (update.push({\n                    prev: prevKeyData,\n                    next: nextKeyData\n                }), prevAfterDiff = prevAfterDiff.filter((datum => !prevKeyData.includes(datum))), \n                nextAfterDiff = nextAfterDiff.filter((datum => !nextKeyData.includes(datum))));\n            }\n        })), {\n            prev: prevAfterDiff,\n            next: nextAfterDiff,\n            update: update\n        };\n    }\n}\n//# sourceMappingURL=view-diff.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvZ3JhcGgvdmlldy1kaWZmLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDs7QUFFWjs7QUFFMUM7O0FBRU87QUFDUDtBQUNBLGVBQWUsd0RBQVU7QUFDekI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsbURBQWU7QUFDN0M7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULDhCQUE4QixtREFBZTtBQUM3QztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsdURBQVM7QUFDekM7QUFDQTtBQUNBLFNBQVMsc0JBQXNCLHVEQUFTO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdEQUF3RDtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQix1REFBUztBQUNuQztBQUNBO0FBQ0EsU0FBUyxnQkFBZ0IsdURBQVM7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2dyYXBoL3ZpZXctZGlmZi5qcz8yYTk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRpZmZTaW5nbGUsIGdyb3VwRGF0YSB9IGZyb20gXCIuL21hcmsvZGlmZmVyXCI7XG5cbmltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuL2VudW1zXCI7XG5cbmNvbnN0IEVtcHR5S2V5ID0gU3ltYm9sLmZvcihcImtleVwiKTtcblxuZXhwb3J0IGNsYXNzIFZpZXdEaWZmIHtcbiAgICBkaWZmR3JhbW1hcihwcmV2R3JhbW1hcnMsIG5leHRHcmFtbWFycykge1xuICAgICAgICByZXR1cm4gZGlmZlNpbmdsZShwcmV2R3JhbW1hcnMsIG5leHRHcmFtbWFycywgKGdyYW1tYXIgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IGdyYW1tYXIuaWQoKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogU3ltYm9sKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZGlmZk1hcmsocHJldk1hcmtzLCBuZXh0TWFya3MsIHJ1bm5pbmdDb25maWcpIHtcbiAgICAgICAgY29uc3QgZGlmZlJlc3VsdCA9IHtcbiAgICAgICAgICAgIGVudGVyOiBbXSxcbiAgICAgICAgICAgIGV4aXQ6IFtdLFxuICAgICAgICAgICAgdXBkYXRlOiBbXVxuICAgICAgICB9O1xuICAgICAgICBsZXQgcHJldkRpZmZNYXJrcyA9IFtdLCBuZXh0RGlmZk1hcmtzID0gW107XG4gICAgICAgIHByZXZNYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsubWFya1R5cGUgIT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCAmJiAocnVubmluZ0NvbmZpZy5tb3JwaCAmJiBtYXJrLmdldE1vcnBoQ29uZmlnKCkubW9ycGggfHwgcnVubmluZ0NvbmZpZy5tb3JwaEFsbCB8fCBydW5uaW5nQ29uZmlnLnJldXNlKSA/IHByZXZEaWZmTWFya3MucHVzaChtYXJrKSA6IGRpZmZSZXN1bHQuZXhpdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBwcmV2OiBbIG1hcmsgXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKSwgbmV4dE1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5tYXJrVHlwZSAhPT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwICYmIChydW5uaW5nQ29uZmlnLm1vcnBoICYmIG1hcmsuZ2V0TW9ycGhDb25maWcoKS5tb3JwaCB8fCBydW5uaW5nQ29uZmlnLm1vcnBoQWxsIHx8IHJ1bm5pbmdDb25maWcucmV1c2UpID8gbmV4dERpZmZNYXJrcy5wdXNoKG1hcmspIDogZGlmZlJlc3VsdC5lbnRlci5wdXNoKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBbIG1hcmsgXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3Qga2V5RGlmZlJlc3VsdCA9IHRoaXMuZGlmZlVwZGF0ZUJ5R3JvdXAocHJldkRpZmZNYXJrcywgbmV4dERpZmZNYXJrcywgKG1hcmsgPT4gbWFyay5nZXRNb3JwaENvbmZpZygpLm1vcnBoS2V5KSwgKG1hcmsgPT4gbWFyay5nZXRNb3JwaENvbmZpZygpLm1vcnBoS2V5KSk7XG4gICAgICAgIHByZXZEaWZmTWFya3MgPSBrZXlEaWZmUmVzdWx0LnByZXYsIG5leHREaWZmTWFya3MgPSBrZXlEaWZmUmVzdWx0Lm5leHQsIGRpZmZSZXN1bHQudXBkYXRlID0gZGlmZlJlc3VsdC51cGRhdGUuY29uY2F0KGtleURpZmZSZXN1bHQudXBkYXRlKTtcbiAgICAgICAgY29uc3QgbmFtZURpZmZSZXN1bHQgPSB0aGlzLmRpZmZVcGRhdGVCeUdyb3VwKHByZXZEaWZmTWFya3MsIG5leHREaWZmTWFya3MsIChtYXJrID0+IG1hcmsuaWQoKSksIChtYXJrID0+IG1hcmsuaWQoKSkpO1xuICAgICAgICBwcmV2RGlmZk1hcmtzID0gbmFtZURpZmZSZXN1bHQucHJldiwgbmV4dERpZmZNYXJrcyA9IG5hbWVEaWZmUmVzdWx0Lm5leHQsIGRpZmZSZXN1bHQudXBkYXRlID0gZGlmZlJlc3VsdC51cGRhdGUuY29uY2F0KG5hbWVEaWZmUmVzdWx0LnVwZGF0ZSk7XG4gICAgICAgIGNvbnN0IHByZXZQYXJlbnRHcm91cCA9IGdyb3VwRGF0YShwcmV2RGlmZk1hcmtzLCAobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IG1hcmsuZ3JvdXApIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5pZCkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9KSksIG5leHRQYXJlbnRHcm91cCA9IGdyb3VwRGF0YShuZXh0RGlmZk1hcmtzLCAobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IG1hcmsuZ3JvdXApIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5pZCkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhuZXh0UGFyZW50R3JvdXApLmZvckVhY2goKGdyb3VwTmFtZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcmV2Q2hpbGRyZW4gPSBwcmV2UGFyZW50R3JvdXAuZGF0YS5nZXQoZ3JvdXBOYW1lKSwgbmV4dENoaWxkcmVuID0gbmV4dFBhcmVudEdyb3VwLmRhdGEuZ2V0KGdyb3VwTmFtZSk7XG4gICAgICAgICAgICBpZiAocHJldkNoaWxkcmVuICYmIG5leHRDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5tYXgocHJldkNoaWxkcmVuLmxlbmd0aCwgbmV4dENoaWxkcmVuLmxlbmd0aCk7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW5baV0sIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICAgICAgcHJldkNoaWxkICYmIG5leHRDaGlsZCA/IGRpZmZSZXN1bHQudXBkYXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldjogWyBwcmV2Q2hpbGQgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IFsgbmV4dENoaWxkIF1cbiAgICAgICAgICAgICAgICAgICAgfSkgOiBwcmV2Q2hpbGQgPyBkaWZmUmVzdWx0LmV4aXQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2OiBbIHByZXZDaGlsZCBdXG4gICAgICAgICAgICAgICAgICAgIH0pIDogbmV4dENoaWxkICYmIGRpZmZSZXN1bHQuZW50ZXIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiBbIG5leHRDaGlsZCBdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2RGlmZk1hcmtzID0gcHJldkRpZmZNYXJrcy5maWx0ZXIoKG1hcmsgPT4gIXByZXZDaGlsZHJlbi5pbmNsdWRlcyhtYXJrKSkpLCBuZXh0RGlmZk1hcmtzID0gbmV4dERpZmZNYXJrcy5maWx0ZXIoKG1hcmsgPT4gIW5leHRDaGlsZHJlbi5pbmNsdWRlcyhtYXJrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIHByZXZEaWZmTWFya3MuZm9yRWFjaCgobWFyayA9PiBkaWZmUmVzdWx0LmV4aXQucHVzaCh7XG4gICAgICAgICAgICBwcmV2OiBbIG1hcmsgXVxuICAgICAgICB9KSkpLCBuZXh0RGlmZk1hcmtzLmZvckVhY2goKG1hcmsgPT4gZGlmZlJlc3VsdC5lbnRlci5wdXNoKHtcbiAgICAgICAgICAgIG5leHQ6IFsgbWFyayBdXG4gICAgICAgIH0pKSksIGRpZmZSZXN1bHQ7XG4gICAgfVxuICAgIGRpZmZVcGRhdGVCeUdyb3VwKHByZXYsIG5leHQsIHByZXZLZXksIG5leHRLZXkpIHtcbiAgICAgICAgY29uc3QgcHJldkdyb3VwID0gZ3JvdXBEYXRhKHByZXYsIChkYXR1bSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gcHJldktleShkYXR1bSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IEVtcHR5S2V5O1xuICAgICAgICB9KSksIG5leHRHcm91cCA9IGdyb3VwRGF0YShuZXh0LCAoZGF0dW0gPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IG5leHRLZXkoZGF0dW0pKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBFbXB0eUtleTtcbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgcHJldkFmdGVyRGlmZiA9IHByZXYsIG5leHRBZnRlckRpZmYgPSBuZXh0O1xuICAgICAgICBjb25zdCB1cGRhdGUgPSBbXTtcbiAgICAgICAgcmV0dXJuIG5leHRHcm91cC5rZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSBFbXB0eUtleSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZLZXlEYXRhID0gcHJldkdyb3VwLmRhdGEuZ2V0KGtleSksIG5leHRLZXlEYXRhID0gbmV4dEdyb3VwLmRhdGEuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgcHJldktleURhdGEgJiYgbmV4dEtleURhdGEgJiYgKHVwZGF0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcHJldjogcHJldktleURhdGEsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG5leHRLZXlEYXRhXG4gICAgICAgICAgICAgICAgfSksIHByZXZBZnRlckRpZmYgPSBwcmV2QWZ0ZXJEaWZmLmZpbHRlcigoZGF0dW0gPT4gIXByZXZLZXlEYXRhLmluY2x1ZGVzKGRhdHVtKSkpLCBcbiAgICAgICAgICAgICAgICBuZXh0QWZ0ZXJEaWZmID0gbmV4dEFmdGVyRGlmZi5maWx0ZXIoKGRhdHVtID0+ICFuZXh0S2V5RGF0YS5pbmNsdWRlcyhkYXR1bSkpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSwge1xuICAgICAgICAgICAgcHJldjogcHJldkFmdGVyRGlmZixcbiAgICAgICAgICAgIG5leHQ6IG5leHRBZnRlckRpZmYsXG4gICAgICAgICAgICB1cGRhdGU6IHVwZGF0ZVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXctZGlmZi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/view-diff.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/index.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/index.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AxisEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.AxisEnum),\n/* harmony export */   BaseInteraction: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BaseInteraction),\n/* harmony export */   BaseTooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BaseTooltip),\n/* harmony export */   BrushActive: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BrushActive),\n/* harmony export */   BrushBase: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BrushBase),\n/* harmony export */   BrushHighlight: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.BrushHighlight),\n/* harmony export */   BuiltInEncodeNames: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.BuiltInEncodeNames),\n/* harmony export */   Cell: () => (/* reexport safe */ _semantic_marks_cell__WEBPACK_IMPORTED_MODULE_19__.Cell),\n/* harmony export */   ComponentEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum),\n/* harmony export */   Coordinate: () => (/* reexport safe */ _view_coordinate__WEBPACK_IMPORTED_MODULE_4__.Coordinate),\n/* harmony export */   Crosshair: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.Crosshair),\n/* harmony export */   CrosshairEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.CrosshairEnum),\n/* harmony export */   DataFilterRank: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.DataFilterRank),\n/* harmony export */   DiffState: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.DiffState),\n/* harmony export */   DimensionTooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.DimensionTooltip),\n/* harmony export */   DrillDown: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.DrillDown),\n/* harmony export */   Element: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.Element),\n/* harmony export */   ElementActive: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementActive),\n/* harmony export */   ElementActiveByLegend: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementActiveByLegend),\n/* harmony export */   ElementHighlight: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlight),\n/* harmony export */   ElementHighlightByGroup: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlightByGroup),\n/* harmony export */   ElementHighlightByKey: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlightByKey),\n/* harmony export */   ElementHighlightByLegend: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlightByLegend),\n/* harmony export */   ElementHighlightByName: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementHighlightByName),\n/* harmony export */   ElementSelect: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ElementSelect),\n/* harmony export */   Factory: () => (/* reexport safe */ _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory),\n/* harmony export */   FilterMixin: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.FilterMixin),\n/* harmony export */   FishEye: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.FishEye),\n/* harmony export */   GlyphMark: () => (/* reexport safe */ _view_glyph__WEBPACK_IMPORTED_MODULE_23__.GlyphMark),\n/* harmony export */   GrammarBase: () => (/* reexport safe */ _view_grammar_base__WEBPACK_IMPORTED_MODULE_6__.GrammarBase),\n/* harmony export */   GrammarMarkType: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.GrammarMarkType),\n/* harmony export */   GrammarTypeEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.GrammarTypeEnum),\n/* harmony export */   GridEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.GridEnum),\n/* harmony export */   HOOK_EVENT: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT),\n/* harmony export */   InteractionStateEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.InteractionStateEnum),\n/* harmony export */   Interval: () => (/* reexport safe */ _semantic_marks_interval__WEBPACK_IMPORTED_MODULE_20__.Interval),\n/* harmony export */   LabelEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.LabelEnum),\n/* harmony export */   LayoutState: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.LayoutState),\n/* harmony export */   LegendEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.LegendEnum),\n/* harmony export */   PlayerEnum: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.PlayerEnum),\n/* harmony export */   RollUp: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.RollUp),\n/* harmony export */   SIGNAL_AUTOFIT: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_AUTOFIT),\n/* harmony export */   SIGNAL_HEIGHT: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_HEIGHT),\n/* harmony export */   SIGNAL_PADDING: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_PADDING),\n/* harmony export */   SIGNAL_VIEW_BOX: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_VIEW_BOX),\n/* harmony export */   SIGNAL_VIEW_HEIGHT: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_VIEW_HEIGHT),\n/* harmony export */   SIGNAL_VIEW_WIDTH: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_VIEW_WIDTH),\n/* harmony export */   SIGNAL_WIDTH: () => (/* reexport safe */ _view_constants__WEBPACK_IMPORTED_MODULE_9__.SIGNAL_WIDTH),\n/* harmony export */   Scale: () => (/* reexport safe */ _view_scale__WEBPACK_IMPORTED_MODULE_3__.Scale),\n/* harmony export */   ThemeManager: () => (/* reexport safe */ _theme_theme_manager__WEBPACK_IMPORTED_MODULE_12__.ThemeManager),\n/* harmony export */   Tooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.Tooltip),\n/* harmony export */   View: () => (/* reexport safe */ _view__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   ViewDrag: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewDrag),\n/* harmony export */   ViewDragMixin: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewDragMixin),\n/* harmony export */   ViewNavigationBase: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewNavigationBase),\n/* harmony export */   ViewRoam: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewRoam),\n/* harmony export */   ViewScroll: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewScroll),\n/* harmony export */   ViewScrollMixin: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewScrollMixin),\n/* harmony export */   ViewZoom: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewZoom),\n/* harmony export */   ViewZoomMixin: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.ViewZoomMixin),\n/* harmony export */   clipIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.clipIn),\n/* harmony export */   clipOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.clipOut),\n/* harmony export */   defaultDoLayout: () => (/* reexport safe */ _graph_layout_layout__WEBPACK_IMPORTED_MODULE_22__.defaultDoLayout),\n/* harmony export */   fadeIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.fadeIn),\n/* harmony export */   fadeOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.fadeOut),\n/* harmony export */   getLinePoints: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.getLinePoints),\n/* harmony export */   getRulePoints: () => (/* reexport safe */ _graph__WEBPACK_IMPORTED_MODULE_0__.getRulePoints),\n/* harmony export */   growAngleIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growAngleIn),\n/* harmony export */   growAngleOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growAngleOut),\n/* harmony export */   growCenterIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growCenterIn),\n/* harmony export */   growCenterOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growCenterOut),\n/* harmony export */   growHeightIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growHeightIn),\n/* harmony export */   growHeightOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growHeightOut),\n/* harmony export */   growIntervalIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growIntervalIn),\n/* harmony export */   growIntervalOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growIntervalOut),\n/* harmony export */   growPointsIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsIn),\n/* harmony export */   growPointsOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsOut),\n/* harmony export */   growPointsXIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsXIn),\n/* harmony export */   growPointsXOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsXOut),\n/* harmony export */   growPointsYIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsYIn),\n/* harmony export */   growPointsYOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growPointsYOut),\n/* harmony export */   growRadiusIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growRadiusIn),\n/* harmony export */   growRadiusOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growRadiusOut),\n/* harmony export */   growWidthIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growWidthIn),\n/* harmony export */   growWidthOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.growWidthOut),\n/* harmony export */   initAutoEnv: () => (/* reexport safe */ _env__WEBPACK_IMPORTED_MODULE_18__.initAutoEnv),\n/* harmony export */   initBrowserEnv: () => (/* reexport safe */ _env__WEBPACK_IMPORTED_MODULE_18__.initBrowserEnv),\n/* harmony export */   initNodeEnv: () => (/* reexport safe */ _env__WEBPACK_IMPORTED_MODULE_18__.initNodeEnv),\n/* harmony export */   invokeFunctionType: () => (/* reexport safe */ _parse_util__WEBPACK_IMPORTED_MODULE_5__.invokeFunctionType),\n/* harmony export */   moveIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.moveIn),\n/* harmony export */   moveOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.moveOut),\n/* harmony export */   parseFunctionType: () => (/* reexport safe */ _parse_util__WEBPACK_IMPORTED_MODULE_5__.parseFunctionType),\n/* harmony export */   registerAnimate: () => (/* binding */ registerAnimate),\n/* harmony export */   registerArc3dGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerArc3dGraphic),\n/* harmony export */   registerArcGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerArcGraphic),\n/* harmony export */   registerAreaGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerAreaGraphic),\n/* harmony export */   registerAxis: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerAxis),\n/* harmony export */   registerBarBoxplotGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerBarBoxplotGlyph),\n/* harmony export */   registerBinTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerBinTransform),\n/* harmony export */   registerBoxplotGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerBoxplotGlyph),\n/* harmony export */   registerBrushActive: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerBrushActive),\n/* harmony export */   registerBrushFilter: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerBrushFilter),\n/* harmony export */   registerBrushHighlight: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerBrushHighlight),\n/* harmony export */   registerCellGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerCellGraphic),\n/* harmony export */   registerCellMark: () => (/* reexport safe */ _semantic_marks_cell__WEBPACK_IMPORTED_MODULE_19__.registerCellMark),\n/* harmony export */   registerCircleAxis: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerCircleAxis),\n/* harmony export */   registerCircleGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerCircleGraphic),\n/* harmony export */   registerCircleGrid: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerCircleGrid),\n/* harmony export */   registerCircularRelationTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerCircularRelationTransform),\n/* harmony export */   registerClipInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerClipInAnimation),\n/* harmony export */   registerClipOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerClipOutAnimation),\n/* harmony export */   registerContourTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerContourTransform),\n/* harmony export */   registerCoordinate: () => (/* reexport safe */ _view_coordinate__WEBPACK_IMPORTED_MODULE_4__.registerCoordinate),\n/* harmony export */   registerCrosshair: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerCrosshair),\n/* harmony export */   registerDataZoom: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerDataZoom),\n/* harmony export */   registerDefaultLayout: () => (/* reexport safe */ _graph_layout_layout__WEBPACK_IMPORTED_MODULE_22__.registerDefaultLayout),\n/* harmony export */   registerDimensionTooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerDimensionTooltip),\n/* harmony export */   registerDodgeTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerDodgeTransform),\n/* harmony export */   registerDragPlugin: () => (/* binding */ registerDragPlugin),\n/* harmony export */   registerDrillDown: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerDrillDown),\n/* harmony export */   registerElementActive: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementActive),\n/* harmony export */   registerElementActiveByLegend: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementActiveByLegend),\n/* harmony export */   registerElementHighlight: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlight),\n/* harmony export */   registerElementHighlightByGraphicName: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlightByGraphicName),\n/* harmony export */   registerElementHighlightByGroup: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlightByGroup),\n/* harmony export */   registerElementHighlightByKey: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlightByKey),\n/* harmony export */   registerElementHighlightByLegend: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlightByLegend),\n/* harmony export */   registerElementHighlightByName: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementHighlightByName),\n/* harmony export */   registerElementSelect: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementSelect),\n/* harmony export */   registerElementSelectByGraphicName: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerElementSelectByGraphicName),\n/* harmony export */   registerFadeInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerFadeInAnimation),\n/* harmony export */   registerFadeOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerFadeOutAnimation),\n/* harmony export */   registerFilterTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerFilterTransform),\n/* harmony export */   registerFishEye: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerFishEye),\n/* harmony export */   registerFoldTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerFoldTransform),\n/* harmony export */   registerFunnelTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerFunnelTransform),\n/* harmony export */   registerGesturePlugin: () => (/* binding */ registerGesturePlugin),\n/* harmony export */   registerGlyphGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerGlyphGraphic),\n/* harmony export */   registerGlyphMark: () => (/* reexport safe */ _view_glyph__WEBPACK_IMPORTED_MODULE_23__.registerGlyphMark),\n/* harmony export */   registerGrid: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerGrid),\n/* harmony export */   registerGroupGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerGroupGraphic),\n/* harmony export */   registerGrowAngleInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowAngleInAnimation),\n/* harmony export */   registerGrowAngleOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowAngleOutAnimation),\n/* harmony export */   registerGrowCenterInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowCenterInAnimation),\n/* harmony export */   registerGrowCenterOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowCenterOutAnimation),\n/* harmony export */   registerGrowHeightInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowHeightInAnimation),\n/* harmony export */   registerGrowHeightOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowHeightOutAnimation),\n/* harmony export */   registerGrowIntervalInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowIntervalInAnimation),\n/* harmony export */   registerGrowIntervalOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowIntervalOutAnimation),\n/* harmony export */   registerGrowPointsInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsInAnimation),\n/* harmony export */   registerGrowPointsOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsOutAnimation),\n/* harmony export */   registerGrowPointsXInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsXInAnimation),\n/* harmony export */   registerGrowPointsXOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsXOutAnimation),\n/* harmony export */   registerGrowPointsYInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsYInAnimation),\n/* harmony export */   registerGrowPointsYOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowPointsYOutAnimation),\n/* harmony export */   registerGrowRadiusInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowRadiusInAnimation),\n/* harmony export */   registerGrowRadiusOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowRadiusOutAnimation),\n/* harmony export */   registerGrowWidthInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowWidthInAnimation),\n/* harmony export */   registerGrowWidthOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerGrowWidthOutAnimation),\n/* harmony export */   registerIdentifierTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerIdentifierTransform),\n/* harmony export */   registerImageGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerImageGraphic),\n/* harmony export */   registerIntervalGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerIntervalGraphic),\n/* harmony export */   registerIntervalMark: () => (/* reexport safe */ _semantic_marks_interval__WEBPACK_IMPORTED_MODULE_20__.registerIntervalMark),\n/* harmony export */   registerJitterTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerJitterTransform),\n/* harmony export */   registerJitterXTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerJitterXTransform),\n/* harmony export */   registerJitterYTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerJitterYTransform),\n/* harmony export */   registerJoinTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerJoinTransform),\n/* harmony export */   registerKdeTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerKdeTransform),\n/* harmony export */   registerLabel: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerLabel),\n/* harmony export */   registerLargeRectsGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerLargeRectsGraphic),\n/* harmony export */   registerLargeSymbolsGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerLargeSymbolsGraphic),\n/* harmony export */   registerLegend: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerLegend),\n/* harmony export */   registerLineAxis: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerLineAxis),\n/* harmony export */   registerLineGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerLineGraphic),\n/* harmony export */   registerLineGrid: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerLineGrid),\n/* harmony export */   registerLinkPathGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerLinkPathGlyph),\n/* harmony export */   registerMapTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerMapTransform),\n/* harmony export */   registerMarkOverlapTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerMarkOverlapTransform),\n/* harmony export */   registerMoveInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerMoveInAnimation),\n/* harmony export */   registerMoveOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerMoveOutAnimation),\n/* harmony export */   registerPathGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerPathGraphic),\n/* harmony export */   registerPickTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerPickTransform),\n/* harmony export */   registerPieTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerPieTransform),\n/* harmony export */   registerPlayer: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerPlayer),\n/* harmony export */   registerPolygonGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerPolygonGraphic),\n/* harmony export */   registerPyramid3dGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerPyramid3dGraphic),\n/* harmony export */   registerRangeTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerRangeTransform),\n/* harmony export */   registerRect3dGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerRect3dGraphic),\n/* harmony export */   registerRectGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerRectGraphic),\n/* harmony export */   registerRichTextGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerRichTextGraphic),\n/* harmony export */   registerRippleGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerRippleGlyph),\n/* harmony export */   registerRollUp: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerRollUp),\n/* harmony export */   registerRotateInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerRotateInAnimation),\n/* harmony export */   registerRotateOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerRotateOutAnimation),\n/* harmony export */   registerRuleGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerRuleGraphic),\n/* harmony export */   registerSampleTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerSampleTransform),\n/* harmony export */   registerScale: () => (/* reexport safe */ _view_scale__WEBPACK_IMPORTED_MODULE_3__.registerScale),\n/* harmony export */   registerScaleInAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerScaleInAnimation),\n/* harmony export */   registerScaleOutAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerScaleOutAnimation),\n/* harmony export */   registerScrollbar: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerScrollbar),\n/* harmony export */   registerShapeGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerShapeGraphic),\n/* harmony export */   registerSlider: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerSlider),\n/* harmony export */   registerSortTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerSortTransform),\n/* harmony export */   registerStackTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerStackTransform),\n/* harmony export */   registerSymbolGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerSymbolGraphic),\n/* harmony export */   registerSymmetryTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerSymmetryTransform),\n/* harmony export */   registerTextGraphic: () => (/* reexport safe */ _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__.registerTextGraphic),\n/* harmony export */   registerTitle: () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_14__.registerTitle),\n/* harmony export */   registerTooltip: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerTooltip),\n/* harmony export */   registerTreePathGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerTreePathGlyph),\n/* harmony export */   registerUnfoldTransform: () => (/* reexport safe */ _transforms__WEBPACK_IMPORTED_MODULE_15__.registerUnfoldTransform),\n/* harmony export */   registerUpdateAnimation: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.registerUpdateAnimation),\n/* harmony export */   registerViewDrag: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerViewDrag),\n/* harmony export */   registerViewEventsAPI: () => (/* reexport safe */ _view_view_event_mixin__WEBPACK_IMPORTED_MODULE_10__.registerViewEventsAPI),\n/* harmony export */   registerViewMorphAPI: () => (/* reexport safe */ _view_view_morph_mixin__WEBPACK_IMPORTED_MODULE_11__.registerViewMorphAPI),\n/* harmony export */   registerViewRoam: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerViewRoam),\n/* harmony export */   registerViewScroll: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerViewScroll),\n/* harmony export */   registerViewZoom: () => (/* reexport safe */ _interactions__WEBPACK_IMPORTED_MODULE_1__.registerViewZoom),\n/* harmony export */   registerViolinGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerViolinGlyph),\n/* harmony export */   registerWaveGlyph: () => (/* reexport safe */ _glyph__WEBPACK_IMPORTED_MODULE_13__.registerWaveGlyph),\n/* harmony export */   richJsx: () => (/* reexport safe */ _util_text__WEBPACK_IMPORTED_MODULE_7__.richJsx),\n/* harmony export */   richXul: () => (/* reexport safe */ _util_text__WEBPACK_IMPORTED_MODULE_7__.richXul),\n/* harmony export */   rotateIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.rotateIn),\n/* harmony export */   rotateOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.rotateOut),\n/* harmony export */   scaleIn: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.scaleIn),\n/* harmony export */   scaleOut: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.scaleOut),\n/* harmony export */   update: () => (/* reexport safe */ _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__.update),\n/* harmony export */   version: () => (/* binding */ version),\n/* harmony export */   vglobal: () => (/* reexport safe */ _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_17__.vglobal)\n/* harmony export */ });\n/* harmony import */ var _graph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./graph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/index.js\");\n/* harmony import */ var _interactions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interactions */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/index.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./view */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/View.js\");\n/* harmony import */ var _view_scale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./view/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/scale.js\");\n/* harmony import */ var _view_coordinate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./view/coordinate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/coordinate.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _view_grammar_base__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./view/grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _util_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./util/text */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/text.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _view_view_event_mixin__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./view/view-event-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-event-mixin.js\");\n/* harmony import */ var _view_view_morph_mixin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./view/view-morph-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-morph-mixin.js\");\n/* harmony import */ var _theme_theme_manager__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./theme/theme-manager */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js\");\n/* harmony import */ var _glyph__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/glyph/index.js\");\n/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/component/index.js\");\n/* harmony import */ var _transforms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./transforms */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/index.js\");\n/* harmony import */ var _graph_animation_animation__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./graph/animation/animation */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animation/index.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/modules.js\");\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./env */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/env.js\");\n/* harmony import */ var _semantic_marks_cell__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./semantic-marks/cell */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/cell.js\");\n/* harmony import */ var _semantic_marks_interval__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./semantic-marks/interval */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/interval.js\");\n/* harmony import */ var _graph_mark_graphic__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./graph/mark/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/graphic.js\");\n/* harmony import */ var _graph_layout_layout__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./graph/layout/layout */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/layout/layout.js\");\n/* harmony import */ var _view_glyph__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./view/glyph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/event/extension/drag.js\");\n/* harmony import */ var _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @visactor/vrender-kits */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-kits@0.22.16/node_modules/@visactor/vrender-kits/es/event/extension/gesture.js\");\n/* harmony import */ var _view_view_animate_mixin__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./view/view-animate-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-animate-mixin.js\");\n/* harmony import */ var _view_mark_animate_mixin__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./view/mark-animate-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark-animate-mixin.js\");\nconst version = \"0.16.11\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerDragPlugin = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory.registerStageEventPlugin(\"drag\", _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_24__.DragNDrop);\n};\n\nconst registerGesturePlugin = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_8__.Factory.registerStageEventPlugin(\"gesture\", _visactor_vrender_kits__WEBPACK_IMPORTED_MODULE_25__.Gesture);\n};\n\n\n\n\n\nconst registerAnimate = () => {\n    (0,_view_view_animate_mixin__WEBPACK_IMPORTED_MODULE_26__.registerViewAnimateAPI)(), (0,_view_mark_animate_mixin__WEBPACK_IMPORTED_MODULE_27__.registerMarkAnimateAPI)();\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTzs7QUFFaUI7O0FBRU87O0FBRUQ7O0FBRXNCOztBQUVlOztBQUVFOztBQUVuQjs7QUFFdEI7O0FBRUo7O0FBRWlCOztBQUU4Rzs7QUFFdkY7O0FBRUQ7O0FBRVY7O0FBRTdCOztBQUVJOztBQUVDOztBQUVlOztBQUVLOztBQUUzQjs7QUFFUzs7QUFFTzs7QUFFSTs7QUFFTDs7QUFFMEM7O0FBRW5COztBQUVBOztBQUVuQjs7QUFFbEM7QUFDUCxJQUFJLGtEQUFPLGtDQUFrQyw4REFBUztBQUN0RDs7QUFFTztBQUNQLElBQUksa0RBQU8scUNBQXFDLDREQUFPO0FBQ3ZEOztBQUVtRTs7QUFFQTs7QUFFNUQ7QUFDUCxJQUFJLGlGQUFzQixJQUFJLGlGQUFzQjtBQUNwRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbmRleC5qcz85YjM5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCIwLjE2LjExXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2dyYXBoXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2ludGVyYWN0aW9uc1wiO1xuXG5leHBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vdmlld1wiO1xuXG5leHBvcnQgeyBTY2FsZSwgcmVnaXN0ZXJTY2FsZSB9IGZyb20gXCIuL3ZpZXcvc2NhbGVcIjtcblxuZXhwb3J0IHsgQ29vcmRpbmF0ZSwgcmVnaXN0ZXJDb29yZGluYXRlIH0gZnJvbSBcIi4vdmlldy9jb29yZGluYXRlXCI7XG5cbmV4cG9ydCB7IHBhcnNlRnVuY3Rpb25UeXBlLCBpbnZva2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi9wYXJzZS91dGlsXCI7XG5cbmV4cG9ydCB7IEdyYW1tYXJCYXNlIH0gZnJvbSBcIi4vdmlldy9ncmFtbWFyLWJhc2VcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vdXRpbC90ZXh0XCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IHsgU0lHTkFMX0FVVE9GSVQsIFNJR05BTF9IRUlHSFQsIFNJR05BTF9QQURESU5HLCBTSUdOQUxfVklFV19IRUlHSFQsIFNJR05BTF9WSUVXX1dJRFRILCBTSUdOQUxfV0lEVEgsIFNJR05BTF9WSUVXX0JPWCB9IGZyb20gXCIuL3ZpZXcvY29uc3RhbnRzXCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyVmlld0V2ZW50c0FQSSB9IGZyb20gXCIuL3ZpZXcvdmlldy1ldmVudC1taXhpblwiO1xuXG5leHBvcnQgeyByZWdpc3RlclZpZXdNb3JwaEFQSSB9IGZyb20gXCIuL3ZpZXcvdmlldy1tb3JwaC1taXhpblwiO1xuXG5leHBvcnQgeyBUaGVtZU1hbmFnZXIgfSBmcm9tIFwiLi90aGVtZS90aGVtZS1tYW5hZ2VyXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2dseXBoXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi90cmFuc2Zvcm1zXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2dyYXBoL2FuaW1hdGlvbi9hbmltYXRpb25cIjtcblxuZXhwb3J0IHsgdmdsb2JhbCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2VudlwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9pbnRlcmFjdGlvbnNcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vc2VtYW50aWMtbWFya3MvY2VsbFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9zZW1hbnRpYy1tYXJrcy9pbnRlcnZhbFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9ncmFwaC9tYXJrL2dyYXBoaWNcIjtcblxuZXhwb3J0IHsgcmVnaXN0ZXJEZWZhdWx0TGF5b3V0LCBkZWZhdWx0RG9MYXlvdXQgfSBmcm9tIFwiLi9ncmFwaC9sYXlvdXQvbGF5b3V0XCI7XG5cbmV4cG9ydCB7IHJlZ2lzdGVyR2x5cGhNYXJrLCBHbHlwaE1hcmsgfSBmcm9tIFwiLi92aWV3L2dseXBoXCI7XG5cbmltcG9ydCB7IERyYWdORHJvcCwgR2VzdHVyZSB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1raXRzXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRHJhZ1BsdWdpbiA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyU3RhZ2VFdmVudFBsdWdpbihcImRyYWdcIiwgRHJhZ05Ecm9wKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3Rlckdlc3R1cmVQbHVnaW4gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclN0YWdlRXZlbnRQbHVnaW4oXCJnZXN0dXJlXCIsIEdlc3R1cmUpO1xufTtcblxuaW1wb3J0IHsgcmVnaXN0ZXJWaWV3QW5pbWF0ZUFQSSB9IGZyb20gXCIuL3ZpZXcvdmlldy1hbmltYXRlLW1peGluXCI7XG5cbmltcG9ydCB7IHJlZ2lzdGVyTWFya0FuaW1hdGVBUEkgfSBmcm9tIFwiLi92aWV3L21hcmstYW5pbWF0ZS1taXhpblwiO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJBbmltYXRlID0gKCkgPT4ge1xuICAgIHJlZ2lzdGVyVmlld0FuaW1hdGVBUEkoKSwgcmVnaXN0ZXJNYXJrQW5pbWF0ZUFQSSgpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseTooltip: () => (/* binding */ BaseTooltip),\n/* harmony export */   generateTooltipAttributes: () => (/* binding */ generateTooltipAttributes)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/tooltip/tooltip.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isObjectLike.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst generateTooltipAttributes = (point, title, content, bounds, theme, addition) => {\n    var _a;\n    const tooltipTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.tooltip;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, tooltipTheme, {\n        visible: !0,\n        pointerX: point.x,\n        pointerY: point.y,\n        title: title,\n        content: content,\n        parentBounds: bounds\n    }, null != addition ? addition : {});\n};\n\nclass BaseTooltip extends _base__WEBPACK_IMPORTED_MODULE_1__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this._marks = view.getMarksBySelector(options.selector);\n    }\n    bind() {\n        super.bind();\n        const stage = this.view.renderer.stage();\n        !this._tooltipComponent && stage && (this._tooltipComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.Tooltip({}), \n        stage.defaultLayer.appendChild(this._tooltipComponent));\n    }\n    unbind() {\n        super.unbind();\n        const stage = this.view.renderer.stage();\n        this._tooltipComponent && stage && (stage.defaultLayer.removeChild(this._tooltipComponent), \n        this._tooltipComponent.release(), this._tooltipComponent = null);\n    }\n    _computeTooltipRow(row, datum) {\n        let key, value, symbol, visible = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(row.visible, this.parameters(), datum);\n        if (visible = !!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(visible) || !!visible, (0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.isFieldEncode)(row.key)) {\n            key = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_6__.field)(row.key.field)(datum);\n        } else key = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(row.key, this.parameters(), datum);\n        if (key = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(key) ? void 0 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(key) ? key : {\n            text: key\n        }, (0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.isFieldEncode)(row.value)) {\n            value = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_6__.field)(row.value.field)(datum);\n        } else value = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(row.value, this.parameters(), datum);\n        if (value = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(value) ? void 0 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(value) ? value : {\n            text: value\n        }, (0,_parse_mark__WEBPACK_IMPORTED_MODULE_5__.isFieldEncode)(row.symbol)) {\n            symbol = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_6__.field)(row.symbol.field)(datum);\n        } else symbol = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(row.symbol, this.parameters(), datum);\n        return symbol = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(symbol) ? void 0 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(symbol) ? symbol : {\n            symbolType: symbol\n        }, {\n            visible: visible,\n            key: key,\n            value: value,\n            shape: symbol\n        };\n    }\n    _computeTitleContent(datum) {\n        const title = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this.options.title) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.options.title) ? this.options.title.call(null, datum, null, {}) : this._computeTooltipRow((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(this.options.title) ? {\n            value: this.options.title\n        } : this.options.title, datum) : void 0, content = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this.options.content) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.options.content) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_11__.array)(this.options.content.call(null, datum, null, {})) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_11__.array)(datum).reduce(((content, datumRow) => content.concat((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_11__.array)(this.options.content).map((row => this._computeTooltipRow(row, datumRow))))), []) : void 0;\n        return {\n            title: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(title) ? title[0] : title,\n            content: content\n        };\n    }\n}\n//# sourceMappingURL=base-tooltip.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Jhc2UtdG9vbHRpcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkU7O0FBRWtDOztBQUV6Qzs7QUFFM0I7O0FBRUs7O0FBRUs7O0FBRTVDO0FBQ1A7QUFDQTtBQUNBLFdBQVcsNERBQUssR0FBRztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTywwQkFBMEIsa0RBQWU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLGlFQUFnQixHQUFHO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywrREFBa0I7QUFDNUQsd0JBQXdCLDREQUFLLHdCQUF3QiwwREFBYTtBQUNsRSxrQkFBa0IsOERBQWdCO0FBQ2xDLFVBQVUsV0FBVywrREFBa0I7QUFDdkMsa0JBQWtCLDREQUFLLGlCQUFpQiw0REFBWTtBQUNwRDtBQUNBLFNBQVMsRUFBRSwwREFBYTtBQUN4QixvQkFBb0IsOERBQWdCO0FBQ3BDLFVBQVUsYUFBYSwrREFBa0I7QUFDekMsb0JBQW9CLDREQUFLLG1CQUFtQiw0REFBWTtBQUN4RDtBQUNBLFNBQVMsRUFBRSwwREFBYTtBQUN4QixxQkFBcUIsOERBQWdCO0FBQ3JDLFVBQVUsY0FBYywrREFBa0I7QUFDMUMsd0JBQXdCLDREQUFLLG9CQUFvQiw0REFBWTtBQUM3RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBTyx1QkFBdUIsNERBQVUsb0VBQW9FLDRCQUE0Qiw2REFBUTtBQUN0SztBQUNBLFVBQVUsaURBQWlELDREQUFPLHlCQUF5Qiw0REFBVSx5QkFBeUIsd0RBQUssZ0RBQWdELEtBQUssd0RBQUssc0RBQXNELHdEQUFLO0FBQ3hQO0FBQ0EsbUJBQW1CLDZEQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9iYXNlLXRvb2x0aXAuanM/YThjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUb29sdGlwIGFzIFRvb2x0aXBDb21wb25lbnQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29tcG9uZW50c1wiO1xuXG5pbXBvcnQgeyBhcnJheSwgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNOaWwsIGlzT2JqZWN0TGlrZSwgaXNTdHJpbmcsIGlzVmFsaWQsIG1lcmdlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgZmllbGQgYXMgZ2V0RmllbGRBY2Nlc3NvciB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItdXRpbFwiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmltcG9ydCB7IGlzRmllbGRFbmNvZGUgfSBmcm9tIFwiLi4vcGFyc2UvbWFya1wiO1xuXG5pbXBvcnQgeyBpbnZva2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUb29sdGlwQXR0cmlidXRlcyA9IChwb2ludCwgdGl0bGUsIGNvbnRlbnQsIGJvdW5kcywgdGhlbWUsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHRvb2x0aXBUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EudG9vbHRpcDtcbiAgICByZXR1cm4gbWVyZ2Uoe30sIHRvb2x0aXBUaGVtZSwge1xuICAgICAgICB2aXNpYmxlOiAhMCxcbiAgICAgICAgcG9pbnRlclg6IHBvaW50LngsXG4gICAgICAgIHBvaW50ZXJZOiBwb2ludC55LFxuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgIHBhcmVudEJvdW5kczogYm91bmRzXG4gICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNsYXNzIEJhc2VUb29sdGlwIGV4dGVuZHMgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKG9wdGlvbnMuc2VsZWN0b3IpO1xuICAgIH1cbiAgICBiaW5kKCkge1xuICAgICAgICBzdXBlci5iaW5kKCk7XG4gICAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy52aWV3LnJlbmRlcmVyLnN0YWdlKCk7XG4gICAgICAgICF0aGlzLl90b29sdGlwQ29tcG9uZW50ICYmIHN0YWdlICYmICh0aGlzLl90b29sdGlwQ29tcG9uZW50ID0gbmV3IFRvb2x0aXBDb21wb25lbnQoe30pLCBcbiAgICAgICAgc3RhZ2UuZGVmYXVsdExheWVyLmFwcGVuZENoaWxkKHRoaXMuX3Rvb2x0aXBDb21wb25lbnQpKTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBzdXBlci51bmJpbmQoKTtcbiAgICAgICAgY29uc3Qgc3RhZ2UgPSB0aGlzLnZpZXcucmVuZGVyZXIuc3RhZ2UoKTtcbiAgICAgICAgdGhpcy5fdG9vbHRpcENvbXBvbmVudCAmJiBzdGFnZSAmJiAoc3RhZ2UuZGVmYXVsdExheWVyLnJlbW92ZUNoaWxkKHRoaXMuX3Rvb2x0aXBDb21wb25lbnQpLCBcbiAgICAgICAgdGhpcy5fdG9vbHRpcENvbXBvbmVudC5yZWxlYXNlKCksIHRoaXMuX3Rvb2x0aXBDb21wb25lbnQgPSBudWxsKTtcbiAgICB9XG4gICAgX2NvbXB1dGVUb29sdGlwUm93KHJvdywgZGF0dW0pIHtcbiAgICAgICAgbGV0IGtleSwgdmFsdWUsIHN5bWJvbCwgdmlzaWJsZSA9IGludm9rZUZ1bmN0aW9uVHlwZShyb3cudmlzaWJsZSwgdGhpcy5wYXJhbWV0ZXJzKCksIGRhdHVtKTtcbiAgICAgICAgaWYgKHZpc2libGUgPSAhIWlzTmlsKHZpc2libGUpIHx8ICEhdmlzaWJsZSwgaXNGaWVsZEVuY29kZShyb3cua2V5KSkge1xuICAgICAgICAgICAga2V5ID0gZ2V0RmllbGRBY2Nlc3Nvcihyb3cua2V5LmZpZWxkKShkYXR1bSk7XG4gICAgICAgIH0gZWxzZSBrZXkgPSBpbnZva2VGdW5jdGlvblR5cGUocm93LmtleSwgdGhpcy5wYXJhbWV0ZXJzKCksIGRhdHVtKTtcbiAgICAgICAgaWYgKGtleSA9IGlzTmlsKGtleSkgPyB2b2lkIDAgOiBpc09iamVjdExpa2Uoa2V5KSA/IGtleSA6IHtcbiAgICAgICAgICAgIHRleHQ6IGtleVxuICAgICAgICB9LCBpc0ZpZWxkRW5jb2RlKHJvdy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZ2V0RmllbGRBY2Nlc3Nvcihyb3cudmFsdWUuZmllbGQpKGRhdHVtKTtcbiAgICAgICAgfSBlbHNlIHZhbHVlID0gaW52b2tlRnVuY3Rpb25UeXBlKHJvdy52YWx1ZSwgdGhpcy5wYXJhbWV0ZXJzKCksIGRhdHVtKTtcbiAgICAgICAgaWYgKHZhbHVlID0gaXNOaWwodmFsdWUpID8gdm9pZCAwIDogaXNPYmplY3RMaWtlKHZhbHVlKSA/IHZhbHVlIDoge1xuICAgICAgICAgICAgdGV4dDogdmFsdWVcbiAgICAgICAgfSwgaXNGaWVsZEVuY29kZShyb3cuc3ltYm9sKSkge1xuICAgICAgICAgICAgc3ltYm9sID0gZ2V0RmllbGRBY2Nlc3Nvcihyb3cuc3ltYm9sLmZpZWxkKShkYXR1bSk7XG4gICAgICAgIH0gZWxzZSBzeW1ib2wgPSBpbnZva2VGdW5jdGlvblR5cGUocm93LnN5bWJvbCwgdGhpcy5wYXJhbWV0ZXJzKCksIGRhdHVtKTtcbiAgICAgICAgcmV0dXJuIHN5bWJvbCA9IGlzTmlsKHN5bWJvbCkgPyB2b2lkIDAgOiBpc09iamVjdExpa2Uoc3ltYm9sKSA/IHN5bWJvbCA6IHtcbiAgICAgICAgICAgIHN5bWJvbFR5cGU6IHN5bWJvbFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBzaGFwZTogc3ltYm9sXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9jb21wdXRlVGl0bGVDb250ZW50KGRhdHVtKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gaXNWYWxpZCh0aGlzLm9wdGlvbnMudGl0bGUpID8gaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMudGl0bGUpID8gdGhpcy5vcHRpb25zLnRpdGxlLmNhbGwobnVsbCwgZGF0dW0sIG51bGwsIHt9KSA6IHRoaXMuX2NvbXB1dGVUb29sdGlwUm93KGlzU3RyaW5nKHRoaXMub3B0aW9ucy50aXRsZSkgPyB7XG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5vcHRpb25zLnRpdGxlXG4gICAgICAgIH0gOiB0aGlzLm9wdGlvbnMudGl0bGUsIGRhdHVtKSA6IHZvaWQgMCwgY29udGVudCA9IGlzVmFsaWQodGhpcy5vcHRpb25zLmNvbnRlbnQpID8gaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuY29udGVudCkgPyBhcnJheSh0aGlzLm9wdGlvbnMuY29udGVudC5jYWxsKG51bGwsIGRhdHVtLCBudWxsLCB7fSkpIDogYXJyYXkoZGF0dW0pLnJlZHVjZSgoKGNvbnRlbnQsIGRhdHVtUm93KSA9PiBjb250ZW50LmNvbmNhdChhcnJheSh0aGlzLm9wdGlvbnMuY29udGVudCkubWFwKChyb3cgPT4gdGhpcy5fY29tcHV0ZVRvb2x0aXBSb3cocm93LCBkYXR1bVJvdykpKSkpLCBbXSkgOiB2b2lkIDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aXRsZTogaXNBcnJheSh0aXRsZSkgPyB0aXRsZVswXSA6IHRpdGxlLFxuICAgICAgICAgICAgY29udGVudDogY29udGVudFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UtdG9vbHRpcC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseInteraction: () => (/* binding */ BaseInteraction)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n\n\nclass BaseInteraction {\n    constructor(view, options) {\n        this.references = new Map, this.view = view, this.depend(null == options ? void 0 : options.dependency);\n    }\n    getStartState() {\n        return null;\n    }\n    depend(grammar) {\n        this.references.clear(), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(grammar).map((grammar => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(grammar) ? this.view.getGrammarById(grammar) : grammar)).filter((ref => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ref))).forEach((ref => {\n            var _a;\n            this.references.set(ref, (null !== (_a = this.references.get(ref)) && void 0 !== _a ? _a : 0) + 1);\n        }));\n    }\n    parameters() {\n        const params = {};\n        return this.references.forEach(((count, ref) => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ref.id()) && (params[ref.id()] = ref.output());\n        })), params;\n    }\n    bind() {\n        const events = this.getEvents();\n        (null != events ? events : []).forEach((evt => {\n            evt.type && evt.handler && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(evt.type) ? evt.type.forEach((evtType => {\n                evtType && \"none\" !== evtType && this.view.addEventListener(evtType, evt.handler);\n            })) : \"none\" !== evt.type && this.view.addEventListener(evt.type, evt.handler));\n        }));\n    }\n    unbind() {\n        const events = this.getEvents();\n        (null != events ? events : []).forEach((evt => {\n            evt.type && evt.handler && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(evt.type) ? evt.type.forEach((evtType => {\n                evtType && \"none\" !== evtType && this.view.removeEventListener(evtType, evt.handler);\n            })) : \"none\" !== evt.type && this.view.removeEventListener(evt.type, evt.handler));\n        }));\n    }\n    start(element) {}\n    reset(element) {}\n    dispatchEvent(type, params) {\n        this.view.emit(`${this.type}:${type}`, params), \"start\" === type && this.options.onStart ? this.options.onStart(params) : \"reset\" === type && this.options.onReset ? this.options.onReset(params) : \"update\" === type && this.options.onUpdate ? this.options.onUpdate(params) : \"end\" === type && this.options.onEnd && this.options.onEnd(params);\n    }\n}\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRFOztBQUVyRTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFLLDBCQUEwQiw0REFBUSwwRUFBMEUsNERBQUs7QUFDdko7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQU87QUFDbkIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDREQUFPO0FBQy9DO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw0REFBTztBQUMvQztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsVUFBVSxHQUFHLEtBQUs7QUFDNUM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvYmFzZS5qcz9hYTJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5LCBpc0FycmF5LCBpc05pbCwgaXNTdHJpbmcsIGlzVmFsaWQgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlcyA9IG5ldyBNYXAsIHRoaXMudmlldyA9IHZpZXcsIHRoaXMuZGVwZW5kKG51bGwgPT0gb3B0aW9ucyA/IHZvaWQgMCA6IG9wdGlvbnMuZGVwZW5kZW5jeSk7XG4gICAgfVxuICAgIGdldFN0YXJ0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBkZXBlbmQoZ3JhbW1hcikge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZXMuY2xlYXIoKSwgYXJyYXkoZ3JhbW1hcikubWFwKChncmFtbWFyID0+IGlzU3RyaW5nKGdyYW1tYXIpID8gdGhpcy52aWV3LmdldEdyYW1tYXJCeUlkKGdyYW1tYXIpIDogZ3JhbW1hcikpLmZpbHRlcigocmVmID0+ICFpc05pbChyZWYpKSkuZm9yRWFjaCgocmVmID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHRoaXMucmVmZXJlbmNlcy5zZXQocmVmLCAobnVsbCAhPT0gKF9hID0gdGhpcy5yZWZlcmVuY2VzLmdldChyZWYpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwKSArIDEpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHBhcmFtZXRlcnMoKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VzLmZvckVhY2goKChjb3VudCwgcmVmKSA9PiB7XG4gICAgICAgICAgICBpc1ZhbGlkKHJlZi5pZCgpKSAmJiAocGFyYW1zW3JlZi5pZCgpXSA9IHJlZi5vdXRwdXQoKSk7XG4gICAgICAgIH0pKSwgcGFyYW1zO1xuICAgIH1cbiAgICBiaW5kKCkge1xuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLmdldEV2ZW50cygpO1xuICAgICAgICAobnVsbCAhPSBldmVudHMgPyBldmVudHMgOiBbXSkuZm9yRWFjaCgoZXZ0ID0+IHtcbiAgICAgICAgICAgIGV2dC50eXBlICYmIGV2dC5oYW5kbGVyICYmIChpc0FycmF5KGV2dC50eXBlKSA/IGV2dC50eXBlLmZvckVhY2goKGV2dFR5cGUgPT4ge1xuICAgICAgICAgICAgICAgIGV2dFR5cGUgJiYgXCJub25lXCIgIT09IGV2dFR5cGUgJiYgdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgZXZ0LmhhbmRsZXIpO1xuICAgICAgICAgICAgfSkpIDogXCJub25lXCIgIT09IGV2dC50eXBlICYmIHRoaXMudmlldy5hZGRFdmVudExpc3RlbmVyKGV2dC50eXBlLCBldnQuaGFuZGxlcikpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHVuYmluZCgpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5nZXRFdmVudHMoKTtcbiAgICAgICAgKG51bGwgIT0gZXZlbnRzID8gZXZlbnRzIDogW10pLmZvckVhY2goKGV2dCA9PiB7XG4gICAgICAgICAgICBldnQudHlwZSAmJiBldnQuaGFuZGxlciAmJiAoaXNBcnJheShldnQudHlwZSkgPyBldnQudHlwZS5mb3JFYWNoKChldnRUeXBlID0+IHtcbiAgICAgICAgICAgICAgICBldnRUeXBlICYmIFwibm9uZVwiICE9PSBldnRUeXBlICYmIHRoaXMudmlldy5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGV2dC5oYW5kbGVyKTtcbiAgICAgICAgICAgIH0pKSA6IFwibm9uZVwiICE9PSBldnQudHlwZSAmJiB0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnQudHlwZSwgZXZ0LmhhbmRsZXIpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzdGFydChlbGVtZW50KSB7fVxuICAgIHJlc2V0KGVsZW1lbnQpIHt9XG4gICAgZGlzcGF0Y2hFdmVudCh0eXBlLCBwYXJhbXMpIHtcbiAgICAgICAgdGhpcy52aWV3LmVtaXQoYCR7dGhpcy50eXBlfToke3R5cGV9YCwgcGFyYW1zKSwgXCJzdGFydFwiID09PSB0eXBlICYmIHRoaXMub3B0aW9ucy5vblN0YXJ0ID8gdGhpcy5vcHRpb25zLm9uU3RhcnQocGFyYW1zKSA6IFwicmVzZXRcIiA9PT0gdHlwZSAmJiB0aGlzLm9wdGlvbnMub25SZXNldCA/IHRoaXMub3B0aW9ucy5vblJlc2V0KHBhcmFtcykgOiBcInVwZGF0ZVwiID09PSB0eXBlICYmIHRoaXMub3B0aW9ucy5vblVwZGF0ZSA/IHRoaXMub3B0aW9ucy5vblVwZGF0ZShwYXJhbXMpIDogXCJlbmRcIiA9PT0gdHlwZSAmJiB0aGlzLm9wdGlvbnMub25FbmQgJiYgdGhpcy5vcHRpb25zLm9uRW5kKHBhcmFtcyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-active.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-active.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrushActive: () => (/* binding */ BrushActive)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n\n\n\n\nclass BrushActive extends _brush_base__WEBPACK_IMPORTED_MODULE_0__.BrushBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, BrushActive.defaultOptions, option)), this.type = BrushActive.type, \n        this.handleBrushUpdate = event => {\n            const elements = [];\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    this.isBrushContainGraphicItem(event.detail.operateMask, el.getGraphicItem()) ? (elements.push(el), \n                    el.addState(this.options.state)) : el.removeState(this.options.state);\n                }));\n            })), this._dispatchEvent(event, elements);\n        };\n    }\n    getStartState() {\n        return this.options.state;\n    }\n}\n\nBrushActive.type = \"brush-active\", BrushActive.defaultOptions = {\n    state: _graph_enums__WEBPACK_IMPORTED_MODULE_1__.InteractionStateEnum.active\n};\n//# sourceMappingURL=brush-active.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWFjdGl2ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0Q7O0FBRWI7O0FBRWxDLDBCQUEwQixrREFBUztBQUMxQztBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsOERBQW9CO0FBQy9CO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9icnVzaC1hY3RpdmUuanM/NGEzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCcnVzaEJhc2UgfSBmcm9tIFwiLi9icnVzaC1iYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBCcnVzaEFjdGl2ZSBleHRlbmRzIEJydXNoQmFzZSB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9uKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIE9iamVjdC5hc3NpZ24oe30sIEJydXNoQWN0aXZlLmRlZmF1bHRPcHRpb25zLCBvcHRpb24pKSwgdGhpcy50eXBlID0gQnJ1c2hBY3RpdmUudHlwZSwgXG4gICAgICAgIHRoaXMuaGFuZGxlQnJ1c2hVcGRhdGUgPSBldmVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCcnVzaENvbnRhaW5HcmFwaGljSXRlbShldmVudC5kZXRhaWwub3BlcmF0ZU1hc2ssIGVsLmdldEdyYXBoaWNJdGVtKCkpID8gKGVsZW1lbnRzLnB1c2goZWwpLCBcbiAgICAgICAgICAgICAgICAgICAgZWwuYWRkU3RhdGUodGhpcy5vcHRpb25zLnN0YXRlKSkgOiBlbC5yZW1vdmVTdGF0ZSh0aGlzLm9wdGlvbnMuc3RhdGUpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy5fZGlzcGF0Y2hFdmVudChldmVudCwgZWxlbWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRTdGFydFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnN0YXRlO1xuICAgIH1cbn1cblxuQnJ1c2hBY3RpdmUudHlwZSA9IFwiYnJ1c2gtYWN0aXZlXCIsIEJydXNoQWN0aXZlLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5hY3RpdmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icnVzaC1hY3RpdmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-active.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrushBase: () => (/* binding */ BrushBase)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/brush/brush.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/brush/type.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/graphics/polygon.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/graphics/algorithm/intersect.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\n\n\nclass BrushBase extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.handleAfterDraw = () => {\n            var _a, _b, _c, _d;\n            const stage = this.view.renderer.stage();\n            if (this._brushComp || !stage) return;\n            const viewBox = this.view.getViewBox();\n            this._brushComp = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.Brush({\n                interactiveRange: null !== (_a = this.options.interactiveRange) && void 0 !== _a ? _a : {\n                    minX: viewBox.x1,\n                    maxX: viewBox.x2,\n                    minY: viewBox.y1,\n                    maxY: viewBox.y2\n                },\n                xRange: null !== (_b = this.options.xRange) && void 0 !== _b ? _b : [ viewBox.x1, viewBox.x2 ],\n                yRange: null !== (_c = this.options.yRange) && void 0 !== _c ? _c : [ viewBox.y1, viewBox.y2 ],\n                brushMode: null !== (_d = this.options.brushMode) && void 0 !== _d ? _d : \"single\",\n                brushType: this.options.brushType,\n                brushStyle: this.options.brushStyle,\n                brushMoved: this.options.brushMoved,\n                removeOnClick: this.options.removeOnClick,\n                sizeThreshold: this.options.sizeThreshold,\n                delayType: this.options.delayType,\n                delayTime: this.options.delayTime\n            }), this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.brushClear, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moveEnd, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawEnd, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawStart, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moveStart, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawing, this.handleBrushUpdate), \n            this._brushComp.addEventListener(_visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moving, this.handleBrushUpdate), stage.defaultLayer.appendChild(this._brushComp);\n        }, this.options = options, this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getEvents() {\n        return [ {\n            type: _graph_enums__WEBPACK_IMPORTED_MODULE_3__.HOOK_EVENT.BEFORE_DO_RENDER,\n            handler: this.handleAfterDraw\n        } ];\n    }\n    isPolygonBrushContainGraphicItem(brushMask, graphicItem, offset) {\n        const points = brushMask.attribute.points, {a: a, b: b, c: c, d: d, e: e, f: f} = brushMask.globalTransMatrix, {x: dx = 0, y: dy = 0} = null != offset ? offset : {}, pointsCoord = points.map((p => ({\n            x: a * p.x + c * p.y + e + dx,\n            y: b * p.x + d * p.y + f + dy\n        }))), globalAABBBoundsOffset = brushMask.globalAABBBounds.clone().set(brushMask.globalAABBBounds.x1 + dx, brushMask.globalAABBBounds.y1 + dy, brushMask.globalAABBBounds.x2 + dx, brushMask.globalAABBBounds.y2 + dy), x = graphicItem.globalTransMatrix.e, y = graphicItem.globalTransMatrix.f;\n        if (\"symbol\" === graphicItem.type || \"circle\" === graphicItem.type) return globalAABBBoundsOffset.contains(x, y) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.polygonContainPoint)(pointsCoord, x, y);\n        if (\"rect\" === graphicItem.type) {\n            const {width: width = 0, height: height = 0} = null == graphicItem ? void 0 : graphicItem.attribute;\n            return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.polygonIntersectPolygon)(pointsCoord, [ {\n                x: x,\n                y: y\n            }, {\n                x: x + width,\n                y: y\n            }, {\n                x: x + width,\n                y: y + height\n            }, {\n                x: x,\n                y: y + height\n            } ]);\n        }\n        return brushMask.globalAABBBounds.intersects(graphicItem.globalAABBBounds);\n    }\n    isRectBrushContainGraphicItem(brushMask, graphicItem, offset) {\n        const {x: dx = 0, y: dy = 0} = null != offset ? offset : {}, globalAABBBoundsOffset = brushMask.globalAABBBounds.clone().set(brushMask.globalAABBBounds.x1 + dx, brushMask.globalAABBBounds.y1 + dy, brushMask.globalAABBBounds.x2 + dx, brushMask.globalAABBBounds.y2 + dy), x = graphicItem.globalTransMatrix.e, y = graphicItem.globalTransMatrix.f;\n        if (\"symbol\" === graphicItem.type || \"circle\" === graphicItem.type) return globalAABBBoundsOffset.contains(x, y);\n        if (\"rect\" === graphicItem.type) {\n            const {width: width = 0, height: height = 0} = graphicItem.attribute;\n            return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__.isRectIntersect)(globalAABBBoundsOffset, {\n                x1: x,\n                y1: y,\n                x2: x + width,\n                y2: y + height\n            }, !1);\n        }\n        return brushMask.globalAABBBounds.intersects(graphicItem.globalAABBBounds);\n    }\n    isBrushContainGraphicItem(brushMask, graphicItem, offset) {\n        var _a;\n        return !(!((null == brushMask ? void 0 : brushMask.globalTransMatrix) && brushMask.globalAABBBounds && !brushMask.globalAABBBounds.empty() && graphicItem && (null === (_a = null == brushMask ? void 0 : brushMask.attribute) || void 0 === _a ? void 0 : _a.points)) || brushMask.attribute.points.length <= 1) && (\"polygon\" === this.options.brushType ? this.isPolygonBrushContainGraphicItem(brushMask, graphicItem, offset) : this.isRectBrushContainGraphicItem(brushMask, graphicItem, offset));\n    }\n    unbind() {\n        super.unbind();\n        const stage = this.view.renderer.stage();\n        this._brushComp && stage && (stage.defaultLayer.removeChild(this._brushComp), this._brushComp.releaseBrushEvents(), \n        this._brushComp.release(), this._brushComp = null);\n    }\n    _dispatchEvent(event, activeElements) {\n        const params = {\n            operateType: event.type,\n            operateMask: event.detail.operateMask,\n            activeElements: activeElements\n        };\n        event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawStart || event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moveStart ? this.dispatchEvent(\"start\", params) : event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawing || event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moving ? this.dispatchEvent(\"update\", params) : event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.drawEnd || event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_2__.IOperateType.moveEnd ? this.dispatchEvent(\"end\", params) : this.dispatchEvent(\"reset\", params);\n    }\n}\n//# sourceMappingURL=brush-base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFtRTs7QUFFMUI7O0FBRXdEOztBQUVyRDs7QUFFckMsd0JBQXdCLGtEQUFlO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywrREFBSztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvQ0FBb0Msc0VBQVk7QUFDN0QsNkNBQTZDLHNFQUFZO0FBQ3pELDZDQUE2QyxzRUFBWTtBQUN6RCw2Q0FBNkMsc0VBQVk7QUFDekQsNkNBQTZDLHNFQUFZO0FBQ3pELDZDQUE2QyxzRUFBWTtBQUN6RCw2Q0FBNkMsc0VBQVk7QUFDekQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvREFBVTtBQUM1QjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0Esb0RBQW9ELG9DQUFvQyxnQ0FBZ0Msc0JBQXNCLDhCQUE4QjtBQUM1SztBQUNBO0FBQ0EsU0FBUztBQUNULDRIQUE0SCxxRUFBbUI7QUFDL0k7QUFDQSxtQkFBbUIsc0NBQXNDO0FBQ3pELG1CQUFtQix5RUFBdUI7QUFDMUM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0JBQXNCLDhCQUE4QjtBQUNuRTtBQUNBO0FBQ0EsbUJBQW1CLHNDQUFzQztBQUN6RCxtQkFBbUIsaUVBQWU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0VBQVksNkJBQTZCLHNFQUFZLGtFQUFrRSxzRUFBWSwyQkFBMkIsc0VBQVksZ0VBQWdFLHNFQUFZLDJCQUEyQixzRUFBWTtBQUNwVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9icnVzaC1iYXNlLmpzPzlhNzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnJ1c2gsIElPcGVyYXRlVHlwZSB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcblxuaW1wb3J0IHsgcG9seWdvbkNvbnRhaW5Qb2ludCwgcG9seWdvbkludGVyc2VjdFBvbHlnb24sIGlzUmVjdEludGVyc2VjdCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEhPT0tfRVZFTlQgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuZXhwb3J0IGNsYXNzIEJydXNoQmFzZSBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy5oYW5kbGVBZnRlckRyYXcgPSAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMudmlldy5yZW5kZXJlci5zdGFnZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JydXNoQ29tcCB8fCAhc3RhZ2UpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdCb3ggPSB0aGlzLnZpZXcuZ2V0Vmlld0JveCgpO1xuICAgICAgICAgICAgdGhpcy5fYnJ1c2hDb21wID0gbmV3IEJydXNoKHtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVJhbmdlOiBudWxsICE9PSAoX2EgPSB0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmVSYW5nZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge1xuICAgICAgICAgICAgICAgICAgICBtaW5YOiB2aWV3Qm94LngxLFxuICAgICAgICAgICAgICAgICAgICBtYXhYOiB2aWV3Qm94LngyLFxuICAgICAgICAgICAgICAgICAgICBtaW5ZOiB2aWV3Qm94LnkxLFxuICAgICAgICAgICAgICAgICAgICBtYXhZOiB2aWV3Qm94LnkyXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB4UmFuZ2U6IG51bGwgIT09IChfYiA9IHRoaXMub3B0aW9ucy54UmFuZ2UpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IFsgdmlld0JveC54MSwgdmlld0JveC54MiBdLFxuICAgICAgICAgICAgICAgIHlSYW5nZTogbnVsbCAhPT0gKF9jID0gdGhpcy5vcHRpb25zLnlSYW5nZSkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogWyB2aWV3Qm94LnkxLCB2aWV3Qm94LnkyIF0sXG4gICAgICAgICAgICAgICAgYnJ1c2hNb2RlOiBudWxsICE9PSAoX2QgPSB0aGlzLm9wdGlvbnMuYnJ1c2hNb2RlKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBcInNpbmdsZVwiLFxuICAgICAgICAgICAgICAgIGJydXNoVHlwZTogdGhpcy5vcHRpb25zLmJydXNoVHlwZSxcbiAgICAgICAgICAgICAgICBicnVzaFN0eWxlOiB0aGlzLm9wdGlvbnMuYnJ1c2hTdHlsZSxcbiAgICAgICAgICAgICAgICBicnVzaE1vdmVkOiB0aGlzLm9wdGlvbnMuYnJ1c2hNb3ZlZCxcbiAgICAgICAgICAgICAgICByZW1vdmVPbkNsaWNrOiB0aGlzLm9wdGlvbnMucmVtb3ZlT25DbGljayxcbiAgICAgICAgICAgICAgICBzaXplVGhyZXNob2xkOiB0aGlzLm9wdGlvbnMuc2l6ZVRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICBkZWxheVR5cGU6IHRoaXMub3B0aW9ucy5kZWxheVR5cGUsXG4gICAgICAgICAgICAgICAgZGVsYXlUaW1lOiB0aGlzLm9wdGlvbnMuZGVsYXlUaW1lXG4gICAgICAgICAgICB9KSwgdGhpcy5fYnJ1c2hDb21wLmFkZEV2ZW50TGlzdGVuZXIoSU9wZXJhdGVUeXBlLmJydXNoQ2xlYXIsIHRoaXMuaGFuZGxlQnJ1c2hVcGRhdGUpLCBcbiAgICAgICAgICAgIHRoaXMuX2JydXNoQ29tcC5hZGRFdmVudExpc3RlbmVyKElPcGVyYXRlVHlwZS5tb3ZlRW5kLCB0aGlzLmhhbmRsZUJydXNoVXBkYXRlKSwgXG4gICAgICAgICAgICB0aGlzLl9icnVzaENvbXAuYWRkRXZlbnRMaXN0ZW5lcihJT3BlcmF0ZVR5cGUuZHJhd0VuZCwgdGhpcy5oYW5kbGVCcnVzaFVwZGF0ZSksIFxuICAgICAgICAgICAgdGhpcy5fYnJ1c2hDb21wLmFkZEV2ZW50TGlzdGVuZXIoSU9wZXJhdGVUeXBlLmRyYXdTdGFydCwgdGhpcy5oYW5kbGVCcnVzaFVwZGF0ZSksIFxuICAgICAgICAgICAgdGhpcy5fYnJ1c2hDb21wLmFkZEV2ZW50TGlzdGVuZXIoSU9wZXJhdGVUeXBlLm1vdmVTdGFydCwgdGhpcy5oYW5kbGVCcnVzaFVwZGF0ZSksIFxuICAgICAgICAgICAgdGhpcy5fYnJ1c2hDb21wLmFkZEV2ZW50TGlzdGVuZXIoSU9wZXJhdGVUeXBlLmRyYXdpbmcsIHRoaXMuaGFuZGxlQnJ1c2hVcGRhdGUpLCBcbiAgICAgICAgICAgIHRoaXMuX2JydXNoQ29tcC5hZGRFdmVudExpc3RlbmVyKElPcGVyYXRlVHlwZS5tb3ZpbmcsIHRoaXMuaGFuZGxlQnJ1c2hVcGRhdGUpLCBzdGFnZS5kZWZhdWx0TGF5ZXIuYXBwZW5kQ2hpbGQodGhpcy5fYnJ1c2hDb21wKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gb3B0aW9ucywgdGhpcy5fbWFya3MgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuc2VsZWN0b3IpO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IEhPT0tfRVZFTlQuQkVGT1JFX0RPX1JFTkRFUixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlQWZ0ZXJEcmF3XG4gICAgICAgIH0gXTtcbiAgICB9XG4gICAgaXNQb2x5Z29uQnJ1c2hDb250YWluR3JhcGhpY0l0ZW0oYnJ1c2hNYXNrLCBncmFwaGljSXRlbSwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGJydXNoTWFzay5hdHRyaWJ1dGUucG9pbnRzLCB7YTogYSwgYjogYiwgYzogYywgZDogZCwgZTogZSwgZjogZn0gPSBicnVzaE1hc2suZ2xvYmFsVHJhbnNNYXRyaXgsIHt4OiBkeCA9IDAsIHk6IGR5ID0gMH0gPSBudWxsICE9IG9mZnNldCA/IG9mZnNldCA6IHt9LCBwb2ludHNDb29yZCA9IHBvaW50cy5tYXAoKHAgPT4gKHtcbiAgICAgICAgICAgIHg6IGEgKiBwLnggKyBjICogcC55ICsgZSArIGR4LFxuICAgICAgICAgICAgeTogYiAqIHAueCArIGQgKiBwLnkgKyBmICsgZHlcbiAgICAgICAgfSkpKSwgZ2xvYmFsQUFCQkJvdW5kc09mZnNldCA9IGJydXNoTWFzay5nbG9iYWxBQUJCQm91bmRzLmNsb25lKCkuc2V0KGJydXNoTWFzay5nbG9iYWxBQUJCQm91bmRzLngxICsgZHgsIGJydXNoTWFzay5nbG9iYWxBQUJCQm91bmRzLnkxICsgZHksIGJydXNoTWFzay5nbG9iYWxBQUJCQm91bmRzLngyICsgZHgsIGJydXNoTWFzay5nbG9iYWxBQUJCQm91bmRzLnkyICsgZHkpLCB4ID0gZ3JhcGhpY0l0ZW0uZ2xvYmFsVHJhbnNNYXRyaXguZSwgeSA9IGdyYXBoaWNJdGVtLmdsb2JhbFRyYW5zTWF0cml4LmY7XG4gICAgICAgIGlmIChcInN5bWJvbFwiID09PSBncmFwaGljSXRlbS50eXBlIHx8IFwiY2lyY2xlXCIgPT09IGdyYXBoaWNJdGVtLnR5cGUpIHJldHVybiBnbG9iYWxBQUJCQm91bmRzT2Zmc2V0LmNvbnRhaW5zKHgsIHkpICYmIHBvbHlnb25Db250YWluUG9pbnQocG9pbnRzQ29vcmQsIHgsIHkpO1xuICAgICAgICBpZiAoXCJyZWN0XCIgPT09IGdyYXBoaWNJdGVtLnR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aDogd2lkdGggPSAwLCBoZWlnaHQ6IGhlaWdodCA9IDB9ID0gbnVsbCA9PSBncmFwaGljSXRlbSA/IHZvaWQgMCA6IGdyYXBoaWNJdGVtLmF0dHJpYnV0ZTtcbiAgICAgICAgICAgIHJldHVybiBwb2x5Z29uSW50ZXJzZWN0UG9seWdvbihwb2ludHNDb29yZCwgWyB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiB5XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgeDogeCArIHdpZHRoLFxuICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB4OiB4ICsgd2lkdGgsXG4gICAgICAgICAgICAgICAgeTogeSArIGhlaWdodFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTogeSArIGhlaWdodFxuICAgICAgICAgICAgfSBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMuaW50ZXJzZWN0cyhncmFwaGljSXRlbS5nbG9iYWxBQUJCQm91bmRzKTtcbiAgICB9XG4gICAgaXNSZWN0QnJ1c2hDb250YWluR3JhcGhpY0l0ZW0oYnJ1c2hNYXNrLCBncmFwaGljSXRlbSwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHt4OiBkeCA9IDAsIHk6IGR5ID0gMH0gPSBudWxsICE9IG9mZnNldCA/IG9mZnNldCA6IHt9LCBnbG9iYWxBQUJCQm91bmRzT2Zmc2V0ID0gYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMuY2xvbmUoKS5zZXQoYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMueDEgKyBkeCwgYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMueTEgKyBkeSwgYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMueDIgKyBkeCwgYnJ1c2hNYXNrLmdsb2JhbEFBQkJCb3VuZHMueTIgKyBkeSksIHggPSBncmFwaGljSXRlbS5nbG9iYWxUcmFuc01hdHJpeC5lLCB5ID0gZ3JhcGhpY0l0ZW0uZ2xvYmFsVHJhbnNNYXRyaXguZjtcbiAgICAgICAgaWYgKFwic3ltYm9sXCIgPT09IGdyYXBoaWNJdGVtLnR5cGUgfHwgXCJjaXJjbGVcIiA9PT0gZ3JhcGhpY0l0ZW0udHlwZSkgcmV0dXJuIGdsb2JhbEFBQkJCb3VuZHNPZmZzZXQuY29udGFpbnMoeCwgeSk7XG4gICAgICAgIGlmIChcInJlY3RcIiA9PT0gZ3JhcGhpY0l0ZW0udHlwZSkge1xuICAgICAgICAgICAgY29uc3Qge3dpZHRoOiB3aWR0aCA9IDAsIGhlaWdodDogaGVpZ2h0ID0gMH0gPSBncmFwaGljSXRlbS5hdHRyaWJ1dGU7XG4gICAgICAgICAgICByZXR1cm4gaXNSZWN0SW50ZXJzZWN0KGdsb2JhbEFBQkJCb3VuZHNPZmZzZXQsIHtcbiAgICAgICAgICAgICAgICB4MTogeCxcbiAgICAgICAgICAgICAgICB5MTogeSxcbiAgICAgICAgICAgICAgICB4MjogeCArIHdpZHRoLFxuICAgICAgICAgICAgICAgIHkyOiB5ICsgaGVpZ2h0XG4gICAgICAgICAgICB9LCAhMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJydXNoTWFzay5nbG9iYWxBQUJCQm91bmRzLmludGVyc2VjdHMoZ3JhcGhpY0l0ZW0uZ2xvYmFsQUFCQkJvdW5kcyk7XG4gICAgfVxuICAgIGlzQnJ1c2hDb250YWluR3JhcGhpY0l0ZW0oYnJ1c2hNYXNrLCBncmFwaGljSXRlbSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICEoISgobnVsbCA9PSBicnVzaE1hc2sgPyB2b2lkIDAgOiBicnVzaE1hc2suZ2xvYmFsVHJhbnNNYXRyaXgpICYmIGJydXNoTWFzay5nbG9iYWxBQUJCQm91bmRzICYmICFicnVzaE1hc2suZ2xvYmFsQUFCQkJvdW5kcy5lbXB0eSgpICYmIGdyYXBoaWNJdGVtICYmIChudWxsID09PSAoX2EgPSBudWxsID09IGJydXNoTWFzayA/IHZvaWQgMCA6IGJydXNoTWFzay5hdHRyaWJ1dGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5wb2ludHMpKSB8fCBicnVzaE1hc2suYXR0cmlidXRlLnBvaW50cy5sZW5ndGggPD0gMSkgJiYgKFwicG9seWdvblwiID09PSB0aGlzLm9wdGlvbnMuYnJ1c2hUeXBlID8gdGhpcy5pc1BvbHlnb25CcnVzaENvbnRhaW5HcmFwaGljSXRlbShicnVzaE1hc2ssIGdyYXBoaWNJdGVtLCBvZmZzZXQpIDogdGhpcy5pc1JlY3RCcnVzaENvbnRhaW5HcmFwaGljSXRlbShicnVzaE1hc2ssIGdyYXBoaWNJdGVtLCBvZmZzZXQpKTtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBzdXBlci51bmJpbmQoKTtcbiAgICAgICAgY29uc3Qgc3RhZ2UgPSB0aGlzLnZpZXcucmVuZGVyZXIuc3RhZ2UoKTtcbiAgICAgICAgdGhpcy5fYnJ1c2hDb21wICYmIHN0YWdlICYmIChzdGFnZS5kZWZhdWx0TGF5ZXIucmVtb3ZlQ2hpbGQodGhpcy5fYnJ1c2hDb21wKSwgdGhpcy5fYnJ1c2hDb21wLnJlbGVhc2VCcnVzaEV2ZW50cygpLCBcbiAgICAgICAgdGhpcy5fYnJ1c2hDb21wLnJlbGVhc2UoKSwgdGhpcy5fYnJ1c2hDb21wID0gbnVsbCk7XG4gICAgfVxuICAgIF9kaXNwYXRjaEV2ZW50KGV2ZW50LCBhY3RpdmVFbGVtZW50cykge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBvcGVyYXRlVHlwZTogZXZlbnQudHlwZSxcbiAgICAgICAgICAgIG9wZXJhdGVNYXNrOiBldmVudC5kZXRhaWwub3BlcmF0ZU1hc2ssXG4gICAgICAgICAgICBhY3RpdmVFbGVtZW50czogYWN0aXZlRWxlbWVudHNcbiAgICAgICAgfTtcbiAgICAgICAgZXZlbnQudHlwZSA9PT0gSU9wZXJhdGVUeXBlLmRyYXdTdGFydCB8fCBldmVudC50eXBlID09PSBJT3BlcmF0ZVR5cGUubW92ZVN0YXJ0ID8gdGhpcy5kaXNwYXRjaEV2ZW50KFwic3RhcnRcIiwgcGFyYW1zKSA6IGV2ZW50LnR5cGUgPT09IElPcGVyYXRlVHlwZS5kcmF3aW5nIHx8IGV2ZW50LnR5cGUgPT09IElPcGVyYXRlVHlwZS5tb3ZpbmcgPyB0aGlzLmRpc3BhdGNoRXZlbnQoXCJ1cGRhdGVcIiwgcGFyYW1zKSA6IGV2ZW50LnR5cGUgPT09IElPcGVyYXRlVHlwZS5kcmF3RW5kIHx8IGV2ZW50LnR5cGUgPT09IElPcGVyYXRlVHlwZS5tb3ZlRW5kID8gdGhpcy5kaXNwYXRjaEV2ZW50KFwiZW5kXCIsIHBhcmFtcykgOiB0aGlzLmRpc3BhdGNoRXZlbnQoXCJyZXNldFwiLCBwYXJhbXMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJydXNoLWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-filter.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-filter.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrushFilter: () => (/* binding */ BrushFilter)\n/* harmony export */ });\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\nclass BrushFilter extends _brush_base__WEBPACK_IMPORTED_MODULE_0__.BrushBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, BrushFilter.defaultOptions, option)), this.type = BrushFilter.type, \n        this.handleBrushUpdate = event => {\n            const elements = [];\n            let filterValue = [];\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    this.isBrushContainGraphicItem(event.detail.operateMask, el.getGraphicItem()) && (elements.push(el), \n                    filterValue = filterValue.concat((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(el.getDatum())));\n                }));\n            })), this._data && (filterValue = Array.from(new Set(filterValue)), this._filterValue && filterValue.length === this._filterValue.length && !filterValue.some((datum => !this._filterValue.includes(datum))) || (this._filterValue = filterValue, \n            this.handleFilter())), this._dispatchEvent(event, elements);\n        }, this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._data) return [];\n        const transform = this.options.target.transform;\n        return this._filterData(this._data, null, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.DataFilterRank.brush, null, void 0, ((data, filterValue) => {\n            const nextData = filterValue || data;\n            return transform ? transform(data, filterValue) : nextData;\n        })), super.getEvents();\n    }\n}\n\nBrushFilter.type = \"brush-filter\", BrushFilter.defaultOptions = {};\n//# sourceMappingURL=brush-filter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWZpbHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF5Qzs7QUFFVTs7QUFFSDs7QUFFekMsMEJBQTBCLGtEQUFTO0FBQzFDO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx1REFBSztBQUMxRCxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsU0FBUyxlQUFlLDREQUFRO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHdEQUFjO0FBQ2hFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvYnJ1c2gtZmlsdGVyLmpzP2E4ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnJ1c2hCYXNlIH0gZnJvbSBcIi4vYnJ1c2gtYmFzZVwiO1xuXG5pbXBvcnQgeyBpc1N0cmluZywgYXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBEYXRhRmlsdGVyUmFuayB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5leHBvcnQgY2xhc3MgQnJ1c2hGaWx0ZXIgZXh0ZW5kcyBCcnVzaEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbikge1xuICAgICAgICBzdXBlcih2aWV3LCBPYmplY3QuYXNzaWduKHt9LCBCcnVzaEZpbHRlci5kZWZhdWx0T3B0aW9ucywgb3B0aW9uKSksIHRoaXMudHlwZSA9IEJydXNoRmlsdGVyLnR5cGUsIFxuICAgICAgICB0aGlzLmhhbmRsZUJydXNoVXBkYXRlID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgICAgIGxldCBmaWx0ZXJWYWx1ZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCcnVzaENvbnRhaW5HcmFwaGljSXRlbShldmVudC5kZXRhaWwub3BlcmF0ZU1hc2ssIGVsLmdldEdyYXBoaWNJdGVtKCkpICYmIChlbGVtZW50cy5wdXNoKGVsKSwgXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclZhbHVlID0gZmlsdGVyVmFsdWUuY29uY2F0KGFycmF5KGVsLmdldERhdHVtKCkpKSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpLCB0aGlzLl9kYXRhICYmIChmaWx0ZXJWYWx1ZSA9IEFycmF5LmZyb20obmV3IFNldChmaWx0ZXJWYWx1ZSkpLCB0aGlzLl9maWx0ZXJWYWx1ZSAmJiBmaWx0ZXJWYWx1ZS5sZW5ndGggPT09IHRoaXMuX2ZpbHRlclZhbHVlLmxlbmd0aCAmJiAhZmlsdGVyVmFsdWUuc29tZSgoZGF0dW0gPT4gIXRoaXMuX2ZpbHRlclZhbHVlLmluY2x1ZGVzKGRhdHVtKSkpIHx8ICh0aGlzLl9maWx0ZXJWYWx1ZSA9IGZpbHRlclZhbHVlLCBcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRmlsdGVyKCkpKSwgdGhpcy5fZGlzcGF0Y2hFdmVudChldmVudCwgZWxlbWVudHMpO1xuICAgICAgICB9LCB0aGlzLl9kYXRhID0gaXNTdHJpbmcodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA/IHZpZXcuZ2V0RGF0YUJ5SWQodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA6IHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2RhdGEpIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5vcHRpb25zLnRhcmdldC50cmFuc2Zvcm07XG4gICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJEYXRhKHRoaXMuX2RhdGEsIG51bGwsIERhdGFGaWx0ZXJSYW5rLmJydXNoLCBudWxsLCB2b2lkIDAsICgoZGF0YSwgZmlsdGVyVmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5leHREYXRhID0gZmlsdGVyVmFsdWUgfHwgZGF0YTtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0oZGF0YSwgZmlsdGVyVmFsdWUpIDogbmV4dERhdGE7XG4gICAgICAgIH0pKSwgc3VwZXIuZ2V0RXZlbnRzKCk7XG4gICAgfVxufVxuXG5CcnVzaEZpbHRlci50eXBlID0gXCJicnVzaC1maWx0ZXJcIiwgQnJ1c2hGaWx0ZXIuZGVmYXVsdE9wdGlvbnMgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJydXNoLWZpbHRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-highlight.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-highlight.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrushHighlight: () => (/* binding */ BrushHighlight)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/brush/type.js\");\n\n\n\n\n\n\nclass BrushHighlight extends _brush_base__WEBPACK_IMPORTED_MODULE_0__.BrushBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, BrushHighlight.defaultOptions, option)), this.type = BrushHighlight.type, \n        this.handleBrushUpdate = event => {\n            const elements = [];\n            if (event.type === _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.IOperateType.brushClear) {\n                const states = [ this.options.blurState, this.options.highlightState ];\n                this._marks.forEach((mark => {\n                    mark.elements.forEach((el => {\n                        el.removeState(states);\n                    }));\n                }));\n            } else this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    this.isBrushContainGraphicItem(event.detail.operateMask, el.getGraphicItem()) ? (elements.push(el), \n                    el.updateStates({\n                        [this.options.blurState]: !1,\n                        [this.options.highlightState]: !0\n                    })) : el.updateStates({\n                        [this.options.blurState]: !0,\n                        [this.options.highlightState]: !1\n                    });\n                }));\n            }));\n            this._dispatchEvent(event, elements);\n        };\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n}\n\nBrushHighlight.type = \"brush-highlight\", BrushHighlight.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.blur\n};\n//# sourceMappingURL=brush-highlight.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWhpZ2hsaWdodC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNEOztBQUViOztBQUVtQjs7QUFFckQsNkJBQTZCLGtEQUFTO0FBQzdDO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSwrQkFBK0Isc0VBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiw4REFBb0I7QUFDeEMsZUFBZSw4REFBb0I7QUFDbkM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2JydXNoLWhpZ2hsaWdodC5qcz85YWQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGVyYWN0aW9uU3RhdGVFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IEJydXNoQmFzZSB9IGZyb20gXCIuL2JydXNoLWJhc2VcIjtcblxuaW1wb3J0IHsgSU9wZXJhdGVUeXBlIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuZXhwb3J0IGNsYXNzIEJydXNoSGlnaGxpZ2h0IGV4dGVuZHMgQnJ1c2hCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb24pIHtcbiAgICAgICAgc3VwZXIodmlldywgT2JqZWN0LmFzc2lnbih7fSwgQnJ1c2hIaWdobGlnaHQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbikpLCB0aGlzLnR5cGUgPSBCcnVzaEhpZ2hsaWdodC50eXBlLCBcbiAgICAgICAgdGhpcy5oYW5kbGVCcnVzaFVwZGF0ZSA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gSU9wZXJhdGVUeXBlLmJydXNoQ2xlYXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZXMgPSBbIHRoaXMub3B0aW9ucy5ibHVyU3RhdGUsIHRoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZSBdO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZVN0YXRlKHN0YXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9IGVsc2UgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCcnVzaENvbnRhaW5HcmFwaGljSXRlbShldmVudC5kZXRhaWwub3BlcmF0ZU1hc2ssIGVsLmdldEdyYXBoaWNJdGVtKCkpID8gKGVsZW1lbnRzLnB1c2goZWwpLCBcbiAgICAgICAgICAgICAgICAgICAgZWwudXBkYXRlU3RhdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYmx1clN0YXRlXTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITBcbiAgICAgICAgICAgICAgICAgICAgfSkpIDogZWwudXBkYXRlU3RhdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYmx1clN0YXRlXTogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITFcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChldmVudCwgZWxlbWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRTdGFydFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlO1xuICAgIH1cbn1cblxuQnJ1c2hIaWdobGlnaHQudHlwZSA9IFwiYnJ1c2gtaGlnaGxpZ2h0XCIsIEJydXNoSGlnaGxpZ2h0LmRlZmF1bHRPcHRpb25zID0ge1xuICAgIGhpZ2hsaWdodFN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5oaWdobGlnaHQsXG4gICAgYmx1clN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5ibHVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJ1c2gtaGlnaGxpZ2h0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-highlight.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/crosshair.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/crosshair.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Crosshair: () => (/* binding */ Crosshair),\n/* harmony export */   generateCircleCrosshairAttributes: () => (/* binding */ generateCircleCrosshairAttributes),\n/* harmony export */   generateLineCrosshairAttributes: () => (/* binding */ generateLineCrosshairAttributes),\n/* harmony export */   generatePolygonCrosshairAttributes: () => (/* binding */ generatePolygonCrosshairAttributes),\n/* harmony export */   generateRectCrosshairAttributes: () => (/* binding */ generateRectCrosshairAttributes),\n/* harmony export */   generateRingCrosshairAttributes: () => (/* binding */ generateRingCrosshairAttributes),\n/* harmony export */   generateSectorCrosshairAttributes: () => (/* binding */ generateSectorCrosshairAttributes)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/angle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/crosshair/line.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/crosshair/rect.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/crosshair/sector.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/crosshair/circle.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/crosshair/polygon.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst computeCrosshairStartEnd = (point, scale, type, groupSize, config, offset = 0) => {\n    var _a, _b;\n    const start = {\n        x: 0,\n        y: 0\n    }, end = {\n        x: 0,\n        y: 0\n    }, radius = \"angle\" === type ? null !== (_a = null == config ? void 0 : config.radius) && void 0 !== _a ? _a : Math.min(groupSize.width, groupSize.height) / 2 : null, center = \"angle\" === type ? null !== (_b = null == config ? void 0 : config.center) && void 0 !== _b ? _b : {\n        x: groupSize.width / 2,\n        y: groupSize.height / 2\n    } : null;\n    let current = 0;\n    if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isDiscrete)(scale.type)) {\n        if (\"x\" === type) current = scale.scale(scale.invert(point.x)); else if (\"y\" === type) current = scale.scale(scale.invert(point.y)); else if (\"angle\" === type) {\n            const angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.clampRadian)((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point) + 2 * Math.PI);\n            current = scale.scale(scale.invert(angle));\n        }\n    } else (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isContinuous)(scale.type) && (\"x\" === type ? current = point.x : \"y\" === type ? current = point.y : \"angle\" === type && (current = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point)));\n    switch (current += offset, type) {\n      case \"x\":\n        start.x = current, start.y = 0, end.x = current, end.y = groupSize.height;\n        break;\n\n      case \"y\":\n        start.x = 0, start.y = current, end.x = groupSize.width, end.y = current;\n        break;\n\n      case \"angle\":\n        start.x = center.x, start.y = center.y, end.x = center.x + radius * Math.cos(current), \n        end.y = center.y + radius * Math.sin(current);\n    }\n    return {\n        start: start,\n        end: end\n    };\n}, computeRadiusOfTangential = (point, scale, type, groupSize, config, addition) => {\n    var _a, _b, _c;\n    const center = null !== (_b = null !== (_a = null == addition ? void 0 : addition.center) && void 0 !== _a ? _a : null == config ? void 0 : config.center) && void 0 !== _b ? _b : {\n        x: groupSize.width / 2,\n        y: groupSize.height / 2\n    };\n    let currentRadius = 0;\n    if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isDiscrete)(scale.type)) {\n        const offset = \"band\" === scale.type ? scale.bandwidth() / 2 : 0, radius = Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n        currentRadius = scale.scale(scale.invert(radius)) + offset;\n    } else if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isContinuous)(scale.type)) {\n        const maxRadius = null !== (_c = null == config ? void 0 : config.radius) && void 0 !== _c ? _c : Math.min(groupSize.width, groupSize.height) / 2;\n        currentRadius = Math.min(maxRadius, Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2));\n    }\n    return {\n        radius: currentRadius,\n        center: center\n    };\n};\n\nconst generateLineCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a, _b, _c;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.lineCrosshair, offset = \"band\" === scale.type ? scale.bandwidth() / 2 : 0, points = computeCrosshairStartEnd(point, scale, type, groupSize, {\n        radius: null !== (_b = null == addition ? void 0 : addition.radius) && void 0 !== _b ? _b : null == config ? void 0 : config.radius,\n        center: null !== (_c = null == addition ? void 0 : addition.center) && void 0 !== _c ? _c : null == config ? void 0 : config.center\n    }, offset);\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, points, null != addition ? addition : {});\n};\n\nconst generateRectCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a, _b, _c;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.rectCrosshair, defaultSize = \"band\" === scale.type || \"point\" === scale.type ? scale.step() : void 0, customRectStyle = null == addition ? void 0 : addition.rectStyle, size = null != defaultSize ? defaultSize : \"y\" === type ? null !== (_b = null == customRectStyle ? void 0 : customRectStyle.width) && void 0 !== _b ? _b : crosshairTheme.rectStyle.width : null !== (_c = null == customRectStyle ? void 0 : customRectStyle.height) && void 0 !== _c ? _c : crosshairTheme.rectStyle.height, points = computeCrosshairStartEnd(point, scale, type, groupSize, config, \"band\" === scale.type ? 0 : -size / 2), rectStyle = {};\n    \"x\" === type ? rectStyle.width = size : rectStyle.height = size;\n    const attribute = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        start: points.start,\n        end: points.end,\n        rectStyle: rectStyle\n    }, null != addition ? addition : {});\n    return \"x\" === type ? attribute.rectStyle.height = attribute.end.y - attribute.start.y : attribute.rectStyle.width = attribute.end.x - attribute.start.x, \n    attribute;\n};\n\nconst generateRingCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleCrosshair, {center: center, radius: radius} = computeRadiusOfTangential(point, scale, 0, groupSize, config, addition), startAngle = crosshairTheme.startAngle, endAngle = crosshairTheme.endAngle, deltaRadius = \"band\" === scale.type || \"point\" === scale.type ? scale.step() : 0;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        center: center,\n        innerRadius: radius - deltaRadius / 2,\n        radius: radius + deltaRadius / 2,\n        startAngle: startAngle,\n        endAngle: endAngle\n    }, null != addition ? addition : {});\n};\n\nconst generateSectorCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a, _b, _c, _d, _e;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.sectorCrosshair, radius = null !== (_c = null !== (_b = null == addition ? void 0 : addition.radius) && void 0 !== _b ? _b : null == config ? void 0 : config.radius) && void 0 !== _c ? _c : Math.min(groupSize.width, groupSize.height) / 2, center = null !== (_e = null !== (_d = null == addition ? void 0 : addition.center) && void 0 !== _d ? _d : null == config ? void 0 : config.center) && void 0 !== _e ? _e : {\n        x: groupSize.width / 2,\n        y: groupSize.height / 2\n    }, defaultAngle = crosshairTheme.endAngle - crosshairTheme.startAngle, angle = \"band\" === scale.type || \"point\" === scale.type ? scale.step() : defaultAngle;\n    let currentAngle = 0;\n    if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isDiscrete)(scale.type)) {\n        const angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.clampRadian)((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point) + 2 * Math.PI);\n        currentAngle = scale.scale(scale.invert(angle)) + (\"band\" === scale.type ? scale.bandwidth() / 2 : 0);\n    } else (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.isContinuous)(scale.type) && (currentAngle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point));\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        center: center,\n        radius: radius,\n        startAngle: currentAngle - angle / 2,\n        endAngle: currentAngle + angle / 2\n    }, null != addition ? addition : {});\n};\n\nconst generateCircleCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleCrosshair, {center: center, radius: radius} = computeRadiusOfTangential(point, scale, 0, groupSize, config, addition), startAngle = crosshairTheme.startAngle, endAngle = crosshairTheme.endAngle;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        center: center,\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle\n    }, null != addition ? addition : {});\n};\n\nconst generatePolygonCrosshairAttributes = (point, scale, type, groupSize, config, theme, addition) => {\n    var _a;\n    const crosshairTheme = null === (_a = null == theme ? void 0 : theme.components) || void 0 === _a ? void 0 : _a.circleCrosshair, {center: center, radius: radius} = computeRadiusOfTangential(point, scale, 0, groupSize, config, addition), startAngle = crosshairTheme.startAngle, endAngle = crosshairTheme.endAngle;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, crosshairTheme, {\n        center: center,\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle\n    }, null != addition ? addition : {});\n};\n\nclass Crosshair extends _base__WEBPACK_IMPORTED_MODULE_3__.BaseInteraction {\n    constructor(view, options) {\n        var _a, _b;\n        super(view, options), this.type = Crosshair.type, this.handleCrosshairShow = event => {\n            var _a;\n            if (!this._crosshairComponent) return;\n            const groupGraphicItem = this._container.getGroupGraphicItem(), point = {\n                x: 0,\n                y: 0\n            }, globalTransMatrix = groupGraphicItem.globalTransMatrix, containerPoint = {\n                x: globalTransMatrix.e,\n                y: globalTransMatrix.f\n            };\n            if (globalTransMatrix.transformPoint(event.canvas, point), point.x < 0 || point.x > groupGraphicItem.attribute.width || point.y < 0 || point.y > groupGraphicItem.attribute.height) return void this._crosshairComponent.hideAll();\n            const crosshairType = null !== (_a = this.options.crosshairType) && void 0 !== _a ? _a : \"x\", groupSize = {\n                width: groupGraphicItem.attribute.width,\n                height: groupGraphicItem.attribute.height\n            }, scale = ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.options.scale) ? this.view.getScaleById(this.options.scale) : this.options.scale).getScale(), config = {\n                center: this.options.center,\n                radius: this.options.radius\n            }, theme = this.view.getCurrentTheme(), addition = (0,_parse_util__WEBPACK_IMPORTED_MODULE_5__.invokeFunctionType)(this.options.attributes, this.parameters(), {}, {});\n            let attributes = {};\n            switch (this.getCrosshairComponentType()) {\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.lineCrosshair:\n                attributes = generateLineCrosshairAttributes(point, scale, crosshairType, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.rectCrosshair:\n                attributes = generateRectCrosshairAttributes(point, scale, crosshairType, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.sectorCrosshair:\n                attributes = generateSectorCrosshairAttributes(point, scale, 0, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.circleCrosshair:\n                attributes = generateCircleCrosshairAttributes(point, scale, 0, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.polygonCrosshair:\n                attributes = generatePolygonCrosshairAttributes(point, scale, 0, groupSize, config, theme, addition);\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.ringCrosshair:\n                attributes = generateRingCrosshairAttributes(point, scale, 0, groupSize, config, theme, addition);\n            }\n            this.getCrosshairComponentType() !== _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.circleCrosshair && (attributes.x = containerPoint.x, \n            attributes.y = containerPoint.y), this._crosshairComponent.showAll(), this._crosshairComponent.setAttributes(attributes);\n        }, this.handleCrosshairHide = () => {\n            this._crosshairComponent && this._crosshairComponent.hideAll();\n        }, this.options = Object.assign({}, Crosshair.defaultOptions, options), this._container = null !== (_b = null === (_a = view.getMarksBySelector(this.options.container)) || void 0 === _a ? void 0 : _a[0]) && void 0 !== _b ? _b : view.rootMark;\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleCrosshairShow\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleCrosshairHide\n        } ];\n    }\n    getCrosshairComponentType() {\n        var _a, _b;\n        if (this._crosshairComponentType) return this._crosshairComponentType;\n        const shape = null !== (_a = this.options.crosshairShape) && void 0 !== _a ? _a : \"line\", type = null !== (_b = this.options.crosshairType) && void 0 !== _b ? _b : \"x\";\n        return this._crosshairComponentType = \"rect\" === shape ? \"angle\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.sectorCrosshair : \"radius\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.ringCrosshair : \"radius-polygon\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.polygonCrosshair : _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.rectCrosshair : \"radius\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.circleCrosshair : \"radius-polygon\" === type ? _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.polygonCrosshair : _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.lineCrosshair, \n        this._crosshairComponentType;\n    }\n    getDefaultCrosshairAttribute() {\n        var _a;\n        const type = null !== (_a = this.options.crosshairType) && void 0 !== _a ? _a : \"x\";\n        return \"radius\" === type || \"radius-polygon\" === type ? {\n            center: {\n                x: 0,\n                y: 0\n            },\n            zIndex: -1\n        } : {\n            start: {\n                x: 0,\n                y: 0\n            },\n            end: {\n                x: 0,\n                y: 0\n            },\n            zIndex: -1\n        };\n    }\n    bind() {\n        super.bind();\n        const stage = this.view.renderer.stage();\n        if (!this._crosshairComponent && stage) {\n            switch (this.getCrosshairComponentType()) {\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.lineCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_7__.LineCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.rectCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_8__.RectCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.sectorCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.SectorCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.circleCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_10__.CircleCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.polygonCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_11__.PolygonCrosshair(this.getDefaultCrosshairAttribute());\n                break;\n\n              case _graph_enums__WEBPACK_IMPORTED_MODULE_6__.CrosshairEnum.ringCrosshair:\n                this._crosshairComponent = new _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_9__.SectorCrosshair(this.getDefaultCrosshairAttribute());\n            }\n            stage.defaultLayer.appendChild(this._crosshairComponent);\n        }\n    }\n    unbind() {\n        super.unbind();\n        const stage = this.view.renderer.stage();\n        this._crosshairComponent && stage && (stage.defaultLayer.removeChild(this._crosshairComponent), \n        this._crosshairComponent.release(), this._crosshairComponent = null);\n    }\n}\n\nCrosshair.type = \"crosshair\", Crosshair.defaultOptions = {\n    trigger: \"pointermove\",\n    triggerOff: \"pointerleave\",\n    crosshairType: \"x\",\n    crosshairShape: \"line\"\n};\n//# sourceMappingURL=crosshair.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Nyb3NzaGFpci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlGOztBQUUrQzs7QUFFdkY7O0FBRU07O0FBRWE7O0FBRVQ7O0FBRW5EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsUUFBUSw0REFBVTtBQUNsQix3RUFBd0UscUVBQXFFO0FBQzdJLDBCQUEwQiw2REFBVyxDQUFDLGlFQUFlO0FBQ3JEO0FBQ0E7QUFDQSxNQUFNLEtBQUssOERBQVksc0hBQXNILGlFQUFlO0FBQzVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQVU7QUFDbEI7QUFDQTtBQUNBLE1BQU0sU0FBUyw4REFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVyw0REFBSyxHQUFHLDBEQUEwRDtBQUM3RTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBSyxHQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0Esc0lBQXNJLGdDQUFnQztBQUN0SyxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxRQUFRLDREQUFVO0FBQ2xCLHNCQUFzQiw2REFBVyxDQUFDLGlFQUFlO0FBQ2pEO0FBQ0EsTUFBTSxLQUFLLDhEQUFZLGdDQUFnQyxpRUFBZTtBQUN0RSxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTztBQUNQO0FBQ0Esc0lBQXNJLGdDQUFnQztBQUN0SyxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTztBQUNQO0FBQ0Esc0lBQXNJLGdDQUFnQztBQUN0SyxXQUFXLDREQUFLLEdBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtDQUFrQztBQUN2Qzs7QUFFTyx3QkFBd0Isa0RBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsV0FBVyw0REFBUTtBQUNoQztBQUNBO0FBQ0EsYUFBYSxrREFBa0QsK0RBQWtCLCtDQUErQyxJQUFJO0FBQ3BJO0FBQ0E7QUFDQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEM7QUFDQTtBQUNBLGlEQUFpRCx1REFBYTtBQUM5RDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsaUNBQWlDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLHVEQUFhLHVDQUF1Qyx1REFBYSw2Q0FBNkMsdURBQWEsb0JBQW9CLHVEQUFhLHFDQUFxQyx1REFBYSwrQ0FBK0MsdURBQWEsb0JBQW9CLHVEQUFhO0FBQy9YO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdURBQWE7QUFDaEMsK0NBQStDLHVFQUFhO0FBQzVEOztBQUVBLG1CQUFtQix1REFBYTtBQUNoQywrQ0FBK0MsdUVBQWE7QUFDNUQ7O0FBRUEsbUJBQW1CLHVEQUFhO0FBQ2hDLCtDQUErQyx5RUFBZTtBQUM5RDs7QUFFQSxtQkFBbUIsdURBQWE7QUFDaEMsK0NBQStDLDBFQUFlO0FBQzlEOztBQUVBLG1CQUFtQix1REFBYTtBQUNoQywrQ0FBK0MsMkVBQWdCO0FBQy9EOztBQUVBLG1CQUFtQix1REFBYTtBQUNoQywrQ0FBK0MseUVBQWU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Nyb3NzaGFpci5qcz82MmRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsYW1wUmFkaWFuLCBnZXRBbmdsZUJ5UG9pbnQsIGlzU3RyaW5nLCBtZXJnZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IENpcmNsZUNyb3NzaGFpciwgTGluZUNyb3NzaGFpciwgUG9seWdvbkNyb3NzaGFpciwgUmVjdENyb3NzaGFpciwgU2VjdG9yQ3Jvc3NoYWlyIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgQmFzZUludGVyYWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xuXG5pbXBvcnQgeyBDcm9zc2hhaXJFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGlzQ29udGludW91cywgaXNEaXNjcmV0ZSB9IGZyb20gXCJAdmlzYWN0b3IvdnNjYWxlXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmNvbnN0IGNvbXB1dGVDcm9zc2hhaXJTdGFydEVuZCA9IChwb2ludCwgc2NhbGUsIHR5cGUsIGdyb3VwU2l6ZSwgY29uZmlnLCBvZmZzZXQgPSAwKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBzdGFydCA9IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgIH0sIGVuZCA9IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgIH0sIHJhZGl1cyA9IFwiYW5nbGVcIiA9PT0gdHlwZSA/IG51bGwgIT09IChfYSA9IG51bGwgPT0gY29uZmlnID8gdm9pZCAwIDogY29uZmlnLnJhZGl1cykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogTWF0aC5taW4oZ3JvdXBTaXplLndpZHRoLCBncm91cFNpemUuaGVpZ2h0KSAvIDIgOiBudWxsLCBjZW50ZXIgPSBcImFuZ2xlXCIgPT09IHR5cGUgPyBudWxsICE9PSAoX2IgPSBudWxsID09IGNvbmZpZyA/IHZvaWQgMCA6IGNvbmZpZy5jZW50ZXIpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHtcbiAgICAgICAgeDogZ3JvdXBTaXplLndpZHRoIC8gMixcbiAgICAgICAgeTogZ3JvdXBTaXplLmhlaWdodCAvIDJcbiAgICB9IDogbnVsbDtcbiAgICBsZXQgY3VycmVudCA9IDA7XG4gICAgaWYgKGlzRGlzY3JldGUoc2NhbGUudHlwZSkpIHtcbiAgICAgICAgaWYgKFwieFwiID09PSB0eXBlKSBjdXJyZW50ID0gc2NhbGUuc2NhbGUoc2NhbGUuaW52ZXJ0KHBvaW50LngpKTsgZWxzZSBpZiAoXCJ5XCIgPT09IHR5cGUpIGN1cnJlbnQgPSBzY2FsZS5zY2FsZShzY2FsZS5pbnZlcnQocG9pbnQueSkpOyBlbHNlIGlmIChcImFuZ2xlXCIgPT09IHR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gY2xhbXBSYWRpYW4oZ2V0QW5nbGVCeVBvaW50KGNlbnRlciwgcG9pbnQpICsgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgY3VycmVudCA9IHNjYWxlLnNjYWxlKHNjYWxlLmludmVydChhbmdsZSkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlzQ29udGludW91cyhzY2FsZS50eXBlKSAmJiAoXCJ4XCIgPT09IHR5cGUgPyBjdXJyZW50ID0gcG9pbnQueCA6IFwieVwiID09PSB0eXBlID8gY3VycmVudCA9IHBvaW50LnkgOiBcImFuZ2xlXCIgPT09IHR5cGUgJiYgKGN1cnJlbnQgPSBnZXRBbmdsZUJ5UG9pbnQoY2VudGVyLCBwb2ludCkpKTtcbiAgICBzd2l0Y2ggKGN1cnJlbnQgKz0gb2Zmc2V0LCB0eXBlKSB7XG4gICAgICBjYXNlIFwieFwiOlxuICAgICAgICBzdGFydC54ID0gY3VycmVudCwgc3RhcnQueSA9IDAsIGVuZC54ID0gY3VycmVudCwgZW5kLnkgPSBncm91cFNpemUuaGVpZ2h0O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAgc3RhcnQueCA9IDAsIHN0YXJ0LnkgPSBjdXJyZW50LCBlbmQueCA9IGdyb3VwU2l6ZS53aWR0aCwgZW5kLnkgPSBjdXJyZW50O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImFuZ2xlXCI6XG4gICAgICAgIHN0YXJ0LnggPSBjZW50ZXIueCwgc3RhcnQueSA9IGNlbnRlci55LCBlbmQueCA9IGNlbnRlci54ICsgcmFkaXVzICogTWF0aC5jb3MoY3VycmVudCksIFxuICAgICAgICBlbmQueSA9IGNlbnRlci55ICsgcmFkaXVzICogTWF0aC5zaW4oY3VycmVudCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgZW5kOiBlbmRcbiAgICB9O1xufSwgY29tcHV0ZVJhZGl1c09mVGFuZ2VudGlhbCA9IChwb2ludCwgc2NhbGUsIHR5cGUsIGdyb3VwU2l6ZSwgY29uZmlnLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGNlbnRlciA9IG51bGwgIT09IChfYiA9IG51bGwgIT09IChfYSA9IG51bGwgPT0gYWRkaXRpb24gPyB2b2lkIDAgOiBhZGRpdGlvbi5jZW50ZXIpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGwgPT0gY29uZmlnID8gdm9pZCAwIDogY29uZmlnLmNlbnRlcikgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDoge1xuICAgICAgICB4OiBncm91cFNpemUud2lkdGggLyAyLFxuICAgICAgICB5OiBncm91cFNpemUuaGVpZ2h0IC8gMlxuICAgIH07XG4gICAgbGV0IGN1cnJlbnRSYWRpdXMgPSAwO1xuICAgIGlmIChpc0Rpc2NyZXRlKHNjYWxlLnR5cGUpKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IFwiYmFuZFwiID09PSBzY2FsZS50eXBlID8gc2NhbGUuYmFuZHdpZHRoKCkgLyAyIDogMCwgcmFkaXVzID0gTWF0aC5zcXJ0KChwb2ludC54IC0gY2VudGVyLngpICoqIDIgKyAocG9pbnQueSAtIGNlbnRlci55KSAqKiAyKTtcbiAgICAgICAgY3VycmVudFJhZGl1cyA9IHNjYWxlLnNjYWxlKHNjYWxlLmludmVydChyYWRpdXMpKSArIG9mZnNldDtcbiAgICB9IGVsc2UgaWYgKGlzQ29udGludW91cyhzY2FsZS50eXBlKSkge1xuICAgICAgICBjb25zdCBtYXhSYWRpdXMgPSBudWxsICE9PSAoX2MgPSBudWxsID09IGNvbmZpZyA/IHZvaWQgMCA6IGNvbmZpZy5yYWRpdXMpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IE1hdGgubWluKGdyb3VwU2l6ZS53aWR0aCwgZ3JvdXBTaXplLmhlaWdodCkgLyAyO1xuICAgICAgICBjdXJyZW50UmFkaXVzID0gTWF0aC5taW4obWF4UmFkaXVzLCBNYXRoLnNxcnQoKHBvaW50LnggLSBjZW50ZXIueCkgKiogMiArIChwb2ludC55IC0gY2VudGVyLnkpICoqIDIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmFkaXVzOiBjdXJyZW50UmFkaXVzLFxuICAgICAgICBjZW50ZXI6IGNlbnRlclxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVMaW5lQ3Jvc3NoYWlyQXR0cmlidXRlcyA9IChwb2ludCwgc2NhbGUsIHR5cGUsIGdyb3VwU2l6ZSwgY29uZmlnLCB0aGVtZSwgYWRkaXRpb24pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBjcm9zc2hhaXJUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubGluZUNyb3NzaGFpciwgb2Zmc2V0ID0gXCJiYW5kXCIgPT09IHNjYWxlLnR5cGUgPyBzY2FsZS5iYW5kd2lkdGgoKSAvIDIgOiAwLCBwb2ludHMgPSBjb21wdXRlQ3Jvc3NoYWlyU3RhcnRFbmQocG9pbnQsIHNjYWxlLCB0eXBlLCBncm91cFNpemUsIHtcbiAgICAgICAgcmFkaXVzOiBudWxsICE9PSAoX2IgPSBudWxsID09IGFkZGl0aW9uID8gdm9pZCAwIDogYWRkaXRpb24ucmFkaXVzKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBudWxsID09IGNvbmZpZyA/IHZvaWQgMCA6IGNvbmZpZy5yYWRpdXMsXG4gICAgICAgIGNlbnRlcjogbnVsbCAhPT0gKF9jID0gbnVsbCA9PSBhZGRpdGlvbiA/IHZvaWQgMCA6IGFkZGl0aW9uLmNlbnRlcikgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogbnVsbCA9PSBjb25maWcgPyB2b2lkIDAgOiBjb25maWcuY2VudGVyXG4gICAgfSwgb2Zmc2V0KTtcbiAgICByZXR1cm4gbWVyZ2Uoe30sIGNyb3NzaGFpclRoZW1lLCBwb2ludHMsIG51bGwgIT0gYWRkaXRpb24gPyBhZGRpdGlvbiA6IHt9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJlY3RDcm9zc2hhaXJBdHRyaWJ1dGVzID0gKHBvaW50LCBzY2FsZSwgdHlwZSwgZ3JvdXBTaXplLCBjb25maWcsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGNyb3NzaGFpclRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5yZWN0Q3Jvc3NoYWlyLCBkZWZhdWx0U2l6ZSA9IFwiYmFuZFwiID09PSBzY2FsZS50eXBlIHx8IFwicG9pbnRcIiA9PT0gc2NhbGUudHlwZSA/IHNjYWxlLnN0ZXAoKSA6IHZvaWQgMCwgY3VzdG9tUmVjdFN0eWxlID0gbnVsbCA9PSBhZGRpdGlvbiA/IHZvaWQgMCA6IGFkZGl0aW9uLnJlY3RTdHlsZSwgc2l6ZSA9IG51bGwgIT0gZGVmYXVsdFNpemUgPyBkZWZhdWx0U2l6ZSA6IFwieVwiID09PSB0eXBlID8gbnVsbCAhPT0gKF9iID0gbnVsbCA9PSBjdXN0b21SZWN0U3R5bGUgPyB2b2lkIDAgOiBjdXN0b21SZWN0U3R5bGUud2lkdGgpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IGNyb3NzaGFpclRoZW1lLnJlY3RTdHlsZS53aWR0aCA6IG51bGwgIT09IChfYyA9IG51bGwgPT0gY3VzdG9tUmVjdFN0eWxlID8gdm9pZCAwIDogY3VzdG9tUmVjdFN0eWxlLmhlaWdodCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogY3Jvc3NoYWlyVGhlbWUucmVjdFN0eWxlLmhlaWdodCwgcG9pbnRzID0gY29tcHV0ZUNyb3NzaGFpclN0YXJ0RW5kKHBvaW50LCBzY2FsZSwgdHlwZSwgZ3JvdXBTaXplLCBjb25maWcsIFwiYmFuZFwiID09PSBzY2FsZS50eXBlID8gMCA6IC1zaXplIC8gMiksIHJlY3RTdHlsZSA9IHt9O1xuICAgIFwieFwiID09PSB0eXBlID8gcmVjdFN0eWxlLndpZHRoID0gc2l6ZSA6IHJlY3RTdHlsZS5oZWlnaHQgPSBzaXplO1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG1lcmdlKHt9LCBjcm9zc2hhaXJUaGVtZSwge1xuICAgICAgICBzdGFydDogcG9pbnRzLnN0YXJ0LFxuICAgICAgICBlbmQ6IHBvaW50cy5lbmQsXG4gICAgICAgIHJlY3RTdHlsZTogcmVjdFN0eWxlXG4gICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xuICAgIHJldHVybiBcInhcIiA9PT0gdHlwZSA/IGF0dHJpYnV0ZS5yZWN0U3R5bGUuaGVpZ2h0ID0gYXR0cmlidXRlLmVuZC55IC0gYXR0cmlidXRlLnN0YXJ0LnkgOiBhdHRyaWJ1dGUucmVjdFN0eWxlLndpZHRoID0gYXR0cmlidXRlLmVuZC54IC0gYXR0cmlidXRlLnN0YXJ0LngsIFxuICAgIGF0dHJpYnV0ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJpbmdDcm9zc2hhaXJBdHRyaWJ1dGVzID0gKHBvaW50LCBzY2FsZSwgdHlwZSwgZ3JvdXBTaXplLCBjb25maWcsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBjcm9zc2hhaXJUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2lyY2xlQ3Jvc3NoYWlyLCB7Y2VudGVyOiBjZW50ZXIsIHJhZGl1czogcmFkaXVzfSA9IGNvbXB1dGVSYWRpdXNPZlRhbmdlbnRpYWwocG9pbnQsIHNjYWxlLCAwLCBncm91cFNpemUsIGNvbmZpZywgYWRkaXRpb24pLCBzdGFydEFuZ2xlID0gY3Jvc3NoYWlyVGhlbWUuc3RhcnRBbmdsZSwgZW5kQW5nbGUgPSBjcm9zc2hhaXJUaGVtZS5lbmRBbmdsZSwgZGVsdGFSYWRpdXMgPSBcImJhbmRcIiA9PT0gc2NhbGUudHlwZSB8fCBcInBvaW50XCIgPT09IHNjYWxlLnR5cGUgPyBzY2FsZS5zdGVwKCkgOiAwO1xuICAgIHJldHVybiBtZXJnZSh7fSwgY3Jvc3NoYWlyVGhlbWUsIHtcbiAgICAgICAgY2VudGVyOiBjZW50ZXIsXG4gICAgICAgIGlubmVyUmFkaXVzOiByYWRpdXMgLSBkZWx0YVJhZGl1cyAvIDIsXG4gICAgICAgIHJhZGl1czogcmFkaXVzICsgZGVsdGFSYWRpdXMgLyAyLFxuICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGVcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVTZWN0b3JDcm9zc2hhaXJBdHRyaWJ1dGVzID0gKHBvaW50LCBzY2FsZSwgdHlwZSwgZ3JvdXBTaXplLCBjb25maWcsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3QgY3Jvc3NoYWlyVGhlbWUgPSBudWxsID09PSAoX2EgPSBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUuY29tcG9uZW50cykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnNlY3RvckNyb3NzaGFpciwgcmFkaXVzID0gbnVsbCAhPT0gKF9jID0gbnVsbCAhPT0gKF9iID0gbnVsbCA9PSBhZGRpdGlvbiA/IHZvaWQgMCA6IGFkZGl0aW9uLnJhZGl1cykgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogbnVsbCA9PSBjb25maWcgPyB2b2lkIDAgOiBjb25maWcucmFkaXVzKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBNYXRoLm1pbihncm91cFNpemUud2lkdGgsIGdyb3VwU2l6ZS5oZWlnaHQpIC8gMiwgY2VudGVyID0gbnVsbCAhPT0gKF9lID0gbnVsbCAhPT0gKF9kID0gbnVsbCA9PSBhZGRpdGlvbiA/IHZvaWQgMCA6IGFkZGl0aW9uLmNlbnRlcikgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogbnVsbCA9PSBjb25maWcgPyB2b2lkIDAgOiBjb25maWcuY2VudGVyKSAmJiB2b2lkIDAgIT09IF9lID8gX2UgOiB7XG4gICAgICAgIHg6IGdyb3VwU2l6ZS53aWR0aCAvIDIsXG4gICAgICAgIHk6IGdyb3VwU2l6ZS5oZWlnaHQgLyAyXG4gICAgfSwgZGVmYXVsdEFuZ2xlID0gY3Jvc3NoYWlyVGhlbWUuZW5kQW5nbGUgLSBjcm9zc2hhaXJUaGVtZS5zdGFydEFuZ2xlLCBhbmdsZSA9IFwiYmFuZFwiID09PSBzY2FsZS50eXBlIHx8IFwicG9pbnRcIiA9PT0gc2NhbGUudHlwZSA/IHNjYWxlLnN0ZXAoKSA6IGRlZmF1bHRBbmdsZTtcbiAgICBsZXQgY3VycmVudEFuZ2xlID0gMDtcbiAgICBpZiAoaXNEaXNjcmV0ZShzY2FsZS50eXBlKSkge1xuICAgICAgICBjb25zdCBhbmdsZSA9IGNsYW1wUmFkaWFuKGdldEFuZ2xlQnlQb2ludChjZW50ZXIsIHBvaW50KSArIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgY3VycmVudEFuZ2xlID0gc2NhbGUuc2NhbGUoc2NhbGUuaW52ZXJ0KGFuZ2xlKSkgKyAoXCJiYW5kXCIgPT09IHNjYWxlLnR5cGUgPyBzY2FsZS5iYW5kd2lkdGgoKSAvIDIgOiAwKTtcbiAgICB9IGVsc2UgaXNDb250aW51b3VzKHNjYWxlLnR5cGUpICYmIChjdXJyZW50QW5nbGUgPSBnZXRBbmdsZUJ5UG9pbnQoY2VudGVyLCBwb2ludCkpO1xuICAgIHJldHVybiBtZXJnZSh7fSwgY3Jvc3NoYWlyVGhlbWUsIHtcbiAgICAgICAgY2VudGVyOiBjZW50ZXIsXG4gICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgICAgICBzdGFydEFuZ2xlOiBjdXJyZW50QW5nbGUgLSBhbmdsZSAvIDIsXG4gICAgICAgIGVuZEFuZ2xlOiBjdXJyZW50QW5nbGUgKyBhbmdsZSAvIDJcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVDaXJjbGVDcm9zc2hhaXJBdHRyaWJ1dGVzID0gKHBvaW50LCBzY2FsZSwgdHlwZSwgZ3JvdXBTaXplLCBjb25maWcsIHRoZW1lLCBhZGRpdGlvbikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBjcm9zc2hhaXJUaGVtZSA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gdGhlbWUgPyB2b2lkIDAgOiB0aGVtZS5jb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuY2lyY2xlQ3Jvc3NoYWlyLCB7Y2VudGVyOiBjZW50ZXIsIHJhZGl1czogcmFkaXVzfSA9IGNvbXB1dGVSYWRpdXNPZlRhbmdlbnRpYWwocG9pbnQsIHNjYWxlLCAwLCBncm91cFNpemUsIGNvbmZpZywgYWRkaXRpb24pLCBzdGFydEFuZ2xlID0gY3Jvc3NoYWlyVGhlbWUuc3RhcnRBbmdsZSwgZW5kQW5nbGUgPSBjcm9zc2hhaXJUaGVtZS5lbmRBbmdsZTtcbiAgICByZXR1cm4gbWVyZ2Uoe30sIGNyb3NzaGFpclRoZW1lLCB7XG4gICAgICAgIGNlbnRlcjogY2VudGVyLFxuICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlXG4gICAgfSwgbnVsbCAhPSBhZGRpdGlvbiA/IGFkZGl0aW9uIDoge30pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUG9seWdvbkNyb3NzaGFpckF0dHJpYnV0ZXMgPSAocG9pbnQsIHNjYWxlLCB0eXBlLCBncm91cFNpemUsIGNvbmZpZywgdGhlbWUsIGFkZGl0aW9uKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGNyb3NzaGFpclRoZW1lID0gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSB0aGVtZSA/IHZvaWQgMCA6IHRoZW1lLmNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5jaXJjbGVDcm9zc2hhaXIsIHtjZW50ZXI6IGNlbnRlciwgcmFkaXVzOiByYWRpdXN9ID0gY29tcHV0ZVJhZGl1c09mVGFuZ2VudGlhbChwb2ludCwgc2NhbGUsIDAsIGdyb3VwU2l6ZSwgY29uZmlnLCBhZGRpdGlvbiksIHN0YXJ0QW5nbGUgPSBjcm9zc2hhaXJUaGVtZS5zdGFydEFuZ2xlLCBlbmRBbmdsZSA9IGNyb3NzaGFpclRoZW1lLmVuZEFuZ2xlO1xuICAgIHJldHVybiBtZXJnZSh7fSwgY3Jvc3NoYWlyVGhlbWUsIHtcbiAgICAgICAgY2VudGVyOiBjZW50ZXIsXG4gICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGVcbiAgICB9LCBudWxsICE9IGFkZGl0aW9uID8gYWRkaXRpb24gOiB7fSk7XG59O1xuXG5leHBvcnQgY2xhc3MgQ3Jvc3NoYWlyIGV4dGVuZHMgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBDcm9zc2hhaXIudHlwZSwgdGhpcy5oYW5kbGVDcm9zc2hhaXJTaG93ID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwR3JhcGhpY0l0ZW0gPSB0aGlzLl9jb250YWluZXIuZ2V0R3JvdXBHcmFwaGljSXRlbSgpLCBwb2ludCA9IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sIGdsb2JhbFRyYW5zTWF0cml4ID0gZ3JvdXBHcmFwaGljSXRlbS5nbG9iYWxUcmFuc01hdHJpeCwgY29udGFpbmVyUG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogZ2xvYmFsVHJhbnNNYXRyaXguZSxcbiAgICAgICAgICAgICAgICB5OiBnbG9iYWxUcmFuc01hdHJpeC5mXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGdsb2JhbFRyYW5zTWF0cml4LnRyYW5zZm9ybVBvaW50KGV2ZW50LmNhbnZhcywgcG9pbnQpLCBwb2ludC54IDwgMCB8fCBwb2ludC54ID4gZ3JvdXBHcmFwaGljSXRlbS5hdHRyaWJ1dGUud2lkdGggfHwgcG9pbnQueSA8IDAgfHwgcG9pbnQueSA+IGdyb3VwR3JhcGhpY0l0ZW0uYXR0cmlidXRlLmhlaWdodCkgcmV0dXJuIHZvaWQgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50LmhpZGVBbGwoKTtcbiAgICAgICAgICAgIGNvbnN0IGNyb3NzaGFpclR5cGUgPSBudWxsICE9PSAoX2EgPSB0aGlzLm9wdGlvbnMuY3Jvc3NoYWlyVHlwZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogXCJ4XCIsIGdyb3VwU2l6ZSA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogZ3JvdXBHcmFwaGljSXRlbS5hdHRyaWJ1dGUud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBncm91cEdyYXBoaWNJdGVtLmF0dHJpYnV0ZS5oZWlnaHRcbiAgICAgICAgICAgIH0sIHNjYWxlID0gKGlzU3RyaW5nKHRoaXMub3B0aW9ucy5zY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHRoaXMub3B0aW9ucy5zY2FsZSkgOiB0aGlzLm9wdGlvbnMuc2NhbGUpLmdldFNjYWxlKCksIGNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHRoaXMub3B0aW9ucy5jZW50ZXIsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLm9wdGlvbnMucmFkaXVzXG4gICAgICAgICAgICB9LCB0aGVtZSA9IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKSwgYWRkaXRpb24gPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5vcHRpb25zLmF0dHJpYnV0ZXMsIHRoaXMucGFyYW1ldGVycygpLCB7fSwge30pO1xuICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRDcm9zc2hhaXJDb21wb25lbnRUeXBlKCkpIHtcbiAgICAgICAgICAgICAgY2FzZSBDcm9zc2hhaXJFbnVtLmxpbmVDcm9zc2hhaXI6XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGdlbmVyYXRlTGluZUNyb3NzaGFpckF0dHJpYnV0ZXMocG9pbnQsIHNjYWxlLCBjcm9zc2hhaXJUeXBlLCBncm91cFNpemUsIGNvbmZpZywgdGhlbWUsIGFkZGl0aW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIENyb3NzaGFpckVudW0ucmVjdENyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZ2VuZXJhdGVSZWN0Q3Jvc3NoYWlyQXR0cmlidXRlcyhwb2ludCwgc2NhbGUsIGNyb3NzaGFpclR5cGUsIGdyb3VwU2l6ZSwgY29uZmlnLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgQ3Jvc3NoYWlyRW51bS5zZWN0b3JDcm9zc2hhaXI6XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGdlbmVyYXRlU2VjdG9yQ3Jvc3NoYWlyQXR0cmlidXRlcyhwb2ludCwgc2NhbGUsIDAsIGdyb3VwU2l6ZSwgY29uZmlnLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgQ3Jvc3NoYWlyRW51bS5jaXJjbGVDcm9zc2hhaXI6XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGdlbmVyYXRlQ2lyY2xlQ3Jvc3NoYWlyQXR0cmlidXRlcyhwb2ludCwgc2NhbGUsIDAsIGdyb3VwU2l6ZSwgY29uZmlnLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgQ3Jvc3NoYWlyRW51bS5wb2x5Z29uQ3Jvc3NoYWlyOlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBnZW5lcmF0ZVBvbHlnb25Dcm9zc2hhaXJBdHRyaWJ1dGVzKHBvaW50LCBzY2FsZSwgMCwgZ3JvdXBTaXplLCBjb25maWcsIHRoZW1lLCBhZGRpdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBDcm9zc2hhaXJFbnVtLnJpbmdDcm9zc2hhaXI6XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGdlbmVyYXRlUmluZ0Nyb3NzaGFpckF0dHJpYnV0ZXMocG9pbnQsIHNjYWxlLCAwLCBncm91cFNpemUsIGNvbmZpZywgdGhlbWUsIGFkZGl0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ2V0Q3Jvc3NoYWlyQ29tcG9uZW50VHlwZSgpICE9PSBDcm9zc2hhaXJFbnVtLmNpcmNsZUNyb3NzaGFpciAmJiAoYXR0cmlidXRlcy54ID0gY29udGFpbmVyUG9pbnQueCwgXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnkgPSBjb250YWluZXJQb2ludC55KSwgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50LnNob3dBbGwoKSwgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50LnNldEF0dHJpYnV0ZXMoYXR0cmlidXRlcyk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlQ3Jvc3NoYWlySGlkZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudCAmJiB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQuaGlkZUFsbCgpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBDcm9zc2hhaXIuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCB0aGlzLl9jb250YWluZXIgPSBudWxsICE9PSAoX2IgPSBudWxsID09PSAoX2EgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuY29udGFpbmVyKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hWzBdKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiB2aWV3LnJvb3RNYXJrO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVDcm9zc2hhaXJTaG93XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVDcm9zc2hhaXJIaWRlXG4gICAgICAgIH0gXTtcbiAgICB9XG4gICAgZ2V0Q3Jvc3NoYWlyQ29tcG9uZW50VHlwZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudFR5cGUpIHJldHVybiB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnRUeXBlO1xuICAgICAgICBjb25zdCBzaGFwZSA9IG51bGwgIT09IChfYSA9IHRoaXMub3B0aW9ucy5jcm9zc2hhaXJTaGFwZSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogXCJsaW5lXCIsIHR5cGUgPSBudWxsICE9PSAoX2IgPSB0aGlzLm9wdGlvbnMuY3Jvc3NoYWlyVHlwZSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogXCJ4XCI7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnRUeXBlID0gXCJyZWN0XCIgPT09IHNoYXBlID8gXCJhbmdsZVwiID09PSB0eXBlID8gQ3Jvc3NoYWlyRW51bS5zZWN0b3JDcm9zc2hhaXIgOiBcInJhZGl1c1wiID09PSB0eXBlID8gQ3Jvc3NoYWlyRW51bS5yaW5nQ3Jvc3NoYWlyIDogXCJyYWRpdXMtcG9seWdvblwiID09PSB0eXBlID8gQ3Jvc3NoYWlyRW51bS5wb2x5Z29uQ3Jvc3NoYWlyIDogQ3Jvc3NoYWlyRW51bS5yZWN0Q3Jvc3NoYWlyIDogXCJyYWRpdXNcIiA9PT0gdHlwZSA/IENyb3NzaGFpckVudW0uY2lyY2xlQ3Jvc3NoYWlyIDogXCJyYWRpdXMtcG9seWdvblwiID09PSB0eXBlID8gQ3Jvc3NoYWlyRW51bS5wb2x5Z29uQ3Jvc3NoYWlyIDogQ3Jvc3NoYWlyRW51bS5saW5lQ3Jvc3NoYWlyLCBcbiAgICAgICAgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50VHlwZTtcbiAgICB9XG4gICAgZ2V0RGVmYXVsdENyb3NzaGFpckF0dHJpYnV0ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB0eXBlID0gbnVsbCAhPT0gKF9hID0gdGhpcy5vcHRpb25zLmNyb3NzaGFpclR5cGUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFwieFwiO1xuICAgICAgICByZXR1cm4gXCJyYWRpdXNcIiA9PT0gdHlwZSB8fCBcInJhZGl1cy1wb2x5Z29uXCIgPT09IHR5cGUgPyB7XG4gICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6SW5kZXg6IC0xXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICBzdGFydDoge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuZDoge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpJbmRleDogLTFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYmluZCgpIHtcbiAgICAgICAgc3VwZXIuYmluZCgpO1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMudmlldy5yZW5kZXJlci5zdGFnZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX2Nyb3NzaGFpckNvbXBvbmVudCAmJiBzdGFnZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmdldENyb3NzaGFpckNvbXBvbmVudFR5cGUoKSkge1xuICAgICAgICAgICAgICBjYXNlIENyb3NzaGFpckVudW0ubGluZUNyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQgPSBuZXcgTGluZUNyb3NzaGFpcih0aGlzLmdldERlZmF1bHRDcm9zc2hhaXJBdHRyaWJ1dGUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBDcm9zc2hhaXJFbnVtLnJlY3RDcm9zc2hhaXI6XG4gICAgICAgICAgICAgICAgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50ID0gbmV3IFJlY3RDcm9zc2hhaXIodGhpcy5nZXREZWZhdWx0Q3Jvc3NoYWlyQXR0cmlidXRlKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgQ3Jvc3NoYWlyRW51bS5zZWN0b3JDcm9zc2hhaXI6XG4gICAgICAgICAgICAgICAgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50ID0gbmV3IFNlY3RvckNyb3NzaGFpcih0aGlzLmdldERlZmF1bHRDcm9zc2hhaXJBdHRyaWJ1dGUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBDcm9zc2hhaXJFbnVtLmNpcmNsZUNyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQgPSBuZXcgQ2lyY2xlQ3Jvc3NoYWlyKHRoaXMuZ2V0RGVmYXVsdENyb3NzaGFpckF0dHJpYnV0ZSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIENyb3NzaGFpckVudW0ucG9seWdvbkNyb3NzaGFpcjpcbiAgICAgICAgICAgICAgICB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQgPSBuZXcgUG9seWdvbkNyb3NzaGFpcih0aGlzLmdldERlZmF1bHRDcm9zc2hhaXJBdHRyaWJ1dGUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBDcm9zc2hhaXJFbnVtLnJpbmdDcm9zc2hhaXI6XG4gICAgICAgICAgICAgICAgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50ID0gbmV3IFNlY3RvckNyb3NzaGFpcih0aGlzLmdldERlZmF1bHRDcm9zc2hhaXJBdHRyaWJ1dGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFnZS5kZWZhdWx0TGF5ZXIuYXBwZW5kQ2hpbGQodGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmJpbmQoKSB7XG4gICAgICAgIHN1cGVyLnVuYmluZCgpO1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMudmlldy5yZW5kZXJlci5zdGFnZSgpO1xuICAgICAgICB0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQgJiYgc3RhZ2UgJiYgKHN0YWdlLmRlZmF1bHRMYXllci5yZW1vdmVDaGlsZCh0aGlzLl9jcm9zc2hhaXJDb21wb25lbnQpLCBcbiAgICAgICAgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50LnJlbGVhc2UoKSwgdGhpcy5fY3Jvc3NoYWlyQ29tcG9uZW50ID0gbnVsbCk7XG4gICAgfVxufVxuXG5Dcm9zc2hhaXIudHlwZSA9IFwiY3Jvc3NoYWlyXCIsIENyb3NzaGFpci5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICB0cmlnZ2VyOiBcInBvaW50ZXJtb3ZlXCIsXG4gICAgdHJpZ2dlck9mZjogXCJwb2ludGVybGVhdmVcIixcbiAgICBjcm9zc2hhaXJUeXBlOiBcInhcIixcbiAgICBjcm9zc2hhaXJTaGFwZTogXCJsaW5lXCJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcm9zc2hhaXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/crosshair.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/datazoom-filter.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/datazoom-filter.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatazoomFilter: () => (/* binding */ DatazoomFilter)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n\n\n\n\n\n\n\n\nclass DatazoomFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = DatazoomFilter.type, this.options = Object.assign({}, DatazoomFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"datazoom\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const datazoom = this._marks[0];\n        if (!this._data || !datazoom) return [];\n        const filter = this.options.target.filter, transform = this.options.target.transform, dataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter) ? (datum, filterValue) => {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(filterValue.start) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(filterValue.end)) return !0;\n            const scale = datazoom.getDatazoomMainScale(), datumRatio = (0,_util_scale__WEBPACK_IMPORTED_MODULE_4__.getScaleRangeRatio)(scale, datum[filter]);\n            return filterValue.startRatio <= datumRatio && filterValue.endRatio >= datumRatio;\n        } : filter;\n        return this._filterData(this._data, datazoom, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.datazoom, (event => {\n            const startRatio = event.detail.start, endRatio = event.detail.end;\n            return {\n                startRatio: startRatio,\n                endRatio: endRatio,\n                start: datazoom.invertDatazoomRatio(startRatio),\n                end: datazoom.invertDatazoomRatio(endRatio)\n            };\n        }), dataFilter, transform), [ {\n            type: \"change\",\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nDatazoomFilter.type = \"datazoom-filter\", DatazoomFilter.defaultOptions = {};\n//# sourceMappingURL=datazoom-filter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2RhdGF6b29tLWZpbHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7O0FBRWQ7O0FBRWpCOztBQUVpQjs7QUFFNUMsNkJBQTZCLDJDQUFNO0FBQzFDO0FBQ0EsOEZBQThGO0FBQzlGLHFHQUFxRyx5REFBZTtBQUNwSCxxQkFBcUIsNERBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRyw0REFBUTtBQUNuSCxnQkFBZ0IsNERBQUssdUJBQXVCLDREQUFLO0FBQ2pELHdFQUF3RSwrREFBa0I7QUFDMUY7QUFDQSxVQUFVO0FBQ1Ysc0RBQXNELHdEQUFjO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvZGF0YXpvb20tZmlsdGVyLmpzP2IxNDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YUZpbHRlclJhbmssIEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBpc05pbCwgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tIFwiLi9maWx0ZXJcIjtcblxuaW1wb3J0IHsgZ2V0U2NhbGVSYW5nZVJhdGlvIH0gZnJvbSBcIi4uL3V0aWwvc2NhbGVcIjtcblxuZXhwb3J0IGNsYXNzIERhdGF6b29tRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBEYXRhem9vbUZpbHRlci50eXBlLCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBEYXRhem9vbUZpbHRlci5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIFxuICAgICAgICB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zb3VyY2UpLmZpbHRlcigobWFyayA9PiBtYXJrLm1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50ICYmIFwiZGF0YXpvb21cIiA9PT0gbWFyay5jb21wb25lbnRUeXBlKSksIFxuICAgICAgICB0aGlzLl9kYXRhID0gaXNTdHJpbmcodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA/IHZpZXcuZ2V0RGF0YUJ5SWQodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA6IHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcmtzIHx8IDAgPT09IHRoaXMuX21hcmtzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBkYXRhem9vbSA9IHRoaXMuX21hcmtzWzBdO1xuICAgICAgICBpZiAoIXRoaXMuX2RhdGEgfHwgIWRhdGF6b29tKSByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IGZpbHRlciA9IHRoaXMub3B0aW9ucy50YXJnZXQuZmlsdGVyLCB0cmFuc2Zvcm0gPSB0aGlzLm9wdGlvbnMudGFyZ2V0LnRyYW5zZm9ybSwgZGF0YUZpbHRlciA9IGlzU3RyaW5nKGZpbHRlcikgPyAoZGF0dW0sIGZpbHRlclZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNOaWwoZmlsdGVyVmFsdWUuc3RhcnQpIHx8IGlzTmlsKGZpbHRlclZhbHVlLmVuZCkpIHJldHVybiAhMDtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gZGF0YXpvb20uZ2V0RGF0YXpvb21NYWluU2NhbGUoKSwgZGF0dW1SYXRpbyA9IGdldFNjYWxlUmFuZ2VSYXRpbyhzY2FsZSwgZGF0dW1bZmlsdGVyXSk7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyVmFsdWUuc3RhcnRSYXRpbyA8PSBkYXR1bVJhdGlvICYmIGZpbHRlclZhbHVlLmVuZFJhdGlvID49IGRhdHVtUmF0aW87XG4gICAgICAgIH0gOiBmaWx0ZXI7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJEYXRhKHRoaXMuX2RhdGEsIGRhdGF6b29tLCBEYXRhRmlsdGVyUmFuay5kYXRhem9vbSwgKGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0UmF0aW8gPSBldmVudC5kZXRhaWwuc3RhcnQsIGVuZFJhdGlvID0gZXZlbnQuZGV0YWlsLmVuZDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnRSYXRpbzogc3RhcnRSYXRpbyxcbiAgICAgICAgICAgICAgICBlbmRSYXRpbzogZW5kUmF0aW8sXG4gICAgICAgICAgICAgICAgc3RhcnQ6IGRhdGF6b29tLmludmVydERhdGF6b29tUmF0aW8oc3RhcnRSYXRpbyksXG4gICAgICAgICAgICAgICAgZW5kOiBkYXRhem9vbS5pbnZlcnREYXRhem9vbVJhdGlvKGVuZFJhdGlvKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksIGRhdGFGaWx0ZXIsIHRyYW5zZm9ybSksIFsge1xuICAgICAgICAgICAgdHlwZTogXCJjaGFuZ2VcIixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlRmlsdGVyXG4gICAgICAgIH0gXTtcbiAgICB9XG59XG5cbkRhdGF6b29tRmlsdGVyLnR5cGUgPSBcImRhdGF6b29tLWZpbHRlclwiLCBEYXRhem9vbUZpbHRlci5kZWZhdWx0T3B0aW9ucyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YXpvb20tZmlsdGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/datazoom-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/dimension-tooltip.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/dimension-tooltip.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DimensionTooltip: () => (/* binding */ DimensionTooltip)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/angle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n/* harmony import */ var _base_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\n\n\n\n\nconst isEqualTooltipDatum = (current, previous) => {\n    const currentDatum = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(current), previousDatum = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(previous);\n    return currentDatum.length === previousDatum.length && (currentDatum.every((datum => previousDatum.includes(datum))) && previousDatum.every((datum => currentDatum.includes(datum))));\n}, computeTooltipFilterValue = (point, scale, type, groupSize, tooltipCenter) => {\n    if (\"x\" === type) return scale.invert(point.x);\n    if (\"y\" === type) return scale.invert(point.y);\n    if (\"radius\" === type) {\n        const center = null != tooltipCenter ? tooltipCenter : {\n            x: groupSize.width / 2,\n            y: groupSize.height / 2\n        }, radius = Math.sqrt((center.x - point.x) ** 2 + (center.y - point.y) ** 2);\n        return scale.invert(radius);\n    }\n    if (\"angle\" === type) {\n        const center = null != tooltipCenter ? tooltipCenter : {\n            x: groupSize.width / 2,\n            y: groupSize.height / 2\n        }, angle = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.getAngleByPoint)(center, point);\n        return scale.invert(angle < 0 ? angle + 2 * Math.PI : angle);\n    }\n    return scale.invert(point.x);\n};\n\nclass DimensionTooltip extends _base_tooltip__WEBPACK_IMPORTED_MODULE_2__.BaseTooltip {\n    constructor(view, options) {\n        var _a, _b, _c;\n        super(view, options), this.type = DimensionTooltip.type, this._avoidMarks = [], \n        this._tooltipDataFilter = null, this.handleTooltipShow = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])((event => {\n            var _a, _b, _c;\n            if (!this._tooltipComponent) return;\n            const scale = ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.options.scale) ? this.view.getScaleById(this.options.scale) : this.options.scale).getScale(), groupGraphicItem = this._container.getGroupGraphicItem(), point = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint(event.canvas, point);\n            const groupSize = {\n                width: groupGraphicItem.attribute.width,\n                height: groupGraphicItem.attribute.height\n            };\n            if (point.x < 0 || point.x > groupGraphicItem.attribute.width || point.y < 0 || point.y > groupGraphicItem.attribute.height) return void this._tooltipComponent.hideAll();\n            const eventTargetMark = null === (_b = null === (_a = event.target) || void 0 === _a ? void 0 : _a[_graph_constants__WEBPACK_IMPORTED_MODULE_5__.BridgeElementKey]) || void 0 === _b ? void 0 : _b.mark;\n            if (this._avoidMarks.includes(eventTargetMark)) return void this._tooltipComponent.hideAll();\n            const target = null === (_c = this.options.target) || void 0 === _c ? void 0 : _c.data, lastDataGrammar = target ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(target) ? this.view.getDataById(target) : target : null, data = lastDataGrammar ? lastDataGrammar.getValue() : [], filterValue = computeTooltipFilterValue(point, scale, this.options.tooltipType, groupSize, this.options.center), tooltipDatum = this._tooltipDataFilter ? data.filter((datum => this._tooltipDataFilter(datum, filterValue))) : [];\n            if (this._tooltipComponent.showAll(), isEqualTooltipDatum(tooltipDatum, this._lastDatum)) return void this._tooltipComponent.setAttributes({\n                pointerX: point.x,\n                pointerY: point.y\n            });\n            this._lastDatum = tooltipDatum;\n            const boundsStart = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint({\n                x: 0,\n                y: 0\n            }, boundsStart);\n            const boundsEnd = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint({\n                x: this.view.getSignalById(\"width\").getValue(),\n                y: this.view.getSignalById(\"height\").getValue()\n            }, boundsEnd);\n            const bounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.AABBBounds).set(boundsStart.x, boundsStart.y, boundsEnd.x, boundsEnd.y), {title: title, content: content} = this._computeTitleContent(tooltipDatum), theme = this.view.getCurrentTheme(), addition = (0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.invokeFunctionType)(this.options.attributes, this.parameters(), {}), attributes = (0,_base_tooltip__WEBPACK_IMPORTED_MODULE_2__.generateTooltipAttributes)(point, title, content, bounds, theme, addition);\n            this._tooltipComponent.setAttributes(attributes);\n        }), 10), this.handleTooltipHide = event => {\n            this._tooltipComponent && this._tooltipComponent.hideAll();\n        }, this.options = Object.assign({}, DimensionTooltip.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector), \n        this._avoidMarks = null !== (_a = view.getMarksBySelector(this.options.avoidMark)) && void 0 !== _a ? _a : [], \n        this._container = null !== (_c = null === (_b = view.getMarksBySelector(this.options.container)) || void 0 === _b ? void 0 : _b[0]) && void 0 !== _c ? _c : view.rootMark;\n    }\n    getEvents() {\n        const filter = this.options.target.filter;\n        return this._tooltipDataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(filter) ? (datum, filterValue) => filterValue === datum[filter] : filter, \n        [ {\n            type: this.options.trigger,\n            handler: this.handleTooltipShow\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleTooltipHide\n        } ];\n    }\n}\n\nDimensionTooltip.type = \"dimension-tooltip\", DimensionTooltip.defaultOptions = {\n    trigger: \"pointermove\",\n    triggerOff: \"pointerleave\"\n};\n//# sourceMappingURL=dimension-tooltip.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2RpbWVuc2lvbi10b29sdGlwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwRjs7QUFFN0M7O0FBRWM7O0FBRUw7O0FBRUg7O0FBRW5EO0FBQ0EseUJBQXlCLHVEQUFLLDJCQUEyQix1REFBSztBQUM5RDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxVQUFVLGlFQUFlO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVPLCtCQUErQixzREFBVztBQUNqRDtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsNERBQVE7QUFDekU7QUFDQTtBQUNBLDJCQUEyQiw0REFBUTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrR0FBK0csOERBQWdCO0FBQy9IO0FBQ0EsK0hBQStILDREQUFRO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGdDQUFnQyx3REFBVSxnRUFBZ0UsZ0NBQWdDLDJGQUEyRiwrREFBa0IsK0NBQStDLGdCQUFnQix3RUFBeUI7QUFDL1U7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLGlDQUFpQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDREQUFRO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2RpbWVuc2lvbi10b29sdGlwLmpzPzczMDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQUFCQkJvdW5kcywgYXJyYXksIGdldEFuZ2xlQnlQb2ludCwgaXNTdHJpbmcsIHRocm90dGxlIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQmFzZVRvb2x0aXAgfSBmcm9tIFwiLi9iYXNlLXRvb2x0aXBcIjtcblxuaW1wb3J0IHsgZ2VuZXJhdGVUb29sdGlwQXR0cmlidXRlcyB9IGZyb20gXCIuL2Jhc2UtdG9vbHRpcFwiO1xuXG5pbXBvcnQgeyBCcmlkZ2VFbGVtZW50S2V5IH0gZnJvbSBcIi4uL2dyYXBoL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBpbnZva2VGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5jb25zdCBpc0VxdWFsVG9vbHRpcERhdHVtID0gKGN1cnJlbnQsIHByZXZpb3VzKSA9PiB7XG4gICAgY29uc3QgY3VycmVudERhdHVtID0gYXJyYXkoY3VycmVudCksIHByZXZpb3VzRGF0dW0gPSBhcnJheShwcmV2aW91cyk7XG4gICAgcmV0dXJuIGN1cnJlbnREYXR1bS5sZW5ndGggPT09IHByZXZpb3VzRGF0dW0ubGVuZ3RoICYmIChjdXJyZW50RGF0dW0uZXZlcnkoKGRhdHVtID0+IHByZXZpb3VzRGF0dW0uaW5jbHVkZXMoZGF0dW0pKSkgJiYgcHJldmlvdXNEYXR1bS5ldmVyeSgoZGF0dW0gPT4gY3VycmVudERhdHVtLmluY2x1ZGVzKGRhdHVtKSkpKTtcbn0sIGNvbXB1dGVUb29sdGlwRmlsdGVyVmFsdWUgPSAocG9pbnQsIHNjYWxlLCB0eXBlLCBncm91cFNpemUsIHRvb2x0aXBDZW50ZXIpID0+IHtcbiAgICBpZiAoXCJ4XCIgPT09IHR5cGUpIHJldHVybiBzY2FsZS5pbnZlcnQocG9pbnQueCk7XG4gICAgaWYgKFwieVwiID09PSB0eXBlKSByZXR1cm4gc2NhbGUuaW52ZXJ0KHBvaW50LnkpO1xuICAgIGlmIChcInJhZGl1c1wiID09PSB0eXBlKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IG51bGwgIT0gdG9vbHRpcENlbnRlciA/IHRvb2x0aXBDZW50ZXIgOiB7XG4gICAgICAgICAgICB4OiBncm91cFNpemUud2lkdGggLyAyLFxuICAgICAgICAgICAgeTogZ3JvdXBTaXplLmhlaWdodCAvIDJcbiAgICAgICAgfSwgcmFkaXVzID0gTWF0aC5zcXJ0KChjZW50ZXIueCAtIHBvaW50LngpICoqIDIgKyAoY2VudGVyLnkgLSBwb2ludC55KSAqKiAyKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlLmludmVydChyYWRpdXMpO1xuICAgIH1cbiAgICBpZiAoXCJhbmdsZVwiID09PSB0eXBlKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IG51bGwgIT0gdG9vbHRpcENlbnRlciA/IHRvb2x0aXBDZW50ZXIgOiB7XG4gICAgICAgICAgICB4OiBncm91cFNpemUud2lkdGggLyAyLFxuICAgICAgICAgICAgeTogZ3JvdXBTaXplLmhlaWdodCAvIDJcbiAgICAgICAgfSwgYW5nbGUgPSBnZXRBbmdsZUJ5UG9pbnQoY2VudGVyLCBwb2ludCk7XG4gICAgICAgIHJldHVybiBzY2FsZS5pbnZlcnQoYW5nbGUgPCAwID8gYW5nbGUgKyAyICogTWF0aC5QSSA6IGFuZ2xlKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjYWxlLmludmVydChwb2ludC54KTtcbn07XG5cbmV4cG9ydCBjbGFzcyBEaW1lbnNpb25Ub29sdGlwIGV4dGVuZHMgQmFzZVRvb2x0aXAge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBEaW1lbnNpb25Ub29sdGlwLnR5cGUsIHRoaXMuX2F2b2lkTWFya3MgPSBbXSwgXG4gICAgICAgIHRoaXMuX3Rvb2x0aXBEYXRhRmlsdGVyID0gbnVsbCwgdGhpcy5oYW5kbGVUb29sdGlwU2hvdyA9IHRocm90dGxlKChldmVudCA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGlmICghdGhpcy5fdG9vbHRpcENvbXBvbmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSAoaXNTdHJpbmcodGhpcy5vcHRpb25zLnNjYWxlKSA/IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQodGhpcy5vcHRpb25zLnNjYWxlKSA6IHRoaXMub3B0aW9ucy5zY2FsZSkuZ2V0U2NhbGUoKSwgZ3JvdXBHcmFwaGljSXRlbSA9IHRoaXMuX2NvbnRhaW5lci5nZXRHcm91cEdyYXBoaWNJdGVtKCksIHBvaW50ID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdyb3VwR3JhcGhpY0l0ZW0uZ2xvYmFsVHJhbnNNYXRyaXgudHJhbnNmb3JtUG9pbnQoZXZlbnQuY2FudmFzLCBwb2ludCk7XG4gICAgICAgICAgICBjb25zdCBncm91cFNpemUgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGdyb3VwR3JhcGhpY0l0ZW0uYXR0cmlidXRlLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZ3JvdXBHcmFwaGljSXRlbS5hdHRyaWJ1dGUuaGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHBvaW50LnggPCAwIHx8IHBvaW50LnggPiBncm91cEdyYXBoaWNJdGVtLmF0dHJpYnV0ZS53aWR0aCB8fCBwb2ludC55IDwgMCB8fCBwb2ludC55ID4gZ3JvdXBHcmFwaGljSXRlbS5hdHRyaWJ1dGUuaGVpZ2h0KSByZXR1cm4gdm9pZCB0aGlzLl90b29sdGlwQ29tcG9uZW50LmhpZGVBbGwoKTtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50VGFyZ2V0TWFyayA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IGV2ZW50LnRhcmdldCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hW0JyaWRnZUVsZW1lbnRLZXldKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IubWFyaztcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdm9pZE1hcmtzLmluY2x1ZGVzKGV2ZW50VGFyZ2V0TWFyaykpIHJldHVybiB2b2lkIHRoaXMuX3Rvb2x0aXBDb21wb25lbnQuaGlkZUFsbCgpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbnVsbCA9PT0gKF9jID0gdGhpcy5vcHRpb25zLnRhcmdldCkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmRhdGEsIGxhc3REYXRhR3JhbW1hciA9IHRhcmdldCA/IGlzU3RyaW5nKHRhcmdldCkgPyB0aGlzLnZpZXcuZ2V0RGF0YUJ5SWQodGFyZ2V0KSA6IHRhcmdldCA6IG51bGwsIGRhdGEgPSBsYXN0RGF0YUdyYW1tYXIgPyBsYXN0RGF0YUdyYW1tYXIuZ2V0VmFsdWUoKSA6IFtdLCBmaWx0ZXJWYWx1ZSA9IGNvbXB1dGVUb29sdGlwRmlsdGVyVmFsdWUocG9pbnQsIHNjYWxlLCB0aGlzLm9wdGlvbnMudG9vbHRpcFR5cGUsIGdyb3VwU2l6ZSwgdGhpcy5vcHRpb25zLmNlbnRlciksIHRvb2x0aXBEYXR1bSA9IHRoaXMuX3Rvb2x0aXBEYXRhRmlsdGVyID8gZGF0YS5maWx0ZXIoKGRhdHVtID0+IHRoaXMuX3Rvb2x0aXBEYXRhRmlsdGVyKGRhdHVtLCBmaWx0ZXJWYWx1ZSkpKSA6IFtdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Rvb2x0aXBDb21wb25lbnQuc2hvd0FsbCgpLCBpc0VxdWFsVG9vbHRpcERhdHVtKHRvb2x0aXBEYXR1bSwgdGhpcy5fbGFzdERhdHVtKSkgcmV0dXJuIHZvaWQgdGhpcy5fdG9vbHRpcENvbXBvbmVudC5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICBwb2ludGVyWDogcG9pbnQueCxcbiAgICAgICAgICAgICAgICBwb2ludGVyWTogcG9pbnQueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0RGF0dW0gPSB0b29sdGlwRGF0dW07XG4gICAgICAgICAgICBjb25zdCBib3VuZHNTdGFydCA9IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBncm91cEdyYXBoaWNJdGVtLmdsb2JhbFRyYW5zTWF0cml4LnRyYW5zZm9ybVBvaW50KHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sIGJvdW5kc1N0YXJ0KTtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kc0VuZCA9IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBncm91cEdyYXBoaWNJdGVtLmdsb2JhbFRyYW5zTWF0cml4LnRyYW5zZm9ybVBvaW50KHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnZpZXcuZ2V0U2lnbmFsQnlJZChcIndpZHRoXCIpLmdldFZhbHVlKCksXG4gICAgICAgICAgICAgICAgeTogdGhpcy52aWV3LmdldFNpZ25hbEJ5SWQoXCJoZWlnaHRcIikuZ2V0VmFsdWUoKVxuICAgICAgICAgICAgfSwgYm91bmRzRW5kKTtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IChuZXcgQUFCQkJvdW5kcykuc2V0KGJvdW5kc1N0YXJ0LngsIGJvdW5kc1N0YXJ0LnksIGJvdW5kc0VuZC54LCBib3VuZHNFbmQueSksIHt0aXRsZTogdGl0bGUsIGNvbnRlbnQ6IGNvbnRlbnR9ID0gdGhpcy5fY29tcHV0ZVRpdGxlQ29udGVudCh0b29sdGlwRGF0dW0pLCB0aGVtZSA9IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKSwgYWRkaXRpb24gPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5vcHRpb25zLmF0dHJpYnV0ZXMsIHRoaXMucGFyYW1ldGVycygpLCB7fSksIGF0dHJpYnV0ZXMgPSBnZW5lcmF0ZVRvb2x0aXBBdHRyaWJ1dGVzKHBvaW50LCB0aXRsZSwgY29udGVudCwgYm91bmRzLCB0aGVtZSwgYWRkaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcENvbXBvbmVudC5zZXRBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xuICAgICAgICB9KSwgMTApLCB0aGlzLmhhbmRsZVRvb2x0aXBIaWRlID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcENvbXBvbmVudCAmJiB0aGlzLl90b29sdGlwQ29tcG9uZW50LmhpZGVBbGwoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgRGltZW5zaW9uVG9vbHRpcC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNlbGVjdG9yKSwgXG4gICAgICAgIHRoaXMuX2F2b2lkTWFya3MgPSBudWxsICE9PSAoX2EgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuYXZvaWRNYXJrKSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogW10sIFxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBudWxsICE9PSAoX2MgPSBudWxsID09PSAoX2IgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuY29udGFpbmVyKSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iWzBdKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiB2aWV3LnJvb3RNYXJrO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlciA9IHRoaXMub3B0aW9ucy50YXJnZXQuZmlsdGVyO1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9vbHRpcERhdGFGaWx0ZXIgPSBpc1N0cmluZyhmaWx0ZXIpID8gKGRhdHVtLCBmaWx0ZXJWYWx1ZSkgPT4gZmlsdGVyVmFsdWUgPT09IGRhdHVtW2ZpbHRlcl0gOiBmaWx0ZXIsIFxuICAgICAgICBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVUb29sdGlwU2hvd1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlVG9vbHRpcEhpZGVcbiAgICAgICAgfSBdO1xuICAgIH1cbn1cblxuRGltZW5zaW9uVG9vbHRpcC50eXBlID0gXCJkaW1lbnNpb24tdG9vbHRpcFwiLCBEaW1lbnNpb25Ub29sdGlwLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHRyaWdnZXI6IFwicG9pbnRlcm1vdmVcIixcbiAgICB0cmlnZ2VyT2ZmOiBcInBvaW50ZXJsZWF2ZVwiXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGltZW5zaW9uLXRvb2x0aXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/dimension-tooltip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/drill-down.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/drill-down.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DrillDown: () => (/* binding */ DrillDown)\n/* harmony export */ });\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\nclass DrillDown extends _brush_base__WEBPACK_IMPORTED_MODULE_0__.BrushBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, DrillDown.defaultOptions, option)), this.type = DrillDown.type, \n        this.handleBrushUpdate = event => {\n            const elements = [];\n            let filterValue = [];\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    this.isBrushContainGraphicItem(event.detail.operateMask, el.getGraphicItem()) && (elements.push(el), \n                    filterValue = filterValue.concat((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(el.getDatum())));\n                }));\n            })), this._data && (filterValue = Array.from(new Set(filterValue)), this._filterValue && filterValue.length === this._filterValue.length && !filterValue.some((datum => !this._filterValue.includes(datum))) || (this._filterValue = filterValue, \n            this.handleFilter())), this._dispatchEvent(event, elements);\n        }, this.handleTrigger = event => {\n            const element = event.element;\n            if (element && this._marks && this._marks.includes(element.mark)) {\n                const filterValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(element.getDatum());\n                this._filterValue && filterValue.length === this._filterValue.length && !filterValue.some((datum => !this._filterValue.includes(datum))) || (this._filterValue = filterValue, \n                this.handleFilter());\n            }\n        }, this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._data) return [];\n        const transform = this.options.target.transform;\n        return this._filterData(this._data, null, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.DataFilterRank.drillDown, null, void 0, ((data, filterValue) => {\n            const nextData = filterValue || data;\n            return transform ? transform(data, filterValue) : nextData;\n        })), this.options.brush ? super.getEvents() : [ {\n            type: this.options.trigger,\n            handler: this.handleTrigger\n        } ];\n    }\n}\n\nDrillDown.type = \"drill-down\", DrillDown.defaultOptions = {\n    brush: !1,\n    trigger: \"click\"\n};\n//# sourceMappingURL=drill-down.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2RyaWxsLWRvd24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBeUM7O0FBRVU7O0FBRUg7O0FBRXpDLHdCQUF3QixrREFBUztBQUN4QztBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsdURBQUs7QUFDMUQsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0NBQW9DLHVEQUFLO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZUFBZSw0REFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx3REFBYztBQUNoRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvZHJpbGwtZG93bi5qcz82NWVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJydXNoQmFzZSB9IGZyb20gXCIuL2JydXNoLWJhc2VcIjtcblxuaW1wb3J0IHsgaXNTdHJpbmcsIGFycmF5IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgRGF0YUZpbHRlclJhbmsgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuZXhwb3J0IGNsYXNzIERyaWxsRG93biBleHRlbmRzIEJydXNoQmFzZSB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9uKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIE9iamVjdC5hc3NpZ24oe30sIERyaWxsRG93bi5kZWZhdWx0T3B0aW9ucywgb3B0aW9uKSksIHRoaXMudHlwZSA9IERyaWxsRG93bi50eXBlLCBcbiAgICAgICAgdGhpcy5oYW5kbGVCcnVzaFVwZGF0ZSA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG4gICAgICAgICAgICBsZXQgZmlsdGVyVmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQnJ1c2hDb250YWluR3JhcGhpY0l0ZW0oZXZlbnQuZGV0YWlsLm9wZXJhdGVNYXNrLCBlbC5nZXRHcmFwaGljSXRlbSgpKSAmJiAoZWxlbWVudHMucHVzaChlbCksIFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWx1ZSA9IGZpbHRlclZhbHVlLmNvbmNhdChhcnJheShlbC5nZXREYXR1bSgpKSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy5fZGF0YSAmJiAoZmlsdGVyVmFsdWUgPSBBcnJheS5mcm9tKG5ldyBTZXQoZmlsdGVyVmFsdWUpKSwgdGhpcy5fZmlsdGVyVmFsdWUgJiYgZmlsdGVyVmFsdWUubGVuZ3RoID09PSB0aGlzLl9maWx0ZXJWYWx1ZS5sZW5ndGggJiYgIWZpbHRlclZhbHVlLnNvbWUoKGRhdHVtID0+ICF0aGlzLl9maWx0ZXJWYWx1ZS5pbmNsdWRlcyhkYXR1bSkpKSB8fCAodGhpcy5fZmlsdGVyVmFsdWUgPSBmaWx0ZXJWYWx1ZSwgXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUZpbHRlcigpKSksIHRoaXMuX2Rpc3BhdGNoRXZlbnQoZXZlbnQsIGVsZW1lbnRzKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVUcmlnZ2VyID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiB0aGlzLl9tYXJrcyAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlbGVtZW50Lm1hcmspKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBhcnJheShlbGVtZW50LmdldERhdHVtKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbHRlclZhbHVlICYmIGZpbHRlclZhbHVlLmxlbmd0aCA9PT0gdGhpcy5fZmlsdGVyVmFsdWUubGVuZ3RoICYmICFmaWx0ZXJWYWx1ZS5zb21lKChkYXR1bSA9PiAhdGhpcy5fZmlsdGVyVmFsdWUuaW5jbHVkZXMoZGF0dW0pKSkgfHwgKHRoaXMuX2ZpbHRlclZhbHVlID0gZmlsdGVyVmFsdWUsIFxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRmlsdGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLl9kYXRhID0gaXNTdHJpbmcodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA/IHZpZXcuZ2V0RGF0YUJ5SWQodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA6IHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2RhdGEpIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5vcHRpb25zLnRhcmdldC50cmFuc2Zvcm07XG4gICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJEYXRhKHRoaXMuX2RhdGEsIG51bGwsIERhdGFGaWx0ZXJSYW5rLmRyaWxsRG93biwgbnVsbCwgdm9pZCAwLCAoKGRhdGEsIGZpbHRlclZhbHVlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0RGF0YSA9IGZpbHRlclZhbHVlIHx8IGRhdGE7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtID8gdHJhbnNmb3JtKGRhdGEsIGZpbHRlclZhbHVlKSA6IG5leHREYXRhO1xuICAgICAgICB9KSksIHRoaXMub3B0aW9ucy5icnVzaCA/IHN1cGVyLmdldEV2ZW50cygpIDogWyB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlVHJpZ2dlclxuICAgICAgICB9IF07XG4gICAgfVxufVxuXG5EcmlsbERvd24udHlwZSA9IFwiZHJpbGwtZG93blwiLCBEcmlsbERvd24uZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgYnJ1c2g6ICExLFxuICAgIHRyaWdnZXI6IFwiY2xpY2tcIlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRyaWxsLWRvd24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/drill-down.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-active-by-legend.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-active-by-legend.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementActiveByLegend: () => (/* binding */ ElementActiveByLegend)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/legend/constant.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n\n\n\n\n\n\n\n\n\n\nclass ElementActiveByLegend extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementActiveByLegend.type, this.handleStart = e => {\n            var _a, _b;\n            this.start(null === (_b = null === (_a = e.detail) || void 0 === _a ? void 0 : _a.data) || void 0 === _b ? void 0 : _b.id);\n        }, this.handleReset = e => {\n            this.resetAll();\n        }, this.options = Object.assign({}, ElementActiveByLegend.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getEvents() {\n        return [ {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.LegendEvent.legendItemHover,\n            handler: this.handleStart\n        }, {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.LegendEvent.legendItemUnHover,\n            handler: this.handleReset\n        } ];\n    }\n    getStartState() {\n        return this.options.state;\n    }\n    start(element) {\n        const itemKey = element;\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(itemKey)) return;\n        const filterValue = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.generateFilterValue)(this.options);\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                filterValue(el) === itemKey ? el.addState(this.options.state) : el.removeState(this.options.state);\n            }));\n        }));\n    }\n    resetAll() {\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(this.options.state);\n            }));\n        }));\n    }\n    reset(element) {\n        element ? this._marks && this._marks.includes(element.mark) && element.removeState(this.options.state) : this.resetAll();\n    }\n}\n\nElementActiveByLegend.type = \"element-active-by-legend\", ElementActiveByLegend.defaultOptions = {\n    state: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.active,\n    filterType: \"groupKey\"\n};\n//# sourceMappingURL=element-active-by-legend.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtYWN0aXZlLWJ5LWxlZ2VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0Q7O0FBRWI7O0FBRWtCOztBQUVsQjs7QUFFSzs7QUFFdkMsb0NBQW9DLGtEQUFlO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUVBQVc7QUFDN0I7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLHFFQUFXO0FBQzdCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQUs7QUFDakIsNEJBQTRCLDJEQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLDhEQUFvQjtBQUMvQjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9lbGVtZW50LWFjdGl2ZS1ieS1sZWdlbmQuanM/ODc5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmltcG9ydCB7IExlZ2VuZEV2ZW50IH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBnZW5lcmF0ZUZpbHRlclZhbHVlIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRBY3RpdmVCeUxlZ2VuZCBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRWxlbWVudEFjdGl2ZUJ5TGVnZW5kLnR5cGUsIHRoaXMuaGFuZGxlU3RhcnQgPSBlID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IGUuZGV0YWlsKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZGF0YSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmlkKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVSZXNldCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNldEFsbCgpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBFbGVtZW50QWN0aXZlQnlMZWdlbmQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCBcbiAgICAgICAgdGhpcy5fbWFya3MgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuc2VsZWN0b3IpO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IExlZ2VuZEV2ZW50LmxlZ2VuZEl0ZW1Ib3ZlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlU3RhcnRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogTGVnZW5kRXZlbnQubGVnZW5kSXRlbVVuSG92ZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgIH0gXTtcbiAgICB9XG4gICAgZ2V0U3RhcnRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zdGF0ZTtcbiAgICB9XG4gICAgc3RhcnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBpdGVtS2V5ID0gZWxlbWVudDtcbiAgICAgICAgaWYgKGlzTmlsKGl0ZW1LZXkpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gZ2VuZXJhdGVGaWx0ZXJWYWx1ZSh0aGlzLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgIGZpbHRlclZhbHVlKGVsKSA9PT0gaXRlbUtleSA/IGVsLmFkZFN0YXRlKHRoaXMub3B0aW9ucy5zdGF0ZSkgOiBlbC5yZW1vdmVTdGF0ZSh0aGlzLm9wdGlvbnMuc3RhdGUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJlc2V0QWxsKCkge1xuICAgICAgICB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZVN0YXRlKHRoaXMub3B0aW9ucy5zdGF0ZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVzZXQoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50ID8gdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKSAmJiBlbGVtZW50LnJlbW92ZVN0YXRlKHRoaXMub3B0aW9ucy5zdGF0ZSkgOiB0aGlzLnJlc2V0QWxsKCk7XG4gICAgfVxufVxuXG5FbGVtZW50QWN0aXZlQnlMZWdlbmQudHlwZSA9IFwiZWxlbWVudC1hY3RpdmUtYnktbGVnZW5kXCIsIEVsZW1lbnRBY3RpdmVCeUxlZ2VuZC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBzdGF0ZTogSW50ZXJhY3Rpb25TdGF0ZUVudW0uYWN0aXZlLFxuICAgIGZpbHRlclR5cGU6IFwiZ3JvdXBLZXlcIlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnQtYWN0aXZlLWJ5LWxlZ2VuZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-active-by-legend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-active.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-active.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementActive: () => (/* binding */ ElementActive)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n\n\n\n\nclass ElementActive extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementActive.type, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            this.reset(e.element);\n        }, this.options = Object.assign({}, ElementActive.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    getStartState() {\n        return this.options.state;\n    }\n    start(element) {\n        element && this._marks && this._marks.includes(element.mark) && (element.addState(this.options.state), \n        this._prevActiveElement = element);\n    }\n    reset(element) {\n        const el = null != element ? element : this._prevActiveElement;\n        el && this._marks && this._marks.includes(el.mark) && el.removeState(this.options.state);\n    }\n}\n\nElementActive.type = \"element-active\", ElementActive.defaultOptions = {\n    state: _graph_enums__WEBPACK_IMPORTED_MODULE_1__.InteractionStateEnum.active,\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtYWN0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDs7QUFFYjs7QUFFbEMsNEJBQTRCLGtEQUFlO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsaUNBQWlDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsOERBQW9CO0FBQy9CO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtYWN0aXZlLmpzPzM3YzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW50ZXJhY3Rpb25TdGF0ZUVudW0gfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgQmFzZUludGVyYWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xuXG5leHBvcnQgY2xhc3MgRWxlbWVudEFjdGl2ZSBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRWxlbWVudEFjdGl2ZS50eXBlLCB0aGlzLmhhbmRsZVN0YXJ0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KGUuZWxlbWVudCk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUmVzZXQgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoZS5lbGVtZW50KTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgRWxlbWVudEFjdGl2ZS5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNlbGVjdG9yKTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlU3RhcnRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXJPZmYsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgIH0gXTtcbiAgICB9XG4gICAgZ2V0U3RhcnRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zdGF0ZTtcbiAgICB9XG4gICAgc3RhcnQoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykgJiYgKGVsZW1lbnQuYWRkU3RhdGUodGhpcy5vcHRpb25zLnN0YXRlKSwgXG4gICAgICAgIHRoaXMuX3ByZXZBY3RpdmVFbGVtZW50ID0gZWxlbWVudCk7XG4gICAgfVxuICAgIHJlc2V0KGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZWwgPSBudWxsICE9IGVsZW1lbnQgPyBlbGVtZW50IDogdGhpcy5fcHJldkFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGVsICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsLm1hcmspICYmIGVsLnJlbW92ZVN0YXRlKHRoaXMub3B0aW9ucy5zdGF0ZSk7XG4gICAgfVxufVxuXG5FbGVtZW50QWN0aXZlLnR5cGUgPSBcImVsZW1lbnQtYWN0aXZlXCIsIEVsZW1lbnRBY3RpdmUuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgc3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmFjdGl2ZSxcbiAgICB0cmlnZ2VyOiBcInBvaW50ZXJvdmVyXCIsXG4gICAgdHJpZ2dlck9mZjogXCJwb2ludGVyb3V0XCJcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-active.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-graphic-name.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-graphic-name.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlightByGraphicName: () => (/* binding */ ElementHighlightByGraphicName)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _element_highlight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element-highlight */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight.js\");\n\n\n\n\nclass ElementHighlightByGraphicName extends _element_highlight__WEBPACK_IMPORTED_MODULE_0__.ElementHighlight {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlightByGraphicName.type, this.handleStart = e => {\n            if (e && e.element && this._marks.includes(e.element.mark)) {\n                if (this.options.shouldStart ? this.options.shouldStart(e) : this._filterByName(e)) {\n                    const itemKey = this._parseTargetKey(e, e.element);\n                    this.start(itemKey);\n                }\n            }\n        }, this.handleReset = e => {\n            e && e.element && this._marks.includes(e.element.mark) && this.reset();\n        }, this.options = Object.assign({}, ElementHighlightByGraphicName.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    _filterByName(e) {\n        var _a;\n        return !!(null === (_a = null == e ? void 0 : e.target) || void 0 === _a ? void 0 : _a.name);\n    }\n    _parseTargetKey(e, element) {\n        return e.target.name;\n    }\n    start(itemKey) {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(itemKey) || this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                var _a;\n                (null === (_a = el.getGraphicItem()) || void 0 === _a ? void 0 : _a.name) === itemKey ? el.updateStates({\n                    [this.options.blurState]: !1,\n                    [this.options.highlightState]: !0\n                }) : el.updateStates({\n                    [this.options.blurState]: !0,\n                    [this.options.highlightState]: !1\n                });\n            }));\n        }));\n    }\n    reset() {\n        const states = [ this.options.blurState, this.options.highlightState ];\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(states);\n            }));\n        }));\n    }\n}\n\nElementHighlightByGraphicName.type = \"element-highlight-by-graphic-name\";\n//# sourceMappingURL=element-highlight-by-graphic-name.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWdyYXBoaWMtbmFtZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUM7O0FBRWM7O0FBRWhELDRDQUE0QyxnRUFBZ0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsaUNBQWlDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBSztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvZWxlbWVudC1oaWdobGlnaHQtYnktZ3JhcGhpYy1uYW1lLmpzPzg2ZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBFbGVtZW50SGlnaGxpZ2h0IH0gZnJvbSBcIi4vZWxlbWVudC1oaWdobGlnaHRcIjtcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRIaWdobGlnaHRCeUdyYXBoaWNOYW1lIGV4dGVuZHMgRWxlbWVudEhpZ2hsaWdodCB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRWxlbWVudEhpZ2hsaWdodEJ5R3JhcGhpY05hbWUudHlwZSwgdGhpcy5oYW5kbGVTdGFydCA9IGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUgJiYgZS5lbGVtZW50ICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGUuZWxlbWVudC5tYXJrKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQgPyB0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQoZSkgOiB0aGlzLl9maWx0ZXJCeU5hbWUoZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbUtleSA9IHRoaXMuX3BhcnNlVGFyZ2V0S2V5KGUsIGUuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoaXRlbUtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICBlICYmIGUuZWxlbWVudCAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlLmVsZW1lbnQubWFyaykgJiYgdGhpcy5yZXNldCgpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBFbGVtZW50SGlnaGxpZ2h0QnlHcmFwaGljTmFtZS5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIFxuICAgICAgICB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgfVxuICAgIF9maWx0ZXJCeU5hbWUoZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAhIShudWxsID09PSAoX2EgPSBudWxsID09IGUgPyB2b2lkIDAgOiBlLnRhcmdldCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLm5hbWUpO1xuICAgIH1cbiAgICBfcGFyc2VUYXJnZXRLZXkoZSwgZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZS50YXJnZXQubmFtZTtcbiAgICB9XG4gICAgc3RhcnQoaXRlbUtleSkge1xuICAgICAgICBpc05pbChpdGVtS2V5KSB8fCB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAobnVsbCA9PT0gKF9hID0gZWwuZ2V0R3JhcGhpY0l0ZW0oKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLm5hbWUpID09PSBpdGVtS2V5ID8gZWwudXBkYXRlU3RhdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5ibHVyU3RhdGVdOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZV06ICEwXG4gICAgICAgICAgICAgICAgfSkgOiBlbC51cGRhdGVTdGF0ZXMoe1xuICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmJsdXJTdGF0ZV06ICEwLFxuICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gWyB0aGlzLm9wdGlvbnMuYmx1clN0YXRlLCB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGUgXTtcbiAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVTdGF0ZShzdGF0ZXMpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5FbGVtZW50SGlnaGxpZ2h0QnlHcmFwaGljTmFtZS50eXBlID0gXCJlbGVtZW50LWhpZ2hsaWdodC1ieS1ncmFwaGljLW5hbWVcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnQtaGlnaGxpZ2h0LWJ5LWdyYXBoaWMtbmFtZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-graphic-name.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-group.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-group.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlightByGroup: () => (/* binding */ ElementHighlightByGroup)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n\n\n\n\n\n\nclass ElementHighlightByGroup extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlightByGroup.type, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            const element = e.element;\n            element && this._marks && this._marks.includes(element.mark) && this.resetAll();\n        }, this.options = Object.assign({}, ElementHighlightByGroup.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    resetAll() {\n        const states = [ this.options.highlightState, this.options.blurState ];\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(states);\n            }));\n        }));\n    }\n    start(element) {\n        if (element && this._marks && this._marks.includes(element.mark)) {\n            const highlightKey = element.groupKey;\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(highlightKey)) return;\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    el.groupKey === highlightKey ? el.updateStates({\n                        [this.options.blurState]: !1,\n                        [this.options.highlightState]: !0\n                    }) : el.updateStates({\n                        [this.options.blurState]: !0,\n                        [this.options.highlightState]: !1\n                    });\n                }));\n            }));\n        }\n    }\n    reset(element) {\n        element ? this._marks && this._marks.includes(element.mark) && element.removeState([ this.options.highlightState, this.options.blurState ]) : this.resetAll();\n    }\n}\n\nElementHighlightByGroup.type = \"element-highlight-by-group\", ElementHighlightByGroup.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.blur,\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\"\n};\n//# sourceMappingURL=element-highlight-by-group.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWdyb3VwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7O0FBRWE7O0FBRWI7O0FBRWxDLHNDQUFzQyxrREFBZTtBQUM1RDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVMsaUNBQWlDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLDhEQUFvQjtBQUN4QyxlQUFlLDhEQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWdyb3VwLmpzP2ZjM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBFbGVtZW50SGlnaGxpZ2h0QnlHcm91cCBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRWxlbWVudEhpZ2hsaWdodEJ5R3JvdXAudHlwZSwgdGhpcy5oYW5kbGVTdGFydCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydChlLmVsZW1lbnQpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZS5lbGVtZW50O1xuICAgICAgICAgICAgZWxlbWVudCAmJiB0aGlzLl9tYXJrcyAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlbGVtZW50Lm1hcmspICYmIHRoaXMucmVzZXRBbGwoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgRWxlbWVudEhpZ2hsaWdodEJ5R3JvdXAuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCBcbiAgICAgICAgdGhpcy5fbWFya3MgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuc2VsZWN0b3IpO1xuICAgIH1cbiAgICBnZXRTdGFydFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUmVzZXRcbiAgICAgICAgfSBdO1xuICAgIH1cbiAgICByZXNldEFsbCgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gWyB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGUsIHRoaXMub3B0aW9ucy5ibHVyU3RhdGUgXTtcbiAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVTdGF0ZShzdGF0ZXMpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXJ0KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKSkge1xuICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0S2V5ID0gZWxlbWVudC5ncm91cEtleTtcbiAgICAgICAgICAgIGlmIChpc05pbChoaWdobGlnaHRLZXkpKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWwuZ3JvdXBLZXkgPT09IGhpZ2hsaWdodEtleSA/IGVsLnVwZGF0ZVN0YXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmJsdXJTdGF0ZV06ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZV06ICEwXG4gICAgICAgICAgICAgICAgICAgIH0pIDogZWwudXBkYXRlU3RhdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYmx1clN0YXRlXTogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITFcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2V0KGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudCA/IHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykgJiYgZWxlbWVudC5yZW1vdmVTdGF0ZShbIHRoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZSwgdGhpcy5vcHRpb25zLmJsdXJTdGF0ZSBdKSA6IHRoaXMucmVzZXRBbGwoKTtcbiAgICB9XG59XG5cbkVsZW1lbnRIaWdobGlnaHRCeUdyb3VwLnR5cGUgPSBcImVsZW1lbnQtaGlnaGxpZ2h0LWJ5LWdyb3VwXCIsIEVsZW1lbnRIaWdobGlnaHRCeUdyb3VwLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIGhpZ2hsaWdodFN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5oaWdobGlnaHQsXG4gICAgYmx1clN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5ibHVyLFxuICAgIHRyaWdnZXI6IFwicG9pbnRlcm92ZXJcIixcbiAgICB0cmlnZ2VyT2ZmOiBcInBvaW50ZXJvdXRcIlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnQtaGlnaGxpZ2h0LWJ5LWdyb3VwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-group.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-key.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-key.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlightByKey: () => (/* binding */ ElementHighlightByKey)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\nclass ElementHighlightByKey extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlightByKey.type, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            e.element && this._marks && this._marks.includes(e.element.mark) && this.resetAll();\n        }, this.options = Object.assign({}, ElementHighlightByKey.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    resetAll() {\n        const states = [ this.options.highlightState, this.options.blurState ];\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(states);\n            }));\n        }));\n    }\n    start(element) {\n        if (element && this._marks && this._marks.includes(element.mark)) {\n            const highlightKey = element.key;\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(highlightKey)) return;\n            this._marks.forEach((mark => {\n                mark.elements.forEach((el => {\n                    el.key === highlightKey ? el.updateStates({\n                        [this.options.blurState]: !1,\n                        [this.options.highlightState]: !0\n                    }) : el.updateStates({\n                        [this.options.blurState]: !0,\n                        [this.options.highlightState]: !1\n                    });\n                }));\n            }));\n        }\n    }\n    reset(element) {\n        element ? this._marks && this._marks.includes(element.mark) && element.removeState([ this.options.highlightState, this.options.blurState ]) : this.resetAll();\n    }\n}\n\nElementHighlightByKey.type = \"element-highlight-by-key\", ElementHighlightByKey.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.InteractionStateEnum.blur,\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\"\n};\n//# sourceMappingURL=element-highlight-by-key.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWtleS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDOztBQUVBOztBQUVhOztBQUUvQyxvQ0FBb0Msa0RBQWU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsOERBQW9CO0FBQ3hDLGVBQWUsOERBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvZWxlbWVudC1oaWdobGlnaHQtYnkta2V5LmpzPzM1NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmltcG9ydCB7IEludGVyYWN0aW9uU3RhdGVFbnVtIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmV4cG9ydCBjbGFzcyBFbGVtZW50SGlnaGxpZ2h0QnlLZXkgZXh0ZW5kcyBCYXNlSW50ZXJhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IEVsZW1lbnRIaWdobGlnaHRCeUtleS50eXBlLCB0aGlzLmhhbmRsZVN0YXJ0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KGUuZWxlbWVudCk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUmVzZXQgPSBlID0+IHtcbiAgICAgICAgICAgIGUuZWxlbWVudCAmJiB0aGlzLl9tYXJrcyAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlLmVsZW1lbnQubWFyaykgJiYgdGhpcy5yZXNldEFsbCgpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBFbGVtZW50SGlnaGxpZ2h0QnlLZXkuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCBcbiAgICAgICAgdGhpcy5fbWFya3MgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuc2VsZWN0b3IpO1xuICAgIH1cbiAgICBnZXRTdGFydFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUmVzZXRcbiAgICAgICAgfSBdO1xuICAgIH1cbiAgICByZXNldEFsbCgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gWyB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGUsIHRoaXMub3B0aW9ucy5ibHVyU3RhdGUgXTtcbiAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVTdGF0ZShzdGF0ZXMpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXJ0KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKSkge1xuICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0S2V5ID0gZWxlbWVudC5rZXk7XG4gICAgICAgICAgICBpZiAoaXNOaWwoaGlnaGxpZ2h0S2V5KSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmtleSA9PT0gaGlnaGxpZ2h0S2V5ID8gZWwudXBkYXRlU3RhdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYmx1clN0YXRlXTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITBcbiAgICAgICAgICAgICAgICAgICAgfSkgOiBlbC51cGRhdGVTdGF0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5ibHVyU3RhdGVdOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGVdOiAhMVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzZXQoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50ID8gdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKSAmJiBlbGVtZW50LnJlbW92ZVN0YXRlKFsgdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlLCB0aGlzLm9wdGlvbnMuYmx1clN0YXRlIF0pIDogdGhpcy5yZXNldEFsbCgpO1xuICAgIH1cbn1cblxuRWxlbWVudEhpZ2hsaWdodEJ5S2V5LnR5cGUgPSBcImVsZW1lbnQtaGlnaGxpZ2h0LWJ5LWtleVwiLCBFbGVtZW50SGlnaGxpZ2h0QnlLZXkuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgaGlnaGxpZ2h0U3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmhpZ2hsaWdodCxcbiAgICBibHVyU3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmJsdXIsXG4gICAgdHJpZ2dlcjogXCJwb2ludGVyb3ZlclwiLFxuICAgIHRyaWdnZXJPZmY6IFwicG9pbnRlcm91dFwiXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudC1oaWdobGlnaHQtYnkta2V5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-key.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-legend.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-legend.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlightByLegend: () => (/* binding */ ElementHighlightByLegend)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/legend/constant.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n\n\n\n\n\n\n\n\n\n\nclass ElementHighlightByLegend extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlightByLegend.type, this.handleStart = (e, element) => {\n            var _a, _b;\n            this.start(null === (_b = null === (_a = e.detail) || void 0 === _a ? void 0 : _a.data) || void 0 === _b ? void 0 : _b.id);\n        }, this.handleReset = e => {\n            this.resetAll();\n        }, this.options = Object.assign({}, ElementHighlightByLegend.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        return [ {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.LegendEvent.legendItemHover,\n            handler: this.handleStart\n        }, {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_1__.LegendEvent.legendItemUnHover,\n            handler: this.handleReset\n        } ];\n    }\n    start(itemKey) {\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(itemKey)) return;\n        const filterValue = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.generateFilterValue)(this.options);\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                filterValue(el) === itemKey ? el.updateStates({\n                    [this.options.blurState]: !1,\n                    [this.options.highlightState]: !0\n                }) : el.updateStates({\n                    [this.options.blurState]: !0,\n                    [this.options.highlightState]: !1\n                });\n            }));\n        }));\n    }\n    resetAll() {\n        const states = [ this.options.highlightState, this.options.blurState ];\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(states);\n            }));\n        }));\n    }\n    reset(element) {\n        element ? this._marks && this._marks.includes(element.mark) && element.removeState([ this.options.highlightState, this.options.blurState ]) : this.resetAll();\n    }\n}\n\nElementHighlightByLegend.type = \"element-highlight-by-legend\", ElementHighlightByLegend.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.blur,\n    filterType: \"groupKey\"\n};\n//# sourceMappingURL=element-highlight-by-legend.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LWxlZ2VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0Q7O0FBRWI7O0FBRWtCOztBQUVsQjs7QUFFSzs7QUFFdkMsdUNBQXVDLGtEQUFlO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUVBQVc7QUFDN0I7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLHFFQUFXO0FBQzdCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxZQUFZLDREQUFLO0FBQ2pCLDRCQUE0QiwyREFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLDhEQUFvQjtBQUN4QyxlQUFlLDhEQUFvQjtBQUNuQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9lbGVtZW50LWhpZ2hsaWdodC1ieS1sZWdlbmQuanM/Y2Q2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmltcG9ydCB7IExlZ2VuZEV2ZW50IH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBnZW5lcmF0ZUZpbHRlclZhbHVlIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRIaWdobGlnaHRCeUxlZ2VuZCBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRWxlbWVudEhpZ2hsaWdodEJ5TGVnZW5kLnR5cGUsIHRoaXMuaGFuZGxlU3RhcnQgPSAoZSwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQobnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gZS5kZXRhaWwpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5kYXRhKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuaWQpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0QWxsKCk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIEVsZW1lbnRIaWdobGlnaHRCeUxlZ2VuZC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIFxuICAgICAgICB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgfVxuICAgIGdldFN0YXJ0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGU7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogTGVnZW5kRXZlbnQubGVnZW5kSXRlbUhvdmVyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiBMZWdlbmRFdmVudC5sZWdlbmRJdGVtVW5Ib3ZlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUmVzZXRcbiAgICAgICAgfSBdO1xuICAgIH1cbiAgICBzdGFydChpdGVtS2V5KSB7XG4gICAgICAgIGlmIChpc05pbChpdGVtS2V5KSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBmaWx0ZXJWYWx1ZSA9IGdlbmVyYXRlRmlsdGVyVmFsdWUodGhpcy5vcHRpb25zKTtcbiAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJWYWx1ZShlbCkgPT09IGl0ZW1LZXkgPyBlbC51cGRhdGVTdGF0ZXMoe1xuICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmJsdXJTdGF0ZV06ICExLFxuICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITBcbiAgICAgICAgICAgICAgICB9KSA6IGVsLnVwZGF0ZVN0YXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYmx1clN0YXRlXTogITAsXG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGVdOiAhMVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJlc2V0QWxsKCkge1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBbIHRoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZSwgdGhpcy5vcHRpb25zLmJsdXJTdGF0ZSBdO1xuICAgICAgICB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZVN0YXRlKHN0YXRlcyk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVzZXQoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50ID8gdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKSAmJiBlbGVtZW50LnJlbW92ZVN0YXRlKFsgdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlLCB0aGlzLm9wdGlvbnMuYmx1clN0YXRlIF0pIDogdGhpcy5yZXNldEFsbCgpO1xuICAgIH1cbn1cblxuRWxlbWVudEhpZ2hsaWdodEJ5TGVnZW5kLnR5cGUgPSBcImVsZW1lbnQtaGlnaGxpZ2h0LWJ5LWxlZ2VuZFwiLCBFbGVtZW50SGlnaGxpZ2h0QnlMZWdlbmQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgaGlnaGxpZ2h0U3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmhpZ2hsaWdodCxcbiAgICBibHVyU3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmJsdXIsXG4gICAgZmlsdGVyVHlwZTogXCJncm91cEtleVwiXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudC1oaWdobGlnaHQtYnktbGVnZW5kLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-legend.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-name.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-name.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlightByName: () => (/* binding */ ElementHighlightByName)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n\n\n\n\n\n\n\n\nclass ElementHighlightByName extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlightByName.type, this.handleStart = (e, element) => {\n            if (this.options.shouldStart ? this.options.shouldStart(e) : this._filterByName(e)) {\n                const itemKey = this._parseTargetKey(e, element);\n                this.start(itemKey);\n            }\n        }, this.handleReset = e => {\n            (this.options.shouldReset ? this.options.shouldReset(e) : this._filterByName(e)) && this.resetAll();\n        }, this.options = Object.assign({}, ElementHighlightByName.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.selector);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    _filterByName(e) {\n        var _a;\n        const names = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(this.options.graphicName);\n        return (null === (_a = null == e ? void 0 : e.target) || void 0 === _a ? void 0 : _a.name) && names.includes(e.target.name);\n    }\n    _parseTargetKey(e, element) {\n        return this.options.parseData ? this.options.parseData(e) : \"text\" === e.target.type ? e.target.attribute.text : null;\n    }\n    start(itemKey) {\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(itemKey)) return;\n        const filterValue = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.generateFilterValue)(this.options);\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                filterValue(el) === itemKey ? el.updateStates({\n                    [this.options.blurState]: !1,\n                    [this.options.highlightState]: !0\n                }) : el.updateStates({\n                    [this.options.blurState]: !0,\n                    [this.options.highlightState]: !1\n                });\n            }));\n        }));\n    }\n    resetAll() {\n        const states = [ this.options.blurState, this.options.highlightState ];\n        this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                el.removeState(states);\n            }));\n        }));\n    }\n    reset(element) {\n        element ? this._marks && this._marks.includes(element.mark) && element.removeState([ this.options.highlightState, this.options.blurState ]) : this.resetAll();\n    }\n}\n\nElementHighlightByName.type = \"element-highlight-by-name\", ElementHighlightByName.defaultOptions = {\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\",\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_4__.InteractionStateEnum.blur,\n    filterType: \"groupKey\"\n};\n//# sourceMappingURL=element-highlight-by-name.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LWJ5LW5hbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNEOztBQUViOztBQUVPOztBQUVGOztBQUV2QyxxQ0FBcUMsa0RBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQUs7QUFDakIsNEJBQTRCLDJEQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhEQUFvQjtBQUN4QyxlQUFlLDhEQUFvQjtBQUNuQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9lbGVtZW50LWhpZ2hsaWdodC1ieS1uYW1lLmpzP2Q3MDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW50ZXJhY3Rpb25TdGF0ZUVudW0gfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgQmFzZUludGVyYWN0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xuXG5pbXBvcnQgeyBhcnJheSwgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBnZW5lcmF0ZUZpbHRlclZhbHVlIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRIaWdobGlnaHRCeU5hbWUgZXh0ZW5kcyBCYXNlSW50ZXJhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IEVsZW1lbnRIaWdobGlnaHRCeU5hbWUudHlwZSwgdGhpcy5oYW5kbGVTdGFydCA9IChlLCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0ID8gdGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0KGUpIDogdGhpcy5fZmlsdGVyQnlOYW1lKGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUtleSA9IHRoaXMuX3BhcnNlVGFyZ2V0S2V5KGUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoaXRlbUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUmVzZXQgPSBlID0+IHtcbiAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuc2hvdWxkUmVzZXQgPyB0aGlzLm9wdGlvbnMuc2hvdWxkUmVzZXQoZSkgOiB0aGlzLl9maWx0ZXJCeU5hbWUoZSkpICYmIHRoaXMucmVzZXRBbGwoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgRWxlbWVudEhpZ2hsaWdodEJ5TmFtZS5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIFxuICAgICAgICB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgfVxuICAgIGdldFN0YXJ0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGU7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVN0YXJ0XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSZXNldFxuICAgICAgICB9IF07XG4gICAgfVxuICAgIF9maWx0ZXJCeU5hbWUoZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IG5hbWVzID0gYXJyYXkodGhpcy5vcHRpb25zLmdyYXBoaWNOYW1lKTtcbiAgICAgICAgcmV0dXJuIChudWxsID09PSAoX2EgPSBudWxsID09IGUgPyB2b2lkIDAgOiBlLnRhcmdldCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLm5hbWUpICYmIG5hbWVzLmluY2x1ZGVzKGUudGFyZ2V0Lm5hbWUpO1xuICAgIH1cbiAgICBfcGFyc2VUYXJnZXRLZXkoZSwgZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnBhcnNlRGF0YSA/IHRoaXMub3B0aW9ucy5wYXJzZURhdGEoZSkgOiBcInRleHRcIiA9PT0gZS50YXJnZXQudHlwZSA/IGUudGFyZ2V0LmF0dHJpYnV0ZS50ZXh0IDogbnVsbDtcbiAgICB9XG4gICAgc3RhcnQoaXRlbUtleSkge1xuICAgICAgICBpZiAoaXNOaWwoaXRlbUtleSkpIHJldHVybjtcbiAgICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBnZW5lcmF0ZUZpbHRlclZhbHVlKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZmlsdGVyVmFsdWUoZWwpID09PSBpdGVtS2V5ID8gZWwudXBkYXRlU3RhdGVzKHtcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5ibHVyU3RhdGVdOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZV06ICEwXG4gICAgICAgICAgICAgICAgfSkgOiBlbC51cGRhdGVTdGF0ZXMoe1xuICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmJsdXJTdGF0ZV06ICEwLFxuICAgICAgICAgICAgICAgICAgICBbdGhpcy5vcHRpb25zLmhpZ2hsaWdodFN0YXRlXTogITFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXNldEFsbCgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gWyB0aGlzLm9wdGlvbnMuYmx1clN0YXRlLCB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGUgXTtcbiAgICAgICAgdGhpcy5fbWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICBtYXJrLmVsZW1lbnRzLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVTdGF0ZShzdGF0ZXMpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJlc2V0KGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudCA/IHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykgJiYgZWxlbWVudC5yZW1vdmVTdGF0ZShbIHRoaXMub3B0aW9ucy5oaWdobGlnaHRTdGF0ZSwgdGhpcy5vcHRpb25zLmJsdXJTdGF0ZSBdKSA6IHRoaXMucmVzZXRBbGwoKTtcbiAgICB9XG59XG5cbkVsZW1lbnRIaWdobGlnaHRCeU5hbWUudHlwZSA9IFwiZWxlbWVudC1oaWdobGlnaHQtYnktbmFtZVwiLCBFbGVtZW50SGlnaGxpZ2h0QnlOYW1lLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHRyaWdnZXI6IFwicG9pbnRlcm92ZXJcIixcbiAgICB0cmlnZ2VyT2ZmOiBcInBvaW50ZXJvdXRcIixcbiAgICBoaWdobGlnaHRTdGF0ZTogSW50ZXJhY3Rpb25TdGF0ZUVudW0uaGlnaGxpZ2h0LFxuICAgIGJsdXJTdGF0ZTogSW50ZXJhY3Rpb25TdGF0ZUVudW0uYmx1cixcbiAgICBmaWx0ZXJUeXBlOiBcImdyb3VwS2V5XCJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50LWhpZ2hsaWdodC1ieS1uYW1lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-name.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementHighlight: () => (/* binding */ ElementHighlight)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n\n\n\n\n\n\n\n\nclass ElementHighlight extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementHighlight.type, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            if (!this._statedElements || !this._statedElements.length) return;\n            const element = e.element;\n            if (element) {\n                const hasActiveElement = this._marks && this._marks.includes(element.mark);\n                \"view\" !== this._resetType || hasActiveElement ? \"self\" === this._resetType && hasActiveElement && this.resetAll() : this.resetAll();\n            } else \"view\" === this._resetType && this.resetAll();\n        }, this.options = Object.assign({}, ElementHighlight.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector), \n        this._stateMarks = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.groupMarksByState)(this._marks, [ this.options.highlightState, this.options.blurState ]);\n    }\n    getStartState() {\n        return this.options.highlightState;\n    }\n    getEvents() {\n        const triggerOff = this.options.triggerOff, events = [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        } ];\n        let eventName = triggerOff;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(triggerOff) && triggerOff.includes(\"view:\") ? (eventName = triggerOff.replace(\"view:\", \"\"), \n        this._resetType = \"view\") : this._resetType = \"self\", events.push({\n            type: eventName,\n            handler: this.handleReset\n        }), events;\n    }\n    resetAll() {\n        const {highlightState: highlightState, blurState: blurState} = this.options;\n        this._lastElement && (this.clearAllStates(highlightState, blurState), this.dispatchEvent(\"reset\", {\n            elements: [ this._lastElement ],\n            options: this.options\n        }), this._lastElement = null, this._statedElements = null);\n    }\n    start(element) {\n        if (element && this._marks && this._marks.includes(element.mark)) {\n            const {highlightState: highlightState, blurState: blurState} = this.options;\n            if (this._lastElement === element) return;\n            this._statedElements = this.updateStates([ element ], this._statedElements, highlightState, blurState), \n            this._lastElement = element, this.dispatchEvent(\"start\", {\n                elements: [ element ],\n                options: this.options\n            });\n        } else this._lastElement && \"view\" === this._resetType && this.resetAll();\n    }\n    reset(element) {\n        element ? this._marks && this._marks.includes(element.mark) && element.removeState([ this.options.highlightState, this.options.blurState ]) : this.resetAll();\n    }\n}\n\nElementHighlight.type = \"element-highlight\", ElementHighlight.defaultOptions = {\n    highlightState: _graph_enums__WEBPACK_IMPORTED_MODULE_3__.InteractionStateEnum.highlight,\n    blurState: _graph_enums__WEBPACK_IMPORTED_MODULE_3__.InteractionStateEnum.blur,\n    trigger: \"pointerover\",\n    triggerOff: \"pointerout\"\n};\n//# sourceMappingURL=element-highlight.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtaGlnaGxpZ2h0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNEOztBQUViOztBQUVHOztBQUVBOztBQUVyQywrQkFBK0Isa0RBQWU7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsU0FBUyxpQ0FBaUM7QUFDMUMsMkJBQTJCLHlEQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsZUFBZSw0REFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUsc0RBQXNEO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0RBQXNEO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsOERBQW9CO0FBQ3hDLGVBQWUsOERBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvZWxlbWVudC1oaWdobGlnaHQuanM/NGVlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmltcG9ydCB7IGdyb3VwTWFya3NCeVN0YXRlIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgRWxlbWVudEhpZ2hsaWdodCBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gRWxlbWVudEhpZ2hsaWdodC50eXBlLCB0aGlzLmhhbmRsZVN0YXJ0ID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KGUuZWxlbWVudCk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlUmVzZXQgPSBlID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc3RhdGVkRWxlbWVudHMgfHwgIXRoaXMuX3N0YXRlZEVsZW1lbnRzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGUuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzQWN0aXZlRWxlbWVudCA9IHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyayk7XG4gICAgICAgICAgICAgICAgXCJ2aWV3XCIgIT09IHRoaXMuX3Jlc2V0VHlwZSB8fCBoYXNBY3RpdmVFbGVtZW50ID8gXCJzZWxmXCIgPT09IHRoaXMuX3Jlc2V0VHlwZSAmJiBoYXNBY3RpdmVFbGVtZW50ICYmIHRoaXMucmVzZXRBbGwoKSA6IHRoaXMucmVzZXRBbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSBcInZpZXdcIiA9PT0gdGhpcy5fcmVzZXRUeXBlICYmIHRoaXMucmVzZXRBbGwoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgRWxlbWVudEhpZ2hsaWdodC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNlbGVjdG9yKSwgXG4gICAgICAgIHRoaXMuX3N0YXRlTWFya3MgPSBncm91cE1hcmtzQnlTdGF0ZSh0aGlzLl9tYXJrcywgWyB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGUsIHRoaXMub3B0aW9ucy5ibHVyU3RhdGUgXSk7XG4gICAgfVxuICAgIGdldFN0YXJ0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGU7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgdHJpZ2dlck9mZiA9IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLCBldmVudHMgPSBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9IF07XG4gICAgICAgIGxldCBldmVudE5hbWUgPSB0cmlnZ2VyT2ZmO1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodHJpZ2dlck9mZikgJiYgdHJpZ2dlck9mZi5pbmNsdWRlcyhcInZpZXc6XCIpID8gKGV2ZW50TmFtZSA9IHRyaWdnZXJPZmYucmVwbGFjZShcInZpZXc6XCIsIFwiXCIpLCBcbiAgICAgICAgdGhpcy5fcmVzZXRUeXBlID0gXCJ2aWV3XCIpIDogdGhpcy5fcmVzZXRUeXBlID0gXCJzZWxmXCIsIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUmVzZXRcbiAgICAgICAgfSksIGV2ZW50cztcbiAgICB9XG4gICAgcmVzZXRBbGwoKSB7XG4gICAgICAgIGNvbnN0IHtoaWdobGlnaHRTdGF0ZTogaGlnaGxpZ2h0U3RhdGUsIGJsdXJTdGF0ZTogYmx1clN0YXRlfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdGhpcy5fbGFzdEVsZW1lbnQgJiYgKHRoaXMuY2xlYXJBbGxTdGF0ZXMoaGlnaGxpZ2h0U3RhdGUsIGJsdXJTdGF0ZSksIHRoaXMuZGlzcGF0Y2hFdmVudChcInJlc2V0XCIsIHtcbiAgICAgICAgICAgIGVsZW1lbnRzOiBbIHRoaXMuX2xhc3RFbGVtZW50IF0sXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnNcbiAgICAgICAgfSksIHRoaXMuX2xhc3RFbGVtZW50ID0gbnVsbCwgdGhpcy5fc3RhdGVkRWxlbWVudHMgPSBudWxsKTtcbiAgICB9XG4gICAgc3RhcnQoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudCAmJiB0aGlzLl9tYXJrcyAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlbGVtZW50Lm1hcmspKSB7XG4gICAgICAgICAgICBjb25zdCB7aGlnaGxpZ2h0U3RhdGU6IGhpZ2hsaWdodFN0YXRlLCBibHVyU3RhdGU6IGJsdXJTdGF0ZX0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGFzdEVsZW1lbnQgPT09IGVsZW1lbnQpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlZEVsZW1lbnRzID0gdGhpcy51cGRhdGVTdGF0ZXMoWyBlbGVtZW50IF0sIHRoaXMuX3N0YXRlZEVsZW1lbnRzLCBoaWdobGlnaHRTdGF0ZSwgYmx1clN0YXRlKSwgXG4gICAgICAgICAgICB0aGlzLl9sYXN0RWxlbWVudCA9IGVsZW1lbnQsIHRoaXMuZGlzcGF0Y2hFdmVudChcInN0YXJ0XCIsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50czogWyBlbGVtZW50IF0sXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHRoaXMuX2xhc3RFbGVtZW50ICYmIFwidmlld1wiID09PSB0aGlzLl9yZXNldFR5cGUgJiYgdGhpcy5yZXNldEFsbCgpO1xuICAgIH1cbiAgICByZXNldChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQgPyB0aGlzLl9tYXJrcyAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlbGVtZW50Lm1hcmspICYmIGVsZW1lbnQucmVtb3ZlU3RhdGUoWyB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0U3RhdGUsIHRoaXMub3B0aW9ucy5ibHVyU3RhdGUgXSkgOiB0aGlzLnJlc2V0QWxsKCk7XG4gICAgfVxufVxuXG5FbGVtZW50SGlnaGxpZ2h0LnR5cGUgPSBcImVsZW1lbnQtaGlnaGxpZ2h0XCIsIEVsZW1lbnRIaWdobGlnaHQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgaGlnaGxpZ2h0U3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmhpZ2hsaWdodCxcbiAgICBibHVyU3RhdGU6IEludGVyYWN0aW9uU3RhdGVFbnVtLmJsdXIsXG4gICAgdHJpZ2dlcjogXCJwb2ludGVyb3ZlclwiLFxuICAgIHRyaWdnZXJPZmY6IFwicG9pbnRlcm91dFwiXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudC1oaWdobGlnaHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-select-by-graphic-name.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-select-by-graphic-name.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementSelectByGraphicName: () => (/* binding */ ElementSelectByGraphicName)\n/* harmony export */ });\n/* harmony import */ var _element_select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element-select */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-select.js\");\n\n\nclass ElementSelectByGraphicName extends _element_select__WEBPACK_IMPORTED_MODULE_0__.ElementSelect {\n    constructor() {\n        super(...arguments), this.type = ElementSelectByGraphicName.type;\n    }\n    start(element) {\n        var _a;\n        const name = null === (_a = element.getGraphicItem()) || void 0 === _a ? void 0 : _a.name;\n        name && this._marks.forEach((mark => {\n            mark.elements.forEach((el => {\n                var _a;\n                (null === (_a = el.getGraphicItem()) || void 0 === _a ? void 0 : _a.name) === name && super.start(el);\n            }));\n        }));\n    }\n}\n\nElementSelectByGraphicName.type = \"element-select-by-graphic-name\";\n//# sourceMappingURL=element-select-by-graphic-name.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtc2VsZWN0LWJ5LWdyYXBoaWMtbmFtZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRDs7QUFFMUMseUNBQXlDLDBEQUFhO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9lbGVtZW50LXNlbGVjdC1ieS1ncmFwaGljLW5hbWUuanM/ZWE3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbGVtZW50U2VsZWN0IH0gZnJvbSBcIi4vZWxlbWVudC1zZWxlY3RcIjtcblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRTZWxlY3RCeUdyYXBoaWNOYW1lIGV4dGVuZHMgRWxlbWVudFNlbGVjdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudHlwZSA9IEVsZW1lbnRTZWxlY3RCeUdyYXBoaWNOYW1lLnR5cGU7XG4gICAgfVxuICAgIHN0YXJ0KGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBuYW1lID0gbnVsbCA9PT0gKF9hID0gZWxlbWVudC5nZXRHcmFwaGljSXRlbSgpKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubmFtZTtcbiAgICAgICAgbmFtZSAmJiB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsuZWxlbWVudHMuZm9yRWFjaCgoZWwgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAobnVsbCA9PT0gKF9hID0gZWwuZ2V0R3JhcGhpY0l0ZW0oKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLm5hbWUpID09PSBuYW1lICYmIHN1cGVyLnN0YXJ0KGVsKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuRWxlbWVudFNlbGVjdEJ5R3JhcGhpY05hbWUudHlwZSA9IFwiZWxlbWVudC1zZWxlY3QtYnktZ3JhcGhpYy1uYW1lXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50LXNlbGVjdC1ieS1ncmFwaGljLW5hbWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-select-by-graphic-name.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-select.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-select.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ElementSelect: () => (/* binding */ ElementSelect)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n\n\n\n\n\n\n\n\nclass ElementSelect extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = ElementSelect.type, this._resetType = [], this.resetAll = () => {\n            const {state: state, reverseState: reverseState} = this.options;\n            this._statedElements && this._statedElements.length && (this.clearAllStates(state, reverseState), \n            this.dispatchEvent(\"reset\", {\n                elements: this._statedElements,\n                options: this.options\n            }), this._statedElements = []);\n        }, this.handleStart = e => {\n            this.start(e.element);\n        }, this.handleReset = e => {\n            if (!this._statedElements || !this._statedElements.length) return;\n            const element = e.element, hasActiveElement = element && this._marks && this._marks.includes(element.mark);\n            (this._resetType.includes(\"view\") && !hasActiveElement || this._resetType.includes(\"self\") && hasActiveElement) && this.resetAll();\n        }, this.options = Object.assign({}, ElementSelect.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector), \n        this._stateMarks = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.groupMarksByState)(this._marks, [ this.options.state, this.options.reverseState ]);\n    }\n    getStartState() {\n        return this.options.state;\n    }\n    getEvents() {\n        const triggerOff = this.options.triggerOff, trigger = this.options.trigger, events = [ {\n            type: trigger,\n            handler: this.handleStart\n        } ], {eventNames: eventNames, resetType: resetType} = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.parseTriggerOffOfSelect)(triggerOff);\n        return eventNames.forEach((evt => {\n            evt && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(trigger) ? !trigger.includes(evt) : evt !== trigger) && events.push({\n                type: evt,\n                handler: this.handleReset\n            });\n        })), this._resetType = resetType, events;\n    }\n    start(element) {\n        const {state: state, reverseState: reverseState, isMultiple: isMultiple} = this.options;\n        if (element && this._marks && this._marks.includes(element.mark)) if (element.hasState(state)) {\n            if (this._resetType.includes(\"self\")) {\n                const newStatedElements = this._statedElements && this._statedElements.filter((el => el !== element));\n                newStatedElements && newStatedElements.length ? this._statedElements = this.updateStates(newStatedElements, this._statedElements, state, reverseState) : this.resetAll();\n            }\n        } else this._timer && clearTimeout(this._timer), element.addState(state), this._statedElements = this.updateStates(isMultiple && this._statedElements ? [ ...this._statedElements, element ] : [ element ], this._statedElements, state, reverseState), \n        this.dispatchEvent(\"start\", {\n            elements: this._statedElements,\n            options: this.options\n        }), this._resetType.includes(\"timeout\") && (this._timer = setTimeout((() => {\n            this.resetAll();\n        }), this.options.triggerOff)); else this._resetType.includes(\"view\") && this._statedElements && this._statedElements.length && this.resetAll();\n    }\n    reset(element) {\n        element ? this._marks && this._marks.includes(element.mark) && element.removeState([ this.options.state, this.options.reverseState ]) : this.resetAll();\n    }\n}\n\nElementSelect.type = \"element-select\", ElementSelect.defaultOptions = {\n    state: _graph_enums__WEBPACK_IMPORTED_MODULE_3__.InteractionStateEnum.selected,\n    trigger: \"click\"\n};\n//# sourceMappingURL=element-select.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2VsZW1lbnQtc2VsZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDOztBQUVXOztBQUVlOztBQUU1Qjs7QUFFbEMsNEJBQTRCLGtEQUFlO0FBQ2xEO0FBQ0E7QUFDQSxtQkFBbUIsMENBQTBDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTLGlDQUFpQztBQUMxQywyQkFBMkIseURBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLElBQUksOENBQThDLEVBQUUsK0RBQXVCO0FBQ3JGO0FBQ0Esb0JBQW9CLDREQUFPO0FBQzNCO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlLGtFQUFrRTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsOEJBQThCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLDhEQUFvQjtBQUMvQjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9lbGVtZW50LXNlbGVjdC5qcz8zMDcwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBJbnRlcmFjdGlvblN0YXRlRW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBncm91cE1hcmtzQnlTdGF0ZSwgcGFyc2VUcmlnZ2VyT2ZmT2ZTZWxlY3QgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5pbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBFbGVtZW50U2VsZWN0IGV4dGVuZHMgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBFbGVtZW50U2VsZWN0LnR5cGUsIHRoaXMuX3Jlc2V0VHlwZSA9IFtdLCB0aGlzLnJlc2V0QWxsID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qge3N0YXRlOiBzdGF0ZSwgcmV2ZXJzZVN0YXRlOiByZXZlcnNlU3RhdGV9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGVkRWxlbWVudHMgJiYgdGhpcy5fc3RhdGVkRWxlbWVudHMubGVuZ3RoICYmICh0aGlzLmNsZWFyQWxsU3RhdGVzKHN0YXRlLCByZXZlcnNlU3RhdGUpLCBcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcInJlc2V0XCIsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50czogdGhpcy5fc3RhdGVkRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zXG4gICAgICAgICAgICB9KSwgdGhpcy5fc3RhdGVkRWxlbWVudHMgPSBbXSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlU3RhcnQgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoZS5lbGVtZW50KTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVSZXNldCA9IGUgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zdGF0ZWRFbGVtZW50cyB8fCAhdGhpcy5fc3RhdGVkRWxlbWVudHMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZS5lbGVtZW50LCBoYXNBY3RpdmVFbGVtZW50ID0gZWxlbWVudCAmJiB0aGlzLl9tYXJrcyAmJiB0aGlzLl9tYXJrcy5pbmNsdWRlcyhlbGVtZW50Lm1hcmspO1xuICAgICAgICAgICAgKHRoaXMuX3Jlc2V0VHlwZS5pbmNsdWRlcyhcInZpZXdcIikgJiYgIWhhc0FjdGl2ZUVsZW1lbnQgfHwgdGhpcy5fcmVzZXRUeXBlLmluY2x1ZGVzKFwic2VsZlwiKSAmJiBoYXNBY3RpdmVFbGVtZW50KSAmJiB0aGlzLnJlc2V0QWxsKCk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIEVsZW1lbnRTZWxlY3QuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zZWxlY3RvciksIFxuICAgICAgICB0aGlzLl9zdGF0ZU1hcmtzID0gZ3JvdXBNYXJrc0J5U3RhdGUodGhpcy5fbWFya3MsIFsgdGhpcy5vcHRpb25zLnN0YXRlLCB0aGlzLm9wdGlvbnMucmV2ZXJzZVN0YXRlIF0pO1xuICAgIH1cbiAgICBnZXRTdGFydFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnN0YXRlO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHRyaWdnZXJPZmYgPSB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZiwgdHJpZ2dlciA9IHRoaXMub3B0aW9ucy50cmlnZ2VyLCBldmVudHMgPSBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVN0YXJ0XG4gICAgICAgIH0gXSwge2V2ZW50TmFtZXM6IGV2ZW50TmFtZXMsIHJlc2V0VHlwZTogcmVzZXRUeXBlfSA9IHBhcnNlVHJpZ2dlck9mZk9mU2VsZWN0KHRyaWdnZXJPZmYpO1xuICAgICAgICByZXR1cm4gZXZlbnROYW1lcy5mb3JFYWNoKChldnQgPT4ge1xuICAgICAgICAgICAgZXZ0ICYmIChpc0FycmF5KHRyaWdnZXIpID8gIXRyaWdnZXIuaW5jbHVkZXMoZXZ0KSA6IGV2dCAhPT0gdHJpZ2dlcikgJiYgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IGV2dCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJlc2V0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpLCB0aGlzLl9yZXNldFR5cGUgPSByZXNldFR5cGUsIGV2ZW50cztcbiAgICB9XG4gICAgc3RhcnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCB7c3RhdGU6IHN0YXRlLCByZXZlcnNlU3RhdGU6IHJldmVyc2VTdGF0ZSwgaXNNdWx0aXBsZTogaXNNdWx0aXBsZX0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChlbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykpIGlmIChlbGVtZW50Lmhhc1N0YXRlKHN0YXRlKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc2V0VHlwZS5pbmNsdWRlcyhcInNlbGZcIikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZWRFbGVtZW50cyA9IHRoaXMuX3N0YXRlZEVsZW1lbnRzICYmIHRoaXMuX3N0YXRlZEVsZW1lbnRzLmZpbHRlcigoZWwgPT4gZWwgIT09IGVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZWRFbGVtZW50cyAmJiBuZXdTdGF0ZWRFbGVtZW50cy5sZW5ndGggPyB0aGlzLl9zdGF0ZWRFbGVtZW50cyA9IHRoaXMudXBkYXRlU3RhdGVzKG5ld1N0YXRlZEVsZW1lbnRzLCB0aGlzLl9zdGF0ZWRFbGVtZW50cywgc3RhdGUsIHJldmVyc2VTdGF0ZSkgOiB0aGlzLnJlc2V0QWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB0aGlzLl90aW1lciAmJiBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLCBlbGVtZW50LmFkZFN0YXRlKHN0YXRlKSwgdGhpcy5fc3RhdGVkRWxlbWVudHMgPSB0aGlzLnVwZGF0ZVN0YXRlcyhpc011bHRpcGxlICYmIHRoaXMuX3N0YXRlZEVsZW1lbnRzID8gWyAuLi50aGlzLl9zdGF0ZWRFbGVtZW50cywgZWxlbWVudCBdIDogWyBlbGVtZW50IF0sIHRoaXMuX3N0YXRlZEVsZW1lbnRzLCBzdGF0ZSwgcmV2ZXJzZVN0YXRlKSwgXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcInN0YXJ0XCIsIHtcbiAgICAgICAgICAgIGVsZW1lbnRzOiB0aGlzLl9zdGF0ZWRFbGVtZW50cyxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9uc1xuICAgICAgICB9KSwgdGhpcy5fcmVzZXRUeXBlLmluY2x1ZGVzKFwidGltZW91dFwiKSAmJiAodGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0QWxsKCk7XG4gICAgICAgIH0pLCB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZikpOyBlbHNlIHRoaXMuX3Jlc2V0VHlwZS5pbmNsdWRlcyhcInZpZXdcIikgJiYgdGhpcy5fc3RhdGVkRWxlbWVudHMgJiYgdGhpcy5fc3RhdGVkRWxlbWVudHMubGVuZ3RoICYmIHRoaXMucmVzZXRBbGwoKTtcbiAgICB9XG4gICAgcmVzZXQoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50ID8gdGhpcy5fbWFya3MgJiYgdGhpcy5fbWFya3MuaW5jbHVkZXMoZWxlbWVudC5tYXJrKSAmJiBlbGVtZW50LnJlbW92ZVN0YXRlKFsgdGhpcy5vcHRpb25zLnN0YXRlLCB0aGlzLm9wdGlvbnMucmV2ZXJzZVN0YXRlIF0pIDogdGhpcy5yZXNldEFsbCgpO1xuICAgIH1cbn1cblxuRWxlbWVudFNlbGVjdC50eXBlID0gXCJlbGVtZW50LXNlbGVjdFwiLCBFbGVtZW50U2VsZWN0LmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHN0YXRlOiBJbnRlcmFjdGlvblN0YXRlRW51bS5zZWxlY3RlZCxcbiAgICB0cmlnZ2VyOiBcImNsaWNrXCJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50LXNlbGVjdC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-select.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Filter: () => (/* binding */ Filter),\n/* harmony export */   FilterMixin: () => (/* binding */ FilterMixin)\n/* harmony export */ });\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n\n\n\n\nclass FilterMixin {\n    _filterData(data, source, filterRank, getFilterValue, filter, transform) {\n        const dataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(data) ? this.view.getDataById(data) : data;\n        return dataGrammar && (this.handleFilter = event => {\n            const element = null == event ? void 0 : event.element;\n            dataGrammar && (!source || element && element.mark === source) && (getFilterValue && (this._filterValue = getFilterValue(event)), \n            dataGrammar.commit(), this.view.run());\n        }, this._dataFilter = {\n            source: source ? `${source.uid}` : null,\n            rank: filterRank,\n            filter: data => {\n                if (!this._filterValue) return data;\n                const filteredData = filter ? data.filter((datum => filter(datum, this._filterValue))) : data;\n                return transform ? transform(filteredData, this._filterValue) : filteredData;\n            }\n        }, dataGrammar.addDataFilter(this._dataFilter)), this;\n    }\n}\n\nclass Filter extends _base__WEBPACK_IMPORTED_MODULE_1__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), options.target && (this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.target.data) ? view.getDataById(options.target.data) : options.target.data);\n    }\n}\n\nFilter.defaultOptions = {};\n//# sourceMappingURL=filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2ZpbHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDOztBQUVHOztBQUVyQztBQUNQO0FBQ0EsNEJBQTRCLDREQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdDQUFnQyxXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVPLHFCQUFxQixrREFBZTtBQUMzQztBQUNBLDhEQUE4RCw0REFBUTtBQUN0RTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9maWx0ZXIuanM/MTMwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIEZpbHRlck1peGluIHtcbiAgICBfZmlsdGVyRGF0YShkYXRhLCBzb3VyY2UsIGZpbHRlclJhbmssIGdldEZpbHRlclZhbHVlLCBmaWx0ZXIsIHRyYW5zZm9ybSkge1xuICAgICAgICBjb25zdCBkYXRhR3JhbW1hciA9IGlzU3RyaW5nKGRhdGEpID8gdGhpcy52aWV3LmdldERhdGFCeUlkKGRhdGEpIDogZGF0YTtcbiAgICAgICAgcmV0dXJuIGRhdGFHcmFtbWFyICYmICh0aGlzLmhhbmRsZUZpbHRlciA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBudWxsID09IGV2ZW50ID8gdm9pZCAwIDogZXZlbnQuZWxlbWVudDtcbiAgICAgICAgICAgIGRhdGFHcmFtbWFyICYmICghc291cmNlIHx8IGVsZW1lbnQgJiYgZWxlbWVudC5tYXJrID09PSBzb3VyY2UpICYmIChnZXRGaWx0ZXJWYWx1ZSAmJiAodGhpcy5fZmlsdGVyVmFsdWUgPSBnZXRGaWx0ZXJWYWx1ZShldmVudCkpLCBcbiAgICAgICAgICAgIGRhdGFHcmFtbWFyLmNvbW1pdCgpLCB0aGlzLnZpZXcucnVuKCkpO1xuICAgICAgICB9LCB0aGlzLl9kYXRhRmlsdGVyID0ge1xuICAgICAgICAgICAgc291cmNlOiBzb3VyY2UgPyBgJHtzb3VyY2UudWlkfWAgOiBudWxsLFxuICAgICAgICAgICAgcmFuazogZmlsdGVyUmFuayxcbiAgICAgICAgICAgIGZpbHRlcjogZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9maWx0ZXJWYWx1ZSkgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWREYXRhID0gZmlsdGVyID8gZGF0YS5maWx0ZXIoKGRhdHVtID0+IGZpbHRlcihkYXR1bSwgdGhpcy5fZmlsdGVyVmFsdWUpKSkgOiBkYXRhO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0oZmlsdGVyZWREYXRhLCB0aGlzLl9maWx0ZXJWYWx1ZSkgOiBmaWx0ZXJlZERhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGRhdGFHcmFtbWFyLmFkZERhdGFGaWx0ZXIodGhpcy5fZGF0YUZpbHRlcikpLCB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlciBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgb3B0aW9ucy50YXJnZXQgJiYgKHRoaXMuX2RhdGEgPSBpc1N0cmluZyhvcHRpb25zLnRhcmdldC5kYXRhKSA/IHZpZXcuZ2V0RGF0YUJ5SWQob3B0aW9ucy50YXJnZXQuZGF0YSkgOiBvcHRpb25zLnRhcmdldC5kYXRhKTtcbiAgICB9XG59XG5cbkZpbHRlci5kZWZhdWx0T3B0aW9ucyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/fish-eye.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/fish-eye.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FishEye: () => (/* binding */ FishEye)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n\n\n\n\nclass FishEye extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.type = FishEye.type, this.handleStart = e => {\n            e && (this.options.shouldStart ? this.options.shouldStart(e) : this.shouldHandle(e)) && (this._inited || this._initGrammars(), \n            this._isActive || (this._isActive = !0, this.updateView({\n                x: e.canvasX,\n                y: e.canvasY\n            }, e)));\n        }, this.handleUpdateInner = e => {\n            e && (this.options.shouldUpdate ? this.options.shouldUpdate(e) : this.shouldUpdate(e)) && this._isActive && this.updateView({\n                x: e.canvasX,\n                y: e.canvasY\n            }, e);\n        }, this.handleEnd = e => {\n            e && (this.options.shouldEnd ? this.options.shouldEnd(e) : this.shouldHandle(e)) && !this.options.triggerOff && this._isActive && (this._isActive = !1, \n            this.updateView(null, e));\n        }, this.handleReset = e => {\n            e && (this.options.shouldReset ? this.options.shouldReset(e) : this.shouldHandle(e)) && this._isActive && (this.updateView(null, e), \n            this._isActive = !1);\n        }, this.options = Object.assign({}, FishEye.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.selector), \n        this.handleUpdate = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.handleUpdateInner, this.options.throttle);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.updateTrigger,\n            handler: this.handleUpdate\n        }, {\n            type: this.options.endTrigger,\n            handler: this.handleEnd\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n    _initStateByDim(dim, distortion, scale, radius, radiusRatio) {\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(scale) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(scale) ? this.view.getScaleById(scale) : scale;\n        this._state[dim] = {\n            scale: scaleGrammar,\n            distortion: distortion,\n            radius: radius,\n            radiusRatio: radiusRatio\n        };\n    }\n    _initGrammars() {\n        const {enableX: enableX, enableY: enableY, scaleX: scaleX, scaleY: scaleY, distortionX: distortionX, distortionY: distortionY, radiusRatioX: radiusRatioX, radiusRatioY: radiusRatioY, radiusX: radiusX, radiusY: radiusY} = this.options;\n        this._state = {}, !1 !== enableX && this._initStateByDim(\"x\", distortionX, scaleX, radiusX, radiusRatioX), \n        !1 !== enableY && this._initStateByDim(\"y\", distortionY, scaleY, radiusY, radiusRatioY), \n        this._inited = !0;\n    }\n    updateView(focus, e) {\n        let needUpdate = !1;\n        focus ? Object.keys(this._state).forEach((dim => {\n            const dimState = this._state[dim];\n            dimState.scale && dimState.focus !== focus[dim] && (needUpdate = !0, dimState.focus = focus[dim], \n            dimState.scale.setFishEye({\n                distortion: dimState.distortion,\n                radius: dimState.radius,\n                radiusRatio: dimState.radiusRatio,\n                focus: focus[dim]\n            }), dimState.scale.commit());\n        })) : Object.keys(this._state).forEach((dim => {\n            const dimState = this._state[dim];\n            dimState.scale && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(dimState.focus) && (needUpdate = !0, dimState.focus = null, \n            dimState.scale.setFishEye(null), dimState.scale.commit());\n        })), needUpdate && this.view.run();\n    }\n    shouldHandle(e) {\n        var _a, _b, _c;\n        return this._marks ? e.element && this._marks && this._marks.includes(e.element.mark) : e.target === (null === (_c = null === (_b = null === (_a = this.view) || void 0 === _a ? void 0 : _a.renderer) || void 0 === _b ? void 0 : _b.stage) || void 0 === _c ? void 0 : _c.call(_b));\n    }\n    shouldUpdate(e) {\n        if (this._marks) return e.element && this._marks && this._marks.includes(e.element.mark);\n        const viewBox = this.view.getViewBox();\n        return e.canvasX >= viewBox.x1 && e.canvasX <= viewBox.x2 && e.canvasY >= viewBox.y1 && e.canvasY <= viewBox.y2;\n    }\n    unbind() {\n        super.unbind(), this._state && Object.keys(this._state).forEach((dim => {\n            const {scale: scale} = this._state[dim];\n            scale && (scale.setRangeFactor(null), scale.commit());\n        })), this._state = null;\n    }\n}\n\nFishEye.type = \"fish-eye\", FishEye.defaultOptions = {\n    trigger: \"pointerenter\",\n    updateTrigger: \"pointermove\",\n    endTrigger: \"pointerleave\",\n    distortionX: 2,\n    distortionY: 2,\n    throttle: 100\n};\n//# sourceMappingURL=fish-eye.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Zpc2gtZXllLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTZEOztBQUVwQjs7QUFFbEMsc0JBQXNCLGtEQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTLGlDQUFpQztBQUMxQyw0QkFBNEIsNERBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsNkJBQTZCLDREQUFLLGlCQUFpQiw0REFBUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvTkFBb047QUFDbk8sd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLCtCQUErQiw0REFBSztBQUNwQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2Zpc2gtZXllLmpzP2VjMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIGlzU3RyaW5nLCB0aHJvdHRsZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIEZpc2hFeWUgZXh0ZW5kcyBCYXNlSW50ZXJhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IEZpc2hFeWUudHlwZSwgdGhpcy5oYW5kbGVTdGFydCA9IGUgPT4ge1xuICAgICAgICAgICAgZSAmJiAodGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0ID8gdGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0KGUpIDogdGhpcy5zaG91bGRIYW5kbGUoZSkpICYmICh0aGlzLl9pbml0ZWQgfHwgdGhpcy5faW5pdEdyYW1tYXJzKCksIFxuICAgICAgICAgICAgdGhpcy5faXNBY3RpdmUgfHwgKHRoaXMuX2lzQWN0aXZlID0gITAsIHRoaXMudXBkYXRlVmlldyh7XG4gICAgICAgICAgICAgICAgeDogZS5jYW52YXNYLFxuICAgICAgICAgICAgICAgIHk6IGUuY2FudmFzWVxuICAgICAgICAgICAgfSwgZSkpKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVVcGRhdGVJbm5lciA9IGUgPT4ge1xuICAgICAgICAgICAgZSAmJiAodGhpcy5vcHRpb25zLnNob3VsZFVwZGF0ZSA/IHRoaXMub3B0aW9ucy5zaG91bGRVcGRhdGUoZSkgOiB0aGlzLnNob3VsZFVwZGF0ZShlKSkgJiYgdGhpcy5faXNBY3RpdmUgJiYgdGhpcy51cGRhdGVWaWV3KHtcbiAgICAgICAgICAgICAgICB4OiBlLmNhbnZhc1gsXG4gICAgICAgICAgICAgICAgeTogZS5jYW52YXNZXG4gICAgICAgICAgICB9LCBlKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVFbmQgPSBlID0+IHtcbiAgICAgICAgICAgIGUgJiYgKHRoaXMub3B0aW9ucy5zaG91bGRFbmQgPyB0aGlzLm9wdGlvbnMuc2hvdWxkRW5kKGUpIDogdGhpcy5zaG91bGRIYW5kbGUoZSkpICYmICF0aGlzLm9wdGlvbnMudHJpZ2dlck9mZiAmJiB0aGlzLl9pc0FjdGl2ZSAmJiAodGhpcy5faXNBY3RpdmUgPSAhMSwgXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXcobnVsbCwgZSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZSA9PiB7XG4gICAgICAgICAgICBlICYmICh0aGlzLm9wdGlvbnMuc2hvdWxkUmVzZXQgPyB0aGlzLm9wdGlvbnMuc2hvdWxkUmVzZXQoZSkgOiB0aGlzLnNob3VsZEhhbmRsZShlKSkgJiYgdGhpcy5faXNBY3RpdmUgJiYgKHRoaXMudXBkYXRlVmlldyhudWxsLCBlKSwgXG4gICAgICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9ICExKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgRmlzaEV5ZS5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNlbGVjdG9yKSwgXG4gICAgICAgIHRoaXMuaGFuZGxlVXBkYXRlID0gdGhyb3R0bGUodGhpcy5oYW5kbGVVcGRhdGVJbm5lciwgdGhpcy5vcHRpb25zLnRocm90dGxlKTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlU3RhcnRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnVwZGF0ZVRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVVwZGF0ZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuZW5kVHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlRW5kXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSZXNldFxuICAgICAgICB9IF07XG4gICAgfVxuICAgIF9pbml0U3RhdGVCeURpbShkaW0sIGRpc3RvcnRpb24sIHNjYWxlLCByYWRpdXMsIHJhZGl1c1JhdGlvKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzTmlsKHNjYWxlKSA/IG51bGwgOiBpc1N0cmluZyhzY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHNjYWxlKSA6IHNjYWxlO1xuICAgICAgICB0aGlzLl9zdGF0ZVtkaW1dID0ge1xuICAgICAgICAgICAgc2NhbGU6IHNjYWxlR3JhbW1hcixcbiAgICAgICAgICAgIGRpc3RvcnRpb246IGRpc3RvcnRpb24sXG4gICAgICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgICAgIHJhZGl1c1JhdGlvOiByYWRpdXNSYXRpb1xuICAgICAgICB9O1xuICAgIH1cbiAgICBfaW5pdEdyYW1tYXJzKCkge1xuICAgICAgICBjb25zdCB7ZW5hYmxlWDogZW5hYmxlWCwgZW5hYmxlWTogZW5hYmxlWSwgc2NhbGVYOiBzY2FsZVgsIHNjYWxlWTogc2NhbGVZLCBkaXN0b3J0aW9uWDogZGlzdG9ydGlvblgsIGRpc3RvcnRpb25ZOiBkaXN0b3J0aW9uWSwgcmFkaXVzUmF0aW9YOiByYWRpdXNSYXRpb1gsIHJhZGl1c1JhdGlvWTogcmFkaXVzUmF0aW9ZLCByYWRpdXNYOiByYWRpdXNYLCByYWRpdXNZOiByYWRpdXNZfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdGhpcy5fc3RhdGUgPSB7fSwgITEgIT09IGVuYWJsZVggJiYgdGhpcy5faW5pdFN0YXRlQnlEaW0oXCJ4XCIsIGRpc3RvcnRpb25YLCBzY2FsZVgsIHJhZGl1c1gsIHJhZGl1c1JhdGlvWCksIFxuICAgICAgICAhMSAhPT0gZW5hYmxlWSAmJiB0aGlzLl9pbml0U3RhdGVCeURpbShcInlcIiwgZGlzdG9ydGlvblksIHNjYWxlWSwgcmFkaXVzWSwgcmFkaXVzUmF0aW9ZKSwgXG4gICAgICAgIHRoaXMuX2luaXRlZCA9ICEwO1xuICAgIH1cbiAgICB1cGRhdGVWaWV3KGZvY3VzLCBlKSB7XG4gICAgICAgIGxldCBuZWVkVXBkYXRlID0gITE7XG4gICAgICAgIGZvY3VzID8gT2JqZWN0LmtleXModGhpcy5fc3RhdGUpLmZvckVhY2goKGRpbSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaW1TdGF0ZSA9IHRoaXMuX3N0YXRlW2RpbV07XG4gICAgICAgICAgICBkaW1TdGF0ZS5zY2FsZSAmJiBkaW1TdGF0ZS5mb2N1cyAhPT0gZm9jdXNbZGltXSAmJiAobmVlZFVwZGF0ZSA9ICEwLCBkaW1TdGF0ZS5mb2N1cyA9IGZvY3VzW2RpbV0sIFxuICAgICAgICAgICAgZGltU3RhdGUuc2NhbGUuc2V0RmlzaEV5ZSh7XG4gICAgICAgICAgICAgICAgZGlzdG9ydGlvbjogZGltU3RhdGUuZGlzdG9ydGlvbixcbiAgICAgICAgICAgICAgICByYWRpdXM6IGRpbVN0YXRlLnJhZGl1cyxcbiAgICAgICAgICAgICAgICByYWRpdXNSYXRpbzogZGltU3RhdGUucmFkaXVzUmF0aW8sXG4gICAgICAgICAgICAgICAgZm9jdXM6IGZvY3VzW2RpbV1cbiAgICAgICAgICAgIH0pLCBkaW1TdGF0ZS5zY2FsZS5jb21taXQoKSk7XG4gICAgICAgIH0pKSA6IE9iamVjdC5rZXlzKHRoaXMuX3N0YXRlKS5mb3JFYWNoKChkaW0gPT4ge1xuICAgICAgICAgICAgY29uc3QgZGltU3RhdGUgPSB0aGlzLl9zdGF0ZVtkaW1dO1xuICAgICAgICAgICAgZGltU3RhdGUuc2NhbGUgJiYgIWlzTmlsKGRpbVN0YXRlLmZvY3VzKSAmJiAobmVlZFVwZGF0ZSA9ICEwLCBkaW1TdGF0ZS5mb2N1cyA9IG51bGwsIFxuICAgICAgICAgICAgZGltU3RhdGUuc2NhbGUuc2V0RmlzaEV5ZShudWxsKSwgZGltU3RhdGUuc2NhbGUuY29tbWl0KCkpO1xuICAgICAgICB9KSksIG5lZWRVcGRhdGUgJiYgdGhpcy52aWV3LnJ1bigpO1xuICAgIH1cbiAgICBzaG91bGRIYW5kbGUoZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcmtzID8gZS5lbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGUuZWxlbWVudC5tYXJrKSA6IGUudGFyZ2V0ID09PSAobnVsbCA9PT0gKF9jID0gbnVsbCA9PT0gKF9iID0gbnVsbCA9PT0gKF9hID0gdGhpcy52aWV3KSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EucmVuZGVyZXIpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5zdGFnZSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmNhbGwoX2IpKTtcbiAgICB9XG4gICAgc2hvdWxkVXBkYXRlKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcmtzKSByZXR1cm4gZS5lbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGUuZWxlbWVudC5tYXJrKTtcbiAgICAgICAgY29uc3Qgdmlld0JveCA9IHRoaXMudmlldy5nZXRWaWV3Qm94KCk7XG4gICAgICAgIHJldHVybiBlLmNhbnZhc1ggPj0gdmlld0JveC54MSAmJiBlLmNhbnZhc1ggPD0gdmlld0JveC54MiAmJiBlLmNhbnZhc1kgPj0gdmlld0JveC55MSAmJiBlLmNhbnZhc1kgPD0gdmlld0JveC55MjtcbiAgICB9XG4gICAgdW5iaW5kKCkge1xuICAgICAgICBzdXBlci51bmJpbmQoKSwgdGhpcy5fc3RhdGUgJiYgT2JqZWN0LmtleXModGhpcy5fc3RhdGUpLmZvckVhY2goKGRpbSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7c2NhbGU6IHNjYWxlfSA9IHRoaXMuX3N0YXRlW2RpbV07XG4gICAgICAgICAgICBzY2FsZSAmJiAoc2NhbGUuc2V0UmFuZ2VGYWN0b3IobnVsbCksIHNjYWxlLmNvbW1pdCgpKTtcbiAgICAgICAgfSkpLCB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgfVxufVxuXG5GaXNoRXllLnR5cGUgPSBcImZpc2gtZXllXCIsIEZpc2hFeWUuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgdHJpZ2dlcjogXCJwb2ludGVyZW50ZXJcIixcbiAgICB1cGRhdGVUcmlnZ2VyOiBcInBvaW50ZXJtb3ZlXCIsXG4gICAgZW5kVHJpZ2dlcjogXCJwb2ludGVybGVhdmVcIixcbiAgICBkaXN0b3J0aW9uWDogMixcbiAgICBkaXN0b3J0aW9uWTogMixcbiAgICB0aHJvdHRsZTogMTAwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlzaC1leWUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/fish-eye.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/index.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/index.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseInteraction: () => (/* reexport safe */ _base__WEBPACK_IMPORTED_MODULE_1__.BaseInteraction),\n/* harmony export */   BaseTooltip: () => (/* reexport safe */ _base_tooltip__WEBPACK_IMPORTED_MODULE_0__.BaseTooltip),\n/* harmony export */   BrushActive: () => (/* reexport safe */ _brush_active__WEBPACK_IMPORTED_MODULE_13__.BrushActive),\n/* harmony export */   BrushBase: () => (/* reexport safe */ _brush_base__WEBPACK_IMPORTED_MODULE_2__.BrushBase),\n/* harmony export */   BrushHighlight: () => (/* reexport safe */ _brush_highlight__WEBPACK_IMPORTED_MODULE_12__.BrushHighlight),\n/* harmony export */   Crosshair: () => (/* reexport safe */ _crosshair__WEBPACK_IMPORTED_MODULE_18__.Crosshair),\n/* harmony export */   DimensionTooltip: () => (/* reexport safe */ _dimension_tooltip__WEBPACK_IMPORTED_MODULE_17__.DimensionTooltip),\n/* harmony export */   DrillDown: () => (/* reexport safe */ _drill_down__WEBPACK_IMPORTED_MODULE_14__.DrillDown),\n/* harmony export */   ElementActive: () => (/* reexport safe */ _element_active__WEBPACK_IMPORTED_MODULE_4__.ElementActive),\n/* harmony export */   ElementActiveByLegend: () => (/* reexport safe */ _element_active_by_legend__WEBPACK_IMPORTED_MODULE_9__.ElementActiveByLegend),\n/* harmony export */   ElementHighlight: () => (/* reexport safe */ _element_highlight__WEBPACK_IMPORTED_MODULE_6__.ElementHighlight),\n/* harmony export */   ElementHighlightByGroup: () => (/* reexport safe */ _element_highlight_by_group__WEBPACK_IMPORTED_MODULE_8__.ElementHighlightByGroup),\n/* harmony export */   ElementHighlightByKey: () => (/* reexport safe */ _element_highlight_by_key__WEBPACK_IMPORTED_MODULE_7__.ElementHighlightByKey),\n/* harmony export */   ElementHighlightByLegend: () => (/* reexport safe */ _element_highlight_by_legend__WEBPACK_IMPORTED_MODULE_10__.ElementHighlightByLegend),\n/* harmony export */   ElementHighlightByName: () => (/* reexport safe */ _element_highlight_by_name__WEBPACK_IMPORTED_MODULE_11__.ElementHighlightByName),\n/* harmony export */   ElementSelect: () => (/* reexport safe */ _element_select__WEBPACK_IMPORTED_MODULE_5__.ElementSelect),\n/* harmony export */   FilterMixin: () => (/* reexport safe */ _filter__WEBPACK_IMPORTED_MODULE_19__.FilterMixin),\n/* harmony export */   FishEye: () => (/* reexport safe */ _fish_eye__WEBPACK_IMPORTED_MODULE_27__.FishEye),\n/* harmony export */   RollUp: () => (/* reexport safe */ _roll_up__WEBPACK_IMPORTED_MODULE_15__.RollUp),\n/* harmony export */   Tooltip: () => (/* reexport safe */ _tooltip__WEBPACK_IMPORTED_MODULE_16__.Tooltip),\n/* harmony export */   ViewDrag: () => (/* reexport safe */ _view_drag__WEBPACK_IMPORTED_MODULE_22__.ViewDrag),\n/* harmony export */   ViewDragMixin: () => (/* reexport safe */ _view_drag_mixin__WEBPACK_IMPORTED_MODULE_26__.ViewDragMixin),\n/* harmony export */   ViewNavigationBase: () => (/* reexport safe */ _view_navigation_base__WEBPACK_IMPORTED_MODULE_3__.ViewNavigationBase),\n/* harmony export */   ViewRoam: () => (/* reexport safe */ _view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam),\n/* harmony export */   ViewScroll: () => (/* reexport safe */ _view_scroll__WEBPACK_IMPORTED_MODULE_21__.ViewScroll),\n/* harmony export */   ViewScrollMixin: () => (/* reexport safe */ _view_scroll_mixin__WEBPACK_IMPORTED_MODULE_24__.ViewScrollMixin),\n/* harmony export */   ViewZoom: () => (/* reexport safe */ _view_zoom__WEBPACK_IMPORTED_MODULE_20__.ViewZoom),\n/* harmony export */   ViewZoomMixin: () => (/* reexport safe */ _view_zoom_mixin__WEBPACK_IMPORTED_MODULE_25__.ViewZoomMixin),\n/* harmony export */   registerBrushActive: () => (/* binding */ registerBrushActive),\n/* harmony export */   registerBrushFilter: () => (/* binding */ registerBrushFilter),\n/* harmony export */   registerBrushHighlight: () => (/* binding */ registerBrushHighlight),\n/* harmony export */   registerCrosshair: () => (/* binding */ registerCrosshair),\n/* harmony export */   registerDimensionTooltip: () => (/* binding */ registerDimensionTooltip),\n/* harmony export */   registerDrillDown: () => (/* binding */ registerDrillDown),\n/* harmony export */   registerElementActive: () => (/* binding */ registerElementActive),\n/* harmony export */   registerElementActiveByLegend: () => (/* binding */ registerElementActiveByLegend),\n/* harmony export */   registerElementHighlight: () => (/* binding */ registerElementHighlight),\n/* harmony export */   registerElementHighlightByGraphicName: () => (/* binding */ registerElementHighlightByGraphicName),\n/* harmony export */   registerElementHighlightByGroup: () => (/* binding */ registerElementHighlightByGroup),\n/* harmony export */   registerElementHighlightByKey: () => (/* binding */ registerElementHighlightByKey),\n/* harmony export */   registerElementHighlightByLegend: () => (/* binding */ registerElementHighlightByLegend),\n/* harmony export */   registerElementHighlightByName: () => (/* binding */ registerElementHighlightByName),\n/* harmony export */   registerElementSelect: () => (/* binding */ registerElementSelect),\n/* harmony export */   registerElementSelectByGraphicName: () => (/* binding */ registerElementSelectByGraphicName),\n/* harmony export */   registerFishEye: () => (/* binding */ registerFishEye),\n/* harmony export */   registerRollUp: () => (/* binding */ registerRollUp),\n/* harmony export */   registerTooltip: () => (/* binding */ registerTooltip),\n/* harmony export */   registerViewDrag: () => (/* binding */ registerViewDrag),\n/* harmony export */   registerViewRoam: () => (/* binding */ registerViewRoam),\n/* harmony export */   registerViewScroll: () => (/* binding */ registerViewScroll),\n/* harmony export */   registerViewZoom: () => (/* binding */ registerViewZoom)\n/* harmony export */ });\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _element_active__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./element-active */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-active.js\");\n/* harmony import */ var _element_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./element-select */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-select.js\");\n/* harmony import */ var _element_highlight__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./element-highlight */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight.js\");\n/* harmony import */ var _element_highlight_by_key__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./element-highlight-by-key */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-key.js\");\n/* harmony import */ var _element_highlight_by_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./element-highlight-by-group */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-group.js\");\n/* harmony import */ var _element_active_by_legend__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./element-active-by-legend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-active-by-legend.js\");\n/* harmony import */ var _element_highlight_by_legend__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./element-highlight-by-legend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-legend.js\");\n/* harmony import */ var _element_highlight_by_name__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./element-highlight-by-name */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-name.js\");\n/* harmony import */ var _element_highlight_by_graphic_name__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./element-highlight-by-graphic-name */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-highlight-by-graphic-name.js\");\n/* harmony import */ var _element_select_by_graphic_name__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./element-select-by-graphic-name */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/element-select-by-graphic-name.js\");\n/* harmony import */ var _brush_highlight__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./brush-highlight */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-highlight.js\");\n/* harmony import */ var _brush_active__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./brush-active */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-active.js\");\n/* harmony import */ var _brush_filter__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./brush-filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-filter.js\");\n/* harmony import */ var _drill_down__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./drill-down */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/drill-down.js\");\n/* harmony import */ var _roll_up__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./roll-up */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/roll-up.js\");\n/* harmony import */ var _tooltip__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/tooltip.js\");\n/* harmony import */ var _dimension_tooltip__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dimension-tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/dimension-tooltip.js\");\n/* harmony import */ var _crosshair__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./crosshair */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/crosshair.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n/* harmony import */ var _view_zoom__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./view-zoom */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom.js\");\n/* harmony import */ var _view_scroll__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./view-scroll */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll.js\");\n/* harmony import */ var _view_drag__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./view-drag */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-drag.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _view_zoom_mixin__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./view-zoom-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom-mixin.js\");\n/* harmony import */ var _view_scroll_mixin__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./view-scroll-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll-mixin.js\");\n/* harmony import */ var _view_drag_mixin__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./view-drag-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-drag-mixin.js\");\n/* harmony import */ var _view_roam__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./view-roam */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-roam.js\");\n/* harmony import */ var _fish_eye__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./fish-eye */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/fish-eye.js\");\n/* harmony import */ var _toggle_state_mixin__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./toggle-state-mixin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/toggle-state-mixin.js\");\n/* harmony import */ var _base_tooltip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _brush_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./brush-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/brush-base.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerElementActive = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_active__WEBPACK_IMPORTED_MODULE_4__.ElementActive.type, _element_active__WEBPACK_IMPORTED_MODULE_4__.ElementActive);\n};\n\nconst registerElementSelect = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_element_select__WEBPACK_IMPORTED_MODULE_5__.ElementSelect, _toggle_state_mixin__WEBPACK_IMPORTED_MODULE_30__.ToggleStateMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_select__WEBPACK_IMPORTED_MODULE_5__.ElementSelect.type, _element_select__WEBPACK_IMPORTED_MODULE_5__.ElementSelect);\n};\n\nconst registerElementHighlight = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_element_highlight__WEBPACK_IMPORTED_MODULE_6__.ElementHighlight, _toggle_state_mixin__WEBPACK_IMPORTED_MODULE_30__.ToggleStateMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight__WEBPACK_IMPORTED_MODULE_6__.ElementHighlight.type, _element_highlight__WEBPACK_IMPORTED_MODULE_6__.ElementHighlight);\n};\n\nconst registerElementHighlightByKey = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight_by_key__WEBPACK_IMPORTED_MODULE_7__.ElementHighlightByKey.type, _element_highlight_by_key__WEBPACK_IMPORTED_MODULE_7__.ElementHighlightByKey);\n};\n\nconst registerElementHighlightByGroup = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight_by_group__WEBPACK_IMPORTED_MODULE_8__.ElementHighlightByGroup.type, _element_highlight_by_group__WEBPACK_IMPORTED_MODULE_8__.ElementHighlightByGroup);\n};\n\nconst registerElementActiveByLegend = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_active_by_legend__WEBPACK_IMPORTED_MODULE_9__.ElementActiveByLegend.type, _element_active_by_legend__WEBPACK_IMPORTED_MODULE_9__.ElementActiveByLegend);\n};\n\nconst registerElementHighlightByLegend = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight_by_legend__WEBPACK_IMPORTED_MODULE_10__.ElementHighlightByLegend.type, _element_highlight_by_legend__WEBPACK_IMPORTED_MODULE_10__.ElementHighlightByLegend);\n};\n\nconst registerElementHighlightByName = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight_by_name__WEBPACK_IMPORTED_MODULE_11__.ElementHighlightByName.type, _element_highlight_by_name__WEBPACK_IMPORTED_MODULE_11__.ElementHighlightByName);\n};\n\nconst registerElementHighlightByGraphicName = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_highlight_by_graphic_name__WEBPACK_IMPORTED_MODULE_31__.ElementHighlightByGraphicName.type, _element_highlight_by_graphic_name__WEBPACK_IMPORTED_MODULE_31__.ElementHighlightByGraphicName);\n};\n\nconst registerElementSelectByGraphicName = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_element_select_by_graphic_name__WEBPACK_IMPORTED_MODULE_32__.ElementSelectByGraphicName.type, _element_select_by_graphic_name__WEBPACK_IMPORTED_MODULE_32__.ElementSelectByGraphicName);\n};\n\nconst registerBrushHighlight = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_brush_highlight__WEBPACK_IMPORTED_MODULE_12__.BrushHighlight.type, _brush_highlight__WEBPACK_IMPORTED_MODULE_12__.BrushHighlight);\n};\n\nconst registerBrushActive = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_brush_active__WEBPACK_IMPORTED_MODULE_13__.BrushActive.type, _brush_active__WEBPACK_IMPORTED_MODULE_13__.BrushActive);\n};\n\nconst registerBrushFilter = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_brush_filter__WEBPACK_IMPORTED_MODULE_33__.BrushFilter, _filter__WEBPACK_IMPORTED_MODULE_19__.FilterMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_brush_filter__WEBPACK_IMPORTED_MODULE_33__.BrushFilter.type, _brush_filter__WEBPACK_IMPORTED_MODULE_33__.BrushFilter);\n};\n\nconst registerDrillDown = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_drill_down__WEBPACK_IMPORTED_MODULE_14__.DrillDown, _filter__WEBPACK_IMPORTED_MODULE_19__.FilterMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_drill_down__WEBPACK_IMPORTED_MODULE_14__.DrillDown.type, _drill_down__WEBPACK_IMPORTED_MODULE_14__.DrillDown);\n};\n\nconst registerRollUp = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_roll_up__WEBPACK_IMPORTED_MODULE_15__.RollUp.type, _roll_up__WEBPACK_IMPORTED_MODULE_15__.RollUp);\n};\n\nconst registerTooltip = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_tooltip__WEBPACK_IMPORTED_MODULE_16__.Tooltip.type, _tooltip__WEBPACK_IMPORTED_MODULE_16__.Tooltip);\n};\n\nconst registerDimensionTooltip = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_dimension_tooltip__WEBPACK_IMPORTED_MODULE_17__.DimensionTooltip.type, _dimension_tooltip__WEBPACK_IMPORTED_MODULE_17__.DimensionTooltip);\n};\n\nconst registerCrosshair = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_crosshair__WEBPACK_IMPORTED_MODULE_18__.Crosshair.type, _crosshair__WEBPACK_IMPORTED_MODULE_18__.Crosshair);\n};\n\nconst registerViewZoom = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_zoom__WEBPACK_IMPORTED_MODULE_20__.ViewZoom, _view_zoom_mixin__WEBPACK_IMPORTED_MODULE_25__.ViewZoomMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_view_zoom__WEBPACK_IMPORTED_MODULE_20__.ViewZoom.type, _view_zoom__WEBPACK_IMPORTED_MODULE_20__.ViewZoom);\n};\n\nconst registerViewScroll = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_scroll__WEBPACK_IMPORTED_MODULE_21__.ViewScroll, _view_scroll_mixin__WEBPACK_IMPORTED_MODULE_24__.ViewScrollMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_view_scroll__WEBPACK_IMPORTED_MODULE_21__.ViewScroll.type, _view_scroll__WEBPACK_IMPORTED_MODULE_21__.ViewScroll);\n};\n\nconst registerViewDrag = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_drag__WEBPACK_IMPORTED_MODULE_22__.ViewDrag, _view_drag_mixin__WEBPACK_IMPORTED_MODULE_26__.ViewDragMixin), _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_view_drag__WEBPACK_IMPORTED_MODULE_22__.ViewDrag.type, _view_drag__WEBPACK_IMPORTED_MODULE_22__.ViewDrag);\n};\n\nconst registerViewRoam = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam, _view_zoom_mixin__WEBPACK_IMPORTED_MODULE_25__.ViewZoomMixin), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam, _view_drag_mixin__WEBPACK_IMPORTED_MODULE_26__.ViewDragMixin), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_29__.mixin)(_view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam, _view_scroll_mixin__WEBPACK_IMPORTED_MODULE_24__.ViewScrollMixin), \n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam.type, _view_roam__WEBPACK_IMPORTED_MODULE_23__.ViewRoam);\n};\n\nconst registerFishEye = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_28__.Factory.registerInteraction(_fish_eye__WEBPACK_IMPORTED_MODULE_27__.FishEye.type, _fish_eye__WEBPACK_IMPORTED_MODULE_27__.FishEye);\n};\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEM7O0FBRU87O0FBRUE7O0FBRU07O0FBRVk7O0FBRUk7O0FBRUo7O0FBRU07O0FBRUo7O0FBRWU7O0FBRU47O0FBRTNCOztBQUVOOztBQUVBOztBQUVKOztBQUVOOztBQUVDOztBQUVtQjs7QUFFZjs7QUFFRDs7QUFFQTs7QUFFSTs7QUFFSjs7QUFFRTs7QUFFUzs7QUFFSTs7QUFFSjs7QUFFWDs7QUFFRjs7QUFFbUI7O0FBRVg7O0FBRUo7O0FBRUE7O0FBRW1COztBQUU0VDs7QUFFalg7QUFDUCxJQUFJLG1EQUFPLHFCQUFxQiwwREFBYSxPQUFPLDBEQUFhO0FBQ2pFOztBQUVPO0FBQ1AsSUFBSSx3REFBSyxDQUFDLDBEQUFhLEVBQUUsa0VBQWdCLEdBQUcsbURBQU8scUJBQXFCLDBEQUFhLE9BQU8sMERBQWE7QUFDekc7O0FBRU87QUFDUCxJQUFJLHdEQUFLLENBQUMsZ0VBQWdCLEVBQUUsa0VBQWdCLEdBQUcsbURBQU8scUJBQXFCLGdFQUFnQixPQUFPLGdFQUFnQjtBQUNsSDs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLDRFQUFxQixPQUFPLDRFQUFxQjtBQUNqRjs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLGdGQUF1QixPQUFPLGdGQUF1QjtBQUNyRjs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLDRFQUFxQixPQUFPLDRFQUFxQjtBQUNqRjs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLG1GQUF3QixPQUFPLG1GQUF3QjtBQUN2Rjs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLCtFQUFzQixPQUFPLCtFQUFzQjtBQUNuRjs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLDhGQUE2QixPQUFPLDhGQUE2QjtBQUNqRzs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLHdGQUEwQixPQUFPLHdGQUEwQjtBQUMzRjs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLDZEQUFjLE9BQU8sNkRBQWM7QUFDbkU7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHFCQUFxQix1REFBVyxPQUFPLHVEQUFXO0FBQzdEOztBQUVPO0FBQ1AsSUFBSSx3REFBSyxDQUFDLHVEQUFXLEVBQUUsaURBQVcsR0FBRyxtREFBTyxxQkFBcUIsdURBQVcsT0FBTyx1REFBVztBQUM5Rjs7QUFFTztBQUNQLElBQUksd0RBQUssQ0FBQyxtREFBUyxFQUFFLGlEQUFXLEdBQUcsbURBQU8scUJBQXFCLG1EQUFTLE9BQU8sbURBQVM7QUFDeEY7O0FBRU87QUFDUCxJQUFJLG1EQUFPLHFCQUFxQiw2Q0FBTSxPQUFPLDZDQUFNO0FBQ25EOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsOENBQU8sT0FBTyw4Q0FBTztBQUNyRDs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLGlFQUFnQixPQUFPLGlFQUFnQjtBQUN2RTs7QUFFTztBQUNQLElBQUksbURBQU8scUJBQXFCLGtEQUFTLE9BQU8sa0RBQVM7QUFDekQ7O0FBRU87QUFDUCxJQUFJLHdEQUFLLENBQUMsaURBQVEsRUFBRSw0REFBYSxHQUFHLG1EQUFPLHFCQUFxQixpREFBUSxPQUFPLGlEQUFRO0FBQ3ZGOztBQUVPO0FBQ1AsSUFBSSx3REFBSyxDQUFDLHFEQUFVLEVBQUUsZ0VBQWUsR0FBRyxtREFBTyxxQkFBcUIscURBQVUsT0FBTyxxREFBVTtBQUMvRjs7QUFFTztBQUNQLElBQUksd0RBQUssQ0FBQyxpREFBUSxFQUFFLDREQUFhLEdBQUcsbURBQU8scUJBQXFCLGlEQUFRLE9BQU8saURBQVE7QUFDdkY7O0FBRU87QUFDUCxJQUFJLHdEQUFLLENBQUMsaURBQVEsRUFBRSw0REFBYSxHQUFHLHdEQUFLLENBQUMsaURBQVEsRUFBRSw0REFBYSxHQUFHLHdEQUFLLENBQUMsaURBQVEsRUFBRSxnRUFBZTtBQUNuRyxJQUFJLG1EQUFPLHFCQUFxQixpREFBUSxPQUFPLGlEQUFRO0FBQ3ZEOztBQUVPO0FBQ1AsSUFBSSxtREFBTyxxQkFBcUIsK0NBQU8sT0FBTywrQ0FBTztBQUNyRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvaW5kZXguanM/YTBiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5pbXBvcnQgeyBFbGVtZW50QWN0aXZlIH0gZnJvbSBcIi4vZWxlbWVudC1hY3RpdmVcIjtcblxuaW1wb3J0IHsgRWxlbWVudFNlbGVjdCB9IGZyb20gXCIuL2VsZW1lbnQtc2VsZWN0XCI7XG5cbmltcG9ydCB7IEVsZW1lbnRIaWdobGlnaHQgfSBmcm9tIFwiLi9lbGVtZW50LWhpZ2hsaWdodFwiO1xuXG5pbXBvcnQgeyBFbGVtZW50SGlnaGxpZ2h0QnlLZXkgfSBmcm9tIFwiLi9lbGVtZW50LWhpZ2hsaWdodC1ieS1rZXlcIjtcblxuaW1wb3J0IHsgRWxlbWVudEhpZ2hsaWdodEJ5R3JvdXAgfSBmcm9tIFwiLi9lbGVtZW50LWhpZ2hsaWdodC1ieS1ncm91cFwiO1xuXG5pbXBvcnQgeyBFbGVtZW50QWN0aXZlQnlMZWdlbmQgfSBmcm9tIFwiLi9lbGVtZW50LWFjdGl2ZS1ieS1sZWdlbmRcIjtcblxuaW1wb3J0IHsgRWxlbWVudEhpZ2hsaWdodEJ5TGVnZW5kIH0gZnJvbSBcIi4vZWxlbWVudC1oaWdobGlnaHQtYnktbGVnZW5kXCI7XG5cbmltcG9ydCB7IEVsZW1lbnRIaWdobGlnaHRCeU5hbWUgfSBmcm9tIFwiLi9lbGVtZW50LWhpZ2hsaWdodC1ieS1uYW1lXCI7XG5cbmltcG9ydCB7IEVsZW1lbnRIaWdobGlnaHRCeUdyYXBoaWNOYW1lIH0gZnJvbSBcIi4vZWxlbWVudC1oaWdobGlnaHQtYnktZ3JhcGhpYy1uYW1lXCI7XG5cbmltcG9ydCB7IEVsZW1lbnRTZWxlY3RCeUdyYXBoaWNOYW1lIH0gZnJvbSBcIi4vZWxlbWVudC1zZWxlY3QtYnktZ3JhcGhpYy1uYW1lXCI7XG5cbmltcG9ydCB7IEJydXNoSGlnaGxpZ2h0IH0gZnJvbSBcIi4vYnJ1c2gtaGlnaGxpZ2h0XCI7XG5cbmltcG9ydCB7IEJydXNoQWN0aXZlIH0gZnJvbSBcIi4vYnJ1c2gtYWN0aXZlXCI7XG5cbmltcG9ydCB7IEJydXNoRmlsdGVyIH0gZnJvbSBcIi4vYnJ1c2gtZmlsdGVyXCI7XG5cbmltcG9ydCB7IERyaWxsRG93biB9IGZyb20gXCIuL2RyaWxsLWRvd25cIjtcblxuaW1wb3J0IHsgUm9sbFVwIH0gZnJvbSBcIi4vcm9sbC11cFwiO1xuXG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSBcIi4vdG9vbHRpcFwiO1xuXG5pbXBvcnQgeyBEaW1lbnNpb25Ub29sdGlwIH0gZnJvbSBcIi4vZGltZW5zaW9uLXRvb2x0aXBcIjtcblxuaW1wb3J0IHsgQ3Jvc3NoYWlyIH0gZnJvbSBcIi4vY3Jvc3NoYWlyXCI7XG5cbmltcG9ydCB7IEZpbHRlck1peGluIH0gZnJvbSBcIi4vZmlsdGVyXCI7XG5cbmltcG9ydCB7IFZpZXdab29tIH0gZnJvbSBcIi4vdmlldy16b29tXCI7XG5cbmltcG9ydCB7IFZpZXdTY3JvbGwgfSBmcm9tIFwiLi92aWV3LXNjcm9sbFwiO1xuXG5pbXBvcnQgeyBWaWV3RHJhZyB9IGZyb20gXCIuL3ZpZXctZHJhZ1wiO1xuXG5pbXBvcnQgeyBtaXhpbiB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IFZpZXdab29tTWl4aW4gfSBmcm9tIFwiLi92aWV3LXpvb20tbWl4aW5cIjtcblxuaW1wb3J0IHsgVmlld1Njcm9sbE1peGluIH0gZnJvbSBcIi4vdmlldy1zY3JvbGwtbWl4aW5cIjtcblxuaW1wb3J0IHsgVmlld0RyYWdNaXhpbiB9IGZyb20gXCIuL3ZpZXctZHJhZy1taXhpblwiO1xuXG5pbXBvcnQgeyBWaWV3Um9hbSB9IGZyb20gXCIuL3ZpZXctcm9hbVwiO1xuXG5pbXBvcnQgeyBGaXNoRXllIH0gZnJvbSBcIi4vZmlzaC1leWVcIjtcblxuaW1wb3J0IHsgVG9nZ2xlU3RhdGVNaXhpbiB9IGZyb20gXCIuL3RvZ2dsZS1zdGF0ZS1taXhpblwiO1xuXG5leHBvcnQgeyBCYXNlVG9vbHRpcCB9IGZyb20gXCIuL2Jhc2UtdG9vbHRpcFwiO1xuXG5leHBvcnQgeyBCYXNlSW50ZXJhY3Rpb24gfSBmcm9tIFwiLi9iYXNlXCI7XG5cbmV4cG9ydCB7IEJydXNoQmFzZSB9IGZyb20gXCIuL2JydXNoLWJhc2VcIjtcblxuZXhwb3J0IHsgVmlld05hdmlnYXRpb25CYXNlIH0gZnJvbSBcIi4vdmlldy1uYXZpZ2F0aW9uLWJhc2VcIjtcblxuZXhwb3J0IHsgRWxlbWVudEFjdGl2ZSwgRWxlbWVudFNlbGVjdCwgRWxlbWVudEhpZ2hsaWdodCwgRWxlbWVudEhpZ2hsaWdodEJ5S2V5LCBFbGVtZW50SGlnaGxpZ2h0QnlHcm91cCwgRWxlbWVudEFjdGl2ZUJ5TGVnZW5kLCBFbGVtZW50SGlnaGxpZ2h0QnlMZWdlbmQsIEVsZW1lbnRIaWdobGlnaHRCeU5hbWUsIEJydXNoSGlnaGxpZ2h0LCBCcnVzaEFjdGl2ZSwgRHJpbGxEb3duLCBSb2xsVXAsIFRvb2x0aXAsIERpbWVuc2lvblRvb2x0aXAsIENyb3NzaGFpciwgRmlsdGVyTWl4aW4sIFZpZXdab29tLCBWaWV3U2Nyb2xsLCBWaWV3RHJhZywgVmlld1JvYW0sIFZpZXdTY3JvbGxNaXhpbiwgVmlld1pvb21NaXhpbiwgVmlld0RyYWdNaXhpbiwgRmlzaEV5ZSB9O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJFbGVtZW50QWN0aXZlID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihFbGVtZW50QWN0aXZlLnR5cGUsIEVsZW1lbnRBY3RpdmUpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRWxlbWVudFNlbGVjdCA9ICgpID0+IHtcbiAgICBtaXhpbihFbGVtZW50U2VsZWN0LCBUb2dnbGVTdGF0ZU1peGluKSwgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKEVsZW1lbnRTZWxlY3QudHlwZSwgRWxlbWVudFNlbGVjdCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJFbGVtZW50SGlnaGxpZ2h0ID0gKCkgPT4ge1xuICAgIG1peGluKEVsZW1lbnRIaWdobGlnaHQsIFRvZ2dsZVN0YXRlTWl4aW4pLCBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oRWxlbWVudEhpZ2hsaWdodC50eXBlLCBFbGVtZW50SGlnaGxpZ2h0KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckVsZW1lbnRIaWdobGlnaHRCeUtleSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oRWxlbWVudEhpZ2hsaWdodEJ5S2V5LnR5cGUsIEVsZW1lbnRIaWdobGlnaHRCeUtleSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJFbGVtZW50SGlnaGxpZ2h0QnlHcm91cCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oRWxlbWVudEhpZ2hsaWdodEJ5R3JvdXAudHlwZSwgRWxlbWVudEhpZ2hsaWdodEJ5R3JvdXApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRWxlbWVudEFjdGl2ZUJ5TGVnZW5kID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihFbGVtZW50QWN0aXZlQnlMZWdlbmQudHlwZSwgRWxlbWVudEFjdGl2ZUJ5TGVnZW5kKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckVsZW1lbnRIaWdobGlnaHRCeUxlZ2VuZCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oRWxlbWVudEhpZ2hsaWdodEJ5TGVnZW5kLnR5cGUsIEVsZW1lbnRIaWdobGlnaHRCeUxlZ2VuZCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJFbGVtZW50SGlnaGxpZ2h0QnlOYW1lID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihFbGVtZW50SGlnaGxpZ2h0QnlOYW1lLnR5cGUsIEVsZW1lbnRIaWdobGlnaHRCeU5hbWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRWxlbWVudEhpZ2hsaWdodEJ5R3JhcGhpY05hbWUgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKEVsZW1lbnRIaWdobGlnaHRCeUdyYXBoaWNOYW1lLnR5cGUsIEVsZW1lbnRIaWdobGlnaHRCeUdyYXBoaWNOYW1lKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckVsZW1lbnRTZWxlY3RCeUdyYXBoaWNOYW1lID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihFbGVtZW50U2VsZWN0QnlHcmFwaGljTmFtZS50eXBlLCBFbGVtZW50U2VsZWN0QnlHcmFwaGljTmFtZSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJCcnVzaEhpZ2hsaWdodCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oQnJ1c2hIaWdobGlnaHQudHlwZSwgQnJ1c2hIaWdobGlnaHQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQnJ1c2hBY3RpdmUgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlckludGVyYWN0aW9uKEJydXNoQWN0aXZlLnR5cGUsIEJydXNoQWN0aXZlKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckJydXNoRmlsdGVyID0gKCkgPT4ge1xuICAgIG1peGluKEJydXNoRmlsdGVyLCBGaWx0ZXJNaXhpbiksIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihCcnVzaEZpbHRlci50eXBlLCBCcnVzaEZpbHRlcik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJEcmlsbERvd24gPSAoKSA9PiB7XG4gICAgbWl4aW4oRHJpbGxEb3duLCBGaWx0ZXJNaXhpbiksIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihEcmlsbERvd24udHlwZSwgRHJpbGxEb3duKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclJvbGxVcCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oUm9sbFVwLnR5cGUsIFJvbGxVcCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJUb29sdGlwID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihUb29sdGlwLnR5cGUsIFRvb2x0aXApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRGltZW5zaW9uVG9vbHRpcCA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oRGltZW5zaW9uVG9vbHRpcC50eXBlLCBEaW1lbnNpb25Ub29sdGlwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckNyb3NzaGFpciA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oQ3Jvc3NoYWlyLnR5cGUsIENyb3NzaGFpcik7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJWaWV3Wm9vbSA9ICgpID0+IHtcbiAgICBtaXhpbihWaWV3Wm9vbSwgVmlld1pvb21NaXhpbiksIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihWaWV3Wm9vbS50eXBlLCBWaWV3Wm9vbSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJWaWV3U2Nyb2xsID0gKCkgPT4ge1xuICAgIG1peGluKFZpZXdTY3JvbGwsIFZpZXdTY3JvbGxNaXhpbiksIEZhY3RvcnkucmVnaXN0ZXJJbnRlcmFjdGlvbihWaWV3U2Nyb2xsLnR5cGUsIFZpZXdTY3JvbGwpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVmlld0RyYWcgPSAoKSA9PiB7XG4gICAgbWl4aW4oVmlld0RyYWcsIFZpZXdEcmFnTWl4aW4pLCBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oVmlld0RyYWcudHlwZSwgVmlld0RyYWcpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVmlld1JvYW0gPSAoKSA9PiB7XG4gICAgbWl4aW4oVmlld1JvYW0sIFZpZXdab29tTWl4aW4pLCBtaXhpbihWaWV3Um9hbSwgVmlld0RyYWdNaXhpbiksIG1peGluKFZpZXdSb2FtLCBWaWV3U2Nyb2xsTWl4aW4pLCBcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oVmlld1JvYW0udHlwZSwgVmlld1JvYW0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRmlzaEV5ZSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVySW50ZXJhY3Rpb24oRmlzaEV5ZS50eXBlLCBGaXNoRXllKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/legend-filter.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/legend-filter.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LegendFilter: () => (/* binding */ LegendFilter)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/legend/constant.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\n\n\nclass LegendFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = LegendFilter.type, this.options = Object.assign({}, LegendFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"legend\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const legend = this._marks[0];\n        if (!this._data || !legend) return [];\n        const isContinuous = legend.isContinuousLegend(), filter = this.options.target.filter, transform = this.options.target.transform, dataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter) ? isContinuous ? (datum, filterValue) => datum[filter] >= filterValue.start && datum[filter] <= filterValue.end : (datum, filterValue) => filterValue.includes(datum[filter]) : filter;\n        this._filterData(this._data, legend, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.legend, (event => isContinuous ? {\n            start: event.detail.value[0],\n            end: event.detail.value[1]\n        } : event.detail.currentSelected), dataFilter, transform);\n        return [ {\n            type: isContinuous ? \"change\" : _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_3__.LegendEvent.legendItemClick,\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nLegendFilter.type = \"legend-filter\", LegendFilter.defaultOptions = {};\n//# sourceMappingURL=legend-filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2xlZ2VuZC1maWx0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkQ7O0FBRU07O0FBRXJCOztBQUVWOztBQUUzQiwyQkFBMkIsMkNBQU07QUFDeEM7QUFDQSw0RkFBNEY7QUFDNUYscUdBQXFHLHlEQUFlO0FBQ3BILHFCQUFxQiw0REFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUpBQXVKLDREQUFRO0FBQy9KLDZDQUE2Qyx3REFBYztBQUMzRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsNENBQTRDLHFFQUFXO0FBQ3ZEO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL2xlZ2VuZC1maWx0ZXIuanM/M2MwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMZWdlbmRFdmVudCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IERhdGFGaWx0ZXJSYW5rLCBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tIFwiLi9maWx0ZXJcIjtcblxuZXhwb3J0IGNsYXNzIExlZ2VuZEZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gTGVnZW5kRmlsdGVyLnR5cGUsIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIExlZ2VuZEZpbHRlci5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIFxuICAgICAgICB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zb3VyY2UpLmZpbHRlcigobWFyayA9PiBtYXJrLm1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50ICYmIFwibGVnZW5kXCIgPT09IG1hcmsuY29tcG9uZW50VHlwZSkpLCBcbiAgICAgICAgdGhpcy5fZGF0YSA9IGlzU3RyaW5nKHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YSkgPyB2aWV3LmdldERhdGFCeUlkKHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YSkgOiB0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGE7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXJrcyB8fCAwID09PSB0aGlzLl9tYXJrcy5sZW5ndGgpIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgbGVnZW5kID0gdGhpcy5fbWFya3NbMF07XG4gICAgICAgIGlmICghdGhpcy5fZGF0YSB8fCAhbGVnZW5kKSByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IGlzQ29udGludW91cyA9IGxlZ2VuZC5pc0NvbnRpbnVvdXNMZWdlbmQoKSwgZmlsdGVyID0gdGhpcy5vcHRpb25zLnRhcmdldC5maWx0ZXIsIHRyYW5zZm9ybSA9IHRoaXMub3B0aW9ucy50YXJnZXQudHJhbnNmb3JtLCBkYXRhRmlsdGVyID0gaXNTdHJpbmcoZmlsdGVyKSA/IGlzQ29udGludW91cyA/IChkYXR1bSwgZmlsdGVyVmFsdWUpID0+IGRhdHVtW2ZpbHRlcl0gPj0gZmlsdGVyVmFsdWUuc3RhcnQgJiYgZGF0dW1bZmlsdGVyXSA8PSBmaWx0ZXJWYWx1ZS5lbmQgOiAoZGF0dW0sIGZpbHRlclZhbHVlKSA9PiBmaWx0ZXJWYWx1ZS5pbmNsdWRlcyhkYXR1bVtmaWx0ZXJdKSA6IGZpbHRlcjtcbiAgICAgICAgdGhpcy5fZmlsdGVyRGF0YSh0aGlzLl9kYXRhLCBsZWdlbmQsIERhdGFGaWx0ZXJSYW5rLmxlZ2VuZCwgKGV2ZW50ID0+IGlzQ29udGludW91cyA/IHtcbiAgICAgICAgICAgIHN0YXJ0OiBldmVudC5kZXRhaWwudmFsdWVbMF0sXG4gICAgICAgICAgICBlbmQ6IGV2ZW50LmRldGFpbC52YWx1ZVsxXVxuICAgICAgICB9IDogZXZlbnQuZGV0YWlsLmN1cnJlbnRTZWxlY3RlZCksIGRhdGFGaWx0ZXIsIHRyYW5zZm9ybSk7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IGlzQ29udGludW91cyA/IFwiY2hhbmdlXCIgOiBMZWdlbmRFdmVudC5sZWdlbmRJdGVtQ2xpY2ssXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZUZpbHRlclxuICAgICAgICB9IF07XG4gICAgfVxufVxuXG5MZWdlbmRGaWx0ZXIudHlwZSA9IFwibGVnZW5kLWZpbHRlclwiLCBMZWdlbmRGaWx0ZXIuZGVmYXVsdE9wdGlvbnMgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxlZ2VuZC1maWx0ZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/legend-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/player-filter.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/player-filter.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PlayerFilter: () => (/* binding */ PlayerFilter)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n/* harmony import */ var _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vrender-components */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-components@0.22.16/node_modules/@visactor/vrender-components/es/player/type/event.js\");\n\n\n\n\n\n\n\n\nclass PlayerFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = PlayerFilter.type, this.options = Object.assign({}, PlayerFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"player\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const player = this._marks[0];\n        if (!this._data || !player) return [];\n        const transform = this.options.target.transform;\n        return this._filterData(this._data, player, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.player, (event => ({\n            index: event.detail.index,\n            value: event.detail.value\n        })), void 0, ((data, filterValue) => transform ? transform(data, filterValue) : filterValue.value)), \n        [ {\n            type: _visactor_vrender_components__WEBPACK_IMPORTED_MODULE_3__.PlayerEventEnum.OnChange,\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nPlayerFilter.type = \"player-filter\", PlayerFilter.defaultOptions = {};\n//# sourceMappingURL=player-filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3BsYXllci1maWx0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUU7O0FBRXJCOztBQUVWOztBQUU2Qjs7QUFFeEQsMkJBQTJCLDJDQUFNO0FBQ3hDO0FBQ0EsNEZBQTRGO0FBQzVGLHFHQUFxRyx5REFBZTtBQUNwSCxxQkFBcUIsNERBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHdEQUFjO0FBQ2xFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrQkFBa0IseUVBQWU7QUFDakM7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvcGxheWVyLWZpbHRlci5qcz83NWYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFGaWx0ZXJSYW5rLCBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tIFwiLi9maWx0ZXJcIjtcblxuaW1wb3J0IHsgUGxheWVyRXZlbnRFbnVtIH0gZnJvbSBcIkB2aXNhY3Rvci92cmVuZGVyLWNvbXBvbmVudHNcIjtcblxuZXhwb3J0IGNsYXNzIFBsYXllckZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2aWV3LCBvcHRpb25zKSwgdGhpcy50eXBlID0gUGxheWVyRmlsdGVyLnR5cGUsIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIFBsYXllckZpbHRlci5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIFxuICAgICAgICB0aGlzLl9tYXJrcyA9IHZpZXcuZ2V0TWFya3NCeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5zb3VyY2UpLmZpbHRlcigobWFyayA9PiBtYXJrLm1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50ICYmIFwicGxheWVyXCIgPT09IG1hcmsuY29tcG9uZW50VHlwZSkpLCBcbiAgICAgICAgdGhpcy5fZGF0YSA9IGlzU3RyaW5nKHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YSkgPyB2aWV3LmdldERhdGFCeUlkKHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YSkgOiB0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGE7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXJrcyB8fCAwID09PSB0aGlzLl9tYXJrcy5sZW5ndGgpIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5fbWFya3NbMF07XG4gICAgICAgIGlmICghdGhpcy5fZGF0YSB8fCAhcGxheWVyKSByZXR1cm4gW107XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMub3B0aW9ucy50YXJnZXQudHJhbnNmb3JtO1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsdGVyRGF0YSh0aGlzLl9kYXRhLCBwbGF5ZXIsIERhdGFGaWx0ZXJSYW5rLnBsYXllciwgKGV2ZW50ID0+ICh7XG4gICAgICAgICAgICBpbmRleDogZXZlbnQuZGV0YWlsLmluZGV4LFxuICAgICAgICAgICAgdmFsdWU6IGV2ZW50LmRldGFpbC52YWx1ZVxuICAgICAgICB9KSksIHZvaWQgMCwgKChkYXRhLCBmaWx0ZXJWYWx1ZSkgPT4gdHJhbnNmb3JtID8gdHJhbnNmb3JtKGRhdGEsIGZpbHRlclZhbHVlKSA6IGZpbHRlclZhbHVlLnZhbHVlKSksIFxuICAgICAgICBbIHtcbiAgICAgICAgICAgIHR5cGU6IFBsYXllckV2ZW50RW51bS5PbkNoYW5nZSxcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlRmlsdGVyXG4gICAgICAgIH0gXTtcbiAgICB9XG59XG5cblBsYXllckZpbHRlci50eXBlID0gXCJwbGF5ZXItZmlsdGVyXCIsIFBsYXllckZpbHRlci5kZWZhdWx0T3B0aW9ucyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxheWVyLWZpbHRlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/player-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/roll-up.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/roll-up.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RollUp: () => (/* binding */ RollUp)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\nclass RollUp extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = RollUp.type, this._isToggle = !1, this.handleStart = event => {\n            var _a, _b;\n            const element = event.element;\n            if (element && this._marks && this._marks.includes(element.mark)) {\n                const filterValue = null === (_b = null === (_a = event.element) || void 0 === _a ? void 0 : _a.getDatum) || void 0 === _b ? void 0 : _b.call(_a);\n                filterValue === this._filterData || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(filterValue) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this._filterValue) && filterValue.length === this._filterValue.length && filterValue.every((datum => !this._filterValue.includes(datum))) ? this._isToggle && (this._filterValue = null, \n                this.handleFilter(event)) : this.handleFilter(event);\n            }\n        }, this.handleReset = event => {\n            this._filterValue && (this._filterValue = null, this.handleFilter(event));\n        }, this.options = Object.assign({}, RollUp.defaultOptions, options), this._marks = view.getMarksBySelector(this.options.source), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        if (!this._data) return [];\n        const transform = this.options.target.transform;\n        this._filterData(this._data, null, _graph_enums__WEBPACK_IMPORTED_MODULE_3__.DataFilterRank.rollUp, (event => {\n            var _a, _b;\n            return null === (_b = null === (_a = null == event ? void 0 : event.element) || void 0 === _a ? void 0 : _a.getDatum) || void 0 === _b ? void 0 : _b.call(_a);\n        }), void 0, ((data, filterValue) => transform(data, filterValue)));\n        const events = [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        } ], eventName = \"empty\" === this.options.triggerOff ? this.options.trigger : this.options.triggerOff.includes(\"view:\") ? this.options.triggerOff.replace(\"view:\", \"\") : this.options.triggerOff;\n        return eventName !== this.options.trigger ? (events.push({\n            type: eventName,\n            handler: this.handleReset\n        }), this._isToggle = !1) : this._isToggle = !0, events;\n    }\n}\n\nRollUp.type = \"roll-up\", RollUp.defaultOptions = {\n    trigger: \"click\",\n    triggerOff: \"empty\"\n};\n//# sourceMappingURL=roll-up.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3JvbGwtdXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7O0FBRUs7O0FBRW5COztBQUUzQixxQkFBcUIsMkNBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELDREQUFPLGlCQUFpQiw0REFBTztBQUNuRjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUMscUJBQXFCLDREQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsd0RBQWM7QUFDekQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3JvbGwtdXAuanM/YWI2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhRmlsdGVyUmFuayB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBpc0FycmF5LCBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuL2ZpbHRlclwiO1xuXG5leHBvcnQgY2xhc3MgUm9sbFVwIGV4dGVuZHMgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBSb2xsVXAudHlwZSwgdGhpcy5faXNUb2dnbGUgPSAhMSwgdGhpcy5oYW5kbGVTdGFydCA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIHRoaXMuX21hcmtzICYmIHRoaXMuX21hcmtzLmluY2x1ZGVzKGVsZW1lbnQubWFyaykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJWYWx1ZSA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IGV2ZW50LmVsZW1lbnQpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5nZXREYXR1bSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICAgICAgICAgIGZpbHRlclZhbHVlID09PSB0aGlzLl9maWx0ZXJEYXRhIHx8IGlzQXJyYXkoZmlsdGVyVmFsdWUpICYmIGlzQXJyYXkodGhpcy5fZmlsdGVyVmFsdWUpICYmIGZpbHRlclZhbHVlLmxlbmd0aCA9PT0gdGhpcy5fZmlsdGVyVmFsdWUubGVuZ3RoICYmIGZpbHRlclZhbHVlLmV2ZXJ5KChkYXR1bSA9PiAhdGhpcy5fZmlsdGVyVmFsdWUuaW5jbHVkZXMoZGF0dW0pKSkgPyB0aGlzLl9pc1RvZ2dsZSAmJiAodGhpcy5fZmlsdGVyVmFsdWUgPSBudWxsLCBcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUZpbHRlcihldmVudCkpIDogdGhpcy5oYW5kbGVGaWx0ZXIoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLmhhbmRsZVJlc2V0ID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVyVmFsdWUgJiYgKHRoaXMuX2ZpbHRlclZhbHVlID0gbnVsbCwgdGhpcy5oYW5kbGVGaWx0ZXIoZXZlbnQpKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgUm9sbFVwLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgdGhpcy5fbWFya3MgPSB2aWV3LmdldE1hcmtzQnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuc291cmNlKSwgXG4gICAgICAgIHRoaXMuX2RhdGEgPSBpc1N0cmluZyh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpID8gdmlldy5nZXREYXRhQnlJZCh0aGlzLm9wdGlvbnMudGFyZ2V0LmRhdGEpIDogdGhpcy5vcHRpb25zLnRhcmdldC5kYXRhO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFya3MgfHwgMCA9PT0gdGhpcy5fbWFya3MubGVuZ3RoKSByZXR1cm4gW107XG4gICAgICAgIGlmICghdGhpcy5fZGF0YSkgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLm9wdGlvbnMudGFyZ2V0LnRyYW5zZm9ybTtcbiAgICAgICAgdGhpcy5fZmlsdGVyRGF0YSh0aGlzLl9kYXRhLCBudWxsLCBEYXRhRmlsdGVyUmFuay5yb2xsVXAsIChldmVudCA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IG51bGwgPT0gZXZlbnQgPyB2b2lkIDAgOiBldmVudC5lbGVtZW50KSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZ2V0RGF0dW0pIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgfSksIHZvaWQgMCwgKChkYXRhLCBmaWx0ZXJWYWx1ZSkgPT4gdHJhbnNmb3JtKGRhdGEsIGZpbHRlclZhbHVlKSkpO1xuICAgICAgICBjb25zdCBldmVudHMgPSBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9IF0sIGV2ZW50TmFtZSA9IFwiZW1wdHlcIiA9PT0gdGhpcy5vcHRpb25zLnRyaWdnZXJPZmYgPyB0aGlzLm9wdGlvbnMudHJpZ2dlciA6IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLmluY2x1ZGVzKFwidmlldzpcIikgPyB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZi5yZXBsYWNlKFwidmlldzpcIiwgXCJcIikgOiB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZjtcbiAgICAgICAgcmV0dXJuIGV2ZW50TmFtZSAhPT0gdGhpcy5vcHRpb25zLnRyaWdnZXIgPyAoZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogZXZlbnROYW1lLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSZXNldFxuICAgICAgICB9KSwgdGhpcy5faXNUb2dnbGUgPSAhMSkgOiB0aGlzLl9pc1RvZ2dsZSA9ICEwLCBldmVudHM7XG4gICAgfVxufVxuXG5Sb2xsVXAudHlwZSA9IFwicm9sbC11cFwiLCBSb2xsVXAuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgdHJpZ2dlcjogXCJjbGlja1wiLFxuICAgIHRyaWdnZXJPZmY6IFwiZW1wdHlcIlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvbGwtdXAuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/roll-up.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/scrollbar-filter.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/scrollbar-filter.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrollbarFilter: () => (/* binding */ ScrollbarFilter)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\nclass ScrollbarFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = ScrollbarFilter.type, this.options = Object.assign({}, ScrollbarFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"scrollbar\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const scrollbar = this._marks[0];\n        if (!this._data || !scrollbar) return [];\n        const filter = this.options.target.filter, transform = this.options.target.transform, dataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter) ? (datum, filterValue) => {\n            const scale = scrollbar.getScale().getScale(), range = scale.range(), datumRatio = (scale.scale(datum[filter]) - range[0]) / (range[range.length - 1] - range[0]);\n            return filterValue.startRatio <= datumRatio && filterValue.endRatio >= datumRatio;\n        } : filter;\n        return this._filterData(this._data, scrollbar, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.scrollbar, (event => {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter)) {\n                const range = event.detail.value, scaleGrammar = scrollbar.getScale();\n                if (scaleGrammar) {\n                    const scale = scaleGrammar.getScale(), scaleRange = scale.range();\n                    return {\n                        start: scale.invert(range[0] * (scaleRange[1] - scaleRange[0]) + scaleRange[0]),\n                        end: scale.invert(range[1] * (scaleRange[1] - scaleRange[0]) + scaleRange[0]),\n                        startRatio: range[0],\n                        endRatio: range[1]\n                    };\n                }\n                return {\n                    startRatio: range[0],\n                    endRatio: range[1]\n                };\n            }\n            return {\n                startRatio: event.detail.value[0],\n                endRatio: event.detail.value[1]\n            };\n        }), dataFilter, transform), [ {\n            type: \"scrollUp\",\n            handler: this.handleFilter\n        }, {\n            type: \"scrollDrag\",\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nScrollbarFilter.type = \"scrollbar-filter\", ScrollbarFilter.defaultOptions = {};\n//# sourceMappingURL=scrollbar-filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3Njcm9sbGJhci1maWx0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRTs7QUFFckI7O0FBRVY7O0FBRTNCLDhCQUE4QiwyQ0FBTTtBQUMzQztBQUNBLCtGQUErRjtBQUMvRixxR0FBcUcseURBQWU7QUFDcEgscUJBQXFCLDREQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsNERBQVE7QUFDbkg7QUFDQTtBQUNBLFVBQVU7QUFDVix1REFBdUQsd0RBQWM7QUFDckUsZ0JBQWdCLDREQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9zY3JvbGxiYXItZmlsdGVyLmpzPzkwMmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YUZpbHRlclJhbmssIEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuL2ZpbHRlclwiO1xuXG5leHBvcnQgY2xhc3MgU2Nyb2xsYmFyRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBTY3JvbGxiYXJGaWx0ZXIudHlwZSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgU2Nyb2xsYmFyRmlsdGVyLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgXG4gICAgICAgIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNvdXJjZSkuZmlsdGVyKChtYXJrID0+IG1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQgJiYgXCJzY3JvbGxiYXJcIiA9PT0gbWFyay5jb21wb25lbnRUeXBlKSksIFxuICAgICAgICB0aGlzLl9kYXRhID0gaXNTdHJpbmcodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA/IHZpZXcuZ2V0RGF0YUJ5SWQodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA6IHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcmtzIHx8IDAgPT09IHRoaXMuX21hcmtzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBzY3JvbGxiYXIgPSB0aGlzLl9tYXJrc1swXTtcbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhIHx8ICFzY3JvbGxiYXIpIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgZmlsdGVyID0gdGhpcy5vcHRpb25zLnRhcmdldC5maWx0ZXIsIHRyYW5zZm9ybSA9IHRoaXMub3B0aW9ucy50YXJnZXQudHJhbnNmb3JtLCBkYXRhRmlsdGVyID0gaXNTdHJpbmcoZmlsdGVyKSA/IChkYXR1bSwgZmlsdGVyVmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gc2Nyb2xsYmFyLmdldFNjYWxlKCkuZ2V0U2NhbGUoKSwgcmFuZ2UgPSBzY2FsZS5yYW5nZSgpLCBkYXR1bVJhdGlvID0gKHNjYWxlLnNjYWxlKGRhdHVtW2ZpbHRlcl0pIC0gcmFuZ2VbMF0pIC8gKHJhbmdlW3JhbmdlLmxlbmd0aCAtIDFdIC0gcmFuZ2VbMF0pO1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlclZhbHVlLnN0YXJ0UmF0aW8gPD0gZGF0dW1SYXRpbyAmJiBmaWx0ZXJWYWx1ZS5lbmRSYXRpbyA+PSBkYXR1bVJhdGlvO1xuICAgICAgICB9IDogZmlsdGVyO1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsdGVyRGF0YSh0aGlzLl9kYXRhLCBzY3JvbGxiYXIsIERhdGFGaWx0ZXJSYW5rLnNjcm9sbGJhciwgKGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhmaWx0ZXIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBldmVudC5kZXRhaWwudmFsdWUsIHNjYWxlR3JhbW1hciA9IHNjcm9sbGJhci5nZXRTY2FsZSgpO1xuICAgICAgICAgICAgICAgIGlmIChzY2FsZUdyYW1tYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBzY2FsZUdyYW1tYXIuZ2V0U2NhbGUoKSwgc2NhbGVSYW5nZSA9IHNjYWxlLnJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogc2NhbGUuaW52ZXJ0KHJhbmdlWzBdICogKHNjYWxlUmFuZ2VbMV0gLSBzY2FsZVJhbmdlWzBdKSArIHNjYWxlUmFuZ2VbMF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBzY2FsZS5pbnZlcnQocmFuZ2VbMV0gKiAoc2NhbGVSYW5nZVsxXSAtIHNjYWxlUmFuZ2VbMF0pICsgc2NhbGVSYW5nZVswXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFJhdGlvOiByYW5nZVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFJhdGlvOiByYW5nZVsxXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFJhdGlvOiByYW5nZVswXSxcbiAgICAgICAgICAgICAgICAgICAgZW5kUmF0aW86IHJhbmdlWzFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnRSYXRpbzogZXZlbnQuZGV0YWlsLnZhbHVlWzBdLFxuICAgICAgICAgICAgICAgIGVuZFJhdGlvOiBldmVudC5kZXRhaWwudmFsdWVbMV1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLCBkYXRhRmlsdGVyLCB0cmFuc2Zvcm0pLCBbIHtcbiAgICAgICAgICAgIHR5cGU6IFwic2Nyb2xsVXBcIixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlRmlsdGVyXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IFwic2Nyb2xsRHJhZ1wiLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVGaWx0ZXJcbiAgICAgICAgfSBdO1xuICAgIH1cbn1cblxuU2Nyb2xsYmFyRmlsdGVyLnR5cGUgPSBcInNjcm9sbGJhci1maWx0ZXJcIiwgU2Nyb2xsYmFyRmlsdGVyLmRlZmF1bHRPcHRpb25zID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY3JvbGxiYXItZmlsdGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/scrollbar-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/slider-filter.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/slider-filter.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SliderFilter: () => (/* binding */ SliderFilter)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/filter.js\");\n\n\n\n\n\n\nclass SliderFilter extends _filter__WEBPACK_IMPORTED_MODULE_0__.Filter {\n    constructor(view, options) {\n        super(view, options), this.type = SliderFilter.type, this.options = Object.assign({}, SliderFilter.defaultOptions, options), \n        this._marks = view.getMarksBySelector(this.options.source).filter((mark => mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component && \"slider\" === mark.componentType)), \n        this._data = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.options.target.data) ? view.getDataById(this.options.target.data) : this.options.target.data;\n    }\n    getEvents() {\n        if (!this._marks || 0 === this._marks.length) return [];\n        const slider = this._marks[0];\n        if (!this._data || !slider) return [];\n        const filter = this.options.target.filter, transform = this.options.target.transform, dataFilter = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(filter) ? (datum, filterValue) => datum[filter] >= filterValue.start && datum[filter] <= filterValue.end : filter;\n        return this._filterData(this._data, slider, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.DataFilterRank.slider, (event => ({\n            start: event.detail.value[0],\n            end: event.detail.value[1]\n        })), dataFilter, transform), [ {\n            type: \"change\",\n            handler: this.handleFilter\n        } ];\n    }\n}\n\nSliderFilter.type = \"slider-filter\", SliderFilter.defaultOptions = {};\n//# sourceMappingURL=slider-filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3NsaWRlci1maWx0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRTs7QUFFckI7O0FBRVY7O0FBRTNCLDJCQUEyQiwyQ0FBTTtBQUN4QztBQUNBLDRGQUE0RjtBQUM1RixxR0FBcUcseURBQWU7QUFDcEgscUJBQXFCLDREQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsNERBQVE7QUFDbkgsb0RBQW9ELHdEQUFjO0FBQ2xFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy9zbGlkZXItZmlsdGVyLmpzPzFmN2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YUZpbHRlclJhbmssIEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuL2ZpbHRlclwiO1xuXG5leHBvcnQgY2xhc3MgU2xpZGVyRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLnR5cGUgPSBTbGlkZXJGaWx0ZXIudHlwZSwgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgU2xpZGVyRmlsdGVyLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgXG4gICAgICAgIHRoaXMuX21hcmtzID0gdmlldy5nZXRNYXJrc0J5U2VsZWN0b3IodGhpcy5vcHRpb25zLnNvdXJjZSkuZmlsdGVyKChtYXJrID0+IG1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQgJiYgXCJzbGlkZXJcIiA9PT0gbWFyay5jb21wb25lbnRUeXBlKSksIFxuICAgICAgICB0aGlzLl9kYXRhID0gaXNTdHJpbmcodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA/IHZpZXcuZ2V0RGF0YUJ5SWQodGhpcy5vcHRpb25zLnRhcmdldC5kYXRhKSA6IHRoaXMub3B0aW9ucy50YXJnZXQuZGF0YTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcmtzIHx8IDAgPT09IHRoaXMuX21hcmtzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBzbGlkZXIgPSB0aGlzLl9tYXJrc1swXTtcbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhIHx8ICFzbGlkZXIpIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgZmlsdGVyID0gdGhpcy5vcHRpb25zLnRhcmdldC5maWx0ZXIsIHRyYW5zZm9ybSA9IHRoaXMub3B0aW9ucy50YXJnZXQudHJhbnNmb3JtLCBkYXRhRmlsdGVyID0gaXNTdHJpbmcoZmlsdGVyKSA/IChkYXR1bSwgZmlsdGVyVmFsdWUpID0+IGRhdHVtW2ZpbHRlcl0gPj0gZmlsdGVyVmFsdWUuc3RhcnQgJiYgZGF0dW1bZmlsdGVyXSA8PSBmaWx0ZXJWYWx1ZS5lbmQgOiBmaWx0ZXI7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJEYXRhKHRoaXMuX2RhdGEsIHNsaWRlciwgRGF0YUZpbHRlclJhbmsuc2xpZGVyLCAoZXZlbnQgPT4gKHtcbiAgICAgICAgICAgIHN0YXJ0OiBldmVudC5kZXRhaWwudmFsdWVbMF0sXG4gICAgICAgICAgICBlbmQ6IGV2ZW50LmRldGFpbC52YWx1ZVsxXVxuICAgICAgICB9KSksIGRhdGFGaWx0ZXIsIHRyYW5zZm9ybSksIFsge1xuICAgICAgICAgICAgdHlwZTogXCJjaGFuZ2VcIixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlRmlsdGVyXG4gICAgICAgIH0gXTtcbiAgICB9XG59XG5cblNsaWRlckZpbHRlci50eXBlID0gXCJzbGlkZXItZmlsdGVyXCIsIFNsaWRlckZpbHRlci5kZWZhdWx0T3B0aW9ucyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2xpZGVyLWZpbHRlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/slider-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/toggle-state-mixin.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/toggle-state-mixin.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToggleStateMixin: () => (/* binding */ ToggleStateMixin)\n/* harmony export */ });\nclass ToggleStateMixin {\n    updateStates(newStatedElements, prevStatedElements, state, reverseState) {\n        return newStatedElements && newStatedElements.length ? (state && reverseState ? prevStatedElements && prevStatedElements.length ? (this.toggleReverseStateOfElements(newStatedElements, prevStatedElements, reverseState), \n        this.toggleStateOfElements(newStatedElements, prevStatedElements, state)) : this.addBothStateOfElements(newStatedElements, state, reverseState) : state && (prevStatedElements && prevStatedElements.length ? this.toggleStateOfElements(newStatedElements, prevStatedElements, state) : this.addStateOfElements(newStatedElements, state)), \n        newStatedElements) : null;\n    }\n    toggleReverseStateOfElements(newStatedElements, prevStatedElements, reverseState) {\n        prevStatedElements.forEach((element => {\n            reverseState && this._stateMarks[reverseState] && this._stateMarks[reverseState].includes(element.mark) && element.addState(reverseState);\n        })), newStatedElements.forEach((element => {\n            reverseState && this._stateMarks[reverseState] && this._stateMarks[reverseState].includes(element.mark) && element.removeState(reverseState);\n        }));\n    }\n    toggleStateOfElements(newStatedElements, prevStatedElements, state) {\n        prevStatedElements.forEach((element => {\n            state && this._stateMarks[state] && this._stateMarks[state].includes(element.mark) && element.removeState(state);\n        })), newStatedElements.forEach((element => {\n            state && this._stateMarks[state] && this._stateMarks[state].includes(element.mark) && element.addState(state);\n        }));\n    }\n    addBothStateOfElements(statedElements, state, reverseState) {\n        this._marks.forEach((mark => {\n            var _a;\n            const hasReverse = reverseState && this._stateMarks[reverseState] && this._stateMarks[reverseState].includes(mark), hasState = state && this._stateMarks[state] && this._stateMarks[state].includes(mark);\n            (hasReverse || hasState) && (null === (_a = mark.elements) || void 0 === _a || _a.forEach((el => {\n                statedElements && statedElements.includes(el) ? hasState && el.addState(state) : hasReverse && el.addState(reverseState);\n            })));\n        }));\n    }\n    addStateOfElements(statedElements, state) {\n        this._marks.forEach((mark => {\n            var _a;\n            const hasState = state && this._stateMarks[state] && this._stateMarks[state].includes(mark);\n            hasState && (null === (_a = mark.elements) || void 0 === _a || _a.forEach((el => {\n                statedElements && statedElements.includes(el) && hasState && el.addState(state);\n            })));\n        }));\n    }\n    clearAllStates(state, reverseState) {\n        this._statedElements && this._statedElements.length && this._marks.forEach((mark => {\n            mark && mark.elements && (reverseState && this._stateMarks[reverseState] && this._stateMarks[reverseState].includes(mark) && mark.elements.forEach((el => {\n                el.removeState(reverseState);\n            })), state && this._stateMarks[state] && this._stateMarks[state].includes(mark) && mark.elements.forEach((el => {\n                this._statedElements.includes(el) && el.removeState(state);\n            })));\n        }));\n    }\n}\n//# sourceMappingURL=toggle-state-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3RvZ2dsZS1zdGF0ZS1taXhpbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvdG9nZ2xlLXN0YXRlLW1peGluLmpzP2YyZjAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFRvZ2dsZVN0YXRlTWl4aW4ge1xuICAgIHVwZGF0ZVN0YXRlcyhuZXdTdGF0ZWRFbGVtZW50cywgcHJldlN0YXRlZEVsZW1lbnRzLCBzdGF0ZSwgcmV2ZXJzZVN0YXRlKSB7XG4gICAgICAgIHJldHVybiBuZXdTdGF0ZWRFbGVtZW50cyAmJiBuZXdTdGF0ZWRFbGVtZW50cy5sZW5ndGggPyAoc3RhdGUgJiYgcmV2ZXJzZVN0YXRlID8gcHJldlN0YXRlZEVsZW1lbnRzICYmIHByZXZTdGF0ZWRFbGVtZW50cy5sZW5ndGggPyAodGhpcy50b2dnbGVSZXZlcnNlU3RhdGVPZkVsZW1lbnRzKG5ld1N0YXRlZEVsZW1lbnRzLCBwcmV2U3RhdGVkRWxlbWVudHMsIHJldmVyc2VTdGF0ZSksIFxuICAgICAgICB0aGlzLnRvZ2dsZVN0YXRlT2ZFbGVtZW50cyhuZXdTdGF0ZWRFbGVtZW50cywgcHJldlN0YXRlZEVsZW1lbnRzLCBzdGF0ZSkpIDogdGhpcy5hZGRCb3RoU3RhdGVPZkVsZW1lbnRzKG5ld1N0YXRlZEVsZW1lbnRzLCBzdGF0ZSwgcmV2ZXJzZVN0YXRlKSA6IHN0YXRlICYmIChwcmV2U3RhdGVkRWxlbWVudHMgJiYgcHJldlN0YXRlZEVsZW1lbnRzLmxlbmd0aCA/IHRoaXMudG9nZ2xlU3RhdGVPZkVsZW1lbnRzKG5ld1N0YXRlZEVsZW1lbnRzLCBwcmV2U3RhdGVkRWxlbWVudHMsIHN0YXRlKSA6IHRoaXMuYWRkU3RhdGVPZkVsZW1lbnRzKG5ld1N0YXRlZEVsZW1lbnRzLCBzdGF0ZSkpLCBcbiAgICAgICAgbmV3U3RhdGVkRWxlbWVudHMpIDogbnVsbDtcbiAgICB9XG4gICAgdG9nZ2xlUmV2ZXJzZVN0YXRlT2ZFbGVtZW50cyhuZXdTdGF0ZWRFbGVtZW50cywgcHJldlN0YXRlZEVsZW1lbnRzLCByZXZlcnNlU3RhdGUpIHtcbiAgICAgICAgcHJldlN0YXRlZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgcmV2ZXJzZVN0YXRlICYmIHRoaXMuX3N0YXRlTWFya3NbcmV2ZXJzZVN0YXRlXSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3JldmVyc2VTdGF0ZV0uaW5jbHVkZXMoZWxlbWVudC5tYXJrKSAmJiBlbGVtZW50LmFkZFN0YXRlKHJldmVyc2VTdGF0ZSk7XG4gICAgICAgIH0pKSwgbmV3U3RhdGVkRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICByZXZlcnNlU3RhdGUgJiYgdGhpcy5fc3RhdGVNYXJrc1tyZXZlcnNlU3RhdGVdICYmIHRoaXMuX3N0YXRlTWFya3NbcmV2ZXJzZVN0YXRlXS5pbmNsdWRlcyhlbGVtZW50Lm1hcmspICYmIGVsZW1lbnQucmVtb3ZlU3RhdGUocmV2ZXJzZVN0YXRlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB0b2dnbGVTdGF0ZU9mRWxlbWVudHMobmV3U3RhdGVkRWxlbWVudHMsIHByZXZTdGF0ZWRFbGVtZW50cywgc3RhdGUpIHtcbiAgICAgICAgcHJldlN0YXRlZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgc3RhdGUgJiYgdGhpcy5fc3RhdGVNYXJrc1tzdGF0ZV0gJiYgdGhpcy5fc3RhdGVNYXJrc1tzdGF0ZV0uaW5jbHVkZXMoZWxlbWVudC5tYXJrKSAmJiBlbGVtZW50LnJlbW92ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgfSkpLCBuZXdTdGF0ZWRFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHN0YXRlICYmIHRoaXMuX3N0YXRlTWFya3Nbc3RhdGVdICYmIHRoaXMuX3N0YXRlTWFya3Nbc3RhdGVdLmluY2x1ZGVzKGVsZW1lbnQubWFyaykgJiYgZWxlbWVudC5hZGRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYWRkQm90aFN0YXRlT2ZFbGVtZW50cyhzdGF0ZWRFbGVtZW50cywgc3RhdGUsIHJldmVyc2VTdGF0ZSkge1xuICAgICAgICB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1JldmVyc2UgPSByZXZlcnNlU3RhdGUgJiYgdGhpcy5fc3RhdGVNYXJrc1tyZXZlcnNlU3RhdGVdICYmIHRoaXMuX3N0YXRlTWFya3NbcmV2ZXJzZVN0YXRlXS5pbmNsdWRlcyhtYXJrKSwgaGFzU3RhdGUgPSBzdGF0ZSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3N0YXRlXSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3N0YXRlXS5pbmNsdWRlcyhtYXJrKTtcbiAgICAgICAgICAgIChoYXNSZXZlcnNlIHx8IGhhc1N0YXRlKSAmJiAobnVsbCA9PT0gKF9hID0gbWFyay5lbGVtZW50cykgfHwgdm9pZCAwID09PSBfYSB8fCBfYS5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGVkRWxlbWVudHMgJiYgc3RhdGVkRWxlbWVudHMuaW5jbHVkZXMoZWwpID8gaGFzU3RhdGUgJiYgZWwuYWRkU3RhdGUoc3RhdGUpIDogaGFzUmV2ZXJzZSAmJiBlbC5hZGRTdGF0ZShyZXZlcnNlU3RhdGUpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhZGRTdGF0ZU9mRWxlbWVudHMoc3RhdGVkRWxlbWVudHMsIHN0YXRlKSB7XG4gICAgICAgIHRoaXMuX21hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgaGFzU3RhdGUgPSBzdGF0ZSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3N0YXRlXSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3N0YXRlXS5pbmNsdWRlcyhtYXJrKTtcbiAgICAgICAgICAgIGhhc1N0YXRlICYmIChudWxsID09PSAoX2EgPSBtYXJrLmVsZW1lbnRzKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLmZvckVhY2goKGVsID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZWRFbGVtZW50cyAmJiBzdGF0ZWRFbGVtZW50cy5pbmNsdWRlcyhlbCkgJiYgaGFzU3RhdGUgJiYgZWwuYWRkU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjbGVhckFsbFN0YXRlcyhzdGF0ZSwgcmV2ZXJzZVN0YXRlKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlZEVsZW1lbnRzICYmIHRoaXMuX3N0YXRlZEVsZW1lbnRzLmxlbmd0aCAmJiB0aGlzLl9tYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsgJiYgbWFyay5lbGVtZW50cyAmJiAocmV2ZXJzZVN0YXRlICYmIHRoaXMuX3N0YXRlTWFya3NbcmV2ZXJzZVN0YXRlXSAmJiB0aGlzLl9zdGF0ZU1hcmtzW3JldmVyc2VTdGF0ZV0uaW5jbHVkZXMobWFyaykgJiYgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlU3RhdGUocmV2ZXJzZVN0YXRlKTtcbiAgICAgICAgICAgIH0pKSwgc3RhdGUgJiYgdGhpcy5fc3RhdGVNYXJrc1tzdGF0ZV0gJiYgdGhpcy5fc3RhdGVNYXJrc1tzdGF0ZV0uaW5jbHVkZXMobWFyaykgJiYgbWFyay5lbGVtZW50cy5mb3JFYWNoKChlbCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGVkRWxlbWVudHMuaW5jbHVkZXMoZWwpICYmIGVsLnJlbW92ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2dnbGUtc3RhdGUtbWl4aW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/toggle-state-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/tooltip.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/tooltip.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n/* harmony import */ var _base_tooltip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-tooltip */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base-tooltip.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\nclass Tooltip extends _base_tooltip__WEBPACK_IMPORTED_MODULE_0__.BaseTooltip {\n    constructor(view, options) {\n        super(view, options), this.type = Tooltip.type, this.handleTooltipShow = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((event => {\n            if (!this._tooltipComponent) return;\n            const element = event.element;\n            if (!this._marks.includes(null == element ? void 0 : element.mark)) return void this._tooltipComponent.hideAll();\n            this._tooltipComponent.showAll();\n            const groupGraphicItem = this.view.rootMark.getGroupGraphicItem(), point = {\n                x: 0,\n                y: 0\n            };\n            if (groupGraphicItem.globalTransMatrix.transformPoint(event.canvas, point), element === this._lastElement) return void this._tooltipComponent.setAttributes({\n                pointerX: point.x,\n                pointerY: point.y\n            });\n            const boundsStart = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint({\n                x: 0,\n                y: 0\n            }, boundsStart);\n            const boundsEnd = {\n                x: 0,\n                y: 0\n            };\n            groupGraphicItem.globalTransMatrix.transformPoint({\n                x: this.view.getSignalById(\"width\").getValue(),\n                y: this.view.getSignalById(\"height\").getValue()\n            }, boundsEnd);\n            const bounds = (new _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.AABBBounds).set(boundsStart.x, boundsStart.y, boundsEnd.x, boundsEnd.y), {title: title, content: content} = this._computeTitleContent(element.getDatum()), theme = this.view.getCurrentTheme(), addition = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.invokeFunctionType)(this.options.attributes, this.parameters(), element.getDatum()), attributes = (0,_base_tooltip__WEBPACK_IMPORTED_MODULE_0__.generateTooltipAttributes)(point, title, content, bounds, theme, addition);\n            this._tooltipComponent.setAttributes(attributes);\n        }), 10), this.handleTooltipHide = event => {\n            this._tooltipComponent && this._tooltipComponent.hideAll();\n        }, this.options = Object.assign({}, Tooltip.defaultOptions, options);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleTooltipShow\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleTooltipHide\n        } ];\n    }\n}\n\nTooltip.type = \"tooltip\", Tooltip.defaultOptions = {\n    trigger: \"pointermove\",\n    triggerOff: \"pointerleave\"\n};\n//# sourceMappingURL=tooltip.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3Rvb2x0aXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7O0FBRWdCOztBQUVyQjs7QUFFNUMsc0JBQXNCLHNEQUFXO0FBQ3hDO0FBQ0EsaUZBQWlGLDREQUFRO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsZ0NBQWdDLHdEQUFVLGdFQUFnRSxnQ0FBZ0MsaUdBQWlHLCtEQUFrQiwrRUFBK0Usd0VBQXlCO0FBQ3JXO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3Rvb2x0aXAuanM/NjQ3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBQUJCQm91bmRzLCB0aHJvdHRsZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEJhc2VUb29sdGlwLCBnZW5lcmF0ZVRvb2x0aXBBdHRyaWJ1dGVzIH0gZnJvbSBcIi4vYmFzZS10b29sdGlwXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmV4cG9ydCBjbGFzcyBUb29sdGlwIGV4dGVuZHMgQmFzZVRvb2x0aXAge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlldywgb3B0aW9ucyksIHRoaXMudHlwZSA9IFRvb2x0aXAudHlwZSwgdGhpcy5oYW5kbGVUb29sdGlwU2hvdyA9IHRocm90dGxlKChldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3Rvb2x0aXBDb21wb25lbnQpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9tYXJrcy5pbmNsdWRlcyhudWxsID09IGVsZW1lbnQgPyB2b2lkIDAgOiBlbGVtZW50Lm1hcmspKSByZXR1cm4gdm9pZCB0aGlzLl90b29sdGlwQ29tcG9uZW50LmhpZGVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBDb21wb25lbnQuc2hvd0FsbCgpO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBHcmFwaGljSXRlbSA9IHRoaXMudmlldy5yb290TWFyay5nZXRHcm91cEdyYXBoaWNJdGVtKCksIHBvaW50ID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChncm91cEdyYXBoaWNJdGVtLmdsb2JhbFRyYW5zTWF0cml4LnRyYW5zZm9ybVBvaW50KGV2ZW50LmNhbnZhcywgcG9pbnQpLCBlbGVtZW50ID09PSB0aGlzLl9sYXN0RWxlbWVudCkgcmV0dXJuIHZvaWQgdGhpcy5fdG9vbHRpcENvbXBvbmVudC5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICBwb2ludGVyWDogcG9pbnQueCxcbiAgICAgICAgICAgICAgICBwb2ludGVyWTogcG9pbnQueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBib3VuZHNTdGFydCA9IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBncm91cEdyYXBoaWNJdGVtLmdsb2JhbFRyYW5zTWF0cml4LnRyYW5zZm9ybVBvaW50KHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sIGJvdW5kc1N0YXJ0KTtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kc0VuZCA9IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBncm91cEdyYXBoaWNJdGVtLmdsb2JhbFRyYW5zTWF0cml4LnRyYW5zZm9ybVBvaW50KHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnZpZXcuZ2V0U2lnbmFsQnlJZChcIndpZHRoXCIpLmdldFZhbHVlKCksXG4gICAgICAgICAgICAgICAgeTogdGhpcy52aWV3LmdldFNpZ25hbEJ5SWQoXCJoZWlnaHRcIikuZ2V0VmFsdWUoKVxuICAgICAgICAgICAgfSwgYm91bmRzRW5kKTtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IChuZXcgQUFCQkJvdW5kcykuc2V0KGJvdW5kc1N0YXJ0LngsIGJvdW5kc1N0YXJ0LnksIGJvdW5kc0VuZC54LCBib3VuZHNFbmQueSksIHt0aXRsZTogdGl0bGUsIGNvbnRlbnQ6IGNvbnRlbnR9ID0gdGhpcy5fY29tcHV0ZVRpdGxlQ29udGVudChlbGVtZW50LmdldERhdHVtKCkpLCB0aGVtZSA9IHRoaXMudmlldy5nZXRDdXJyZW50VGhlbWUoKSwgYWRkaXRpb24gPSBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5vcHRpb25zLmF0dHJpYnV0ZXMsIHRoaXMucGFyYW1ldGVycygpLCBlbGVtZW50LmdldERhdHVtKCkpLCBhdHRyaWJ1dGVzID0gZ2VuZXJhdGVUb29sdGlwQXR0cmlidXRlcyhwb2ludCwgdGl0bGUsIGNvbnRlbnQsIGJvdW5kcywgdGhlbWUsIGFkZGl0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBDb21wb25lbnQuc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgfSksIDEwKSwgdGhpcy5oYW5kbGVUb29sdGlwSGlkZSA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBDb21wb25lbnQgJiYgdGhpcy5fdG9vbHRpcENvbXBvbmVudC5oaWRlQWxsKCk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIFRvb2x0aXAuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVUb29sdGlwU2hvd1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlck9mZixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlVG9vbHRpcEhpZGVcbiAgICAgICAgfSBdO1xuICAgIH1cbn1cblxuVG9vbHRpcC50eXBlID0gXCJ0b29sdGlwXCIsIFRvb2x0aXAuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgdHJpZ2dlcjogXCJwb2ludGVybW92ZVwiLFxuICAgIHRyaWdnZXJPZmY6IFwicG9pbnRlcmxlYXZlXCJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29sdGlwLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/tooltip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/utils.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/utils.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateFilterValue: () => (/* binding */ generateFilterValue),\n/* harmony export */   groupMarksByState: () => (/* binding */ groupMarksByState),\n/* harmony export */   parseTriggerOffOfSelect: () => (/* binding */ parseTriggerOffOfSelect)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nconst generateFilterValue = options => options.filterField ? el => {\n    var _a;\n    return null === (_a = el.getDatum()) || void 0 === _a ? void 0 : _a[options.filterField];\n} : el => el[options.filterType];\n\nconst groupMarksByState = (marks, states) => {\n    if (!states || !marks) return null;\n    const res = {};\n    return marks.forEach((mark => {\n        const markSpec = mark && mark.getSpec(), encode = markSpec && markSpec.encode;\n        encode && states.forEach((state => {\n            state && encode[state] && (res[state] || (res[state] = []), res[state].push(mark));\n        }));\n    })), res;\n};\n\nconst parseTriggerOffOfSelect = triggerOff => {\n    const triggerOffArray = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(triggerOff), resetType = [], eventNames = [];\n    return triggerOffArray.forEach((off => {\n        \"empty\" === off ? resetType.push(\"view\") : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(off) && \"none\" !== off ? off.includes(\"view:\") ? (eventNames.push(off.replace(\"view:\", \"\")), \n        resetType.push(\"view\")) : (eventNames.push(off), resetType.push(\"self\")) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(off) && resetType.push(\"timeout\");\n    })), {\n        eventNames: eventNames,\n        resetType: resetType\n    };\n};\n//# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE2RDs7QUFFdEQ7QUFDUDtBQUNBO0FBQ0EsRUFBRTs7QUFFSztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRU87QUFDUCw0QkFBNEIsdURBQUs7QUFDakM7QUFDQSxtREFBbUQsNERBQVE7QUFDM0QsbUZBQW1GLDREQUFRO0FBQzNGLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvdXRpbHMuanM/NGEzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcnJheSwgaXNOdW1iZXIsIGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlRmlsdGVyVmFsdWUgPSBvcHRpb25zID0+IG9wdGlvbnMuZmlsdGVyRmllbGQgPyBlbCA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBudWxsID09PSAoX2EgPSBlbC5nZXREYXR1bSgpKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Fbb3B0aW9ucy5maWx0ZXJGaWVsZF07XG59IDogZWwgPT4gZWxbb3B0aW9ucy5maWx0ZXJUeXBlXTtcblxuZXhwb3J0IGNvbnN0IGdyb3VwTWFya3NCeVN0YXRlID0gKG1hcmtzLCBzdGF0ZXMpID0+IHtcbiAgICBpZiAoIXN0YXRlcyB8fCAhbWFya3MpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIHJldHVybiBtYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgY29uc3QgbWFya1NwZWMgPSBtYXJrICYmIG1hcmsuZ2V0U3BlYygpLCBlbmNvZGUgPSBtYXJrU3BlYyAmJiBtYXJrU3BlYy5lbmNvZGU7XG4gICAgICAgIGVuY29kZSAmJiBzdGF0ZXMuZm9yRWFjaCgoc3RhdGUgPT4ge1xuICAgICAgICAgICAgc3RhdGUgJiYgZW5jb2RlW3N0YXRlXSAmJiAocmVzW3N0YXRlXSB8fCAocmVzW3N0YXRlXSA9IFtdKSwgcmVzW3N0YXRlXS5wdXNoKG1hcmspKTtcbiAgICAgICAgfSkpO1xuICAgIH0pKSwgcmVzO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlVHJpZ2dlck9mZk9mU2VsZWN0ID0gdHJpZ2dlck9mZiA9PiB7XG4gICAgY29uc3QgdHJpZ2dlck9mZkFycmF5ID0gYXJyYXkodHJpZ2dlck9mZiksIHJlc2V0VHlwZSA9IFtdLCBldmVudE5hbWVzID0gW107XG4gICAgcmV0dXJuIHRyaWdnZXJPZmZBcnJheS5mb3JFYWNoKChvZmYgPT4ge1xuICAgICAgICBcImVtcHR5XCIgPT09IG9mZiA/IHJlc2V0VHlwZS5wdXNoKFwidmlld1wiKSA6IGlzU3RyaW5nKG9mZikgJiYgXCJub25lXCIgIT09IG9mZiA/IG9mZi5pbmNsdWRlcyhcInZpZXc6XCIpID8gKGV2ZW50TmFtZXMucHVzaChvZmYucmVwbGFjZShcInZpZXc6XCIsIFwiXCIpKSwgXG4gICAgICAgIHJlc2V0VHlwZS5wdXNoKFwidmlld1wiKSkgOiAoZXZlbnROYW1lcy5wdXNoKG9mZiksIHJlc2V0VHlwZS5wdXNoKFwic2VsZlwiKSkgOiBpc051bWJlcihvZmYpICYmIHJlc2V0VHlwZS5wdXNoKFwidGltZW91dFwiKTtcbiAgICB9KSksIHtcbiAgICAgICAgZXZlbnROYW1lczogZXZlbnROYW1lcyxcbiAgICAgICAgcmVzZXRUeXBlOiByZXNldFR5cGVcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-drag-mixin.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-drag-mixin.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewDragMixin: () => (/* binding */ ViewDragMixin)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _view_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view-utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js\");\n\n\n\n\nclass ViewDragMixin {\n    _shouldTriggerDragByPointer(e) {\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.pointerId)) {\n            const shouldStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._pointerId) || this._pointerId === e.pointerId;\n            return this._pointerId = e.pointerId, shouldStart;\n        }\n        return !0;\n    }\n    _shouldStart(e) {\n        return this._shouldTriggerDragByPointer(e);\n    }\n    _shouldUpdate(e) {\n        return this._shouldTriggerDragByPointer(e);\n    }\n    handleDragStart(e, navState, dragOptions) {\n        if (this._shouldStart(e)) return this._dragStart = {\n            x: e.canvasX,\n            y: e.canvasY\n        }, null;\n    }\n    handleDragUpdate(e, navState, dragOptions) {\n        if (this._dragStart && this._shouldUpdate(e)) {\n            if (null == dragOptions ? void 0 : dragOptions.realtime) {\n                const x = e.canvasX - this._dragStart.x, y = e.canvasY - this._dragStart.y;\n                return (0,_view_utils__WEBPACK_IMPORTED_MODULE_1__.handleScrolling)({\n                    x: x,\n                    y: y\n                }, navState, dragOptions);\n            }\n            return null;\n        }\n    }\n    handleDragEnd(e, navState, dragOptions) {\n        if (!this._dragStart) return;\n        const res = !1 === (null == dragOptions ? void 0 : dragOptions.realtime) ? (0,_view_utils__WEBPACK_IMPORTED_MODULE_1__.handleScrolling)({\n            x: e.canvasX - this._dragStart.x,\n            y: e.canvasY - this._dragStart.y\n        }, navState, dragOptions) : null;\n        return this._pointerId = null, this._dragStart = null, res;\n    }\n}\n//# sourceMappingURL=view-drag-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctZHJhZy1taXhpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUM7O0FBRU07O0FBRXhDO0FBQ1A7QUFDQSxhQUFhLDREQUFLO0FBQ2xCLGdDQUFnQyw0REFBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNERBQWU7QUFDdEM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsNERBQWU7QUFDbEc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctZHJhZy1taXhpbi5qcz8zOWIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgaGFuZGxlU2Nyb2xsaW5nIH0gZnJvbSBcIi4vdmlldy11dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgVmlld0RyYWdNaXhpbiB7XG4gICAgX3Nob3VsZFRyaWdnZXJEcmFnQnlQb2ludGVyKGUpIHtcbiAgICAgICAgaWYgKCFpc05pbChlLnBvaW50ZXJJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFN0YXJ0ID0gaXNOaWwodGhpcy5fcG9pbnRlcklkKSB8fCB0aGlzLl9wb2ludGVySWQgPT09IGUucG9pbnRlcklkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZCA9IGUucG9pbnRlcklkLCBzaG91bGRTdGFydDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIF9zaG91bGRTdGFydChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaG91bGRUcmlnZ2VyRHJhZ0J5UG9pbnRlcihlKTtcbiAgICB9XG4gICAgX3Nob3VsZFVwZGF0ZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaG91bGRUcmlnZ2VyRHJhZ0J5UG9pbnRlcihlKTtcbiAgICB9XG4gICAgaGFuZGxlRHJhZ1N0YXJ0KGUsIG5hdlN0YXRlLCBkcmFnT3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5fc2hvdWxkU3RhcnQoZSkpIHJldHVybiB0aGlzLl9kcmFnU3RhcnQgPSB7XG4gICAgICAgICAgICB4OiBlLmNhbnZhc1gsXG4gICAgICAgICAgICB5OiBlLmNhbnZhc1lcbiAgICAgICAgfSwgbnVsbDtcbiAgICB9XG4gICAgaGFuZGxlRHJhZ1VwZGF0ZShlLCBuYXZTdGF0ZSwgZHJhZ09wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RyYWdTdGFydCAmJiB0aGlzLl9zaG91bGRVcGRhdGUoZSkpIHtcbiAgICAgICAgICAgIGlmIChudWxsID09IGRyYWdPcHRpb25zID8gdm9pZCAwIDogZHJhZ09wdGlvbnMucmVhbHRpbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gZS5jYW52YXNYIC0gdGhpcy5fZHJhZ1N0YXJ0LngsIHkgPSBlLmNhbnZhc1kgLSB0aGlzLl9kcmFnU3RhcnQueTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlU2Nyb2xsaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICAgICAgeTogeVxuICAgICAgICAgICAgICAgIH0sIG5hdlN0YXRlLCBkcmFnT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVEcmFnRW5kKGUsIG5hdlN0YXRlLCBkcmFnT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuX2RyYWdTdGFydCkgcmV0dXJuO1xuICAgICAgICBjb25zdCByZXMgPSAhMSA9PT0gKG51bGwgPT0gZHJhZ09wdGlvbnMgPyB2b2lkIDAgOiBkcmFnT3B0aW9ucy5yZWFsdGltZSkgPyBoYW5kbGVTY3JvbGxpbmcoe1xuICAgICAgICAgICAgeDogZS5jYW52YXNYIC0gdGhpcy5fZHJhZ1N0YXJ0LngsXG4gICAgICAgICAgICB5OiBlLmNhbnZhc1kgLSB0aGlzLl9kcmFnU3RhcnQueVxuICAgICAgICB9LCBuYXZTdGF0ZSwgZHJhZ09wdGlvbnMpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZCA9IG51bGwsIHRoaXMuX2RyYWdTdGFydCA9IG51bGwsIHJlcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LWRyYWctbWl4aW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-drag-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-drag.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-drag.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewDrag: () => (/* binding */ ViewDrag)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\nclass ViewDrag extends _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__.ViewNavigationBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, ViewDrag.defaultOptions, option)), this.type = ViewDrag.type, \n        this.handleStart = e => {\n            !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._isStarted = !0, \n            this._inited || this._initGrammars(), this.updateView(\"start\", this.handleDragStart(e, this._state, {\n                reversed: this.options.reversed\n            }), \"drag\", e));\n        }, this.handleUpdateInner = e => {\n            this._isStarted && e && (!this.options.shouldUpdate || this.options.shouldUpdate(e)) && this.updateView(\"update\", this.handleDragUpdate(e, this._state, {\n                reversed: this.options.reversed\n            }), \"drag\", e);\n        }, this.handleEnd = e => {\n            this._isStarted && e && (!this.options.shouldEnd || this.options.shouldEnd(e)) && (this.updateView(\"end\", this.handleDragEnd(e, this._state, {\n                reversed: this.options.reversed\n            }), \"drag\", e), this._isStarted = !1);\n        }, this.handleUpdate = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.handleUpdateInner, this.options.throttle);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.endTrigger,\n            handler: this.handleEnd\n        }, {\n            type: this.options.updateTrigger,\n            handler: this.handleUpdate\n        } ];\n    }\n}\n\nViewDrag.type = \"view-drag\", ViewDrag.defaultOptions = {\n    realtime: !0,\n    reversed: !1,\n    trigger: \"pointerdown\",\n    updateTrigger: \"pointermove\",\n    endTrigger: \"pointerup\",\n    throttle: 100\n};\n//# sourceMappingURL=view-drag.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctZHJhZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEM7O0FBRWdCOztBQUVyRCx1QkFBdUIscUVBQWtCO0FBQ2hEO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMsc0JBQXNCLDREQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvdmlldy1kcmFnLmpzPzQ4NTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBWaWV3TmF2aWdhdGlvbkJhc2UgfSBmcm9tIFwiLi92aWV3LW5hdmlnYXRpb24tYmFzZVwiO1xuXG5leHBvcnQgY2xhc3MgVmlld0RyYWcgZXh0ZW5kcyBWaWV3TmF2aWdhdGlvbkJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbikge1xuICAgICAgICBzdXBlcih2aWV3LCBPYmplY3QuYXNzaWduKHt9LCBWaWV3RHJhZy5kZWZhdWx0T3B0aW9ucywgb3B0aW9uKSksIHRoaXMudHlwZSA9IFZpZXdEcmFnLnR5cGUsIFxuICAgICAgICB0aGlzLmhhbmRsZVN0YXJ0ID0gZSA9PiB7XG4gICAgICAgICAgICAhZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQgJiYgIXRoaXMub3B0aW9ucy5zaG91bGRTdGFydChlKSB8fCAodGhpcy5faXNTdGFydGVkID0gITAsIFxuICAgICAgICAgICAgdGhpcy5faW5pdGVkIHx8IHRoaXMuX2luaXRHcmFtbWFycygpLCB0aGlzLnVwZGF0ZVZpZXcoXCJzdGFydFwiLCB0aGlzLmhhbmRsZURyYWdTdGFydChlLCB0aGlzLl9zdGF0ZSwge1xuICAgICAgICAgICAgICAgIHJldmVyc2VkOiB0aGlzLm9wdGlvbnMucmV2ZXJzZWRcbiAgICAgICAgICAgIH0pLCBcImRyYWdcIiwgZSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVVwZGF0ZUlubmVyID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc1N0YXJ0ZWQgJiYgZSAmJiAoIXRoaXMub3B0aW9ucy5zaG91bGRVcGRhdGUgfHwgdGhpcy5vcHRpb25zLnNob3VsZFVwZGF0ZShlKSkgJiYgdGhpcy51cGRhdGVWaWV3KFwidXBkYXRlXCIsIHRoaXMuaGFuZGxlRHJhZ1VwZGF0ZShlLCB0aGlzLl9zdGF0ZSwge1xuICAgICAgICAgICAgICAgIHJldmVyc2VkOiB0aGlzLm9wdGlvbnMucmV2ZXJzZWRcbiAgICAgICAgICAgIH0pLCBcImRyYWdcIiwgZSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlRW5kID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc1N0YXJ0ZWQgJiYgZSAmJiAoIXRoaXMub3B0aW9ucy5zaG91bGRFbmQgfHwgdGhpcy5vcHRpb25zLnNob3VsZEVuZChlKSkgJiYgKHRoaXMudXBkYXRlVmlldyhcImVuZFwiLCB0aGlzLmhhbmRsZURyYWdFbmQoZSwgdGhpcy5fc3RhdGUsIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlZDogdGhpcy5vcHRpb25zLnJldmVyc2VkXG4gICAgICAgICAgICB9KSwgXCJkcmFnXCIsIGUpLCB0aGlzLl9pc1N0YXJ0ZWQgPSAhMSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlVXBkYXRlID0gdGhyb3R0bGUodGhpcy5oYW5kbGVVcGRhdGVJbm5lciwgdGhpcy5vcHRpb25zLnRocm90dGxlKTtcbiAgICB9XG4gICAgZ2V0RXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlU3RhcnRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLmVuZFRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZUVuZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudXBkYXRlVHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlVXBkYXRlXG4gICAgICAgIH0gXTtcbiAgICB9XG59XG5cblZpZXdEcmFnLnR5cGUgPSBcInZpZXctZHJhZ1wiLCBWaWV3RHJhZy5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICByZWFsdGltZTogITAsXG4gICAgcmV2ZXJzZWQ6ICExLFxuICAgIHRyaWdnZXI6IFwicG9pbnRlcmRvd25cIixcbiAgICB1cGRhdGVUcmlnZ2VyOiBcInBvaW50ZXJtb3ZlXCIsXG4gICAgZW5kVHJpZ2dlcjogXCJwb2ludGVydXBcIixcbiAgICB0aHJvdHRsZTogMTAwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy1kcmFnLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-drag.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewNavigationBase: () => (/* binding */ ViewNavigationBase)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/base.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n\n\n\n\n\n\n\n\nclass ViewNavigationBase extends _base__WEBPACK_IMPORTED_MODULE_0__.BaseInteraction {\n    constructor(view, options) {\n        super(view, options), this.options = options;\n    }\n    _parseLinkedComponent(option) {\n        if (!option) return null;\n        const comp = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(option) ? this.view.getMarkById(option) : option;\n        return !comp || comp.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.component || comp.componentType !== _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom && comp.componentType !== _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.scrollbar ? null : comp;\n    }\n    _initStateByDim(dim, linkedComponent, scale, dataTarget, rangeOptions) {\n        const comp = this._parseLinkedComponent(linkedComponent);\n        if (comp) return void (this._state[dim] = {\n            linkedComponent: comp\n        });\n        const scaleGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(scale) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(scale) ? this.view.getScaleById(scale) : scale, dataGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(null == dataTarget ? void 0 : dataTarget.data) ? null : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dataTarget.data) ? this.view.getDataById(dataTarget.data) : dataTarget.data;\n        if (!scaleGrammar || !dataGrammar) return this._state[dim] = {\n            data: dataGrammar,\n            scale: scaleGrammar\n        }, void ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(rangeOptions) ? (this._state[dim].rangeFactor = rangeOptions, this._state[dim].initRangeFactor = rangeOptions) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(rangeOptions) ? this._state[dim].getCurrentRange = rangeOptions : scaleGrammar && scaleGrammar.getRangeFactor() && (this._state[dim].rangeFactor = scaleGrammar.getRangeFactor(), \n        this._state[dim].initRangeFactor = scaleGrammar.getRangeFactor()));\n        dataGrammar.attach(scaleGrammar);\n        const filterByScale = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dataTarget.filter) ? (datum, filterValue) => {\n            const scale = scaleGrammar.getScale(), ratio = (0,_util_scale__WEBPACK_IMPORTED_MODULE_6__.getScaleRangeRatio)(scale, datum[dataTarget.filter]);\n            return ratio >= filterValue[0] && ratio <= filterValue[1];\n        } : dataTarget.filter, dataFilter = {\n            source: `${scaleGrammar.uid}`,\n            rank: _graph_enums__WEBPACK_IMPORTED_MODULE_2__.DataFilterRank.normal,\n            filter: data => {\n                var _a, _b, _c, _d;\n                const filterValue = \"x\" === dim ? null === (_b = null === (_a = this._state) || void 0 === _a ? void 0 : _a.x) || void 0 === _b ? void 0 : _b.filterValue : null === (_d = null === (_c = this._state) || void 0 === _c ? void 0 : _c.y) || void 0 === _d ? void 0 : _d.filterValue;\n                if (!filterValue) return data;\n                const filteredData = data.filter((datum => filterByScale(datum, filterValue)));\n                return dataTarget.transform ? dataTarget.transform(filteredData, filterValue) : filteredData;\n            }\n        };\n        \"x\" === dim ? this._dataFilterX = dataFilter : this._dataFilterY = dataFilter, dataGrammar.addDataFilter(dataFilter), \n        this._state[dim] = {\n            data: dataGrammar,\n            scale: scaleGrammar\n        };\n    }\n    _initGrammars() {\n        const {enableX: enableX, enableY: enableY, scaleX: scaleX, scaleY: scaleY, dataTargetX: dataTargetX, dataTargetY: dataTargetY, linkedComponentX: linkedComponentX, linkedComponentY: linkedComponentY, rangeX: rangeX, rangeY: rangeY} = this.options;\n        this._state = {}, !1 !== enableX && this._initStateByDim(\"x\", linkedComponentX, scaleX, dataTargetX, rangeX), \n        !1 !== enableY && this._initStateByDim(\"y\", linkedComponentY, scaleY, dataTargetY, rangeY), \n        this._inited = !0;\n    }\n    _updateLinkedComponent(comp, newRange) {\n        comp.componentType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.ComponentEnum.datazoom ? comp.setStartEndValue(newRange[0], newRange[1]) : comp.setScrollStart(newRange[0]);\n    }\n    updateView(type, newRange, eventType, e) {\n        var _a, _b, _c, _d;\n        newRange && newRange.x && (null === (_b = null === (_a = this._state) || void 0 === _a ? void 0 : _a.x) || void 0 === _b ? void 0 : _b.linkedComponent) && this._updateLinkedComponent(this._state.x.linkedComponent, newRange.x), \n        newRange && newRange.y && (null === (_d = null === (_c = this._state) || void 0 === _c ? void 0 : _c.y) || void 0 === _d ? void 0 : _d.linkedComponent) && this._updateLinkedComponent(this._state.y.linkedComponent, newRange.y), \n        newRange && newRange.needUpdate && this.view.run(), this.dispatchEvent(type, {\n            viewRange: newRange,\n            event: e,\n            eventType: eventType\n        });\n    }\n    unbind() {\n        super.unbind(), this._state && Object.keys(this._state).forEach((dim => {\n            const {data: data, scale: scale} = this._state[dim];\n            data && scale ? (data.detach(scale), data.removeDataFilter(\"x\" === dim ? this._dataFilterX : this._dataFilterY)) : scale && (scale.setRangeFactor(null), \n            scale.commit());\n        })), this._state = null;\n    }\n}\n//# sourceMappingURL=view-navigation-base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctbmF2aWdhdGlvbi1iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXdFOztBQUUvQjs7QUFFdUM7O0FBRTdCOztBQUU1QyxpQ0FBaUMsa0RBQWU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0REFBUTtBQUM3QiwwQ0FBMEMseURBQWUscUNBQXFDLHVEQUFhLG9DQUFvQyx1REFBYTtBQUM1SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDZCQUE2Qiw0REFBSyxpQkFBaUIsNERBQVEsK0RBQStELDREQUFLLHlEQUF5RCw0REFBUTtBQUNoTTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFFBQVEsNERBQU8sa0hBQWtILDREQUFVO0FBQ3BKO0FBQ0E7QUFDQSw4QkFBOEIsNERBQVE7QUFDdEMsMkRBQTJELCtEQUFrQjtBQUM3RTtBQUNBLFVBQVU7QUFDVix1QkFBdUIsaUJBQWlCO0FBQ3hDLGtCQUFrQix3REFBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdPQUFnTztBQUMvTyx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdURBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwwQkFBMEI7QUFDN0M7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy92aWV3LW5hdmlnYXRpb24tYmFzZS5qcz85NzhhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzTmlsLCBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEJhc2VJbnRlcmFjdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50RW51bSwgRGF0YUZpbHRlclJhbmssIEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBnZXRTY2FsZVJhbmdlUmF0aW8gfSBmcm9tIFwiLi4vdXRpbC9zY2FsZVwiO1xuXG5leHBvcnQgY2xhc3MgVmlld05hdmlnYXRpb25CYXNlIGV4dGVuZHMgQmFzZUludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIG9wdGlvbnMpLCB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBfcGFyc2VMaW5rZWRDb21wb25lbnQob3B0aW9uKSB7XG4gICAgICAgIGlmICghb3B0aW9uKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgY29tcCA9IGlzU3RyaW5nKG9wdGlvbikgPyB0aGlzLnZpZXcuZ2V0TWFya0J5SWQob3B0aW9uKSA6IG9wdGlvbjtcbiAgICAgICAgcmV0dXJuICFjb21wIHx8IGNvbXAubWFya1R5cGUgIT09IEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQgfHwgY29tcC5jb21wb25lbnRUeXBlICE9PSBDb21wb25lbnRFbnVtLmRhdGF6b29tICYmIGNvbXAuY29tcG9uZW50VHlwZSAhPT0gQ29tcG9uZW50RW51bS5zY3JvbGxiYXIgPyBudWxsIDogY29tcDtcbiAgICB9XG4gICAgX2luaXRTdGF0ZUJ5RGltKGRpbSwgbGlua2VkQ29tcG9uZW50LCBzY2FsZSwgZGF0YVRhcmdldCwgcmFuZ2VPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLl9wYXJzZUxpbmtlZENvbXBvbmVudChsaW5rZWRDb21wb25lbnQpO1xuICAgICAgICBpZiAoY29tcCkgcmV0dXJuIHZvaWQgKHRoaXMuX3N0YXRlW2RpbV0gPSB7XG4gICAgICAgICAgICBsaW5rZWRDb21wb25lbnQ6IGNvbXBcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNjYWxlR3JhbW1hciA9IGlzTmlsKHNjYWxlKSA/IG51bGwgOiBpc1N0cmluZyhzY2FsZSkgPyB0aGlzLnZpZXcuZ2V0U2NhbGVCeUlkKHNjYWxlKSA6IHNjYWxlLCBkYXRhR3JhbW1hciA9IGlzTmlsKG51bGwgPT0gZGF0YVRhcmdldCA/IHZvaWQgMCA6IGRhdGFUYXJnZXQuZGF0YSkgPyBudWxsIDogaXNTdHJpbmcoZGF0YVRhcmdldC5kYXRhKSA/IHRoaXMudmlldy5nZXREYXRhQnlJZChkYXRhVGFyZ2V0LmRhdGEpIDogZGF0YVRhcmdldC5kYXRhO1xuICAgICAgICBpZiAoIXNjYWxlR3JhbW1hciB8fCAhZGF0YUdyYW1tYXIpIHJldHVybiB0aGlzLl9zdGF0ZVtkaW1dID0ge1xuICAgICAgICAgICAgZGF0YTogZGF0YUdyYW1tYXIsXG4gICAgICAgICAgICBzY2FsZTogc2NhbGVHcmFtbWFyXG4gICAgICAgIH0sIHZvaWQgKGlzQXJyYXkocmFuZ2VPcHRpb25zKSA/ICh0aGlzLl9zdGF0ZVtkaW1dLnJhbmdlRmFjdG9yID0gcmFuZ2VPcHRpb25zLCB0aGlzLl9zdGF0ZVtkaW1dLmluaXRSYW5nZUZhY3RvciA9IHJhbmdlT3B0aW9ucykgOiBpc0Z1bmN0aW9uKHJhbmdlT3B0aW9ucykgPyB0aGlzLl9zdGF0ZVtkaW1dLmdldEN1cnJlbnRSYW5nZSA9IHJhbmdlT3B0aW9ucyA6IHNjYWxlR3JhbW1hciAmJiBzY2FsZUdyYW1tYXIuZ2V0UmFuZ2VGYWN0b3IoKSAmJiAodGhpcy5fc3RhdGVbZGltXS5yYW5nZUZhY3RvciA9IHNjYWxlR3JhbW1hci5nZXRSYW5nZUZhY3RvcigpLCBcbiAgICAgICAgdGhpcy5fc3RhdGVbZGltXS5pbml0UmFuZ2VGYWN0b3IgPSBzY2FsZUdyYW1tYXIuZ2V0UmFuZ2VGYWN0b3IoKSkpO1xuICAgICAgICBkYXRhR3JhbW1hci5hdHRhY2goc2NhbGVHcmFtbWFyKTtcbiAgICAgICAgY29uc3QgZmlsdGVyQnlTY2FsZSA9IGlzU3RyaW5nKGRhdGFUYXJnZXQuZmlsdGVyKSA/IChkYXR1bSwgZmlsdGVyVmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gc2NhbGVHcmFtbWFyLmdldFNjYWxlKCksIHJhdGlvID0gZ2V0U2NhbGVSYW5nZVJhdGlvKHNjYWxlLCBkYXR1bVtkYXRhVGFyZ2V0LmZpbHRlcl0pO1xuICAgICAgICAgICAgcmV0dXJuIHJhdGlvID49IGZpbHRlclZhbHVlWzBdICYmIHJhdGlvIDw9IGZpbHRlclZhbHVlWzFdO1xuICAgICAgICB9IDogZGF0YVRhcmdldC5maWx0ZXIsIGRhdGFGaWx0ZXIgPSB7XG4gICAgICAgICAgICBzb3VyY2U6IGAke3NjYWxlR3JhbW1hci51aWR9YCxcbiAgICAgICAgICAgIHJhbms6IERhdGFGaWx0ZXJSYW5rLm5vcm1hbCxcbiAgICAgICAgICAgIGZpbHRlcjogZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gXCJ4XCIgPT09IGRpbSA/IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IHRoaXMuX3N0YXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EueCkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmZpbHRlclZhbHVlIDogbnVsbCA9PT0gKF9kID0gbnVsbCA9PT0gKF9jID0gdGhpcy5fc3RhdGUpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy55KSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2QuZmlsdGVyVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXJWYWx1ZSkgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWREYXRhID0gZGF0YS5maWx0ZXIoKGRhdHVtID0+IGZpbHRlckJ5U2NhbGUoZGF0dW0sIGZpbHRlclZhbHVlKSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhVGFyZ2V0LnRyYW5zZm9ybSA/IGRhdGFUYXJnZXQudHJhbnNmb3JtKGZpbHRlcmVkRGF0YSwgZmlsdGVyVmFsdWUpIDogZmlsdGVyZWREYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcInhcIiA9PT0gZGltID8gdGhpcy5fZGF0YUZpbHRlclggPSBkYXRhRmlsdGVyIDogdGhpcy5fZGF0YUZpbHRlclkgPSBkYXRhRmlsdGVyLCBkYXRhR3JhbW1hci5hZGREYXRhRmlsdGVyKGRhdGFGaWx0ZXIpLCBcbiAgICAgICAgdGhpcy5fc3RhdGVbZGltXSA9IHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGFHcmFtbWFyLFxuICAgICAgICAgICAgc2NhbGU6IHNjYWxlR3JhbW1hclxuICAgICAgICB9O1xuICAgIH1cbiAgICBfaW5pdEdyYW1tYXJzKCkge1xuICAgICAgICBjb25zdCB7ZW5hYmxlWDogZW5hYmxlWCwgZW5hYmxlWTogZW5hYmxlWSwgc2NhbGVYOiBzY2FsZVgsIHNjYWxlWTogc2NhbGVZLCBkYXRhVGFyZ2V0WDogZGF0YVRhcmdldFgsIGRhdGFUYXJnZXRZOiBkYXRhVGFyZ2V0WSwgbGlua2VkQ29tcG9uZW50WDogbGlua2VkQ29tcG9uZW50WCwgbGlua2VkQ29tcG9uZW50WTogbGlua2VkQ29tcG9uZW50WSwgcmFuZ2VYOiByYW5nZVgsIHJhbmdlWTogcmFuZ2VZfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdGhpcy5fc3RhdGUgPSB7fSwgITEgIT09IGVuYWJsZVggJiYgdGhpcy5faW5pdFN0YXRlQnlEaW0oXCJ4XCIsIGxpbmtlZENvbXBvbmVudFgsIHNjYWxlWCwgZGF0YVRhcmdldFgsIHJhbmdlWCksIFxuICAgICAgICAhMSAhPT0gZW5hYmxlWSAmJiB0aGlzLl9pbml0U3RhdGVCeURpbShcInlcIiwgbGlua2VkQ29tcG9uZW50WSwgc2NhbGVZLCBkYXRhVGFyZ2V0WSwgcmFuZ2VZKSwgXG4gICAgICAgIHRoaXMuX2luaXRlZCA9ICEwO1xuICAgIH1cbiAgICBfdXBkYXRlTGlua2VkQ29tcG9uZW50KGNvbXAsIG5ld1JhbmdlKSB7XG4gICAgICAgIGNvbXAuY29tcG9uZW50VHlwZSA9PT0gQ29tcG9uZW50RW51bS5kYXRhem9vbSA/IGNvbXAuc2V0U3RhcnRFbmRWYWx1ZShuZXdSYW5nZVswXSwgbmV3UmFuZ2VbMV0pIDogY29tcC5zZXRTY3JvbGxTdGFydChuZXdSYW5nZVswXSk7XG4gICAgfVxuICAgIHVwZGF0ZVZpZXcodHlwZSwgbmV3UmFuZ2UsIGV2ZW50VHlwZSwgZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIG5ld1JhbmdlICYmIG5ld1JhbmdlLnggJiYgKG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IHRoaXMuX3N0YXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EueCkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmxpbmtlZENvbXBvbmVudCkgJiYgdGhpcy5fdXBkYXRlTGlua2VkQ29tcG9uZW50KHRoaXMuX3N0YXRlLngubGlua2VkQ29tcG9uZW50LCBuZXdSYW5nZS54KSwgXG4gICAgICAgIG5ld1JhbmdlICYmIG5ld1JhbmdlLnkgJiYgKG51bGwgPT09IChfZCA9IG51bGwgPT09IChfYyA9IHRoaXMuX3N0YXRlKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MueSkgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kLmxpbmtlZENvbXBvbmVudCkgJiYgdGhpcy5fdXBkYXRlTGlua2VkQ29tcG9uZW50KHRoaXMuX3N0YXRlLnkubGlua2VkQ29tcG9uZW50LCBuZXdSYW5nZS55KSwgXG4gICAgICAgIG5ld1JhbmdlICYmIG5ld1JhbmdlLm5lZWRVcGRhdGUgJiYgdGhpcy52aWV3LnJ1bigpLCB0aGlzLmRpc3BhdGNoRXZlbnQodHlwZSwge1xuICAgICAgICAgICAgdmlld1JhbmdlOiBuZXdSYW5nZSxcbiAgICAgICAgICAgIGV2ZW50OiBlLFxuICAgICAgICAgICAgZXZlbnRUeXBlOiBldmVudFR5cGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVuYmluZCgpIHtcbiAgICAgICAgc3VwZXIudW5iaW5kKCksIHRoaXMuX3N0YXRlICYmIE9iamVjdC5rZXlzKHRoaXMuX3N0YXRlKS5mb3JFYWNoKChkaW0gPT4ge1xuICAgICAgICAgICAgY29uc3Qge2RhdGE6IGRhdGEsIHNjYWxlOiBzY2FsZX0gPSB0aGlzLl9zdGF0ZVtkaW1dO1xuICAgICAgICAgICAgZGF0YSAmJiBzY2FsZSA/IChkYXRhLmRldGFjaChzY2FsZSksIGRhdGEucmVtb3ZlRGF0YUZpbHRlcihcInhcIiA9PT0gZGltID8gdGhpcy5fZGF0YUZpbHRlclggOiB0aGlzLl9kYXRhRmlsdGVyWSkpIDogc2NhbGUgJiYgKHNjYWxlLnNldFJhbmdlRmFjdG9yKG51bGwpLCBcbiAgICAgICAgICAgIHNjYWxlLmNvbW1pdCgpKTtcbiAgICAgICAgfSkpLCB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy1uYXZpZ2F0aW9uLWJhc2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-roam.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-roam.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewRoam: () => (/* binding */ ViewRoam)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/merge.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\nclass ViewRoam extends _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__.ViewNavigationBase {\n    constructor(view, option) {\n        super(view, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, ViewRoam.defaultOptions, option)), this.type = ViewRoam.type, \n        this.handleRoamZoomStartInner = e => {\n            this.formatZoomEvent(e), !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._inited || this._initGrammars(), \n            this._isZoomStarted = !0, this.updateView(\"start\", this.handleZoomStart(e, this._state, this.options.zoom), \"zoom\", e));\n        }, this.handleRoamZoomEnd = e => {\n            this._isZoomStarted && (this.formatZoomEvent(e), !e || this.options.shouldEnd && !this.options.shouldEnd(e) || (this.updateView(\"end\", this.handleZoomEnd(e, this._state, this.options.zoom), \"zoom\", e), \n            this._isZoomStarted = !1));\n        }, this.handleRoamZoomReset = e => {\n            this._isZoomStarted && e && (!this.options.shouldReset || this.options.shouldReset(e)) && (this.updateView(\"reset\", this.handleZoomReset(e, this._state, this.options.zoom), \"zoom\", e), \n            this._isZoomStarted = !1);\n        }, this.handleRoamDragStart = e => {\n            !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._inited || this._initGrammars(), \n            this._isDragStarted = !0, this.updateView(\"start\", this.handleDragStart(e, this._state, this.options.drag), \"drag\", e));\n        }, this.handleRoamDragUpdateInner = e => {\n            this._isDragStarted && e && (!this.options.shouldUpdate || this.options.shouldUpdate(e)) && this.updateView(\"update\", this.handleDragUpdate(e, this._state, this.options.drag), \"drag\", e);\n        }, this.handleRoamDragEnd = e => {\n            this._isDragStarted && e && (!this.options.shouldEnd || this.options.shouldEnd(e)) && (this.updateView(\"end\", this.handleDragEnd(e, this._state, this.options.drag), \"drag\", e), \n            this._isDragStarted = !1);\n        }, this.handleRoamScrollStartInner = e => {\n            this.formatScrollEvent(e), !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._inited || this._initGrammars(), \n            this._isScrollStarted = !0, this.updateView(\"start\", this.handleScrollStart(e, this._state, this.options.scroll), \"scroll\", e));\n        }, this.handleRoamScrollEnd = e => {\n            this._isScrollStarted && (this.formatScrollEvent(e), !e || this.options.shouldEnd && !this.options.shouldEnd(e) || (this.updateView(\"end\", this.handleScrollEnd(e, this._state, this.options.scroll), \"scroll\", e), \n            this._isScrollStarted = !0));\n        }, this.handleRoamZoomStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.handleRoamZoomStartInner, this.options.throttle), \n        this.handleRoamDragUpdate = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.handleRoamDragUpdateInner, this.options.throttle), \n        this.handleRoamScrollStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.handleRoamScrollStartInner, this.options.throttle);\n    }\n    getEvents() {\n        var _a, _b, _c;\n        const events = [];\n        return (null === (_a = this.options.zoom) || void 0 === _a ? void 0 : _a.enable) && (this.options.zoom.trigger && events.push({\n            type: this.options.zoom.trigger,\n            handler: this.handleRoamZoomStart\n        }), this.options.zoom.endTrigger && events.push({\n            type: this.options.zoom.endTrigger,\n            handler: this.handleRoamZoomEnd\n        }), this.options.zoom.triggerOff && events.push({\n            type: this.options.zoom.triggerOff,\n            handler: this.handleRoamZoomReset\n        })), (null === (_b = this.options.scroll) || void 0 === _b ? void 0 : _b.enable) && (this.options.scroll.trigger && events.push({\n            type: this.options.scroll.trigger,\n            handler: this.handleRoamScrollStart\n        }), this.options.scroll.trigger && events.push({\n            type: this.options.scroll.endTrigger,\n            handler: this.handleRoamScrollEnd\n        })), (null === (_c = this.options.drag) || void 0 === _c ? void 0 : _c.enable) && (this.options.drag.trigger && events.push({\n            type: this.options.drag.trigger,\n            handler: this.handleRoamDragStart\n        }), this.options.drag.updateTrigger && events.push({\n            type: this.options.drag.updateTrigger,\n            handler: this.handleRoamDragUpdate\n        }), this.options.drag.endTrigger && events.push({\n            type: this.options.drag.endTrigger,\n            handler: this.handleRoamDragEnd\n        })), events;\n    }\n}\n\nViewRoam.type = \"view-roam\", ViewRoam.defaultOptions = {\n    zoom: {\n        realtime: !0,\n        enable: !0,\n        focus: !0,\n        trigger: \"wheel\",\n        endTrigger: \"pointerup\",\n        triggerOff: \"dblclick\",\n        rate: 1\n    },\n    scroll: {\n        realtime: !0,\n        enable: !1,\n        reversed: !1,\n        trigger: \"wheel\",\n        endTrigger: \"pointerup\"\n    },\n    drag: {\n        realtime: !0,\n        enable: !0,\n        reversed: !1,\n        trigger: \"pointerdown\",\n        updateTrigger: \"pointermove\",\n        endTrigger: \"pointerup\"\n    },\n    throttle: 100\n};\n//# sourceMappingURL=view-roam.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctcm9hbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1EOztBQUVTOztBQUVyRCx1QkFBdUIscUVBQWtCO0FBQ2hEO0FBQ0Esb0JBQW9CLDREQUFLLEdBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUyw2QkFBNkIsNERBQVE7QUFDOUMsb0NBQW9DLDREQUFRO0FBQzVDLHFDQUFxQyw0REFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy92aWV3LXJvYW0uanM/YWUzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtZXJnZSwgdGhyb3R0bGUgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBWaWV3TmF2aWdhdGlvbkJhc2UgfSBmcm9tIFwiLi92aWV3LW5hdmlnYXRpb24tYmFzZVwiO1xuXG5leHBvcnQgY2xhc3MgVmlld1JvYW0gZXh0ZW5kcyBWaWV3TmF2aWdhdGlvbkJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9wdGlvbikge1xuICAgICAgICBzdXBlcih2aWV3LCBtZXJnZSh7fSwgVmlld1JvYW0uZGVmYXVsdE9wdGlvbnMsIG9wdGlvbikpLCB0aGlzLnR5cGUgPSBWaWV3Um9hbS50eXBlLCBcbiAgICAgICAgdGhpcy5oYW5kbGVSb2FtWm9vbVN0YXJ0SW5uZXIgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0Wm9vbUV2ZW50KGUpLCAhZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQgJiYgIXRoaXMub3B0aW9ucy5zaG91bGRTdGFydChlKSB8fCAodGhpcy5faW5pdGVkIHx8IHRoaXMuX2luaXRHcmFtbWFycygpLCBcbiAgICAgICAgICAgIHRoaXMuX2lzWm9vbVN0YXJ0ZWQgPSAhMCwgdGhpcy51cGRhdGVWaWV3KFwic3RhcnRcIiwgdGhpcy5oYW5kbGVab29tU3RhcnQoZSwgdGhpcy5fc3RhdGUsIHRoaXMub3B0aW9ucy56b29tKSwgXCJ6b29tXCIsIGUpKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVSb2FtWm9vbUVuZCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5faXNab29tU3RhcnRlZCAmJiAodGhpcy5mb3JtYXRab29tRXZlbnQoZSksICFlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRFbmQgJiYgIXRoaXMub3B0aW9ucy5zaG91bGRFbmQoZSkgfHwgKHRoaXMudXBkYXRlVmlldyhcImVuZFwiLCB0aGlzLmhhbmRsZVpvb21FbmQoZSwgdGhpcy5fc3RhdGUsIHRoaXMub3B0aW9ucy56b29tKSwgXCJ6b29tXCIsIGUpLCBcbiAgICAgICAgICAgIHRoaXMuX2lzWm9vbVN0YXJ0ZWQgPSAhMSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJvYW1ab29tUmVzZXQgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzWm9vbVN0YXJ0ZWQgJiYgZSAmJiAoIXRoaXMub3B0aW9ucy5zaG91bGRSZXNldCB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkUmVzZXQoZSkpICYmICh0aGlzLnVwZGF0ZVZpZXcoXCJyZXNldFwiLCB0aGlzLmhhbmRsZVpvb21SZXNldChlLCB0aGlzLl9zdGF0ZSwgdGhpcy5vcHRpb25zLnpvb20pLCBcInpvb21cIiwgZSksIFxuICAgICAgICAgICAgdGhpcy5faXNab29tU3RhcnRlZCA9ICExKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVSb2FtRHJhZ1N0YXJ0ID0gZSA9PiB7XG4gICAgICAgICAgICAhZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQgJiYgIXRoaXMub3B0aW9ucy5zaG91bGRTdGFydChlKSB8fCAodGhpcy5faW5pdGVkIHx8IHRoaXMuX2luaXRHcmFtbWFycygpLCBcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhZ1N0YXJ0ZWQgPSAhMCwgdGhpcy51cGRhdGVWaWV3KFwic3RhcnRcIiwgdGhpcy5oYW5kbGVEcmFnU3RhcnQoZSwgdGhpcy5fc3RhdGUsIHRoaXMub3B0aW9ucy5kcmFnKSwgXCJkcmFnXCIsIGUpKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVSb2FtRHJhZ1VwZGF0ZUlubmVyID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc0RyYWdTdGFydGVkICYmIGUgJiYgKCF0aGlzLm9wdGlvbnMuc2hvdWxkVXBkYXRlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRVcGRhdGUoZSkpICYmIHRoaXMudXBkYXRlVmlldyhcInVwZGF0ZVwiLCB0aGlzLmhhbmRsZURyYWdVcGRhdGUoZSwgdGhpcy5fc3RhdGUsIHRoaXMub3B0aW9ucy5kcmFnKSwgXCJkcmFnXCIsIGUpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJvYW1EcmFnRW5kID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc0RyYWdTdGFydGVkICYmIGUgJiYgKCF0aGlzLm9wdGlvbnMuc2hvdWxkRW5kIHx8IHRoaXMub3B0aW9ucy5zaG91bGRFbmQoZSkpICYmICh0aGlzLnVwZGF0ZVZpZXcoXCJlbmRcIiwgdGhpcy5oYW5kbGVEcmFnRW5kKGUsIHRoaXMuX3N0YXRlLCB0aGlzLm9wdGlvbnMuZHJhZyksIFwiZHJhZ1wiLCBlKSwgXG4gICAgICAgICAgICB0aGlzLl9pc0RyYWdTdGFydGVkID0gITEpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJvYW1TY3JvbGxTdGFydElubmVyID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdFNjcm9sbEV2ZW50KGUpLCAhZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQgJiYgIXRoaXMub3B0aW9ucy5zaG91bGRTdGFydChlKSB8fCAodGhpcy5faW5pdGVkIHx8IHRoaXMuX2luaXRHcmFtbWFycygpLCBcbiAgICAgICAgICAgIHRoaXMuX2lzU2Nyb2xsU3RhcnRlZCA9ICEwLCB0aGlzLnVwZGF0ZVZpZXcoXCJzdGFydFwiLCB0aGlzLmhhbmRsZVNjcm9sbFN0YXJ0KGUsIHRoaXMuX3N0YXRlLCB0aGlzLm9wdGlvbnMuc2Nyb2xsKSwgXCJzY3JvbGxcIiwgZSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVJvYW1TY3JvbGxFbmQgPSBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzU2Nyb2xsU3RhcnRlZCAmJiAodGhpcy5mb3JtYXRTY3JvbGxFdmVudChlKSwgIWUgfHwgdGhpcy5vcHRpb25zLnNob3VsZEVuZCAmJiAhdGhpcy5vcHRpb25zLnNob3VsZEVuZChlKSB8fCAodGhpcy51cGRhdGVWaWV3KFwiZW5kXCIsIHRoaXMuaGFuZGxlU2Nyb2xsRW5kKGUsIHRoaXMuX3N0YXRlLCB0aGlzLm9wdGlvbnMuc2Nyb2xsKSwgXCJzY3JvbGxcIiwgZSksIFxuICAgICAgICAgICAgdGhpcy5faXNTY3JvbGxTdGFydGVkID0gITApKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVSb2FtWm9vbVN0YXJ0ID0gdGhyb3R0bGUodGhpcy5oYW5kbGVSb2FtWm9vbVN0YXJ0SW5uZXIsIHRoaXMub3B0aW9ucy50aHJvdHRsZSksIFxuICAgICAgICB0aGlzLmhhbmRsZVJvYW1EcmFnVXBkYXRlID0gdGhyb3R0bGUodGhpcy5oYW5kbGVSb2FtRHJhZ1VwZGF0ZUlubmVyLCB0aGlzLm9wdGlvbnMudGhyb3R0bGUpLCBcbiAgICAgICAgdGhpcy5oYW5kbGVSb2FtU2Nyb2xsU3RhcnQgPSB0aHJvdHRsZSh0aGlzLmhhbmRsZVJvYW1TY3JvbGxTdGFydElubmVyLCB0aGlzLm9wdGlvbnMudGhyb3R0bGUpO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBldmVudHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIChudWxsID09PSAoX2EgPSB0aGlzLm9wdGlvbnMuem9vbSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmVuYWJsZSkgJiYgKHRoaXMub3B0aW9ucy56b29tLnRyaWdnZXIgJiYgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnpvb20udHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUm9hbVpvb21TdGFydFxuICAgICAgICB9KSwgdGhpcy5vcHRpb25zLnpvb20uZW5kVHJpZ2dlciAmJiBldmVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuem9vbS5lbmRUcmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSb2FtWm9vbUVuZFxuICAgICAgICB9KSwgdGhpcy5vcHRpb25zLnpvb20udHJpZ2dlck9mZiAmJiBldmVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuem9vbS50cmlnZ2VyT2ZmLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSb2FtWm9vbVJlc2V0XG4gICAgICAgIH0pKSwgKG51bGwgPT09IChfYiA9IHRoaXMub3B0aW9ucy5zY3JvbGwpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5lbmFibGUpICYmICh0aGlzLm9wdGlvbnMuc2Nyb2xsLnRyaWdnZXIgJiYgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnNjcm9sbC50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSb2FtU2Nyb2xsU3RhcnRcbiAgICAgICAgfSksIHRoaXMub3B0aW9ucy5zY3JvbGwudHJpZ2dlciAmJiBldmVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuc2Nyb2xsLmVuZFRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJvYW1TY3JvbGxFbmRcbiAgICAgICAgfSkpLCAobnVsbCA9PT0gKF9jID0gdGhpcy5vcHRpb25zLmRyYWcpIHx8IHZvaWQgMCA9PT0gX2MgPyB2b2lkIDAgOiBfYy5lbmFibGUpICYmICh0aGlzLm9wdGlvbnMuZHJhZy50cmlnZ2VyICYmIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5kcmFnLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVJvYW1EcmFnU3RhcnRcbiAgICAgICAgfSksIHRoaXMub3B0aW9ucy5kcmFnLnVwZGF0ZVRyaWdnZXIgJiYgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLmRyYWcudXBkYXRlVHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUm9hbURyYWdVcGRhdGVcbiAgICAgICAgfSksIHRoaXMub3B0aW9ucy5kcmFnLmVuZFRyaWdnZXIgJiYgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLmRyYWcuZW5kVHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlUm9hbURyYWdFbmRcbiAgICAgICAgfSkpLCBldmVudHM7XG4gICAgfVxufVxuXG5WaWV3Um9hbS50eXBlID0gXCJ2aWV3LXJvYW1cIiwgVmlld1JvYW0uZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgem9vbToge1xuICAgICAgICByZWFsdGltZTogITAsXG4gICAgICAgIGVuYWJsZTogITAsXG4gICAgICAgIGZvY3VzOiAhMCxcbiAgICAgICAgdHJpZ2dlcjogXCJ3aGVlbFwiLFxuICAgICAgICBlbmRUcmlnZ2VyOiBcInBvaW50ZXJ1cFwiLFxuICAgICAgICB0cmlnZ2VyT2ZmOiBcImRibGNsaWNrXCIsXG4gICAgICAgIHJhdGU6IDFcbiAgICB9LFxuICAgIHNjcm9sbDoge1xuICAgICAgICByZWFsdGltZTogITAsXG4gICAgICAgIGVuYWJsZTogITEsXG4gICAgICAgIHJldmVyc2VkOiAhMSxcbiAgICAgICAgdHJpZ2dlcjogXCJ3aGVlbFwiLFxuICAgICAgICBlbmRUcmlnZ2VyOiBcInBvaW50ZXJ1cFwiXG4gICAgfSxcbiAgICBkcmFnOiB7XG4gICAgICAgIHJlYWx0aW1lOiAhMCxcbiAgICAgICAgZW5hYmxlOiAhMCxcbiAgICAgICAgcmV2ZXJzZWQ6ICExLFxuICAgICAgICB0cmlnZ2VyOiBcInBvaW50ZXJkb3duXCIsXG4gICAgICAgIHVwZGF0ZVRyaWdnZXI6IFwicG9pbnRlcm1vdmVcIixcbiAgICAgICAgZW5kVHJpZ2dlcjogXCJwb2ludGVydXBcIlxuICAgIH0sXG4gICAgdGhyb3R0bGU6IDEwMFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXctcm9hbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-roam.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll-mixin.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll-mixin.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewScrollMixin: () => (/* binding */ ViewScrollMixin)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _view_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view-utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js\");\n\n\n\n\nclass ViewScrollMixin {\n    formatPanScroll(e) {\n        return e;\n    }\n    formatWheelScroll(e) {\n        return e.ctrlKey || 0 === e.deltaY && 0 === e.deltaX || (e.scrollX = e.deltaX, e.scrollY = e.deltaY), \n        e;\n    }\n    formatScrollEvent(e) {\n        return e ? \"pan\" === e.type ? this.formatPanScroll(e) : \"wheel\" === e.type ? this.formatWheelScroll(e) : e : e;\n    }\n    handleScrollStart(e, navState, scrollOptions) {\n        if (e.stopPropagation(), e.preventDefault(), !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.scrollX) || !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.scrollY)) {\n            if (scrollOptions && scrollOptions.realtime) return (0,_view_utils__WEBPACK_IMPORTED_MODULE_1__.handleScrolling)({\n                x: e.scrollX,\n                y: e.scrollY\n            }, navState, scrollOptions);\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.scrollX) || (this._scrollX = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._scrollX) ? e.scrollX : this._scrollX + e.scrollX), \n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.scrollY) || (this._scrollY = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._scrollY) ? e.scrollY : this._scrollY + e.scrollY);\n        }\n    }\n    handleScrollEnd(e, navState, scrollOptions) {\n        if (!1 === (null == scrollOptions ? void 0 : scrollOptions.realtime) && ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._scrollX) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._scrollY))) {\n            const res = (0,_view_utils__WEBPACK_IMPORTED_MODULE_1__.handleScrolling)({\n                x: this._scrollX,\n                y: this._scrollY\n            }, navState, scrollOptions);\n            return this._scrollX = null, this._scrollY = null, res;\n        }\n        return null;\n    }\n}\n//# sourceMappingURL=view-scroll-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctc2Nyb2xsLW1peGluLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5Qzs7QUFFTTs7QUFFeEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDREQUFLLGdCQUFnQiw0REFBSztBQUNoRixnRUFBZ0UsNERBQWU7QUFDL0U7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDREQUFLLGdDQUFnQyw0REFBSztBQUN0RCxZQUFZLDREQUFLLGdDQUFnQyw0REFBSztBQUN0RDtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsNERBQUssbUJBQW1CLDREQUFLO0FBQzlHLHdCQUF3Qiw0REFBZTtBQUN2QztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctc2Nyb2xsLW1peGluLmpzP2I5YmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBoYW5kbGVTY3JvbGxpbmcgfSBmcm9tIFwiLi92aWV3LXV0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3U2Nyb2xsTWl4aW4ge1xuICAgIGZvcm1hdFBhblNjcm9sbChlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICBmb3JtYXRXaGVlbFNjcm9sbChlKSB7XG4gICAgICAgIHJldHVybiBlLmN0cmxLZXkgfHwgMCA9PT0gZS5kZWx0YVkgJiYgMCA9PT0gZS5kZWx0YVggfHwgKGUuc2Nyb2xsWCA9IGUuZGVsdGFYLCBlLnNjcm9sbFkgPSBlLmRlbHRhWSksIFxuICAgICAgICBlO1xuICAgIH1cbiAgICBmb3JtYXRTY3JvbGxFdmVudChlKSB7XG4gICAgICAgIHJldHVybiBlID8gXCJwYW5cIiA9PT0gZS50eXBlID8gdGhpcy5mb3JtYXRQYW5TY3JvbGwoZSkgOiBcIndoZWVsXCIgPT09IGUudHlwZSA/IHRoaXMuZm9ybWF0V2hlZWxTY3JvbGwoZSkgOiBlIDogZTtcbiAgICB9XG4gICAgaGFuZGxlU2Nyb2xsU3RhcnQoZSwgbmF2U3RhdGUsIHNjcm9sbE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKCksIGUucHJldmVudERlZmF1bHQoKSwgIWlzTmlsKGUuc2Nyb2xsWCkgfHwgIWlzTmlsKGUuc2Nyb2xsWSkpIHtcbiAgICAgICAgICAgIGlmIChzY3JvbGxPcHRpb25zICYmIHNjcm9sbE9wdGlvbnMucmVhbHRpbWUpIHJldHVybiBoYW5kbGVTY3JvbGxpbmcoe1xuICAgICAgICAgICAgICAgIHg6IGUuc2Nyb2xsWCxcbiAgICAgICAgICAgICAgICB5OiBlLnNjcm9sbFlcbiAgICAgICAgICAgIH0sIG5hdlN0YXRlLCBzY3JvbGxPcHRpb25zKTtcbiAgICAgICAgICAgIGlzTmlsKGUuc2Nyb2xsWCkgfHwgKHRoaXMuX3Njcm9sbFggPSBpc05pbCh0aGlzLl9zY3JvbGxYKSA/IGUuc2Nyb2xsWCA6IHRoaXMuX3Njcm9sbFggKyBlLnNjcm9sbFgpLCBcbiAgICAgICAgICAgIGlzTmlsKGUuc2Nyb2xsWSkgfHwgKHRoaXMuX3Njcm9sbFkgPSBpc05pbCh0aGlzLl9zY3JvbGxZKSA/IGUuc2Nyb2xsWSA6IHRoaXMuX3Njcm9sbFkgKyBlLnNjcm9sbFkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZVNjcm9sbEVuZChlLCBuYXZTdGF0ZSwgc2Nyb2xsT3B0aW9ucykge1xuICAgICAgICBpZiAoITEgPT09IChudWxsID09IHNjcm9sbE9wdGlvbnMgPyB2b2lkIDAgOiBzY3JvbGxPcHRpb25zLnJlYWx0aW1lKSAmJiAoaXNOaWwodGhpcy5fc2Nyb2xsWCkgfHwgaXNOaWwodGhpcy5fc2Nyb2xsWSkpKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBoYW5kbGVTY3JvbGxpbmcoe1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuX3Njcm9sbFgsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5fc2Nyb2xsWVxuICAgICAgICAgICAgfSwgbmF2U3RhdGUsIHNjcm9sbE9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFggPSBudWxsLCB0aGlzLl9zY3JvbGxZID0gbnVsbCwgcmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXctc2Nyb2xsLW1peGluLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewScroll: () => (/* binding */ ViewScroll)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\nclass ViewScroll extends _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__.ViewNavigationBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, ViewScroll.defaultOptions, option)), this.type = ViewScroll.type, \n        this.handleStartInner = e => {\n            this.formatScrollEvent(e), !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._isStarted = !0, \n            this._inited || this._initGrammars(), this.updateView(\"start\", this.handleScrollStart(e, this._state, this.options), \"scroll\", e));\n        }, this.handleEnd = e => {\n            this._isStarted && (this.formatScrollEvent(e), !e || this.options.shouldEnd && !this.options.shouldEnd(e) || (this.updateView(\"end\", this.handleScrollEnd(e, this._state, this.options), \"scroll\", e), \n            this._isStarted = !1));\n        }, this.handleStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.handleStartInner, this.options.throttle);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.endTrigger,\n            handler: this.handleEnd\n        } ];\n    }\n}\n\nViewScroll.type = \"view-scroll\", ViewScroll.defaultOptions = {\n    realtime: !0,\n    reversed: !1,\n    trigger: \"wheel\",\n    endTrigger: \"pointerup\",\n    throttle: 100\n};\n//# sourceMappingURL=view-scroll.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctc2Nyb2xsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0Qzs7QUFFZ0I7O0FBRXJELHlCQUF5QixxRUFBa0I7QUFDbEQ7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTLHFCQUFxQiw0REFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9pbnRlcmFjdGlvbnMvdmlldy1zY3JvbGwuanM/NGFhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IFZpZXdOYXZpZ2F0aW9uQmFzZSB9IGZyb20gXCIuL3ZpZXctbmF2aWdhdGlvbi1iYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3U2Nyb2xsIGV4dGVuZHMgVmlld05hdmlnYXRpb25CYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBvcHRpb24pIHtcbiAgICAgICAgc3VwZXIodmlldywgT2JqZWN0LmFzc2lnbih7fSwgVmlld1Njcm9sbC5kZWZhdWx0T3B0aW9ucywgb3B0aW9uKSksIHRoaXMudHlwZSA9IFZpZXdTY3JvbGwudHlwZSwgXG4gICAgICAgIHRoaXMuaGFuZGxlU3RhcnRJbm5lciA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb3JtYXRTY3JvbGxFdmVudChlKSwgIWUgfHwgdGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0ICYmICF0aGlzLm9wdGlvbnMuc2hvdWxkU3RhcnQoZSkgfHwgKHRoaXMuX2lzU3RhcnRlZCA9ICEwLCBcbiAgICAgICAgICAgIHRoaXMuX2luaXRlZCB8fCB0aGlzLl9pbml0R3JhbW1hcnMoKSwgdGhpcy51cGRhdGVWaWV3KFwic3RhcnRcIiwgdGhpcy5oYW5kbGVTY3JvbGxTdGFydChlLCB0aGlzLl9zdGF0ZSwgdGhpcy5vcHRpb25zKSwgXCJzY3JvbGxcIiwgZSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZUVuZCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5faXNTdGFydGVkICYmICh0aGlzLmZvcm1hdFNjcm9sbEV2ZW50KGUpLCAhZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkRW5kICYmICF0aGlzLm9wdGlvbnMuc2hvdWxkRW5kKGUpIHx8ICh0aGlzLnVwZGF0ZVZpZXcoXCJlbmRcIiwgdGhpcy5oYW5kbGVTY3JvbGxFbmQoZSwgdGhpcy5fc3RhdGUsIHRoaXMub3B0aW9ucyksIFwic2Nyb2xsXCIsIGUpLCBcbiAgICAgICAgICAgIHRoaXMuX2lzU3RhcnRlZCA9ICExKSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlU3RhcnQgPSB0aHJvdHRsZSh0aGlzLmhhbmRsZVN0YXJ0SW5uZXIsIHRoaXMub3B0aW9ucy50aHJvdHRsZSk7XG4gICAgfVxuICAgIGdldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnRyaWdnZXIsXG4gICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmhhbmRsZVN0YXJ0XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5lbmRUcmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVFbmRcbiAgICAgICAgfSBdO1xuICAgIH1cbn1cblxuVmlld1Njcm9sbC50eXBlID0gXCJ2aWV3LXNjcm9sbFwiLCBWaWV3U2Nyb2xsLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIHJlYWx0aW1lOiAhMCxcbiAgICByZXZlcnNlZDogITEsXG4gICAgdHJpZ2dlcjogXCJ3aGVlbFwiLFxuICAgIGVuZFRyaWdnZXI6IFwicG9pbnRlcnVwXCIsXG4gICAgdGhyb3R0bGU6IDEwMFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXctc2Nyb2xsLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-scroll.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBoundsRangeOfLinkedComponent: () => (/* binding */ getBoundsRangeOfLinkedComponent),\n/* harmony export */   getFilteredValuesFromScale: () => (/* binding */ getFilteredValuesFromScale),\n/* harmony export */   getRangeOfLinkedComponent: () => (/* binding */ getRangeOfLinkedComponent),\n/* harmony export */   handleScrolling: () => (/* binding */ handleScrolling),\n/* harmony export */   updateScrollRange: () => (/* binding */ updateScrollRange)\n/* harmony export */ });\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\nconst getRangeOfLinkedComponent = comp => {\n    if (comp.componentType === _graph_enums__WEBPACK_IMPORTED_MODULE_0__.ComponentEnum.datazoom) {\n        const res = comp.getStartEndValue();\n        return res ? [ res.start, res.end ] : null;\n    }\n    return comp.getScrollRange();\n};\n\nconst getBoundsRangeOfLinkedComponent = (comp, dim) => {\n    const bounds = comp.getBounds();\n    if (bounds && !bounds.empty()) return \"y\" === dim ? [ bounds.y1, bounds.y2 ] : [ bounds.x1, bounds.x2 ];\n};\n\nconst getFilteredValuesFromScale = (scale, range) => {\n    const scaleRange = scale.range(), startPos = scaleRange[0] + (scaleRange[1] - scaleRange[0]) * range[0], endPos = scaleRange[0] + (scaleRange[1] - scaleRange[0]) * range[1];\n    if ((0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_1__.isContinuous)(scale.type)) {\n        const startValue = scale.invert(startPos), endValue = scale.invert(endPos);\n        return [ Math.min(startValue, endValue), Math.max(startValue, endValue) ];\n    }\n    return scale.domain().filter((entry => {\n        const val = scale.scale(entry);\n        return val >= startPos && val <= endPos;\n    }));\n};\n\nconst updateScrollRange = (rangeFactor = [ 0, 1 ], range, scrollValue = 0, scrollOptions) => {\n    if (Math.abs(scrollValue) < .001) return;\n    if (Math.abs(rangeFactor[1] - rangeFactor[0]) >= 1) return;\n    const size = Math.abs(range[range.length - 1] - range[0]);\n    if (size <= 0 || Number.isNaN(size)) return;\n    const value = (scrollOptions.reversed ? -1 : 1) * scrollValue;\n    if (value > 0 && rangeFactor[1] < 1) {\n        const delta = Math.min(1 - rangeFactor[1], value / size);\n        return [ rangeFactor[0] + delta, rangeFactor[1] + delta ];\n    }\n    if (value < 0 && rangeFactor[0] > 0) {\n        const delta = Math.max(-rangeFactor[0], value / size);\n        return [ rangeFactor[0] + delta, rangeFactor[1] + delta ];\n    }\n};\n\nconst handleScrolling = (scrollPos, navState, scrollOptions) => {\n    const res = {\n        needUpdate: !1\n    };\n    return navState ? (Object.keys(navState).forEach((dim => {\n        const {scale: scale, data: data, linkedComponent: linkedComponent, rangeFactor: rangeFactor, getCurrentRange: getCurrentRange} = navState[dim];\n        if (linkedComponent) res[dim] = updateScrollRange(getRangeOfLinkedComponent(linkedComponent), getBoundsRangeOfLinkedComponent(linkedComponent, dim), scrollPos[dim], scrollOptions); else if (scale) {\n            const innerScale = scale.getScale(), oldRange = scale.getRangeFactor() || rangeFactor, newRange = updateScrollRange(oldRange, innerScale.range(), scrollPos[dim], scrollOptions);\n            newRange && (navState[dim].rangeFactor = newRange, data ? (navState[dim].filterValue = newRange, \n            data.commit()) : (scale.setRangeFactor(newRange), scale.commit()), res.needUpdate = !0, \n            res[dim] = newRange);\n        } else {\n            const oldRange = (getCurrentRange ? getCurrentRange() : rangeFactor) || [ 0, 1 ], newRange = updateScrollRange(oldRange, [ 0, 1 ], scrollPos[dim], scrollOptions);\n            res[dim] = newRange || oldRange;\n        }\n    })), res) : res;\n};\n//# sourceMappingURL=view-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFnRDs7QUFFRDs7QUFFeEM7QUFDUCwrQkFBK0IsdURBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0EsUUFBUSw4REFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdIQUF3SDtBQUN2SSw2TEFBNkw7QUFDN0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy92aWV3LXV0aWxzLmpzPzk5NjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNDb250aW51b3VzIH0gZnJvbSBcIkB2aXNhY3Rvci92c2NhbGVcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50RW51bSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0UmFuZ2VPZkxpbmtlZENvbXBvbmVudCA9IGNvbXAgPT4ge1xuICAgIGlmIChjb21wLmNvbXBvbmVudFR5cGUgPT09IENvbXBvbmVudEVudW0uZGF0YXpvb20pIHtcbiAgICAgICAgY29uc3QgcmVzID0gY29tcC5nZXRTdGFydEVuZFZhbHVlKCk7XG4gICAgICAgIHJldHVybiByZXMgPyBbIHJlcy5zdGFydCwgcmVzLmVuZCBdIDogbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXAuZ2V0U2Nyb2xsUmFuZ2UoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRCb3VuZHNSYW5nZU9mTGlua2VkQ29tcG9uZW50ID0gKGNvbXAsIGRpbSkgPT4ge1xuICAgIGNvbnN0IGJvdW5kcyA9IGNvbXAuZ2V0Qm91bmRzKCk7XG4gICAgaWYgKGJvdW5kcyAmJiAhYm91bmRzLmVtcHR5KCkpIHJldHVybiBcInlcIiA9PT0gZGltID8gWyBib3VuZHMueTEsIGJvdW5kcy55MiBdIDogWyBib3VuZHMueDEsIGJvdW5kcy54MiBdO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEZpbHRlcmVkVmFsdWVzRnJvbVNjYWxlID0gKHNjYWxlLCByYW5nZSkgPT4ge1xuICAgIGNvbnN0IHNjYWxlUmFuZ2UgPSBzY2FsZS5yYW5nZSgpLCBzdGFydFBvcyA9IHNjYWxlUmFuZ2VbMF0gKyAoc2NhbGVSYW5nZVsxXSAtIHNjYWxlUmFuZ2VbMF0pICogcmFuZ2VbMF0sIGVuZFBvcyA9IHNjYWxlUmFuZ2VbMF0gKyAoc2NhbGVSYW5nZVsxXSAtIHNjYWxlUmFuZ2VbMF0pICogcmFuZ2VbMV07XG4gICAgaWYgKGlzQ29udGludW91cyhzY2FsZS50eXBlKSkge1xuICAgICAgICBjb25zdCBzdGFydFZhbHVlID0gc2NhbGUuaW52ZXJ0KHN0YXJ0UG9zKSwgZW5kVmFsdWUgPSBzY2FsZS5pbnZlcnQoZW5kUG9zKTtcbiAgICAgICAgcmV0dXJuIFsgTWF0aC5taW4oc3RhcnRWYWx1ZSwgZW5kVmFsdWUpLCBNYXRoLm1heChzdGFydFZhbHVlLCBlbmRWYWx1ZSkgXTtcbiAgICB9XG4gICAgcmV0dXJuIHNjYWxlLmRvbWFpbigpLmZpbHRlcigoZW50cnkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBzY2FsZS5zY2FsZShlbnRyeSk7XG4gICAgICAgIHJldHVybiB2YWwgPj0gc3RhcnRQb3MgJiYgdmFsIDw9IGVuZFBvcztcbiAgICB9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlU2Nyb2xsUmFuZ2UgPSAocmFuZ2VGYWN0b3IgPSBbIDAsIDEgXSwgcmFuZ2UsIHNjcm9sbFZhbHVlID0gMCwgc2Nyb2xsT3B0aW9ucykgPT4ge1xuICAgIGlmIChNYXRoLmFicyhzY3JvbGxWYWx1ZSkgPCAuMDAxKSByZXR1cm47XG4gICAgaWYgKE1hdGguYWJzKHJhbmdlRmFjdG9yWzFdIC0gcmFuZ2VGYWN0b3JbMF0pID49IDEpIHJldHVybjtcbiAgICBjb25zdCBzaXplID0gTWF0aC5hYnMocmFuZ2VbcmFuZ2UubGVuZ3RoIC0gMV0gLSByYW5nZVswXSk7XG4gICAgaWYgKHNpemUgPD0gMCB8fCBOdW1iZXIuaXNOYU4oc2l6ZSkpIHJldHVybjtcbiAgICBjb25zdCB2YWx1ZSA9IChzY3JvbGxPcHRpb25zLnJldmVyc2VkID8gLTEgOiAxKSAqIHNjcm9sbFZhbHVlO1xuICAgIGlmICh2YWx1ZSA+IDAgJiYgcmFuZ2VGYWN0b3JbMV0gPCAxKSB7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5taW4oMSAtIHJhbmdlRmFjdG9yWzFdLCB2YWx1ZSAvIHNpemUpO1xuICAgICAgICByZXR1cm4gWyByYW5nZUZhY3RvclswXSArIGRlbHRhLCByYW5nZUZhY3RvclsxXSArIGRlbHRhIF07XG4gICAgfVxuICAgIGlmICh2YWx1ZSA8IDAgJiYgcmFuZ2VGYWN0b3JbMF0gPiAwKSB7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5tYXgoLXJhbmdlRmFjdG9yWzBdLCB2YWx1ZSAvIHNpemUpO1xuICAgICAgICByZXR1cm4gWyByYW5nZUZhY3RvclswXSArIGRlbHRhLCByYW5nZUZhY3RvclsxXSArIGRlbHRhIF07XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGhhbmRsZVNjcm9sbGluZyA9IChzY3JvbGxQb3MsIG5hdlN0YXRlLCBzY3JvbGxPcHRpb25zKSA9PiB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICBuZWVkVXBkYXRlOiAhMVxuICAgIH07XG4gICAgcmV0dXJuIG5hdlN0YXRlID8gKE9iamVjdC5rZXlzKG5hdlN0YXRlKS5mb3JFYWNoKChkaW0gPT4ge1xuICAgICAgICBjb25zdCB7c2NhbGU6IHNjYWxlLCBkYXRhOiBkYXRhLCBsaW5rZWRDb21wb25lbnQ6IGxpbmtlZENvbXBvbmVudCwgcmFuZ2VGYWN0b3I6IHJhbmdlRmFjdG9yLCBnZXRDdXJyZW50UmFuZ2U6IGdldEN1cnJlbnRSYW5nZX0gPSBuYXZTdGF0ZVtkaW1dO1xuICAgICAgICBpZiAobGlua2VkQ29tcG9uZW50KSByZXNbZGltXSA9IHVwZGF0ZVNjcm9sbFJhbmdlKGdldFJhbmdlT2ZMaW5rZWRDb21wb25lbnQobGlua2VkQ29tcG9uZW50KSwgZ2V0Qm91bmRzUmFuZ2VPZkxpbmtlZENvbXBvbmVudChsaW5rZWRDb21wb25lbnQsIGRpbSksIHNjcm9sbFBvc1tkaW1dLCBzY3JvbGxPcHRpb25zKTsgZWxzZSBpZiAoc2NhbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGlubmVyU2NhbGUgPSBzY2FsZS5nZXRTY2FsZSgpLCBvbGRSYW5nZSA9IHNjYWxlLmdldFJhbmdlRmFjdG9yKCkgfHwgcmFuZ2VGYWN0b3IsIG5ld1JhbmdlID0gdXBkYXRlU2Nyb2xsUmFuZ2Uob2xkUmFuZ2UsIGlubmVyU2NhbGUucmFuZ2UoKSwgc2Nyb2xsUG9zW2RpbV0sIHNjcm9sbE9wdGlvbnMpO1xuICAgICAgICAgICAgbmV3UmFuZ2UgJiYgKG5hdlN0YXRlW2RpbV0ucmFuZ2VGYWN0b3IgPSBuZXdSYW5nZSwgZGF0YSA/IChuYXZTdGF0ZVtkaW1dLmZpbHRlclZhbHVlID0gbmV3UmFuZ2UsIFxuICAgICAgICAgICAgZGF0YS5jb21taXQoKSkgOiAoc2NhbGUuc2V0UmFuZ2VGYWN0b3IobmV3UmFuZ2UpLCBzY2FsZS5jb21taXQoKSksIHJlcy5uZWVkVXBkYXRlID0gITAsIFxuICAgICAgICAgICAgcmVzW2RpbV0gPSBuZXdSYW5nZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBvbGRSYW5nZSA9IChnZXRDdXJyZW50UmFuZ2UgPyBnZXRDdXJyZW50UmFuZ2UoKSA6IHJhbmdlRmFjdG9yKSB8fCBbIDAsIDEgXSwgbmV3UmFuZ2UgPSB1cGRhdGVTY3JvbGxSYW5nZShvbGRSYW5nZSwgWyAwLCAxIF0sIHNjcm9sbFBvc1tkaW1dLCBzY3JvbGxPcHRpb25zKTtcbiAgICAgICAgICAgIHJlc1tkaW1dID0gbmV3UmFuZ2UgfHwgb2xkUmFuZ2U7XG4gICAgICAgIH1cbiAgICB9KSksIHJlcykgOiByZXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy11dGlscy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom-mixin.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom-mixin.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewZoomMixin: () => (/* binding */ ViewZoomMixin)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/clamp.js\");\n/* harmony import */ var _view_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./view-utils */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-utils.js\");\n\n\n\n\nclass ViewZoomMixin {\n    _formatPinchZoom(e) {\n        const scale = e.scale;\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._lastScale)) return this._lastScale = scale, e;\n        const zoomDelta = scale / this._lastScale;\n        this._lastScale = scale;\n        const center = e.center;\n        return e.zoomDelta = zoomDelta, e.zoomX = center.x, e.zoomY = center.y, e;\n    }\n    _formatWheelZoom(e) {\n        if (!e.ctrlKey) return e.zoomDelta = null, e.zoomX = null, e.zoomY = null, e;\n        const zoomDelta = Math.pow(1.0005, -e.deltaY * Math.pow(16, e.deltaMode));\n        return e.zoomDelta = zoomDelta, e.zoomX = e.canvasX, e.zoomY = e.canvasY, e;\n    }\n    formatZoomEvent(e) {\n        return e ? \"pinch\" === e.type ? this._formatPinchZoom(e) : this._formatWheelZoom(e) : e;\n    }\n    updateZoomRange(rangeFactor = [ 0, 1 ], range, zoomEvent, zoomOptions) {\n        var _a;\n        const {zoomDelta: zoomDelta} = zoomEvent, rangeDelta = Math.abs(rangeFactor[1] - rangeFactor[0]);\n        if (rangeDelta >= 1 && zoomDelta >= 1) return;\n        if (rangeDelta <= .001 && zoomDelta <= 1) return;\n        const value = rangeDelta * (zoomDelta - 1) * (null !== (_a = zoomOptions.rate) && void 0 !== _a ? _a : 1) / 2, start = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rangeFactor[0] - value, 0, 1), end = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rangeFactor[1] + value, 0, 1);\n        return [ Math.min(start, end), Math.max(start, end) ];\n    }\n    _handleZooming(zoomPos, navState, zoomOptions) {\n        const res = {\n            needUpdate: !1\n        };\n        return navState ? (Object.keys(navState).forEach((dim => {\n            const {scale: scale, data: data, linkedComponent: linkedComponent, rangeFactor: rangeFactor, getCurrentRange: getCurrentRange} = navState[dim];\n            if (linkedComponent) res[dim] = this.updateZoomRange((0,_view_utils__WEBPACK_IMPORTED_MODULE_2__.getRangeOfLinkedComponent)(linkedComponent), null, zoomPos, zoomOptions); else if (scale) {\n                const innerScale = scale.getScale(), newRange = this.updateZoomRange(rangeFactor, innerScale, zoomPos, zoomOptions);\n                newRange && (navState[dim].rangeFactor = newRange, data ? (navState[dim].filterValue = newRange, \n                data.commit()) : (scale.setRangeFactor(newRange), scale.commit()), res.needUpdate = !0, \n                res[dim] = newRange);\n            } else {\n                const oldRange = (getCurrentRange ? getCurrentRange() : rangeFactor) || [ 0, 1 ], newRange = this.updateZoomRange(oldRange, null, zoomPos, zoomOptions);\n                res[dim] = newRange || oldRange;\n            }\n        })), res) : res;\n    }\n    handleZoomStart(e, navState, zoomOptions) {\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.zoomDelta)) return e.stopPropagation(), e.preventDefault(), zoomOptions && zoomOptions.realtime ? this._handleZooming(e, navState, zoomOptions) : ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this._zoomPos) ? this._zoomPos = {\n            zoomDelta: e.zoomDelta,\n            zoomX: e.zoomX,\n            zoomY: e.zoomY\n        } : this._zoomPos.zoomDelta *= e.zoomDelta, null);\n    }\n    handleZoomEnd(e, navState, zoomOptions) {\n        this._lastScale = null;\n        const res = zoomOptions && !1 === zoomOptions.realtime && this._zoomPos ? this._handleZooming(this._zoomPos, navState, zoomOptions) : null;\n        return this._zoomPos = null, res;\n    }\n    handleZoomReset(e, navState, zoomOptions) {\n        const res = {\n            needUpdate: !1\n        };\n        return navState ? (Object.keys(navState).forEach((dim => {\n            const {scale: scale, data: data, linkedComponent: linkedComponent} = navState[dim], newRange = [ 0, 1 ];\n            linkedComponent ? res[dim] = newRange : scale ? (navState[dim].rangeFactor = null, \n            data ? (navState[dim].filterValue = null, data.commit()) : (scale.setRangeFactor(newRange), \n            scale.commit()), res.needUpdate = !0, res[dim] = newRange) : (navState[dim].rangeFactor = navState[dim].initRangeFactor, \n            res[dim] = navState[dim].initRangeFactor);\n        })), res) : res;\n    }\n}\n//# sourceMappingURL=view-zoom-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctem9vbS1taXhpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEOztBQUVTOztBQUVsRDtBQUNQO0FBQ0E7QUFDQSxZQUFZLDREQUFLO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0JBQXNCO0FBQ3JDO0FBQ0E7QUFDQSwrSEFBK0gsNERBQUssc0NBQXNDLDREQUFLO0FBQy9LO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHdIQUF3SDtBQUMzSSxpRUFBaUUsc0VBQXlCLGdEQUFnRDtBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGFBQWEsNERBQUssc0pBQXNKLDREQUFLO0FBQzdLO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDREQUE0RDtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy92aWV3LXpvb20tbWl4aW4uanM/M2Y3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbGFtcCwgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBnZXRSYW5nZU9mTGlua2VkQ29tcG9uZW50IH0gZnJvbSBcIi4vdmlldy11dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgVmlld1pvb21NaXhpbiB7XG4gICAgX2Zvcm1hdFBpbmNoWm9vbShlKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gZS5zY2FsZTtcbiAgICAgICAgaWYgKGlzTmlsKHRoaXMuX2xhc3RTY2FsZSkpIHJldHVybiB0aGlzLl9sYXN0U2NhbGUgPSBzY2FsZSwgZTtcbiAgICAgICAgY29uc3Qgem9vbURlbHRhID0gc2NhbGUgLyB0aGlzLl9sYXN0U2NhbGU7XG4gICAgICAgIHRoaXMuX2xhc3RTY2FsZSA9IHNjYWxlO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBlLmNlbnRlcjtcbiAgICAgICAgcmV0dXJuIGUuem9vbURlbHRhID0gem9vbURlbHRhLCBlLnpvb21YID0gY2VudGVyLngsIGUuem9vbVkgPSBjZW50ZXIueSwgZTtcbiAgICB9XG4gICAgX2Zvcm1hdFdoZWVsWm9vbShlKSB7XG4gICAgICAgIGlmICghZS5jdHJsS2V5KSByZXR1cm4gZS56b29tRGVsdGEgPSBudWxsLCBlLnpvb21YID0gbnVsbCwgZS56b29tWSA9IG51bGwsIGU7XG4gICAgICAgIGNvbnN0IHpvb21EZWx0YSA9IE1hdGgucG93KDEuMDAwNSwgLWUuZGVsdGFZICogTWF0aC5wb3coMTYsIGUuZGVsdGFNb2RlKSk7XG4gICAgICAgIHJldHVybiBlLnpvb21EZWx0YSA9IHpvb21EZWx0YSwgZS56b29tWCA9IGUuY2FudmFzWCwgZS56b29tWSA9IGUuY2FudmFzWSwgZTtcbiAgICB9XG4gICAgZm9ybWF0Wm9vbUV2ZW50KGUpIHtcbiAgICAgICAgcmV0dXJuIGUgPyBcInBpbmNoXCIgPT09IGUudHlwZSA/IHRoaXMuX2Zvcm1hdFBpbmNoWm9vbShlKSA6IHRoaXMuX2Zvcm1hdFdoZWVsWm9vbShlKSA6IGU7XG4gICAgfVxuICAgIHVwZGF0ZVpvb21SYW5nZShyYW5nZUZhY3RvciA9IFsgMCwgMSBdLCByYW5nZSwgem9vbUV2ZW50LCB6b29tT3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHt6b29tRGVsdGE6IHpvb21EZWx0YX0gPSB6b29tRXZlbnQsIHJhbmdlRGVsdGEgPSBNYXRoLmFicyhyYW5nZUZhY3RvclsxXSAtIHJhbmdlRmFjdG9yWzBdKTtcbiAgICAgICAgaWYgKHJhbmdlRGVsdGEgPj0gMSAmJiB6b29tRGVsdGEgPj0gMSkgcmV0dXJuO1xuICAgICAgICBpZiAocmFuZ2VEZWx0YSA8PSAuMDAxICYmIHpvb21EZWx0YSA8PSAxKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmFuZ2VEZWx0YSAqICh6b29tRGVsdGEgLSAxKSAqIChudWxsICE9PSAoX2EgPSB6b29tT3B0aW9ucy5yYXRlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAxKSAvIDIsIHN0YXJ0ID0gY2xhbXAocmFuZ2VGYWN0b3JbMF0gLSB2YWx1ZSwgMCwgMSksIGVuZCA9IGNsYW1wKHJhbmdlRmFjdG9yWzFdICsgdmFsdWUsIDAsIDEpO1xuICAgICAgICByZXR1cm4gWyBNYXRoLm1pbihzdGFydCwgZW5kKSwgTWF0aC5tYXgoc3RhcnQsIGVuZCkgXTtcbiAgICB9XG4gICAgX2hhbmRsZVpvb21pbmcoem9vbVBvcywgbmF2U3RhdGUsIHpvb21PcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgICAgIG5lZWRVcGRhdGU6ICExXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuYXZTdGF0ZSA/IChPYmplY3Qua2V5cyhuYXZTdGF0ZSkuZm9yRWFjaCgoZGltID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtzY2FsZTogc2NhbGUsIGRhdGE6IGRhdGEsIGxpbmtlZENvbXBvbmVudDogbGlua2VkQ29tcG9uZW50LCByYW5nZUZhY3RvcjogcmFuZ2VGYWN0b3IsIGdldEN1cnJlbnRSYW5nZTogZ2V0Q3VycmVudFJhbmdlfSA9IG5hdlN0YXRlW2RpbV07XG4gICAgICAgICAgICBpZiAobGlua2VkQ29tcG9uZW50KSByZXNbZGltXSA9IHRoaXMudXBkYXRlWm9vbVJhbmdlKGdldFJhbmdlT2ZMaW5rZWRDb21wb25lbnQobGlua2VkQ29tcG9uZW50KSwgbnVsbCwgem9vbVBvcywgem9vbU9wdGlvbnMpOyBlbHNlIGlmIChzY2FsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyU2NhbGUgPSBzY2FsZS5nZXRTY2FsZSgpLCBuZXdSYW5nZSA9IHRoaXMudXBkYXRlWm9vbVJhbmdlKHJhbmdlRmFjdG9yLCBpbm5lclNjYWxlLCB6b29tUG9zLCB6b29tT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgbmV3UmFuZ2UgJiYgKG5hdlN0YXRlW2RpbV0ucmFuZ2VGYWN0b3IgPSBuZXdSYW5nZSwgZGF0YSA/IChuYXZTdGF0ZVtkaW1dLmZpbHRlclZhbHVlID0gbmV3UmFuZ2UsIFxuICAgICAgICAgICAgICAgIGRhdGEuY29tbWl0KCkpIDogKHNjYWxlLnNldFJhbmdlRmFjdG9yKG5ld1JhbmdlKSwgc2NhbGUuY29tbWl0KCkpLCByZXMubmVlZFVwZGF0ZSA9ICEwLCBcbiAgICAgICAgICAgICAgICByZXNbZGltXSA9IG5ld1JhbmdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkUmFuZ2UgPSAoZ2V0Q3VycmVudFJhbmdlID8gZ2V0Q3VycmVudFJhbmdlKCkgOiByYW5nZUZhY3RvcikgfHwgWyAwLCAxIF0sIG5ld1JhbmdlID0gdGhpcy51cGRhdGVab29tUmFuZ2Uob2xkUmFuZ2UsIG51bGwsIHpvb21Qb3MsIHpvb21PcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXNbZGltXSA9IG5ld1JhbmdlIHx8IG9sZFJhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIHJlcykgOiByZXM7XG4gICAgfVxuICAgIGhhbmRsZVpvb21TdGFydChlLCBuYXZTdGF0ZSwgem9vbU9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFpc05pbChlLnpvb21EZWx0YSkpIHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIHpvb21PcHRpb25zICYmIHpvb21PcHRpb25zLnJlYWx0aW1lID8gdGhpcy5faGFuZGxlWm9vbWluZyhlLCBuYXZTdGF0ZSwgem9vbU9wdGlvbnMpIDogKGlzTmlsKHRoaXMuX3pvb21Qb3MpID8gdGhpcy5fem9vbVBvcyA9IHtcbiAgICAgICAgICAgIHpvb21EZWx0YTogZS56b29tRGVsdGEsXG4gICAgICAgICAgICB6b29tWDogZS56b29tWCxcbiAgICAgICAgICAgIHpvb21ZOiBlLnpvb21ZXG4gICAgICAgIH0gOiB0aGlzLl96b29tUG9zLnpvb21EZWx0YSAqPSBlLnpvb21EZWx0YSwgbnVsbCk7XG4gICAgfVxuICAgIGhhbmRsZVpvb21FbmQoZSwgbmF2U3RhdGUsIHpvb21PcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2xhc3RTY2FsZSA9IG51bGw7XG4gICAgICAgIGNvbnN0IHJlcyA9IHpvb21PcHRpb25zICYmICExID09PSB6b29tT3B0aW9ucy5yZWFsdGltZSAmJiB0aGlzLl96b29tUG9zID8gdGhpcy5faGFuZGxlWm9vbWluZyh0aGlzLl96b29tUG9zLCBuYXZTdGF0ZSwgem9vbU9wdGlvbnMpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3pvb21Qb3MgPSBudWxsLCByZXM7XG4gICAgfVxuICAgIGhhbmRsZVpvb21SZXNldChlLCBuYXZTdGF0ZSwgem9vbU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgbmVlZFVwZGF0ZTogITFcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5hdlN0YXRlID8gKE9iamVjdC5rZXlzKG5hdlN0YXRlKS5mb3JFYWNoKChkaW0gPT4ge1xuICAgICAgICAgICAgY29uc3Qge3NjYWxlOiBzY2FsZSwgZGF0YTogZGF0YSwgbGlua2VkQ29tcG9uZW50OiBsaW5rZWRDb21wb25lbnR9ID0gbmF2U3RhdGVbZGltXSwgbmV3UmFuZ2UgPSBbIDAsIDEgXTtcbiAgICAgICAgICAgIGxpbmtlZENvbXBvbmVudCA/IHJlc1tkaW1dID0gbmV3UmFuZ2UgOiBzY2FsZSA/IChuYXZTdGF0ZVtkaW1dLnJhbmdlRmFjdG9yID0gbnVsbCwgXG4gICAgICAgICAgICBkYXRhID8gKG5hdlN0YXRlW2RpbV0uZmlsdGVyVmFsdWUgPSBudWxsLCBkYXRhLmNvbW1pdCgpKSA6IChzY2FsZS5zZXRSYW5nZUZhY3RvcihuZXdSYW5nZSksIFxuICAgICAgICAgICAgc2NhbGUuY29tbWl0KCkpLCByZXMubmVlZFVwZGF0ZSA9ICEwLCByZXNbZGltXSA9IG5ld1JhbmdlKSA6IChuYXZTdGF0ZVtkaW1dLnJhbmdlRmFjdG9yID0gbmF2U3RhdGVbZGltXS5pbml0UmFuZ2VGYWN0b3IsIFxuICAgICAgICAgICAgcmVzW2RpbV0gPSBuYXZTdGF0ZVtkaW1dLmluaXRSYW5nZUZhY3Rvcik7XG4gICAgICAgIH0pKSwgcmVzKSA6IHJlcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LXpvb20tbWl4aW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewZoom: () => (/* binding */ ViewZoom)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view-navigation-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-navigation-base.js\");\n\n\n\n\nclass ViewZoom extends _view_navigation_base__WEBPACK_IMPORTED_MODULE_0__.ViewNavigationBase {\n    constructor(view, option) {\n        super(view, Object.assign({}, ViewZoom.defaultOptions, option)), this.type = ViewZoom.type, \n        this.handleStartInner = e => {\n            this.formatZoomEvent(e), !e || this.options.shouldStart && !this.options.shouldStart(e) || (this._inited || this._initGrammars(), \n            this._isStarted = !0, this.updateView(\"start\", this.handleZoomStart(e, this._state, {\n                rate: this.options.rate,\n                focus: this.options.focus\n            }), \"zoom\", e));\n        }, this.handleEnd = e => {\n            this._isStarted && (this.formatZoomEvent(e), !e || this.options.shouldEnd && !this.options.shouldEnd(e) || this.updateView(\"end\", this.handleZoomEnd(e, this._state, {\n                rate: this.options.rate,\n                focus: this.options.focus\n            }), \"zoom\", e));\n        }, this.handleReset = e => {\n            this._isStarted && (!e || this.options.shouldReset && !this.options.shouldReset(e) || (this.updateView(\"reset\", this.handleZoomReset(e, this._state, {\n                rate: this.options.rate,\n                focus: this.options.focus\n            }), \"zoom\", e), this._isStarted = !1));\n        }, this.handleStart = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.handleStartInner, this.options.throttle);\n    }\n    getEvents() {\n        return [ {\n            type: this.options.trigger,\n            handler: this.handleStart\n        }, {\n            type: this.options.endTrigger,\n            handler: this.handleEnd\n        }, {\n            type: this.options.triggerOff,\n            handler: this.handleReset\n        } ];\n    }\n}\n\nViewZoom.type = \"view-zoom\", ViewZoom.defaultOptions = {\n    realtime: !0,\n    focus: !0,\n    trigger: \"wheel\",\n    endTrigger: \"pointerup\",\n    triggerOff: \"dblclick\",\n    rate: 1,\n    throttle: 100\n};\n//# sourceMappingURL=view-zoom.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvaW50ZXJhY3Rpb25zL3ZpZXctem9vbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEM7O0FBRWdCOztBQUVyRCx1QkFBdUIscUVBQWtCO0FBQ2hEO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVMscUJBQXFCLDREQUFRO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL2ludGVyYWN0aW9ucy92aWV3LXpvb20uanM/NDhjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IFZpZXdOYXZpZ2F0aW9uQmFzZSB9IGZyb20gXCIuL3ZpZXctbmF2aWdhdGlvbi1iYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3Wm9vbSBleHRlbmRzIFZpZXdOYXZpZ2F0aW9uQmFzZSB7XG4gICAgY29uc3RydWN0b3Iodmlldywgb3B0aW9uKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIE9iamVjdC5hc3NpZ24oe30sIFZpZXdab29tLmRlZmF1bHRPcHRpb25zLCBvcHRpb24pKSwgdGhpcy50eXBlID0gVmlld1pvb20udHlwZSwgXG4gICAgICAgIHRoaXMuaGFuZGxlU3RhcnRJbm5lciA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb3JtYXRab29tRXZlbnQoZSksICFlIHx8IHRoaXMub3B0aW9ucy5zaG91bGRTdGFydCAmJiAhdGhpcy5vcHRpb25zLnNob3VsZFN0YXJ0KGUpIHx8ICh0aGlzLl9pbml0ZWQgfHwgdGhpcy5faW5pdEdyYW1tYXJzKCksIFxuICAgICAgICAgICAgdGhpcy5faXNTdGFydGVkID0gITAsIHRoaXMudXBkYXRlVmlldyhcInN0YXJ0XCIsIHRoaXMuaGFuZGxlWm9vbVN0YXJ0KGUsIHRoaXMuX3N0YXRlLCB7XG4gICAgICAgICAgICAgICAgcmF0ZTogdGhpcy5vcHRpb25zLnJhdGUsXG4gICAgICAgICAgICAgICAgZm9jdXM6IHRoaXMub3B0aW9ucy5mb2N1c1xuICAgICAgICAgICAgfSksIFwiem9vbVwiLCBlKSk7XG4gICAgICAgIH0sIHRoaXMuaGFuZGxlRW5kID0gZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc1N0YXJ0ZWQgJiYgKHRoaXMuZm9ybWF0Wm9vbUV2ZW50KGUpLCAhZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkRW5kICYmICF0aGlzLm9wdGlvbnMuc2hvdWxkRW5kKGUpIHx8IHRoaXMudXBkYXRlVmlldyhcImVuZFwiLCB0aGlzLmhhbmRsZVpvb21FbmQoZSwgdGhpcy5fc3RhdGUsIHtcbiAgICAgICAgICAgICAgICByYXRlOiB0aGlzLm9wdGlvbnMucmF0ZSxcbiAgICAgICAgICAgICAgICBmb2N1czogdGhpcy5vcHRpb25zLmZvY3VzXG4gICAgICAgICAgICB9KSwgXCJ6b29tXCIsIGUpKTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVSZXNldCA9IGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5faXNTdGFydGVkICYmICghZSB8fCB0aGlzLm9wdGlvbnMuc2hvdWxkUmVzZXQgJiYgIXRoaXMub3B0aW9ucy5zaG91bGRSZXNldChlKSB8fCAodGhpcy51cGRhdGVWaWV3KFwicmVzZXRcIiwgdGhpcy5oYW5kbGVab29tUmVzZXQoZSwgdGhpcy5fc3RhdGUsIHtcbiAgICAgICAgICAgICAgICByYXRlOiB0aGlzLm9wdGlvbnMucmF0ZSxcbiAgICAgICAgICAgICAgICBmb2N1czogdGhpcy5vcHRpb25zLmZvY3VzXG4gICAgICAgICAgICB9KSwgXCJ6b29tXCIsIGUpLCB0aGlzLl9pc1N0YXJ0ZWQgPSAhMSkpO1xuICAgICAgICB9LCB0aGlzLmhhbmRsZVN0YXJ0ID0gdGhyb3R0bGUodGhpcy5oYW5kbGVTdGFydElubmVyLCB0aGlzLm9wdGlvbnMudGhyb3R0bGUpO1xuICAgIH1cbiAgICBnZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiBbIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVTdGFydFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuZW5kVHJpZ2dlcixcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuaGFuZGxlRW5kXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy50cmlnZ2VyT2ZmLFxuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5oYW5kbGVSZXNldFxuICAgICAgICB9IF07XG4gICAgfVxufVxuXG5WaWV3Wm9vbS50eXBlID0gXCJ2aWV3LXpvb21cIiwgVmlld1pvb20uZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgcmVhbHRpbWU6ICEwLFxuICAgIGZvY3VzOiAhMCxcbiAgICB0cmlnZ2VyOiBcIndoZWVsXCIsXG4gICAgZW5kVHJpZ2dlcjogXCJwb2ludGVydXBcIixcbiAgICB0cmlnZ2VyT2ZmOiBcImRibGNsaWNrXCIsXG4gICAgcmF0ZTogMSxcbiAgICB0aHJvdHRsZTogMTAwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy16b29tLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/interactions/view-zoom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/coordinate.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/coordinate.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   configureCoordinate: () => (/* binding */ configureCoordinate),\n/* harmony export */   createCoordinate: () => (/* binding */ createCoordinate),\n/* harmony export */   parseCoordinate: () => (/* binding */ parseCoordinate)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_coordinate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-coordinate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-coordinate@0.16.11/node_modules/@visactor/vgrammar-coordinate/es/cartesian.js\");\n/* harmony import */ var _visactor_vgrammar_coordinate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-coordinate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-coordinate@0.16.11/node_modules/@visactor/vgrammar-coordinate/es/polar.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\nfunction createCoordinate(type) {\n    switch (type) {\n      case \"cartesian\":\n      default:\n        return new _visactor_vgrammar_coordinate__WEBPACK_IMPORTED_MODULE_0__.CartesianCoordinate;\n\n      case \"polar\":\n        return new _visactor_vgrammar_coordinate__WEBPACK_IMPORTED_MODULE_1__.PolarCoordinate;\n    }\n}\n\nfunction parseCoordinate(spec, view) {\n    let dependencies = [];\n    return [ \"start\", \"end\", \"origin\", \"translate\", \"rotate\", \"scale\", \"transpose\" ].forEach((key => {\n        dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_2__.parseFunctionType)(spec[key], view));\n    })), dependencies;\n}\n\nfunction configureCoordinate(spec, coordinate, parameters) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.start) && coordinate.start(null !== (_a = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.start, parameters)) && void 0 !== _a ? _a : [ 0, 0 ]), \n    !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.end) && coordinate.end(null !== (_b = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.end, parameters)) && void 0 !== _b ? _b : [ 0, 0 ]), \n    !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.origin) && coordinate.origin(null !== (_c = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.origin, parameters)) && void 0 !== _c ? _c : [ 0, 0 ]);\n    const transforms = [];\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.translate)) {\n        const translate = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.translate, parameters);\n        transforms.push({\n            type: \"translate\",\n            offset: {\n                x: null !== (_d = null == translate ? void 0 : translate[0]) && void 0 !== _d ? _d : 0,\n                y: null !== (_e = null == translate ? void 0 : translate[1]) && void 0 !== _e ? _e : 0\n            }\n        });\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.rotate)) {\n        const rotate = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.rotate, parameters);\n        transforms.push({\n            type: \"rotate\",\n            angle: null != rotate ? rotate : 0\n        });\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.scale)) {\n        const scale = (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.scale, parameters);\n        transforms.push({\n            type: \"scale\",\n            scale: {\n                x: null !== (_f = null == scale ? void 0 : scale[0]) && void 0 !== _f ? _f : 1,\n                y: null !== (_g = null == scale ? void 0 : scale[1]) && void 0 !== _g ? _g : 1\n            }\n        });\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.transpose)) {\n        (0,_util__WEBPACK_IMPORTED_MODULE_2__.invokeFunctionType)(spec.transpose, parameters) && transforms.push({\n            type: \"transpose\"\n        });\n    }\n    coordinate.applyTransforms(transforms);\n}\n//# sourceMappingURL=coordinate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvY29vcmRpbmF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXlDOztBQUU0Qzs7QUFFdEI7O0FBRXhEO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhFQUFtQjs7QUFFdEM7QUFDQSxtQkFBbUIsMEVBQWU7QUFDbEM7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSwyQ0FBMkMsd0RBQWlCO0FBQzVELEtBQUs7QUFDTDs7QUFFTztBQUNQO0FBQ0EsS0FBSyw0REFBSyxnREFBZ0QseURBQWtCO0FBQzVFLEtBQUssNERBQUssNENBQTRDLHlEQUFrQjtBQUN4RSxLQUFLLDREQUFLLGtEQUFrRCx5REFBa0I7QUFDOUU7QUFDQSxTQUFTLDREQUFLO0FBQ2QsMEJBQTBCLHlEQUFrQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLDREQUFLO0FBQ2QsdUJBQXVCLHlEQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLDREQUFLO0FBQ2Qsc0JBQXNCLHlEQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLDREQUFLO0FBQ2QsUUFBUSx5REFBa0I7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3BhcnNlL2Nvb3JkaW5hdGUuanM/MzZjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IENhcnRlc2lhbkNvb3JkaW5hdGUsIFBvbGFyQ29vcmRpbmF0ZSB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItY29vcmRpbmF0ZVwiO1xuXG5pbXBvcnQgeyBpbnZva2VGdW5jdGlvblR5cGUsIHBhcnNlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29vcmRpbmF0ZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiY2FydGVzaWFuXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbmV3IENhcnRlc2lhbkNvb3JkaW5hdGU7XG5cbiAgICAgIGNhc2UgXCJwb2xhclwiOlxuICAgICAgICByZXR1cm4gbmV3IFBvbGFyQ29vcmRpbmF0ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNvb3JkaW5hdGUoc3BlYywgdmlldykge1xuICAgIGxldCBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICByZXR1cm4gWyBcInN0YXJ0XCIsIFwiZW5kXCIsIFwib3JpZ2luXCIsIFwidHJhbnNsYXRlXCIsIFwicm90YXRlXCIsIFwic2NhbGVcIiwgXCJ0cmFuc3Bvc2VcIiBdLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlY1trZXldLCB2aWV3KSk7XG4gICAgfSkpLCBkZXBlbmRlbmNpZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmVDb29yZGluYXRlKHNwZWMsIGNvb3JkaW5hdGUsIHBhcmFtZXRlcnMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgIWlzTmlsKHNwZWMuc3RhcnQpICYmIGNvb3JkaW5hdGUuc3RhcnQobnVsbCAhPT0gKF9hID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMuc3RhcnQsIHBhcmFtZXRlcnMpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBbIDAsIDAgXSksIFxuICAgICFpc05pbChzcGVjLmVuZCkgJiYgY29vcmRpbmF0ZS5lbmQobnVsbCAhPT0gKF9iID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMuZW5kLCBwYXJhbWV0ZXJzKSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogWyAwLCAwIF0pLCBcbiAgICAhaXNOaWwoc3BlYy5vcmlnaW4pICYmIGNvb3JkaW5hdGUub3JpZ2luKG51bGwgIT09IChfYyA9IGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLm9yaWdpbiwgcGFyYW1ldGVycykpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IFsgMCwgMCBdKTtcbiAgICBjb25zdCB0cmFuc2Zvcm1zID0gW107XG4gICAgaWYgKCFpc05pbChzcGVjLnRyYW5zbGF0ZSkpIHtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMudHJhbnNsYXRlLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgdHJhbnNmb3Jtcy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwidHJhbnNsYXRlXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB4OiBudWxsICE9PSAoX2QgPSBudWxsID09IHRyYW5zbGF0ZSA/IHZvaWQgMCA6IHRyYW5zbGF0ZVswXSkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogMCxcbiAgICAgICAgICAgICAgICB5OiBudWxsICE9PSAoX2UgPSBudWxsID09IHRyYW5zbGF0ZSA/IHZvaWQgMCA6IHRyYW5zbGF0ZVsxXSkgJiYgdm9pZCAwICE9PSBfZSA/IF9lIDogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFpc05pbChzcGVjLnJvdGF0ZSkpIHtcbiAgICAgICAgY29uc3Qgcm90YXRlID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMucm90YXRlLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgdHJhbnNmb3Jtcy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwicm90YXRlXCIsXG4gICAgICAgICAgICBhbmdsZTogbnVsbCAhPSByb3RhdGUgPyByb3RhdGUgOiAwXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWlzTmlsKHNwZWMuc2NhbGUpKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMuc2NhbGUsIHBhcmFtZXRlcnMpO1xuICAgICAgICB0cmFuc2Zvcm1zLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJzY2FsZVwiLFxuICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICB4OiBudWxsICE9PSAoX2YgPSBudWxsID09IHNjYWxlID8gdm9pZCAwIDogc2NhbGVbMF0pICYmIHZvaWQgMCAhPT0gX2YgPyBfZiA6IDEsXG4gICAgICAgICAgICAgICAgeTogbnVsbCAhPT0gKF9nID0gbnVsbCA9PSBzY2FsZSA/IHZvaWQgMCA6IHNjYWxlWzFdKSAmJiB2b2lkIDAgIT09IF9nID8gX2cgOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWlzTmlsKHNwZWMudHJhbnNwb3NlKSkge1xuICAgICAgICBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy50cmFuc3Bvc2UsIHBhcmFtZXRlcnMpICYmIHRyYW5zZm9ybXMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcInRyYW5zcG9zZVwiXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb29yZGluYXRlLmFwcGx5VHJhbnNmb3Jtcyh0cmFuc2Zvcm1zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvb3JkaW5hdGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/coordinate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/event.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/event.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateFilterByMark: () => (/* binding */ generateFilterByMark),\n/* harmony export */   parseEventSelector: () => (/* binding */ parseEventSelector),\n/* harmony export */   parseHandler: () => (/* binding */ parseHandler)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/debounce.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/throttle.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n\n\n\n\n\n\nconst generateFilterByMark = evtSpec => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(evtSpec.markId) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(evtSpec.markName) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(evtSpec.markType) ? () => !0 : el => el && el.mark.markType === evtSpec.markType : el => el && el.mark.name() === evtSpec.markName : el => el && el.mark.id() === evtSpec.markId;\n\nconst parseHandler = (callback, config) => config && config.debounce ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(callback, config.debounce) : config && config.throttle ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(callback, config.throttle) : callback;\n\nconst JOIN_SYMBOL = \":\";\n\nconst parseEventSelector = (selector, source = _view_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_VIEW) => {\n    const spec = {}, splitArr = selector.split(\":\");\n    if (2 === splitArr.length) {\n        const [space, eventType] = splitArr;\n        space[0] === _view_constants__WEBPACK_IMPORTED_MODULE_3__.ID_PREFIX ? (spec.markId = space.slice(1), spec.source = source) : space[0] === _view_constants__WEBPACK_IMPORTED_MODULE_3__.NAME_PREFIX ? (spec.markName = space.slice(1), \n        spec.source = source) : (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_4__.isMarkType)(space) ? (spec.markType = space, spec.source = source) : spec.source = space === _view_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_WINDOW ? _view_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_WINDOW : source, \n        spec.type = eventType;\n    } else 1 === splitArr.length && (spec.type = selector, spec.source = source);\n    return spec;\n};\n//# sourceMappingURL=event.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvZXZlbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBNkQ7O0FBRVY7O0FBRWdEOztBQUU1Rix3Q0FBd0MsNERBQUssbUJBQW1CLDREQUFLLHFCQUFxQiw0REFBSzs7QUFFL0YsdUVBQXVFLDREQUFRLDBEQUEwRCw0REFBUTs7QUFFeEo7O0FBRU8sK0NBQStDLDhEQUFpQjtBQUN2RSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLHFCQUFxQixzREFBUyx1RUFBdUUsd0RBQVc7QUFDaEgsZ0NBQWdDLCtEQUFVLGtGQUFrRixnRUFBbUIsR0FBRyxnRUFBbUI7QUFDcks7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9wYXJzZS9ldmVudC5qcz80NzhiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlYm91bmNlLCBpc05pbCwgdGhyb3R0bGUgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBpc01hcmtUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL3V0aWwvZ3JhcGhpY1wiO1xuXG5pbXBvcnQgeyBFVkVOVF9TT1VSQ0VfVklFVywgRVZFTlRfU09VUkNFX1dJTkRPVywgSURfUFJFRklYLCBOQU1FX1BSRUZJWCB9IGZyb20gXCIuLi92aWV3L2NvbnN0YW50c1wiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVGaWx0ZXJCeU1hcmsgPSBldnRTcGVjID0+IGlzTmlsKGV2dFNwZWMubWFya0lkKSA/IGlzTmlsKGV2dFNwZWMubWFya05hbWUpID8gaXNOaWwoZXZ0U3BlYy5tYXJrVHlwZSkgPyAoKSA9PiAhMCA6IGVsID0+IGVsICYmIGVsLm1hcmsubWFya1R5cGUgPT09IGV2dFNwZWMubWFya1R5cGUgOiBlbCA9PiBlbCAmJiBlbC5tYXJrLm5hbWUoKSA9PT0gZXZ0U3BlYy5tYXJrTmFtZSA6IGVsID0+IGVsICYmIGVsLm1hcmsuaWQoKSA9PT0gZXZ0U3BlYy5tYXJrSWQ7XG5cbmV4cG9ydCBjb25zdCBwYXJzZUhhbmRsZXIgPSAoY2FsbGJhY2ssIGNvbmZpZykgPT4gY29uZmlnICYmIGNvbmZpZy5kZWJvdW5jZSA/IGRlYm91bmNlKGNhbGxiYWNrLCBjb25maWcuZGVib3VuY2UpIDogY29uZmlnICYmIGNvbmZpZy50aHJvdHRsZSA/IHRocm90dGxlKGNhbGxiYWNrLCBjb25maWcudGhyb3R0bGUpIDogY2FsbGJhY2s7XG5cbmNvbnN0IEpPSU5fU1lNQk9MID0gXCI6XCI7XG5cbmV4cG9ydCBjb25zdCBwYXJzZUV2ZW50U2VsZWN0b3IgPSAoc2VsZWN0b3IsIHNvdXJjZSA9IEVWRU5UX1NPVVJDRV9WSUVXKSA9PiB7XG4gICAgY29uc3Qgc3BlYyA9IHt9LCBzcGxpdEFyciA9IHNlbGVjdG9yLnNwbGl0KFwiOlwiKTtcbiAgICBpZiAoMiA9PT0gc3BsaXRBcnIubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IFtzcGFjZSwgZXZlbnRUeXBlXSA9IHNwbGl0QXJyO1xuICAgICAgICBzcGFjZVswXSA9PT0gSURfUFJFRklYID8gKHNwZWMubWFya0lkID0gc3BhY2Uuc2xpY2UoMSksIHNwZWMuc291cmNlID0gc291cmNlKSA6IHNwYWNlWzBdID09PSBOQU1FX1BSRUZJWCA/IChzcGVjLm1hcmtOYW1lID0gc3BhY2Uuc2xpY2UoMSksIFxuICAgICAgICBzcGVjLnNvdXJjZSA9IHNvdXJjZSkgOiBpc01hcmtUeXBlKHNwYWNlKSA/IChzcGVjLm1hcmtUeXBlID0gc3BhY2UsIHNwZWMuc291cmNlID0gc291cmNlKSA6IHNwZWMuc291cmNlID0gc3BhY2UgPT09IEVWRU5UX1NPVVJDRV9XSU5ET1cgPyBFVkVOVF9TT1VSQ0VfV0lORE9XIDogc291cmNlLCBcbiAgICAgICAgc3BlYy50eXBlID0gZXZlbnRUeXBlO1xuICAgIH0gZWxzZSAxID09PSBzcGxpdEFyci5sZW5ndGggJiYgKHNwZWMudHlwZSA9IHNlbGVjdG9yLCBzcGVjLnNvdXJjZSA9IHNvdXJjZSk7XG4gICAgcmV0dXJuIHNwZWM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/event.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/mark.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/mark.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isFieldEncode: () => (/* binding */ isFieldEncode),\n/* harmony export */   isScaleEncode: () => (/* binding */ isScaleEncode),\n/* harmony export */   parseEncodeType: () => (/* binding */ parseEncodeType)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\nfunction isScaleEncode(encode) {\n    return !!(null == encode ? void 0 : encode.scale);\n}\n\nfunction isFieldEncode(encode) {\n    return !!(null == encode ? void 0 : encode.field);\n}\n\nfunction parseEncodeType(encoder, view) {\n    if (!encoder) return [];\n    let dependencies = [];\n    return encoder.scale && (dependencies = (0,_util__WEBPACK_IMPORTED_MODULE_0__.isGrammar)(encoder.scale) ? [ encoder.scale ] : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(view.getScaleById(encoder.scale))), \n    dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_0__.parseFunctionType)(encoder, view));\n}\n//# sourceMappingURL=mark.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvbWFyay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF5Qzs7QUFFYTs7QUFFL0M7QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSw0Q0FBNEMsZ0RBQVMsc0NBQXNDLHVEQUFLO0FBQ2hHLHdCQUF3Qix3REFBaUI7QUFDekM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvbWFyay5qcz8zNWU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgaXNHcmFtbWFyLCBwYXJzZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuL3V0aWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2NhbGVFbmNvZGUoZW5jb2RlKSB7XG4gICAgcmV0dXJuICEhKG51bGwgPT0gZW5jb2RlID8gdm9pZCAwIDogZW5jb2RlLnNjYWxlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRmllbGRFbmNvZGUoZW5jb2RlKSB7XG4gICAgcmV0dXJuICEhKG51bGwgPT0gZW5jb2RlID8gdm9pZCAwIDogZW5jb2RlLmZpZWxkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRW5jb2RlVHlwZShlbmNvZGVyLCB2aWV3KSB7XG4gICAgaWYgKCFlbmNvZGVyKSByZXR1cm4gW107XG4gICAgbGV0IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgIHJldHVybiBlbmNvZGVyLnNjYWxlICYmIChkZXBlbmRlbmNpZXMgPSBpc0dyYW1tYXIoZW5jb2Rlci5zY2FsZSkgPyBbIGVuY29kZXIuc2NhbGUgXSA6IGFycmF5KHZpZXcuZ2V0U2NhbGVCeUlkKGVuY29kZXIuc2NhbGUpKSksIFxuICAgIGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoZW5jb2RlciwgdmlldykpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFyay5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/mark.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/option.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/option.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseOptionValue: () => (/* binding */ parseOptionValue),\n/* harmony export */   parseOptions: () => (/* binding */ parseOptions)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\nconst parseOptionValue = (value, params) => (0,_util__WEBPACK_IMPORTED_MODULE_0__.isGrammar)(value) ? value.output() : value && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(value) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value.callback) ? datum => value.callback(datum, params) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value.value) ? value.value(params) : value : value;\n\nconst parseOptions = (options, params) => options ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options) ? Object.keys(options).reduce(((res, key) => {\n    const option = options[key];\n    return res[key] = parseOptionValue(option, params), res;\n}), {}) : options.map((option => parseOptionValue(option, params))) : options;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2Uvb3B0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEOztBQUVyQjs7QUFFNUIsNENBQTRDLGdEQUFTLG9DQUFvQyw0REFBUSxVQUFVLDREQUFVLDREQUE0RCw0REFBVTs7QUFFM0wsb0RBQW9ELDREQUFRO0FBQ25FO0FBQ0E7QUFDQSxDQUFDLEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3BhcnNlL29wdGlvbi5qcz80NmRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRnVuY3Rpb24sIGlzT2JqZWN0IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgaXNHcmFtbWFyIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgY29uc3QgcGFyc2VPcHRpb25WYWx1ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpc0dyYW1tYXIodmFsdWUpID8gdmFsdWUub3V0cHV0KCkgOiB2YWx1ZSAmJiBpc09iamVjdCh2YWx1ZSkgPyBpc0Z1bmN0aW9uKHZhbHVlLmNhbGxiYWNrKSA/IGRhdHVtID0+IHZhbHVlLmNhbGxiYWNrKGRhdHVtLCBwYXJhbXMpIDogaXNGdW5jdGlvbih2YWx1ZS52YWx1ZSkgPyB2YWx1ZS52YWx1ZShwYXJhbXMpIDogdmFsdWUgOiB2YWx1ZTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlT3B0aW9ucyA9IChvcHRpb25zLCBwYXJhbXMpID0+IG9wdGlvbnMgPyBpc09iamVjdChvcHRpb25zKSA/IE9iamVjdC5rZXlzKG9wdGlvbnMpLnJlZHVjZSgoKHJlcywga2V5KSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uID0gb3B0aW9uc1trZXldO1xuICAgIHJldHVybiByZXNba2V5XSA9IHBhcnNlT3B0aW9uVmFsdWUob3B0aW9uLCBwYXJhbXMpLCByZXM7XG59KSwge30pIDogb3B0aW9ucy5tYXAoKG9wdGlvbiA9PiBwYXJzZU9wdGlvblZhbHVlKG9wdGlvbiwgcGFyYW1zKSkpIDogb3B0aW9uczsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/option.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/scale.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/scale.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   configureScale: () => (/* binding */ configureScale),\n/* harmony export */   createScale: () => (/* binding */ createScale),\n/* harmony export */   parseScaleConfig: () => (/* binding */ parseScaleConfig),\n/* harmony export */   parseScaleDomainRange: () => (/* binding */ parseScaleDomainRange)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/band-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/linear-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/log-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/ordinal-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/point-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/pow-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/quantile-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/quantize-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/sqrt-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/symlog-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/threshold-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/time-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/identity-scale.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/field.js\");\n\n\n\n\n\n\n\n\nfunction createScale(type) {\n    switch (type) {\n      case \"band\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.BandScale;\n\n      case \"linear\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_1__.LinearScale;\n\n      case \"log\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_2__.LogScale;\n\n      case \"ordinal\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_3__.OrdinalScale;\n\n      case \"point\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__.PointScale;\n\n      case \"pow\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_5__.PowScale;\n\n      case \"quantile\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_6__.QuantileScale;\n\n      case \"quantize\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_7__.QuantizeScale;\n\n      case \"sqrt\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_8__.SqrtScale;\n\n      case \"symlog\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_9__.SymlogScale;\n\n      case \"threshold\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_10__.ThresholdScale;\n\n      case \"time\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_11__.TimeScale;\n\n      case \"utc\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_11__.TimeScale(!0);\n\n      case \"identity\":\n        return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_12__.IdentityScale;\n    }\n    return new _visactor_vscale__WEBPACK_IMPORTED_MODULE_1__.LinearScale;\n}\n\nfunction isScaleDataType(spec) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(null == spec ? void 0 : spec.data);\n}\n\nfunction parseScaleDataType(spec, view) {\n    var _a;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(spec.data)) {\n        const data = view.getGrammarById(spec.data);\n        return data ? [ data ] : [];\n    }\n    return \"data\" === (null === (_a = spec.data) || void 0 === _a ? void 0 : _a.grammarType) ? [ spec.data ] : [];\n}\n\nfunction isMultiScaleDataType(spec) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(null == spec ? void 0 : spec.datas);\n}\n\nfunction parseMultiScaleDataType(spec, view) {\n    if (spec && spec.datas && spec.datas.length) {\n        const res = [];\n        return spec.datas.forEach((data => {\n            const gramarBase = parseScaleDataType(data, view);\n            gramarBase.length && res.push(gramarBase[0]);\n        })), res;\n    }\n    return [];\n}\n\nfunction isScaleCoordinateType(spec) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(null == spec ? void 0 : spec.coordinate);\n}\n\nfunction parseScaleCoordinateType(spec, view) {\n    var _a;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(spec.coordinate)) {\n        const coordinate = view.getCoordinateById(spec.coordinate);\n        return coordinate ? [ coordinate ] : [];\n    }\n    return \"coordinate\" === (null === (_a = spec.coordinate) || void 0 === _a ? void 0 : _a.grammarType) ? [ spec.coordinate ] : [];\n}\n\nfunction parseLinearScale(spec, view) {\n    let dependencies = [];\n    return dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.nice, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.niceMin, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.niceMax, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.min, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.max, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.zero, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.roundRange, view)), dependencies;\n}\n\nfunction parsePowScale(spec, view) {\n    return parseLinearScale(spec, view).concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.exponent, view));\n}\n\nfunction parseSymlogScale(spec, view) {\n    return parseLinearScale(spec, view).concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.constant, view));\n}\n\nfunction parseLogScale(spec, view) {\n    let dependencies = [];\n    return dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.nice, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.min, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.max, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.zero, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.roundRange, view)), dependencies;\n}\n\nfunction parseQuantizeScale(spec, view) {\n    let dependencies = [];\n    return dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.nice, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.niceMin, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.niceMax, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.min, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.max, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.zero, view)), \n    dependencies;\n}\n\nfunction parseOrdinalScale(spec, view) {\n    return [];\n}\n\nfunction parseBaseBandScale(spec, view) {\n    let dependencies = [];\n    return dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.round, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.padding, view)), dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.paddingInner, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.paddingOuter, view)), \n    dependencies = dependencies.concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.align, view)), dependencies;\n}\n\nfunction parseBandScale(spec, view) {\n    return parseBaseBandScale(spec, view).concat((0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(spec.paddingInner, view));\n}\n\nfunction parsePointScale(spec, view) {\n    return parseBaseBandScale(spec, view);\n}\n\nfunction parseScaleDomainRange(domain, view) {\n    return isScaleDataType(domain) ? parseScaleDataType(domain, view) : isMultiScaleDataType(domain) ? parseMultiScaleDataType(domain, view) : isScaleCoordinateType(domain) ? parseScaleCoordinateType(domain, view) : (0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(domain, view);\n}\n\nfunction parseScaleConfig(type, config, view) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(config)) return [];\n    const deps = (0,_util__WEBPACK_IMPORTED_MODULE_15__.parseFunctionType)(config.unknown, view);\n    switch (type) {\n      case \"linear\":\n      case \"sqrt\":\n        return deps.concat(parseLinearScale(config, view));\n\n      case \"ordinal\":\n        return deps.concat(parseOrdinalScale(config, view));\n\n      case \"band\":\n        return deps.concat(parseBandScale(config, view));\n\n      case \"point\":\n        return deps.concat(parsePointScale(config, view));\n\n      case \"pow\":\n        return deps.concat(parsePowScale(config, view));\n\n      case \"log\":\n      case \"time\":\n      case \"utc\":\n        return deps.concat(parseLogScale(config, view));\n\n      case \"symlog\":\n        return deps.concat(parseSymlogScale(config, view));\n\n      case \"quantize\":\n        return deps.concat(parseQuantizeScale(config, view));\n    }\n    return deps;\n}\n\nfunction configureScaleNice(spec, scale, parameters) {\n    const nice = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.nice, parameters, scale);\n    !0 === nice ? scale.nice() : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(nice) && scale.nice(nice);\n}\n\nfunction configureScaleNiceMinMax(spec, scale, parameters) {\n    const niceMax = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.niceMax, parameters, scale);\n    !0 === niceMax ? scale.niceMax() : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(niceMax) && scale.niceMax(niceMax);\n    const niceMin = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.niceMin, parameters, scale);\n    !0 === niceMin ? scale.niceMin() : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(niceMin) && scale.niceMin(niceMin);\n}\n\nfunction configureScaleDomain(spec, scale, parameters) {\n    const min = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.min, parameters, scale), max = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.max, parameters, scale), zero = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.zero, parameters, scale), hasValidMin = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(min), hasValidmax = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(max), prevDomain = scale.domain();\n    if (2 === prevDomain.length && (hasValidMin || hasValidmax || zero)) {\n        let newMin = Math.min(prevDomain[0], prevDomain[prevDomain.length - 1]), newMax = Math.max(prevDomain[0], prevDomain[prevDomain.length - 1]);\n        zero && newMin > 0 ? newMin = 0 : hasValidMin && (newMin = Math.min(newMin, min)), \n        zero && newMax < 0 ? newMax = 0 : hasValidmax && (newMax = Math.max(newMax, max)), \n        scale.domain([ newMin, newMax ], !0);\n    }\n}\n\nfunction configureContinuousScale(spec, scale, parameters) {\n    var _a;\n    (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.roundRange, parameters, scale) && scale.rangeRound(scale.range(), !0);\n    const {interpolate: interpolate, clamp: clamp} = null !== (_a = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.config, parameters, scale)) && void 0 !== _a ? _a : {};\n    interpolate && scale.interpolate(interpolate, !0), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(clamp) || ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(clamp) ? scale.clamp(!0, clamp, !0) : scale.clamp(clamp, void 0, !0));\n    const tickCount = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.tickCount, parameters, scale);\n    tickCount && scale.tickData(tickCount);\n}\n\nfunction configureLinearScale(spec, scale, parameters) {\n    configureScaleNice(spec, scale, parameters), configureScaleNiceMinMax(spec, scale, parameters), \n    configureScaleDomain(spec, scale, parameters), configureContinuousScale(spec, scale, parameters);\n}\n\nfunction configurePowScale(spec, scale, parameters) {\n    configureLinearScale(spec, scale, parameters);\n    const exponent = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.exponent, parameters, scale);\n    exponent > 0 && scale.exponent(exponent);\n}\n\nfunction configureLogScale(spec, scale, parameters) {\n    configureScaleNice(spec, scale, parameters), configureScaleDomain(spec, scale, parameters);\n    const base = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.base, parameters, scale);\n    base > 0 && scale.base(base), configureContinuousScale(spec, scale, parameters);\n}\n\nfunction configureSqrtScale(spec, scale, parameters) {\n    configureLinearScale(spec, scale, parameters);\n}\n\nfunction configureTimeScale(spec, scale, parameters) {\n    configureScaleNice(spec, scale, parameters), configureScaleDomain(spec, scale, parameters), \n    configureContinuousScale(spec, scale, parameters);\n}\n\nfunction configureSymlogScale(spec, scale, parameters) {\n    configureLinearScale(spec, scale, parameters);\n    const constant = (0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.constant, parameters, scale);\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(constant) && scale.constant(constant);\n}\n\nfunction configureQuantizeScale(spec, scale, parameters) {\n    configureScaleNice(spec, scale, parameters), configureScaleNiceMinMax(spec, scale, parameters), \n    configureScaleDomain(spec, scale, parameters);\n}\n\nfunction configureBaseBandScale(spec, scale, parameters) {\n    spec.round && scale.round((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.round, parameters, scale), !0), \n    spec.padding && scale.padding((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.padding, parameters, scale), !0), \n    spec.paddingInner && scale.paddingInner((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.paddingInner, parameters, scale), !0), \n    spec.paddingOuter && scale.paddingOuter((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.paddingOuter, parameters, scale), !0), \n    spec.align && scale.align((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.align, parameters, scale), !0);\n}\n\nfunction configureBandScale(spec, scale, parameters) {\n    return configureBaseBandScale(spec, scale, parameters);\n}\n\nfunction configurePointScale(spec, scale, parameters) {\n    return configureBaseBandScale(spec, scale, parameters);\n}\n\nfunction parseFieldData(spec, parameters) {\n    const field = spec.field, refData = (0,_util__WEBPACK_IMPORTED_MODULE_15__.getGrammarOutput)(spec.data, parameters), fieldData = [];\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(field)) field.forEach((entry => {\n        const getter = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_19__.field)(entry);\n        refData && refData.forEach((datum => {\n            fieldData.push(getter(datum));\n        }));\n    })); else {\n        const getter = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_19__.field)(field);\n        refData && refData.forEach((datum => {\n            fieldData.push(getter(datum));\n        }));\n    }\n    return fieldData;\n}\n\nfunction parseMultiFieldData(spec, parameters) {\n    let fieldData = [];\n    return spec.datas.forEach((entry => {\n        fieldData = fieldData.concat(parseFieldData(entry, parameters));\n    })), fieldData;\n}\n\nfunction parseScaleDataTypeValue(fieldData, scale, sort, filterNumber) {\n    return sort && fieldData.sort(sort), (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_20__.isContinuous)(scale.type) ? (filterNumber && fieldData.filter((entry => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(entry))), \n    [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_22__.minInArray)(fieldData), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_22__.maxInArray)(fieldData) ]) : fieldData;\n}\n\nfunction configureScale(spec, scale, parameters) {\n    if (isScaleDataType(spec.domain) ? scale.domain(parseScaleDataTypeValue(parseFieldData(spec.domain, parameters), scale, spec.domain.sort, !0), !0) : isMultiScaleDataType(spec.domain) ? scale.domain(parseScaleDataTypeValue(parseMultiFieldData(spec.domain, parameters), scale, spec.domain.sort, !0), !0) : scale.domain((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.domain, parameters, scale), !0), \n    \"identity\" !== spec.type) if (isScaleDataType(spec.range)) scale.range(parseScaleDataTypeValue(parseFieldData(spec.range, parameters), scale), !0); else if (isMultiScaleDataType(spec.range)) scale.range(parseScaleDataTypeValue(parseMultiFieldData(spec.range, parameters), scale), !0); else if (isScaleCoordinateType(spec.range)) {\n        const coord = (0,_util__WEBPACK_IMPORTED_MODULE_15__.getGrammarOutput)(spec.range.coordinate, parameters);\n        !(0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_20__.isDiscretizing)(scale.type) && coord && scale.range(coord.getRangeByDimension(spec.range.dimension, spec.range.isSubshaft, spec.range.reversed));\n    } else scale.range((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.range, parameters, scale), !0);\n    switch ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(spec.unknown) || scale.unknown((0,_util__WEBPACK_IMPORTED_MODULE_15__.invokeFunctionType)(spec.unknown, parameters, scale)), \n    spec.type) {\n      case \"linear\":\n        configureLinearScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"band\":\n        configureBandScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"point\":\n        configurePointScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"pow\":\n        configurePowScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"log\":\n        configureLogScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"sqrt\":\n        configureSqrtScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"symlog\":\n        configureSymlogScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"time\":\n      case \"utc\":\n        configureTimeScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"quantize\":\n        configureQuantizeScale(spec, scale, parameters), scale.rescale();\n        break;\n\n      case \"quantile\":\n        scale.rescale();\n    }\n}\n//# sourceMappingURL=scale.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2Uvc2NhbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlIOztBQUU2Rzs7QUFFcko7O0FBRWI7O0FBRTdEO0FBQ1A7QUFDQTtBQUNBLG1CQUFtQix1REFBUzs7QUFFNUI7QUFDQSxtQkFBbUIseURBQVc7O0FBRTlCO0FBQ0EsbUJBQW1CLHNEQUFROztBQUUzQjtBQUNBLG1CQUFtQiwwREFBWTs7QUFFL0I7QUFDQSxtQkFBbUIsd0RBQVU7O0FBRTdCO0FBQ0EsbUJBQW1CLHNEQUFROztBQUUzQjtBQUNBLG1CQUFtQiwyREFBYTs7QUFFaEM7QUFDQSxtQkFBbUIsMkRBQWE7O0FBRWhDO0FBQ0EsbUJBQW1CLHVEQUFTOztBQUU1QjtBQUNBLG1CQUFtQix5REFBVzs7QUFFOUI7QUFDQSxtQkFBbUIsNkRBQWM7O0FBRWpDO0FBQ0EsbUJBQW1CLHdEQUFTOztBQUU1QjtBQUNBLG1CQUFtQix3REFBUzs7QUFFNUI7QUFDQSxtQkFBbUIsNERBQWE7QUFDaEM7QUFDQSxlQUFlLHlEQUFXO0FBQzFCOztBQUVBO0FBQ0EsWUFBWSw2REFBSztBQUNqQjs7QUFFQTtBQUNBO0FBQ0EsUUFBUSw2REFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSw2REFBSztBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSw2REFBSztBQUNqQjs7QUFFQTtBQUNBO0FBQ0EsUUFBUSw2REFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4Q0FBOEMseURBQWlCLHVEQUF1RCx5REFBaUI7QUFDdkksdUNBQXVDLHlEQUFpQiwwREFBMEQseURBQWlCO0FBQ25JLHVDQUF1Qyx5REFBaUIsc0RBQXNELHlEQUFpQjtBQUMvSCx1Q0FBdUMseURBQWlCO0FBQ3hEOztBQUVBO0FBQ0EsK0NBQStDLHlEQUFpQjtBQUNoRTs7QUFFQTtBQUNBLCtDQUErQyx5REFBaUI7QUFDaEU7O0FBRUE7QUFDQTtBQUNBLDhDQUE4Qyx5REFBaUIsdURBQXVELHlEQUFpQjtBQUN2SSx1Q0FBdUMseURBQWlCLHNEQUFzRCx5REFBaUI7QUFDL0gsdUNBQXVDLHlEQUFpQjtBQUN4RDs7QUFFQTtBQUNBO0FBQ0EsOENBQThDLHlEQUFpQix1REFBdUQseURBQWlCO0FBQ3ZJLHVDQUF1Qyx5REFBaUIsMERBQTBELHlEQUFpQjtBQUNuSSx1Q0FBdUMseURBQWlCLHNEQUFzRCx5REFBaUI7QUFDL0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhDQUE4Qyx5REFBaUI7QUFDL0QsdUNBQXVDLHlEQUFpQiwwREFBMEQseURBQWlCO0FBQ25JLHVDQUF1Qyx5REFBaUI7QUFDeEQsdUNBQXVDLHlEQUFpQjtBQUN4RDs7QUFFQTtBQUNBLGlEQUFpRCx5REFBaUI7QUFDbEU7O0FBRUE7QUFDQTtBQUNBOztBQUVPO0FBQ1Asd05BQXdOLHlEQUFpQjtBQUN6Tzs7QUFFTztBQUNQLFFBQVEsNkRBQUs7QUFDYixpQkFBaUIseURBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLDBEQUFrQjtBQUNuQyxpQ0FBaUMsNkRBQWE7QUFDOUM7O0FBRUE7QUFDQSxvQkFBb0IsMERBQWtCO0FBQ3RDLHVDQUF1Qyw2REFBYTtBQUNwRCxvQkFBb0IsMERBQWtCO0FBQ3RDLHVDQUF1Qyw2REFBYTtBQUNwRDs7QUFFQTtBQUNBLGdCQUFnQiwwREFBa0IscUNBQXFDLDBEQUFrQixzQ0FBc0MsMERBQWtCLDhDQUE4Qyw2REFBYSxxQkFBcUIsNkRBQWE7QUFDOU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksMERBQWtCO0FBQ3RCLFdBQVcsd0NBQXdDLGlCQUFpQiwwREFBa0I7QUFDdEYsdURBQXVELDZEQUFLLFlBQVksNkRBQVU7QUFDbEYsc0JBQXNCLDBEQUFrQjtBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsMERBQWtCO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQiwwREFBa0I7QUFDbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQiwwREFBa0I7QUFDdkMsSUFBSSw2REFBYTtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QiwwREFBa0I7QUFDaEQsa0NBQWtDLDBEQUFrQjtBQUNwRCw0Q0FBNEMsMERBQWtCO0FBQzlELDRDQUE0QywwREFBa0I7QUFDOUQsOEJBQThCLDBEQUFrQjtBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLHdEQUFnQjtBQUN4RCxRQUFRLDZEQUFPO0FBQ2YsdUJBQXVCLCtEQUFnQjtBQUN2QztBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUssSUFBSTtBQUNULHVCQUF1QiwrREFBZ0I7QUFDdkM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSx5Q0FBeUMsK0RBQVksMkRBQTJELDZEQUFRO0FBQ3hILE1BQU0sNkRBQVUsYUFBYSw2REFBVTtBQUN2Qzs7QUFFTztBQUNQLGlVQUFpVSwwREFBa0I7QUFDblYsd0pBQXdKLHlJQUF5STtBQUNqUyxzQkFBc0Isd0RBQWdCO0FBQ3RDLFNBQVMsaUVBQWM7QUFDdkIsTUFBTSxpQkFBaUIsMERBQWtCO0FBQ3pDLFlBQVksNkRBQUssZ0NBQWdDLDBEQUFrQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2Uvc2NhbGUuanM/OWJkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uLCBpc05pbCwgaXNOdW1iZXIsIGlzU3RyaW5nLCBpc1ZhbGlkTnVtYmVyLCBtYXhJbkFycmF5LCBtaW5JbkFycmF5IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgTGluZWFyU2NhbGUsIEJhbmRTY2FsZSwgT3JkaW5hbFNjYWxlLCBQb2ludFNjYWxlLCBpc0NvbnRpbnVvdXMsIFRpbWVTY2FsZSwgVGhyZXNob2xkU2NhbGUsIFNxcnRTY2FsZSwgU3ltbG9nU2NhbGUsIFF1YW50aXplU2NhbGUsIFF1YW50aWxlU2NhbGUsIFBvd1NjYWxlLCBMb2dTY2FsZSwgaXNEaXNjcmV0aXppbmcsIElkZW50aXR5U2NhbGUgfSBmcm9tIFwiQHZpc2FjdG9yL3ZzY2FsZVwiO1xuXG5pbXBvcnQgeyBnZXRHcmFtbWFyT3V0cHV0LCBpbnZva2VGdW5jdGlvblR5cGUsIHBhcnNlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5pbXBvcnQgeyBmaWVsZCBhcyBnZXRGaWVsZEFjY2Vzc29yIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTY2FsZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiYmFuZFwiOlxuICAgICAgICByZXR1cm4gbmV3IEJhbmRTY2FsZTtcblxuICAgICAgY2FzZSBcImxpbmVhclwiOlxuICAgICAgICByZXR1cm4gbmV3IExpbmVhclNjYWxlO1xuXG4gICAgICBjYXNlIFwibG9nXCI6XG4gICAgICAgIHJldHVybiBuZXcgTG9nU2NhbGU7XG5cbiAgICAgIGNhc2UgXCJvcmRpbmFsXCI6XG4gICAgICAgIHJldHVybiBuZXcgT3JkaW5hbFNjYWxlO1xuXG4gICAgICBjYXNlIFwicG9pbnRcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludFNjYWxlO1xuXG4gICAgICBjYXNlIFwicG93XCI6XG4gICAgICAgIHJldHVybiBuZXcgUG93U2NhbGU7XG5cbiAgICAgIGNhc2UgXCJxdWFudGlsZVwiOlxuICAgICAgICByZXR1cm4gbmV3IFF1YW50aWxlU2NhbGU7XG5cbiAgICAgIGNhc2UgXCJxdWFudGl6ZVwiOlxuICAgICAgICByZXR1cm4gbmV3IFF1YW50aXplU2NhbGU7XG5cbiAgICAgIGNhc2UgXCJzcXJ0XCI6XG4gICAgICAgIHJldHVybiBuZXcgU3FydFNjYWxlO1xuXG4gICAgICBjYXNlIFwic3ltbG9nXCI6XG4gICAgICAgIHJldHVybiBuZXcgU3ltbG9nU2NhbGU7XG5cbiAgICAgIGNhc2UgXCJ0aHJlc2hvbGRcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBUaHJlc2hvbGRTY2FsZTtcblxuICAgICAgY2FzZSBcInRpbWVcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lU2NhbGU7XG5cbiAgICAgIGNhc2UgXCJ1dGNcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lU2NhbGUoITApO1xuXG4gICAgICBjYXNlIFwiaWRlbnRpdHlcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBJZGVudGl0eVNjYWxlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IExpbmVhclNjYWxlO1xufVxuXG5mdW5jdGlvbiBpc1NjYWxlRGF0YVR5cGUoc3BlYykge1xuICAgIHJldHVybiAhaXNOaWwobnVsbCA9PSBzcGVjID8gdm9pZCAwIDogc3BlYy5kYXRhKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VTY2FsZURhdGFUeXBlKHNwZWMsIHZpZXcpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGlzU3RyaW5nKHNwZWMuZGF0YSkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHZpZXcuZ2V0R3JhbW1hckJ5SWQoc3BlYy5kYXRhKTtcbiAgICAgICAgcmV0dXJuIGRhdGEgPyBbIGRhdGEgXSA6IFtdO1xuICAgIH1cbiAgICByZXR1cm4gXCJkYXRhXCIgPT09IChudWxsID09PSAoX2EgPSBzcGVjLmRhdGEpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5ncmFtbWFyVHlwZSkgPyBbIHNwZWMuZGF0YSBdIDogW107XG59XG5cbmZ1bmN0aW9uIGlzTXVsdGlTY2FsZURhdGFUeXBlKHNwZWMpIHtcbiAgICByZXR1cm4gIWlzTmlsKG51bGwgPT0gc3BlYyA/IHZvaWQgMCA6IHNwZWMuZGF0YXMpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU11bHRpU2NhbGVEYXRhVHlwZShzcGVjLCB2aWV3KSB7XG4gICAgaWYgKHNwZWMgJiYgc3BlYy5kYXRhcyAmJiBzcGVjLmRhdGFzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHNwZWMuZGF0YXMuZm9yRWFjaCgoZGF0YSA9PiB7XG4gICAgICAgICAgICBjb25zdCBncmFtYXJCYXNlID0gcGFyc2VTY2FsZURhdGFUeXBlKGRhdGEsIHZpZXcpO1xuICAgICAgICAgICAgZ3JhbWFyQmFzZS5sZW5ndGggJiYgcmVzLnB1c2goZ3JhbWFyQmFzZVswXSk7XG4gICAgICAgIH0pKSwgcmVzO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59XG5cbmZ1bmN0aW9uIGlzU2NhbGVDb29yZGluYXRlVHlwZShzcGVjKSB7XG4gICAgcmV0dXJuICFpc05pbChudWxsID09IHNwZWMgPyB2b2lkIDAgOiBzcGVjLmNvb3JkaW5hdGUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVNjYWxlQ29vcmRpbmF0ZVR5cGUoc3BlYywgdmlldykge1xuICAgIHZhciBfYTtcbiAgICBpZiAoaXNTdHJpbmcoc3BlYy5jb29yZGluYXRlKSkge1xuICAgICAgICBjb25zdCBjb29yZGluYXRlID0gdmlldy5nZXRDb29yZGluYXRlQnlJZChzcGVjLmNvb3JkaW5hdGUpO1xuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZSA/IFsgY29vcmRpbmF0ZSBdIDogW107XG4gICAgfVxuICAgIHJldHVybiBcImNvb3JkaW5hdGVcIiA9PT0gKG51bGwgPT09IChfYSA9IHNwZWMuY29vcmRpbmF0ZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmdyYW1tYXJUeXBlKSA/IFsgc3BlYy5jb29yZGluYXRlIF0gOiBbXTtcbn1cblxuZnVuY3Rpb24gcGFyc2VMaW5lYXJTY2FsZShzcGVjLCB2aWV3KSB7XG4gICAgbGV0IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgIHJldHVybiBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMubmljZSwgdmlldykpLCBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMubmljZU1pbiwgdmlldykpLCBcbiAgICBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMubmljZU1heCwgdmlldykpLCBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMubWluLCB2aWV3KSksIFxuICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5tYXgsIHZpZXcpKSwgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLnplcm8sIHZpZXcpKSwgXG4gICAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLnJvdW5kUmFuZ2UsIHZpZXcpKSwgZGVwZW5kZW5jaWVzO1xufVxuXG5mdW5jdGlvbiBwYXJzZVBvd1NjYWxlKHNwZWMsIHZpZXcpIHtcbiAgICByZXR1cm4gcGFyc2VMaW5lYXJTY2FsZShzcGVjLCB2aWV3KS5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5leHBvbmVudCwgdmlldykpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVN5bWxvZ1NjYWxlKHNwZWMsIHZpZXcpIHtcbiAgICByZXR1cm4gcGFyc2VMaW5lYXJTY2FsZShzcGVjLCB2aWV3KS5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5jb25zdGFudCwgdmlldykpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUxvZ1NjYWxlKHNwZWMsIHZpZXcpIHtcbiAgICBsZXQgZGVwZW5kZW5jaWVzID0gW107XG4gICAgcmV0dXJuIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5uaWNlLCB2aWV3KSksIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5taW4sIHZpZXcpKSwgXG4gICAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLm1heCwgdmlldykpLCBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMuemVybywgdmlldykpLCBcbiAgICBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMucm91bmRSYW5nZSwgdmlldykpLCBkZXBlbmRlbmNpZXM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUXVhbnRpemVTY2FsZShzcGVjLCB2aWV3KSB7XG4gICAgbGV0IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgIHJldHVybiBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMubmljZSwgdmlldykpLCBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMubmljZU1pbiwgdmlldykpLCBcbiAgICBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMubmljZU1heCwgdmlldykpLCBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMubWluLCB2aWV3KSksIFxuICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5tYXgsIHZpZXcpKSwgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLnplcm8sIHZpZXcpKSwgXG4gICAgZGVwZW5kZW5jaWVzO1xufVxuXG5mdW5jdGlvbiBwYXJzZU9yZGluYWxTY2FsZShzcGVjLCB2aWV3KSB7XG4gICAgcmV0dXJuIFtdO1xufVxuXG5mdW5jdGlvbiBwYXJzZUJhc2VCYW5kU2NhbGUoc3BlYywgdmlldykge1xuICAgIGxldCBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICByZXR1cm4gZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLnJvdW5kLCB2aWV3KSksIFxuICAgIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5wYWRkaW5nLCB2aWV3KSksIGRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcy5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5wYWRkaW5nSW5uZXIsIHZpZXcpKSwgXG4gICAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLmNvbmNhdChwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLnBhZGRpbmdPdXRlciwgdmlldykpLCBcbiAgICBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuY29uY2F0KHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMuYWxpZ24sIHZpZXcpKSwgZGVwZW5kZW5jaWVzO1xufVxuXG5mdW5jdGlvbiBwYXJzZUJhbmRTY2FsZShzcGVjLCB2aWV3KSB7XG4gICAgcmV0dXJuIHBhcnNlQmFzZUJhbmRTY2FsZShzcGVjLCB2aWV3KS5jb25jYXQocGFyc2VGdW5jdGlvblR5cGUoc3BlYy5wYWRkaW5nSW5uZXIsIHZpZXcpKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VQb2ludFNjYWxlKHNwZWMsIHZpZXcpIHtcbiAgICByZXR1cm4gcGFyc2VCYXNlQmFuZFNjYWxlKHNwZWMsIHZpZXcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTY2FsZURvbWFpblJhbmdlKGRvbWFpbiwgdmlldykge1xuICAgIHJldHVybiBpc1NjYWxlRGF0YVR5cGUoZG9tYWluKSA/IHBhcnNlU2NhbGVEYXRhVHlwZShkb21haW4sIHZpZXcpIDogaXNNdWx0aVNjYWxlRGF0YVR5cGUoZG9tYWluKSA/IHBhcnNlTXVsdGlTY2FsZURhdGFUeXBlKGRvbWFpbiwgdmlldykgOiBpc1NjYWxlQ29vcmRpbmF0ZVR5cGUoZG9tYWluKSA/IHBhcnNlU2NhbGVDb29yZGluYXRlVHlwZShkb21haW4sIHZpZXcpIDogcGFyc2VGdW5jdGlvblR5cGUoZG9tYWluLCB2aWV3KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2NhbGVDb25maWcodHlwZSwgY29uZmlnLCB2aWV3KSB7XG4gICAgaWYgKGlzTmlsKGNvbmZpZykpIHJldHVybiBbXTtcbiAgICBjb25zdCBkZXBzID0gcGFyc2VGdW5jdGlvblR5cGUoY29uZmlnLnVua25vd24sIHZpZXcpO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcImxpbmVhclwiOlxuICAgICAgY2FzZSBcInNxcnRcIjpcbiAgICAgICAgcmV0dXJuIGRlcHMuY29uY2F0KHBhcnNlTGluZWFyU2NhbGUoY29uZmlnLCB2aWV3KSk7XG5cbiAgICAgIGNhc2UgXCJvcmRpbmFsXCI6XG4gICAgICAgIHJldHVybiBkZXBzLmNvbmNhdChwYXJzZU9yZGluYWxTY2FsZShjb25maWcsIHZpZXcpKTtcblxuICAgICAgY2FzZSBcImJhbmRcIjpcbiAgICAgICAgcmV0dXJuIGRlcHMuY29uY2F0KHBhcnNlQmFuZFNjYWxlKGNvbmZpZywgdmlldykpO1xuXG4gICAgICBjYXNlIFwicG9pbnRcIjpcbiAgICAgICAgcmV0dXJuIGRlcHMuY29uY2F0KHBhcnNlUG9pbnRTY2FsZShjb25maWcsIHZpZXcpKTtcblxuICAgICAgY2FzZSBcInBvd1wiOlxuICAgICAgICByZXR1cm4gZGVwcy5jb25jYXQocGFyc2VQb3dTY2FsZShjb25maWcsIHZpZXcpKTtcblxuICAgICAgY2FzZSBcImxvZ1wiOlxuICAgICAgY2FzZSBcInRpbWVcIjpcbiAgICAgIGNhc2UgXCJ1dGNcIjpcbiAgICAgICAgcmV0dXJuIGRlcHMuY29uY2F0KHBhcnNlTG9nU2NhbGUoY29uZmlnLCB2aWV3KSk7XG5cbiAgICAgIGNhc2UgXCJzeW1sb2dcIjpcbiAgICAgICAgcmV0dXJuIGRlcHMuY29uY2F0KHBhcnNlU3ltbG9nU2NhbGUoY29uZmlnLCB2aWV3KSk7XG5cbiAgICAgIGNhc2UgXCJxdWFudGl6ZVwiOlxuICAgICAgICByZXR1cm4gZGVwcy5jb25jYXQocGFyc2VRdWFudGl6ZVNjYWxlKGNvbmZpZywgdmlldykpO1xuICAgIH1cbiAgICByZXR1cm4gZGVwcztcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlU2NhbGVOaWNlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgbmljZSA9IGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLm5pY2UsIHBhcmFtZXRlcnMsIHNjYWxlKTtcbiAgICAhMCA9PT0gbmljZSA/IHNjYWxlLm5pY2UoKSA6IGlzVmFsaWROdW1iZXIobmljZSkgJiYgc2NhbGUubmljZShuaWNlKTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlU2NhbGVOaWNlTWluTWF4KHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgbmljZU1heCA9IGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLm5pY2VNYXgsIHBhcmFtZXRlcnMsIHNjYWxlKTtcbiAgICAhMCA9PT0gbmljZU1heCA/IHNjYWxlLm5pY2VNYXgoKSA6IGlzVmFsaWROdW1iZXIobmljZU1heCkgJiYgc2NhbGUubmljZU1heChuaWNlTWF4KTtcbiAgICBjb25zdCBuaWNlTWluID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMubmljZU1pbiwgcGFyYW1ldGVycywgc2NhbGUpO1xuICAgICEwID09PSBuaWNlTWluID8gc2NhbGUubmljZU1pbigpIDogaXNWYWxpZE51bWJlcihuaWNlTWluKSAmJiBzY2FsZS5uaWNlTWluKG5pY2VNaW4pO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVTY2FsZURvbWFpbihzcGVjLCBzY2FsZSwgcGFyYW1ldGVycykge1xuICAgIGNvbnN0IG1pbiA9IGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLm1pbiwgcGFyYW1ldGVycywgc2NhbGUpLCBtYXggPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5tYXgsIHBhcmFtZXRlcnMsIHNjYWxlKSwgemVybyA9IGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLnplcm8sIHBhcmFtZXRlcnMsIHNjYWxlKSwgaGFzVmFsaWRNaW4gPSBpc1ZhbGlkTnVtYmVyKG1pbiksIGhhc1ZhbGlkbWF4ID0gaXNWYWxpZE51bWJlcihtYXgpLCBwcmV2RG9tYWluID0gc2NhbGUuZG9tYWluKCk7XG4gICAgaWYgKDIgPT09IHByZXZEb21haW4ubGVuZ3RoICYmIChoYXNWYWxpZE1pbiB8fCBoYXNWYWxpZG1heCB8fCB6ZXJvKSkge1xuICAgICAgICBsZXQgbmV3TWluID0gTWF0aC5taW4ocHJldkRvbWFpblswXSwgcHJldkRvbWFpbltwcmV2RG9tYWluLmxlbmd0aCAtIDFdKSwgbmV3TWF4ID0gTWF0aC5tYXgocHJldkRvbWFpblswXSwgcHJldkRvbWFpbltwcmV2RG9tYWluLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgemVybyAmJiBuZXdNaW4gPiAwID8gbmV3TWluID0gMCA6IGhhc1ZhbGlkTWluICYmIChuZXdNaW4gPSBNYXRoLm1pbihuZXdNaW4sIG1pbikpLCBcbiAgICAgICAgemVybyAmJiBuZXdNYXggPCAwID8gbmV3TWF4ID0gMCA6IGhhc1ZhbGlkbWF4ICYmIChuZXdNYXggPSBNYXRoLm1heChuZXdNYXgsIG1heCkpLCBcbiAgICAgICAgc2NhbGUuZG9tYWluKFsgbmV3TWluLCBuZXdNYXggXSwgITApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29uZmlndXJlQ29udGludW91c1NjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgdmFyIF9hO1xuICAgIGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLnJvdW5kUmFuZ2UsIHBhcmFtZXRlcnMsIHNjYWxlKSAmJiBzY2FsZS5yYW5nZVJvdW5kKHNjYWxlLnJhbmdlKCksICEwKTtcbiAgICBjb25zdCB7aW50ZXJwb2xhdGU6IGludGVycG9sYXRlLCBjbGFtcDogY2xhbXB9ID0gbnVsbCAhPT0gKF9hID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMuY29uZmlnLCBwYXJhbWV0ZXJzLCBzY2FsZSkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9O1xuICAgIGludGVycG9sYXRlICYmIHNjYWxlLmludGVycG9sYXRlKGludGVycG9sYXRlLCAhMCksIGlzTmlsKGNsYW1wKSB8fCAoaXNGdW5jdGlvbihjbGFtcCkgPyBzY2FsZS5jbGFtcCghMCwgY2xhbXAsICEwKSA6IHNjYWxlLmNsYW1wKGNsYW1wLCB2b2lkIDAsICEwKSk7XG4gICAgY29uc3QgdGlja0NvdW50ID0gaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMudGlja0NvdW50LCBwYXJhbWV0ZXJzLCBzY2FsZSk7XG4gICAgdGlja0NvdW50ICYmIHNjYWxlLnRpY2tEYXRhKHRpY2tDb3VudCk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZUxpbmVhclNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uZmlndXJlU2NhbGVOaWNlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgY29uZmlndXJlU2NhbGVOaWNlTWluTWF4KHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgXG4gICAgY29uZmlndXJlU2NhbGVEb21haW4oc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBjb25maWd1cmVDb250aW51b3VzU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVQb3dTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycykge1xuICAgIGNvbmZpZ3VyZUxpbmVhclNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKTtcbiAgICBjb25zdCBleHBvbmVudCA9IGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLmV4cG9uZW50LCBwYXJhbWV0ZXJzLCBzY2FsZSk7XG4gICAgZXhwb25lbnQgPiAwICYmIHNjYWxlLmV4cG9uZW50KGV4cG9uZW50KTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlTG9nU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25maWd1cmVTY2FsZU5pY2Uoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBjb25maWd1cmVTY2FsZURvbWFpbihzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyk7XG4gICAgY29uc3QgYmFzZSA9IGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLmJhc2UsIHBhcmFtZXRlcnMsIHNjYWxlKTtcbiAgICBiYXNlID4gMCAmJiBzY2FsZS5iYXNlKGJhc2UpLCBjb25maWd1cmVDb250aW51b3VzU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVTcXJ0U2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25maWd1cmVMaW5lYXJTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZVRpbWVTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycykge1xuICAgIGNvbmZpZ3VyZVNjYWxlTmljZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIGNvbmZpZ3VyZVNjYWxlRG9tYWluKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgXG4gICAgY29uZmlndXJlQ29udGludW91c1NjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlU3ltbG9nU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25maWd1cmVMaW5lYXJTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyk7XG4gICAgY29uc3QgY29uc3RhbnQgPSBpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5jb25zdGFudCwgcGFyYW1ldGVycywgc2NhbGUpO1xuICAgIGlzVmFsaWROdW1iZXIoY29uc3RhbnQpICYmIHNjYWxlLmNvbnN0YW50KGNvbnN0YW50KTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlUXVhbnRpemVTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycykge1xuICAgIGNvbmZpZ3VyZVNjYWxlTmljZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIGNvbmZpZ3VyZVNjYWxlTmljZU1pbk1heChzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIFxuICAgIGNvbmZpZ3VyZVNjYWxlRG9tYWluKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlQmFzZUJhbmRTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycykge1xuICAgIHNwZWMucm91bmQgJiYgc2NhbGUucm91bmQoaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMucm91bmQsIHBhcmFtZXRlcnMsIHNjYWxlKSwgITApLCBcbiAgICBzcGVjLnBhZGRpbmcgJiYgc2NhbGUucGFkZGluZyhpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5wYWRkaW5nLCBwYXJhbWV0ZXJzLCBzY2FsZSksICEwKSwgXG4gICAgc3BlYy5wYWRkaW5nSW5uZXIgJiYgc2NhbGUucGFkZGluZ0lubmVyKGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLnBhZGRpbmdJbm5lciwgcGFyYW1ldGVycywgc2NhbGUpLCAhMCksIFxuICAgIHNwZWMucGFkZGluZ091dGVyICYmIHNjYWxlLnBhZGRpbmdPdXRlcihpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5wYWRkaW5nT3V0ZXIsIHBhcmFtZXRlcnMsIHNjYWxlKSwgITApLCBcbiAgICBzcGVjLmFsaWduICYmIHNjYWxlLmFsaWduKGludm9rZUZ1bmN0aW9uVHlwZShzcGVjLmFsaWduLCBwYXJhbWV0ZXJzLCBzY2FsZSksICEwKTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlQmFuZFNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIGNvbmZpZ3VyZUJhc2VCYW5kU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVQb2ludFNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIGNvbmZpZ3VyZUJhc2VCYW5kU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUZpZWxkRGF0YShzcGVjLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgZmllbGQgPSBzcGVjLmZpZWxkLCByZWZEYXRhID0gZ2V0R3JhbW1hck91dHB1dChzcGVjLmRhdGEsIHBhcmFtZXRlcnMpLCBmaWVsZERhdGEgPSBbXTtcbiAgICBpZiAoaXNBcnJheShmaWVsZCkpIGZpZWxkLmZvckVhY2goKGVudHJ5ID0+IHtcbiAgICAgICAgY29uc3QgZ2V0dGVyID0gZ2V0RmllbGRBY2Nlc3NvcihlbnRyeSk7XG4gICAgICAgIHJlZkRhdGEgJiYgcmVmRGF0YS5mb3JFYWNoKChkYXR1bSA9PiB7XG4gICAgICAgICAgICBmaWVsZERhdGEucHVzaChnZXR0ZXIoZGF0dW0pKTtcbiAgICAgICAgfSkpO1xuICAgIH0pKTsgZWxzZSB7XG4gICAgICAgIGNvbnN0IGdldHRlciA9IGdldEZpZWxkQWNjZXNzb3IoZmllbGQpO1xuICAgICAgICByZWZEYXRhICYmIHJlZkRhdGEuZm9yRWFjaCgoZGF0dW0gPT4ge1xuICAgICAgICAgICAgZmllbGREYXRhLnB1c2goZ2V0dGVyKGRhdHVtKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpZWxkRGF0YTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNdWx0aUZpZWxkRGF0YShzcGVjLCBwYXJhbWV0ZXJzKSB7XG4gICAgbGV0IGZpZWxkRGF0YSA9IFtdO1xuICAgIHJldHVybiBzcGVjLmRhdGFzLmZvckVhY2goKGVudHJ5ID0+IHtcbiAgICAgICAgZmllbGREYXRhID0gZmllbGREYXRhLmNvbmNhdChwYXJzZUZpZWxkRGF0YShlbnRyeSwgcGFyYW1ldGVycykpO1xuICAgIH0pKSwgZmllbGREYXRhO1xufVxuXG5mdW5jdGlvbiBwYXJzZVNjYWxlRGF0YVR5cGVWYWx1ZShmaWVsZERhdGEsIHNjYWxlLCBzb3J0LCBmaWx0ZXJOdW1iZXIpIHtcbiAgICByZXR1cm4gc29ydCAmJiBmaWVsZERhdGEuc29ydChzb3J0KSwgaXNDb250aW51b3VzKHNjYWxlLnR5cGUpID8gKGZpbHRlck51bWJlciAmJiBmaWVsZERhdGEuZmlsdGVyKChlbnRyeSA9PiBpc051bWJlcihlbnRyeSkpKSwgXG4gICAgWyBtaW5JbkFycmF5KGZpZWxkRGF0YSksIG1heEluQXJyYXkoZmllbGREYXRhKSBdKSA6IGZpZWxkRGF0YTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZVNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgaWYgKGlzU2NhbGVEYXRhVHlwZShzcGVjLmRvbWFpbikgPyBzY2FsZS5kb21haW4ocGFyc2VTY2FsZURhdGFUeXBlVmFsdWUocGFyc2VGaWVsZERhdGEoc3BlYy5kb21haW4sIHBhcmFtZXRlcnMpLCBzY2FsZSwgc3BlYy5kb21haW4uc29ydCwgITApLCAhMCkgOiBpc011bHRpU2NhbGVEYXRhVHlwZShzcGVjLmRvbWFpbikgPyBzY2FsZS5kb21haW4ocGFyc2VTY2FsZURhdGFUeXBlVmFsdWUocGFyc2VNdWx0aUZpZWxkRGF0YShzcGVjLmRvbWFpbiwgcGFyYW1ldGVycyksIHNjYWxlLCBzcGVjLmRvbWFpbi5zb3J0LCAhMCksICEwKSA6IHNjYWxlLmRvbWFpbihpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5kb21haW4sIHBhcmFtZXRlcnMsIHNjYWxlKSwgITApLCBcbiAgICBcImlkZW50aXR5XCIgIT09IHNwZWMudHlwZSkgaWYgKGlzU2NhbGVEYXRhVHlwZShzcGVjLnJhbmdlKSkgc2NhbGUucmFuZ2UocGFyc2VTY2FsZURhdGFUeXBlVmFsdWUocGFyc2VGaWVsZERhdGEoc3BlYy5yYW5nZSwgcGFyYW1ldGVycyksIHNjYWxlKSwgITApOyBlbHNlIGlmIChpc011bHRpU2NhbGVEYXRhVHlwZShzcGVjLnJhbmdlKSkgc2NhbGUucmFuZ2UocGFyc2VTY2FsZURhdGFUeXBlVmFsdWUocGFyc2VNdWx0aUZpZWxkRGF0YShzcGVjLnJhbmdlLCBwYXJhbWV0ZXJzKSwgc2NhbGUpLCAhMCk7IGVsc2UgaWYgKGlzU2NhbGVDb29yZGluYXRlVHlwZShzcGVjLnJhbmdlKSkge1xuICAgICAgICBjb25zdCBjb29yZCA9IGdldEdyYW1tYXJPdXRwdXQoc3BlYy5yYW5nZS5jb29yZGluYXRlLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgIWlzRGlzY3JldGl6aW5nKHNjYWxlLnR5cGUpICYmIGNvb3JkICYmIHNjYWxlLnJhbmdlKGNvb3JkLmdldFJhbmdlQnlEaW1lbnNpb24oc3BlYy5yYW5nZS5kaW1lbnNpb24sIHNwZWMucmFuZ2UuaXNTdWJzaGFmdCwgc3BlYy5yYW5nZS5yZXZlcnNlZCkpO1xuICAgIH0gZWxzZSBzY2FsZS5yYW5nZShpbnZva2VGdW5jdGlvblR5cGUoc3BlYy5yYW5nZSwgcGFyYW1ldGVycywgc2NhbGUpLCAhMCk7XG4gICAgc3dpdGNoIChpc05pbChzcGVjLnVua25vd24pIHx8IHNjYWxlLnVua25vd24oaW52b2tlRnVuY3Rpb25UeXBlKHNwZWMudW5rbm93biwgcGFyYW1ldGVycywgc2NhbGUpKSwgXG4gICAgc3BlYy50eXBlKSB7XG4gICAgICBjYXNlIFwibGluZWFyXCI6XG4gICAgICAgIGNvbmZpZ3VyZUxpbmVhclNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgc2NhbGUucmVzY2FsZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImJhbmRcIjpcbiAgICAgICAgY29uZmlndXJlQmFuZFNjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgc2NhbGUucmVzY2FsZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInBvaW50XCI6XG4gICAgICAgIGNvbmZpZ3VyZVBvaW50U2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBzY2FsZS5yZXNjYWxlKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwicG93XCI6XG4gICAgICAgIGNvbmZpZ3VyZVBvd1NjYWxlKHNwZWMsIHNjYWxlLCBwYXJhbWV0ZXJzKSwgc2NhbGUucmVzY2FsZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImxvZ1wiOlxuICAgICAgICBjb25maWd1cmVMb2dTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIHNjYWxlLnJlc2NhbGUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJzcXJ0XCI6XG4gICAgICAgIGNvbmZpZ3VyZVNxcnRTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIHNjYWxlLnJlc2NhbGUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJzeW1sb2dcIjpcbiAgICAgICAgY29uZmlndXJlU3ltbG9nU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBzY2FsZS5yZXNjYWxlKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwidGltZVwiOlxuICAgICAgY2FzZSBcInV0Y1wiOlxuICAgICAgICBjb25maWd1cmVUaW1lU2NhbGUoc3BlYywgc2NhbGUsIHBhcmFtZXRlcnMpLCBzY2FsZS5yZXNjYWxlKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwicXVhbnRpemVcIjpcbiAgICAgICAgY29uZmlndXJlUXVhbnRpemVTY2FsZShzcGVjLCBzY2FsZSwgcGFyYW1ldGVycyksIHNjYWxlLnJlc2NhbGUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJxdWFudGlsZVwiOlxuICAgICAgICBzY2FsZS5yZXNjYWxlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NhbGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/transform.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/transform.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseTransformSpec: () => (/* binding */ parseTransformSpec)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\nconst parseSimpleOptionValue = (key, transformSpecValue, view) => {\n    var _a;\n    if (\"callback\" === key && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(transformSpecValue)) return {\n        references: [],\n        value: {\n            callback: transformSpecValue,\n            dependency: []\n        }\n    };\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(transformSpecValue.data)) {\n        const grammarInstance = view.getDataById(transformSpecValue.data);\n        return {\n            references: [ grammarInstance ],\n            value: grammarInstance\n        };\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(transformSpecValue.customized)) {\n        const grammarInstance = view.getCustomizedById(transformSpecValue.customized);\n        return {\n            references: [ grammarInstance ],\n            value: grammarInstance\n        };\n    }\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(transformSpecValue.scale)) {\n        const grammarInstance = view.getScaleById(transformSpecValue.scale);\n        return {\n            references: [ grammarInstance ],\n            value: grammarInstance\n        };\n    }\n    if ((0,_util__WEBPACK_IMPORTED_MODULE_2__.isSignal)(transformSpecValue)) {\n        const references = (0,_util__WEBPACK_IMPORTED_MODULE_2__.parseFunctionType)(transformSpecValue, view);\n        return {\n            references: references,\n            value: transformSpecValue.callback ? {\n                value: transformSpecValue.callback,\n                dependency: references\n            } : null !== (_a = null == references ? void 0 : references[0]) && void 0 !== _a ? _a : transformSpecValue\n        };\n    }\n    return {\n        value: transformSpecValue\n    };\n}, parseTransformOption = (key, transformSpecValue, view) => {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(transformSpecValue)) return {\n        value: transformSpecValue\n    };\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(transformSpecValue)) {\n        const values = transformSpecValue.map((v => parseSimpleOptionValue(key, v, view)));\n        return {\n            references: values.reduce(((res, val) => (val.references && res.concat(val.references), \n            res)), []),\n            value: values.map((entry => entry.value))\n        };\n    }\n    return parseSimpleOptionValue(key, transformSpecValue, view);\n}, parseTransform = (transformSpec, view) => {\n    const transformDef = _core_factory__WEBPACK_IMPORTED_MODULE_4__.Factory.getTransform(transformSpec.type);\n    if (!transformDef) return;\n    const options = {};\n    let references = [];\n    return Object.keys(transformSpec).forEach((specKey => {\n        var _a;\n        if (\"type\" === specKey) return;\n        const specValue = transformSpec[specKey];\n        if (\"dependency\" === specKey) return void ((null == specValue ? void 0 : specValue.length) && (references = references.concat((0,_util__WEBPACK_IMPORTED_MODULE_2__.parseReference)(specValue, view))));\n        const res = parseTransformOption(specKey, specValue, view);\n        res && ((null === (_a = res.references) || void 0 === _a ? void 0 : _a.length) && (references = references.concat(res.references)), \n        options[specKey] = res.value);\n    })), {\n        markPhase: transformDef.markPhase,\n        transform: transformDef.transform,\n        canProgressive: transformDef.canProgressive,\n        type: transformDef.type,\n        options: options,\n        references: references\n    };\n};\n\nconst parseTransformSpec = (spec, view) => {\n    if (null == spec ? void 0 : spec.length) {\n        const transforms = [];\n        let refs = [];\n        return spec.forEach((transformSpec => {\n            var _a;\n            const transform = parseTransform(transformSpec, view);\n            transform && ((null === (_a = transform.references) || void 0 === _a ? void 0 : _a.length) && (refs = refs.concat(transform.references)), \n            transforms.push(transform));\n        })), {\n            transforms: transforms,\n            refs: refs\n        };\n    }\n    return null;\n};\n//# sourceMappingURL=transform.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvdHJhbnNmb3JtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4RDs7QUFFcEI7O0FBRTJCOztBQUVyRTtBQUNBO0FBQ0EsOEJBQThCLDREQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNERBQUs7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUFLO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBSztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0NBQVE7QUFDaEIsMkJBQTJCLHdEQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsUUFBUSw0REFBSztBQUNiO0FBQ0E7QUFDQSxRQUFRLDREQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx5QkFBeUIsa0RBQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSUFBc0kscURBQWM7QUFDcEo7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9wYXJzZS90cmFuc2Zvcm0uanM/N2Y3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uLCBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IGlzU2lnbmFsLCBwYXJzZUZ1bmN0aW9uVHlwZSwgcGFyc2VSZWZlcmVuY2UgfSBmcm9tIFwiLi91dGlsXCI7XG5cbmNvbnN0IHBhcnNlU2ltcGxlT3B0aW9uVmFsdWUgPSAoa2V5LCB0cmFuc2Zvcm1TcGVjVmFsdWUsIHZpZXcpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKFwiY2FsbGJhY2tcIiA9PT0ga2V5ICYmIGlzRnVuY3Rpb24odHJhbnNmb3JtU3BlY1ZhbHVlKSkgcmV0dXJuIHtcbiAgICAgICAgcmVmZXJlbmNlczogW10sXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBjYWxsYmFjazogdHJhbnNmb3JtU3BlY1ZhbHVlLFxuICAgICAgICAgICAgZGVwZW5kZW5jeTogW11cbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFpc05pbCh0cmFuc2Zvcm1TcGVjVmFsdWUuZGF0YSkpIHtcbiAgICAgICAgY29uc3QgZ3JhbW1hckluc3RhbmNlID0gdmlldy5nZXREYXRhQnlJZCh0cmFuc2Zvcm1TcGVjVmFsdWUuZGF0YSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWZlcmVuY2VzOiBbIGdyYW1tYXJJbnN0YW5jZSBdLFxuICAgICAgICAgICAgdmFsdWU6IGdyYW1tYXJJbnN0YW5jZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoIWlzTmlsKHRyYW5zZm9ybVNwZWNWYWx1ZS5jdXN0b21pemVkKSkge1xuICAgICAgICBjb25zdCBncmFtbWFySW5zdGFuY2UgPSB2aWV3LmdldEN1c3RvbWl6ZWRCeUlkKHRyYW5zZm9ybVNwZWNWYWx1ZS5jdXN0b21pemVkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZmVyZW5jZXM6IFsgZ3JhbW1hckluc3RhbmNlIF0sXG4gICAgICAgICAgICB2YWx1ZTogZ3JhbW1hckluc3RhbmNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghaXNOaWwodHJhbnNmb3JtU3BlY1ZhbHVlLnNjYWxlKSkge1xuICAgICAgICBjb25zdCBncmFtbWFySW5zdGFuY2UgPSB2aWV3LmdldFNjYWxlQnlJZCh0cmFuc2Zvcm1TcGVjVmFsdWUuc2NhbGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVmZXJlbmNlczogWyBncmFtbWFySW5zdGFuY2UgXSxcbiAgICAgICAgICAgIHZhbHVlOiBncmFtbWFySW5zdGFuY2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlzU2lnbmFsKHRyYW5zZm9ybVNwZWNWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlcyA9IHBhcnNlRnVuY3Rpb25UeXBlKHRyYW5zZm9ybVNwZWNWYWx1ZSwgdmlldyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWZlcmVuY2VzOiByZWZlcmVuY2VzLFxuICAgICAgICAgICAgdmFsdWU6IHRyYW5zZm9ybVNwZWNWYWx1ZS5jYWxsYmFjayA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJhbnNmb3JtU3BlY1ZhbHVlLmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGRlcGVuZGVuY3k6IHJlZmVyZW5jZXNcbiAgICAgICAgICAgIH0gOiBudWxsICE9PSAoX2EgPSBudWxsID09IHJlZmVyZW5jZXMgPyB2b2lkIDAgOiByZWZlcmVuY2VzWzBdKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB0cmFuc2Zvcm1TcGVjVmFsdWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHRyYW5zZm9ybVNwZWNWYWx1ZVxuICAgIH07XG59LCBwYXJzZVRyYW5zZm9ybU9wdGlvbiA9IChrZXksIHRyYW5zZm9ybVNwZWNWYWx1ZSwgdmlldykgPT4ge1xuICAgIGlmIChpc05pbCh0cmFuc2Zvcm1TcGVjVmFsdWUpKSByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdHJhbnNmb3JtU3BlY1ZhbHVlXG4gICAgfTtcbiAgICBpZiAoaXNBcnJheSh0cmFuc2Zvcm1TcGVjVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHRyYW5zZm9ybVNwZWNWYWx1ZS5tYXAoKHYgPT4gcGFyc2VTaW1wbGVPcHRpb25WYWx1ZShrZXksIHYsIHZpZXcpKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWZlcmVuY2VzOiB2YWx1ZXMucmVkdWNlKCgocmVzLCB2YWwpID0+ICh2YWwucmVmZXJlbmNlcyAmJiByZXMuY29uY2F0KHZhbC5yZWZlcmVuY2VzKSwgXG4gICAgICAgICAgICByZXMpKSwgW10pLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlcy5tYXAoKGVudHJ5ID0+IGVudHJ5LnZhbHVlKSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlU2ltcGxlT3B0aW9uVmFsdWUoa2V5LCB0cmFuc2Zvcm1TcGVjVmFsdWUsIHZpZXcpO1xufSwgcGFyc2VUcmFuc2Zvcm0gPSAodHJhbnNmb3JtU3BlYywgdmlldykgPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybURlZiA9IEZhY3RvcnkuZ2V0VHJhbnNmb3JtKHRyYW5zZm9ybVNwZWMudHlwZSk7XG4gICAgaWYgKCF0cmFuc2Zvcm1EZWYpIHJldHVybjtcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgbGV0IHJlZmVyZW5jZXMgPSBbXTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModHJhbnNmb3JtU3BlYykuZm9yRWFjaCgoc3BlY0tleSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKFwidHlwZVwiID09PSBzcGVjS2V5KSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNwZWNWYWx1ZSA9IHRyYW5zZm9ybVNwZWNbc3BlY0tleV07XG4gICAgICAgIGlmIChcImRlcGVuZGVuY3lcIiA9PT0gc3BlY0tleSkgcmV0dXJuIHZvaWQgKChudWxsID09IHNwZWNWYWx1ZSA/IHZvaWQgMCA6IHNwZWNWYWx1ZS5sZW5ndGgpICYmIChyZWZlcmVuY2VzID0gcmVmZXJlbmNlcy5jb25jYXQocGFyc2VSZWZlcmVuY2Uoc3BlY1ZhbHVlLCB2aWV3KSkpKTtcbiAgICAgICAgY29uc3QgcmVzID0gcGFyc2VUcmFuc2Zvcm1PcHRpb24oc3BlY0tleSwgc3BlY1ZhbHVlLCB2aWV3KTtcbiAgICAgICAgcmVzICYmICgobnVsbCA9PT0gKF9hID0gcmVzLnJlZmVyZW5jZXMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICYmIChyZWZlcmVuY2VzID0gcmVmZXJlbmNlcy5jb25jYXQocmVzLnJlZmVyZW5jZXMpKSwgXG4gICAgICAgIG9wdGlvbnNbc3BlY0tleV0gPSByZXMudmFsdWUpO1xuICAgIH0pKSwge1xuICAgICAgICBtYXJrUGhhc2U6IHRyYW5zZm9ybURlZi5tYXJrUGhhc2UsXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtRGVmLnRyYW5zZm9ybSxcbiAgICAgICAgY2FuUHJvZ3Jlc3NpdmU6IHRyYW5zZm9ybURlZi5jYW5Qcm9ncmVzc2l2ZSxcbiAgICAgICAgdHlwZTogdHJhbnNmb3JtRGVmLnR5cGUsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXNcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlVHJhbnNmb3JtU3BlYyA9IChzcGVjLCB2aWV3KSA9PiB7XG4gICAgaWYgKG51bGwgPT0gc3BlYyA/IHZvaWQgMCA6IHNwZWMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybXMgPSBbXTtcbiAgICAgICAgbGV0IHJlZnMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHNwZWMuZm9yRWFjaCgodHJhbnNmb3JtU3BlYyA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBwYXJzZVRyYW5zZm9ybSh0cmFuc2Zvcm1TcGVjLCB2aWV3KTtcbiAgICAgICAgICAgIHRyYW5zZm9ybSAmJiAoKG51bGwgPT09IChfYSA9IHRyYW5zZm9ybS5yZWZlcmVuY2VzKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubGVuZ3RoKSAmJiAocmVmcyA9IHJlZnMuY29uY2F0KHRyYW5zZm9ybS5yZWZlcmVuY2VzKSksIFxuICAgICAgICAgICAgdHJhbnNmb3Jtcy5wdXNoKHRyYW5zZm9ybSkpO1xuICAgICAgICB9KSksIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybXM6IHRyYW5zZm9ybXMsXG4gICAgICAgICAgICByZWZzOiByZWZzXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/transform.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGrammarOutput: () => (/* binding */ getGrammarOutput),\n/* harmony export */   invokeFunctionType: () => (/* binding */ invokeFunctionType),\n/* harmony export */   invokeParameterFunctionType: () => (/* binding */ invokeParameterFunctionType),\n/* harmony export */   isFunctionType: () => (/* binding */ isFunctionType),\n/* harmony export */   isGrammar: () => (/* binding */ isGrammar),\n/* harmony export */   isSignal: () => (/* binding */ isSignal),\n/* harmony export */   parseColor: () => (/* binding */ parseColor),\n/* harmony export */   parseField: () => (/* binding */ parseField),\n/* harmony export */   parseFunctionType: () => (/* binding */ parseFunctionType),\n/* harmony export */   parseReference: () => (/* binding */ parseReference)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/color/Color.js\");\n\n\nfunction parseReference(dependency, view) {\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(dependency).reduce(((refs, dep) => {\n        const ref = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dep) ? view.getGrammarById(dep) : dep;\n        return ref && refs.push(ref), refs;\n    }), []);\n}\n\nfunction isSignalReferenceType(signal) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(signal) && !!(null == signal ? void 0 : signal.signal);\n}\n\nfunction isSignalFunctionType(signal) {\n    return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(signal) && !!(null == signal ? void 0 : signal.callback);\n}\n\nfunction parseFunctionType(spec, view) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec)) return [];\n    if (isSignalReferenceType(spec)) {\n        const signal = spec.signal;\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(signal)) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(view.getGrammarById(signal));\n        if (\"signal\" === (null == signal ? void 0 : signal.grammarType)) return [ signal ];\n    } else if (isSignalFunctionType(spec)) return parseReference(spec.dependency, view);\n    return [];\n}\n\nfunction isFunctionType(spec) {\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(spec) || (null == spec ? void 0 : spec.signal) || !!(null == spec ? void 0 : spec.callback);\n}\n\nfunction invokeFunctionType(spec, parameters, datumOrGrammarInstance, element) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec)) return spec;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(spec)) return element ? spec.call(null, datumOrGrammarInstance, element, parameters) : spec.call(null, datumOrGrammarInstance, parameters);\n    if (spec.signal) {\n        const signal = spec.signal;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(signal) ? null == parameters ? void 0 : parameters[signal] : signal.output();\n    }\n    return spec.callback ? element ? spec.callback.call(null, datumOrGrammarInstance, element, parameters) : spec.callback.call(null, datumOrGrammarInstance, parameters) : spec;\n}\n\nfunction invokeParameterFunctionType(spec, parameters) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec)) return spec;\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(spec)) return spec.call(null, parameters);\n    if (spec.signal) {\n        const signal = spec.signal;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(signal) ? null == parameters ? void 0 : parameters[signal] : signal.output();\n    }\n    return spec.callback ? spec.callback.call(null, parameters) : spec;\n}\n\nfunction getGrammarOutput(grammar, parameters) {\n    return isGrammar(grammar) ? grammar.output() : parameters[grammar];\n}\n\nfunction isSignal(obj) {\n    return obj && (obj.signal || obj.callback);\n}\n\nconst isGrammar = el => el && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(el.grammarType);\n\nconst parseField = field => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(field) ? field : datum => datum[field];\n\nconst parseColor = color => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(color) && _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.Color.parseColorString(color) ? color : null;\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2UvdXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkU7O0FBRXRFO0FBQ1AsV0FBVyx1REFBSztBQUNoQixvQkFBb0IsNERBQVE7QUFDNUI7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxZQUFZLDREQUFVO0FBQ3RCOztBQUVBO0FBQ0EsWUFBWSw0REFBVTtBQUN0Qjs7QUFFTztBQUNQLFFBQVEsNERBQUs7QUFDYjtBQUNBO0FBQ0EsWUFBWSw0REFBUSxpQkFBaUIsdURBQUs7QUFDMUM7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFTztBQUNQLFdBQVcsNERBQVU7QUFDckI7O0FBRU87QUFDUCxRQUFRLDREQUFLO0FBQ2IsUUFBUSw0REFBVTtBQUNsQjtBQUNBO0FBQ0EsZUFBZSw0REFBUTtBQUN2QjtBQUNBO0FBQ0E7O0FBRU87QUFDUCxRQUFRLDREQUFLO0FBQ2IsUUFBUSw0REFBVTtBQUNsQjtBQUNBO0FBQ0EsZUFBZSw0REFBUTtBQUN2QjtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFTywrQkFBK0IsNERBQUs7O0FBRXBDLDRCQUE0Qiw0REFBVTs7QUFFdEMsNEJBQTRCLDREQUFRLFdBQVcsbURBQUs7QUFDM0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3BhcnNlL3V0aWwuanM/MGMxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1N0cmluZywgaXNGdW5jdGlvbiwgaXNOaWwsIGFycmF5LCBDb2xvciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlZmVyZW5jZShkZXBlbmRlbmN5LCB2aWV3KSB7XG4gICAgcmV0dXJuIGFycmF5KGRlcGVuZGVuY3kpLnJlZHVjZSgoKHJlZnMsIGRlcCkgPT4ge1xuICAgICAgICBjb25zdCByZWYgPSBpc1N0cmluZyhkZXApID8gdmlldy5nZXRHcmFtbWFyQnlJZChkZXApIDogZGVwO1xuICAgICAgICByZXR1cm4gcmVmICYmIHJlZnMucHVzaChyZWYpLCByZWZzO1xuICAgIH0pLCBbXSk7XG59XG5cbmZ1bmN0aW9uIGlzU2lnbmFsUmVmZXJlbmNlVHlwZShzaWduYWwpIHtcbiAgICByZXR1cm4gIWlzRnVuY3Rpb24oc2lnbmFsKSAmJiAhIShudWxsID09IHNpZ25hbCA/IHZvaWQgMCA6IHNpZ25hbC5zaWduYWwpO1xufVxuXG5mdW5jdGlvbiBpc1NpZ25hbEZ1bmN0aW9uVHlwZShzaWduYWwpIHtcbiAgICByZXR1cm4gIWlzRnVuY3Rpb24oc2lnbmFsKSAmJiAhIShudWxsID09IHNpZ25hbCA/IHZvaWQgMCA6IHNpZ25hbC5jYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUZ1bmN0aW9uVHlwZShzcGVjLCB2aWV3KSB7XG4gICAgaWYgKGlzTmlsKHNwZWMpKSByZXR1cm4gW107XG4gICAgaWYgKGlzU2lnbmFsUmVmZXJlbmNlVHlwZShzcGVjKSkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBzcGVjLnNpZ25hbDtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHNpZ25hbCkpIHJldHVybiBhcnJheSh2aWV3LmdldEdyYW1tYXJCeUlkKHNpZ25hbCkpO1xuICAgICAgICBpZiAoXCJzaWduYWxcIiA9PT0gKG51bGwgPT0gc2lnbmFsID8gdm9pZCAwIDogc2lnbmFsLmdyYW1tYXJUeXBlKSkgcmV0dXJuIFsgc2lnbmFsIF07XG4gICAgfSBlbHNlIGlmIChpc1NpZ25hbEZ1bmN0aW9uVHlwZShzcGVjKSkgcmV0dXJuIHBhcnNlUmVmZXJlbmNlKHNwZWMuZGVwZW5kZW5jeSwgdmlldyk7XG4gICAgcmV0dXJuIFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvblR5cGUoc3BlYykge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHNwZWMpIHx8IChudWxsID09IHNwZWMgPyB2b2lkIDAgOiBzcGVjLnNpZ25hbCkgfHwgISEobnVsbCA9PSBzcGVjID8gdm9pZCAwIDogc3BlYy5jYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VGdW5jdGlvblR5cGUoc3BlYywgcGFyYW1ldGVycywgZGF0dW1PckdyYW1tYXJJbnN0YW5jZSwgZWxlbWVudCkge1xuICAgIGlmIChpc05pbChzcGVjKSkgcmV0dXJuIHNwZWM7XG4gICAgaWYgKGlzRnVuY3Rpb24oc3BlYykpIHJldHVybiBlbGVtZW50ID8gc3BlYy5jYWxsKG51bGwsIGRhdHVtT3JHcmFtbWFySW5zdGFuY2UsIGVsZW1lbnQsIHBhcmFtZXRlcnMpIDogc3BlYy5jYWxsKG51bGwsIGRhdHVtT3JHcmFtbWFySW5zdGFuY2UsIHBhcmFtZXRlcnMpO1xuICAgIGlmIChzcGVjLnNpZ25hbCkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBzcGVjLnNpZ25hbDtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHNpZ25hbCkgPyBudWxsID09IHBhcmFtZXRlcnMgPyB2b2lkIDAgOiBwYXJhbWV0ZXJzW3NpZ25hbF0gOiBzaWduYWwub3V0cHV0KCk7XG4gICAgfVxuICAgIHJldHVybiBzcGVjLmNhbGxiYWNrID8gZWxlbWVudCA/IHNwZWMuY2FsbGJhY2suY2FsbChudWxsLCBkYXR1bU9yR3JhbW1hckluc3RhbmNlLCBlbGVtZW50LCBwYXJhbWV0ZXJzKSA6IHNwZWMuY2FsbGJhY2suY2FsbChudWxsLCBkYXR1bU9yR3JhbW1hckluc3RhbmNlLCBwYXJhbWV0ZXJzKSA6IHNwZWM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VQYXJhbWV0ZXJGdW5jdGlvblR5cGUoc3BlYywgcGFyYW1ldGVycykge1xuICAgIGlmIChpc05pbChzcGVjKSkgcmV0dXJuIHNwZWM7XG4gICAgaWYgKGlzRnVuY3Rpb24oc3BlYykpIHJldHVybiBzcGVjLmNhbGwobnVsbCwgcGFyYW1ldGVycyk7XG4gICAgaWYgKHNwZWMuc2lnbmFsKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IHNwZWMuc2lnbmFsO1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoc2lnbmFsKSA/IG51bGwgPT0gcGFyYW1ldGVycyA/IHZvaWQgMCA6IHBhcmFtZXRlcnNbc2lnbmFsXSA6IHNpZ25hbC5vdXRwdXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHNwZWMuY2FsbGJhY2sgPyBzcGVjLmNhbGxiYWNrLmNhbGwobnVsbCwgcGFyYW1ldGVycykgOiBzcGVjO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3JhbW1hck91dHB1dChncmFtbWFyLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIGlzR3JhbW1hcihncmFtbWFyKSA/IGdyYW1tYXIub3V0cHV0KCkgOiBwYXJhbWV0ZXJzW2dyYW1tYXJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTaWduYWwob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiAob2JqLnNpZ25hbCB8fCBvYmouY2FsbGJhY2spO1xufVxuXG5leHBvcnQgY29uc3QgaXNHcmFtbWFyID0gZWwgPT4gZWwgJiYgIWlzTmlsKGVsLmdyYW1tYXJUeXBlKTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlRmllbGQgPSBmaWVsZCA9PiBpc0Z1bmN0aW9uKGZpZWxkKSA/IGZpZWxkIDogZGF0dW0gPT4gZGF0dW1bZmllbGRdO1xuXG5leHBvcnQgY29uc3QgcGFyc2VDb2xvciA9IGNvbG9yID0+IGlzU3RyaW5nKGNvbG9yKSAmJiBDb2xvci5wYXJzZUNvbG9yU3RyaW5nKGNvbG9yKSA/IGNvbG9yIDogbnVsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/view.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/view.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BuiltInSignalID: () => (/* binding */ BuiltInSignalID),\n/* harmony export */   builtInSignals: () => (/* binding */ builtInSignals),\n/* harmony export */   normalizeMarkTree: () => (/* binding */ normalizeMarkTree),\n/* harmony export */   normalizePadding: () => (/* binding */ normalizePadding),\n/* harmony export */   normalizeRunningConfig: () => (/* binding */ normalizeRunningConfig)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/data-structure/bounds.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _view_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n\n\n\n\n\n\nlet markBaseId = -1;\n\nconst BuiltInSignalID = [ _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_WIDTH, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_HEIGHT, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_BOX, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_AUTOFIT ];\n\nconst builtInSignals = (option, config, theme) => {\n    var _a, _b, _c, _d, _e;\n    return [ {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH,\n        value: null !== (_a = option[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH]) && void 0 !== _a ? _a : 0\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT,\n        value: null !== (_b = option[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT]) && void 0 !== _b ? _b : 0\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING,\n        value: normalizePadding(null !== (_d = null !== (_c = option[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]) && void 0 !== _c ? _c : config[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]) && void 0 !== _d ? _d : null == theme ? void 0 : theme.padding)\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_WIDTH,\n        update: {\n            callback: (signal, params) => {\n                const padding = normalizePadding(params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]);\n                return params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH] - padding.left - padding.right;\n            },\n            dependency: [ _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_WIDTH, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING ]\n        }\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_HEIGHT,\n        update: {\n            callback: (signal, params) => {\n                const padding = normalizePadding(params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]);\n                return params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT] - padding.top - padding.bottom;\n            },\n            dependency: [ _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_HEIGHT, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING ]\n        }\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_BOX,\n        update: {\n            callback: (signal, params) => {\n                const padding = normalizePadding(params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING]);\n                return (signal || new _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.Bounds).setValue(padding.left, padding.top, padding.left + params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_WIDTH], padding.top + params[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_HEIGHT]);\n            },\n            dependency: [ _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_WIDTH, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_VIEW_HEIGHT, _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_PADDING ]\n        }\n    }, {\n        id: _view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_AUTOFIT,\n        value: null !== (_e = option[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_AUTOFIT]) && void 0 !== _e ? _e : config[_view_constants__WEBPACK_IMPORTED_MODULE_0__.SIGNAL_AUTOFIT]\n    } ];\n};\n\nconst normalizePadding = value => {\n    var _a, _b, _c, _d;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value) ? {\n        top: value,\n        bottom: value,\n        left: value,\n        right: value\n    } : {\n        top: null !== (_a = null == value ? void 0 : value.top) && void 0 !== _a ? _a : 0,\n        bottom: null !== (_b = null == value ? void 0 : value.bottom) && void 0 !== _b ? _b : 0,\n        left: null !== (_c = null == value ? void 0 : value.left) && void 0 !== _c ? _c : 0,\n        right: null !== (_d = null == value ? void 0 : value.right) && void 0 !== _d ? _d : 0\n    };\n};\n\nconst normalizeMarkTree = spec => {\n    var _a;\n    const traverse = (spec, group) => {\n        var _a, _b;\n        spec.group = group;\n        const id = null !== (_a = spec.id) && void 0 !== _a ? _a : \"VGRAMMAR_MARK_\" + ++markBaseId;\n        spec.id = id, (null !== (_b = spec.marks) && void 0 !== _b ? _b : []).forEach((child => traverse(child, id)));\n    };\n    return (null !== (_a = spec.marks) && void 0 !== _a ? _a : []).forEach((mark => traverse(mark, \"root\"))), \n    spec;\n};\n\nconst normalizeRunningConfig = runningConfig => {\n    var _a, _b, _c, _d, _e;\n    const {reuse: reuse = _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultReuse, morph: morph = _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultMorph, morphAll: morphAll = _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultMorphAll, animation: animation = {}, enableExitAnimation: enableExitAnimation = _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultEnableExitAnimation} = null != runningConfig ? runningConfig : {};\n    return {\n        reuse: reuse,\n        morph: morph,\n        morphAll: morphAll,\n        animation: {\n            easing: null !== (_a = animation.easing) && void 0 !== _a ? _a : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationEasing,\n            delay: null !== (_b = animation.delay) && void 0 !== _b ? _b : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationDelay,\n            duration: null !== (_c = animation.duration) && void 0 !== _c ? _c : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationDuration,\n            oneByOne: null !== (_d = animation.oneByOne) && void 0 !== _d ? _d : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultAnimationOneByOne,\n            splitPath: null !== (_e = animation.splitPath) && void 0 !== _e ? _e : _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultSplitPath\n        },\n        enableExitAnimation: enableExitAnimation\n    };\n};\n//# sourceMappingURL=view.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2Uvdmlldy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBb0Q7O0FBRThLOztBQUUxRTs7QUFFeEo7O0FBRU8sMEJBQTBCLHlEQUFZLEVBQUUsMERBQWEsRUFBRSwyREFBYyxFQUFFLDhEQUFpQixFQUFFLCtEQUFrQixFQUFFLDREQUFlLEVBQUUsMkRBQWM7O0FBRTdJO0FBQ1A7QUFDQTtBQUNBLFlBQVkseURBQVk7QUFDeEIscUNBQXFDLHlEQUFZO0FBQ2pELEtBQUs7QUFDTCxZQUFZLDBEQUFhO0FBQ3pCLHFDQUFxQywwREFBYTtBQUNsRCxLQUFLO0FBQ0wsWUFBWSwyREFBYztBQUMxQixxRUFBcUUsMkRBQWMsa0NBQWtDLDJEQUFjO0FBQ25JLEtBQUs7QUFDTCxZQUFZLDhEQUFpQjtBQUM3QjtBQUNBO0FBQ0Esd0RBQXdELDJEQUFjO0FBQ3RFLDhCQUE4Qix5REFBWTtBQUMxQyxhQUFhO0FBQ2IsMEJBQTBCLHlEQUFZLEVBQUUsMkRBQWM7QUFDdEQ7QUFDQSxLQUFLO0FBQ0wsWUFBWSwrREFBa0I7QUFDOUI7QUFDQTtBQUNBLHdEQUF3RCwyREFBYztBQUN0RSw4QkFBOEIsMERBQWE7QUFDM0MsYUFBYTtBQUNiLDBCQUEwQiwwREFBYSxFQUFFLDJEQUFjO0FBQ3ZEO0FBQ0EsS0FBSztBQUNMLFlBQVksNERBQWU7QUFDM0I7QUFDQTtBQUNBLHdEQUF3RCwyREFBYztBQUN0RSxzQ0FBc0Msb0RBQU0sNERBQTRELDhEQUFpQix3QkFBd0IsK0RBQWtCO0FBQ25LLGFBQWE7QUFDYiwwQkFBMEIsOERBQWlCLEVBQUUsK0RBQWtCLEVBQUUsMkRBQWM7QUFDL0U7QUFDQSxLQUFLO0FBQ0wsWUFBWSwyREFBYztBQUMxQixxQ0FBcUMsMkRBQWMsa0NBQWtDLDJEQUFjO0FBQ25HLE1BQU07QUFDTjs7QUFFTztBQUNQO0FBQ0EsV0FBVyw0REFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0EsV0FBVyxlQUFlLDBEQUFZLGlCQUFpQiwwREFBWSx1QkFBdUIsNkRBQWUsMkJBQTJCLDZDQUE2Qyx3RUFBMEIsRUFBRTtBQUM3TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLG9FQUFzQjtBQUNuRywyRUFBMkUsbUVBQXFCO0FBQ2hHLGlGQUFpRixzRUFBd0I7QUFDekcsaUZBQWlGLHNFQUF3QjtBQUN6RyxtRkFBbUYsOERBQWdCO0FBQ25HLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvcGFyc2Uvdmlldy5qcz82MzI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTnVtYmVyLCBCb3VuZHMgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBEZWZhdWx0QW5pbWF0aW9uRGVsYXksIERlZmF1bHRBbmltYXRpb25EdXJhdGlvbiwgRGVmYXVsdEFuaW1hdGlvbkVhc2luZywgRGVmYXVsdEFuaW1hdGlvbk9uZUJ5T25lLCBEZWZhdWx0RW5hYmxlRXhpdEFuaW1hdGlvbiwgRGVmYXVsdE1vcnBoLCBEZWZhdWx0TW9ycGhBbGwsIERlZmF1bHRSZXVzZSwgRGVmYXVsdFNwbGl0UGF0aCB9IGZyb20gXCIuLi9ncmFwaC9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgU0lHTkFMX0FVVE9GSVQsIFNJR05BTF9IRUlHSFQsIFNJR05BTF9QQURESU5HLCBTSUdOQUxfVklFV19IRUlHSFQsIFNJR05BTF9WSUVXX1dJRFRILCBTSUdOQUxfV0lEVEgsIFNJR05BTF9WSUVXX0JPWCB9IGZyb20gXCIuLi92aWV3L2NvbnN0YW50c1wiO1xuXG5sZXQgbWFya0Jhc2VJZCA9IC0xO1xuXG5leHBvcnQgY29uc3QgQnVpbHRJblNpZ25hbElEID0gWyBTSUdOQUxfV0lEVEgsIFNJR05BTF9IRUlHSFQsIFNJR05BTF9QQURESU5HLCBTSUdOQUxfVklFV19XSURUSCwgU0lHTkFMX1ZJRVdfSEVJR0hULCBTSUdOQUxfVklFV19CT1gsIFNJR05BTF9BVVRPRklUIF07XG5cbmV4cG9ydCBjb25zdCBidWlsdEluU2lnbmFscyA9IChvcHRpb24sIGNvbmZpZywgdGhlbWUpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIHJldHVybiBbIHtcbiAgICAgICAgaWQ6IFNJR05BTF9XSURUSCxcbiAgICAgICAgdmFsdWU6IG51bGwgIT09IChfYSA9IG9wdGlvbltTSUdOQUxfV0lEVEhdKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwXG4gICAgfSwge1xuICAgICAgICBpZDogU0lHTkFMX0hFSUdIVCxcbiAgICAgICAgdmFsdWU6IG51bGwgIT09IChfYiA9IG9wdGlvbltTSUdOQUxfSEVJR0hUXSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMFxuICAgIH0sIHtcbiAgICAgICAgaWQ6IFNJR05BTF9QQURESU5HLFxuICAgICAgICB2YWx1ZTogbm9ybWFsaXplUGFkZGluZyhudWxsICE9PSAoX2QgPSBudWxsICE9PSAoX2MgPSBvcHRpb25bU0lHTkFMX1BBRERJTkddKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBjb25maWdbU0lHTkFMX1BBRERJTkddKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBudWxsID09IHRoZW1lID8gdm9pZCAwIDogdGhlbWUucGFkZGluZylcbiAgICB9LCB7XG4gICAgICAgIGlkOiBTSUdOQUxfVklFV19XSURUSCxcbiAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICBjYWxsYmFjazogKHNpZ25hbCwgcGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IG5vcm1hbGl6ZVBhZGRpbmcocGFyYW1zW1NJR05BTF9QQURESU5HXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtc1tTSUdOQUxfV0lEVEhdIC0gcGFkZGluZy5sZWZ0IC0gcGFkZGluZy5yaWdodDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXBlbmRlbmN5OiBbIFNJR05BTF9XSURUSCwgU0lHTkFMX1BBRERJTkcgXVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBpZDogU0lHTkFMX1ZJRVdfSEVJR0hULFxuICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoc2lnbmFsLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gbm9ybWFsaXplUGFkZGluZyhwYXJhbXNbU0lHTkFMX1BBRERJTkddKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zW1NJR05BTF9IRUlHSFRdIC0gcGFkZGluZy50b3AgLSBwYWRkaW5nLmJvdHRvbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXBlbmRlbmN5OiBbIFNJR05BTF9IRUlHSFQsIFNJR05BTF9QQURESU5HIF1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgaWQ6IFNJR05BTF9WSUVXX0JPWCxcbiAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICBjYWxsYmFjazogKHNpZ25hbCwgcGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IG5vcm1hbGl6ZVBhZGRpbmcocGFyYW1zW1NJR05BTF9QQURESU5HXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzaWduYWwgfHwgbmV3IEJvdW5kcykuc2V0VmFsdWUocGFkZGluZy5sZWZ0LCBwYWRkaW5nLnRvcCwgcGFkZGluZy5sZWZ0ICsgcGFyYW1zW1NJR05BTF9WSUVXX1dJRFRIXSwgcGFkZGluZy50b3AgKyBwYXJhbXNbU0lHTkFMX1ZJRVdfSEVJR0hUXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVwZW5kZW5jeTogWyBTSUdOQUxfVklFV19XSURUSCwgU0lHTkFMX1ZJRVdfSEVJR0hULCBTSUdOQUxfUEFERElORyBdXG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGlkOiBTSUdOQUxfQVVUT0ZJVCxcbiAgICAgICAgdmFsdWU6IG51bGwgIT09IChfZSA9IG9wdGlvbltTSUdOQUxfQVVUT0ZJVF0pICYmIHZvaWQgMCAhPT0gX2UgPyBfZSA6IGNvbmZpZ1tTSUdOQUxfQVVUT0ZJVF1cbiAgICB9IF07XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplUGFkZGluZyA9IHZhbHVlID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSA/IHtcbiAgICAgICAgdG9wOiB2YWx1ZSxcbiAgICAgICAgYm90dG9tOiB2YWx1ZSxcbiAgICAgICAgbGVmdDogdmFsdWUsXG4gICAgICAgIHJpZ2h0OiB2YWx1ZVxuICAgIH0gOiB7XG4gICAgICAgIHRvcDogbnVsbCAhPT0gKF9hID0gbnVsbCA9PSB2YWx1ZSA/IHZvaWQgMCA6IHZhbHVlLnRvcCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMCxcbiAgICAgICAgYm90dG9tOiBudWxsICE9PSAoX2IgPSBudWxsID09IHZhbHVlID8gdm9pZCAwIDogdmFsdWUuYm90dG9tKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAwLFxuICAgICAgICBsZWZ0OiBudWxsICE9PSAoX2MgPSBudWxsID09IHZhbHVlID8gdm9pZCAwIDogdmFsdWUubGVmdCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogMCxcbiAgICAgICAgcmlnaHQ6IG51bGwgIT09IChfZCA9IG51bGwgPT0gdmFsdWUgPyB2b2lkIDAgOiB2YWx1ZS5yaWdodCkgJiYgdm9pZCAwICE9PSBfZCA/IF9kIDogMFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplTWFya1RyZWUgPSBzcGVjID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgdHJhdmVyc2UgPSAoc3BlYywgZ3JvdXApID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgc3BlYy5ncm91cCA9IGdyb3VwO1xuICAgICAgICBjb25zdCBpZCA9IG51bGwgIT09IChfYSA9IHNwZWMuaWQpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFwiVkdSQU1NQVJfTUFSS19cIiArICsrbWFya0Jhc2VJZDtcbiAgICAgICAgc3BlYy5pZCA9IGlkLCAobnVsbCAhPT0gKF9iID0gc3BlYy5tYXJrcykgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogW10pLmZvckVhY2goKGNoaWxkID0+IHRyYXZlcnNlKGNoaWxkLCBpZCkpKTtcbiAgICB9O1xuICAgIHJldHVybiAobnVsbCAhPT0gKF9hID0gc3BlYy5tYXJrcykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogW10pLmZvckVhY2goKG1hcmsgPT4gdHJhdmVyc2UobWFyaywgXCJyb290XCIpKSksIFxuICAgIHNwZWM7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplUnVubmluZ0NvbmZpZyA9IHJ1bm5pbmdDb25maWcgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3Qge3JldXNlOiByZXVzZSA9IERlZmF1bHRSZXVzZSwgbW9ycGg6IG1vcnBoID0gRGVmYXVsdE1vcnBoLCBtb3JwaEFsbDogbW9ycGhBbGwgPSBEZWZhdWx0TW9ycGhBbGwsIGFuaW1hdGlvbjogYW5pbWF0aW9uID0ge30sIGVuYWJsZUV4aXRBbmltYXRpb246IGVuYWJsZUV4aXRBbmltYXRpb24gPSBEZWZhdWx0RW5hYmxlRXhpdEFuaW1hdGlvbn0gPSBudWxsICE9IHJ1bm5pbmdDb25maWcgPyBydW5uaW5nQ29uZmlnIDoge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmV1c2U6IHJldXNlLFxuICAgICAgICBtb3JwaDogbW9ycGgsXG4gICAgICAgIG1vcnBoQWxsOiBtb3JwaEFsbCxcbiAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICBlYXNpbmc6IG51bGwgIT09IChfYSA9IGFuaW1hdGlvbi5lYXNpbmcpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IERlZmF1bHRBbmltYXRpb25FYXNpbmcsXG4gICAgICAgICAgICBkZWxheTogbnVsbCAhPT0gKF9iID0gYW5pbWF0aW9uLmRlbGF5KSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBEZWZhdWx0QW5pbWF0aW9uRGVsYXksXG4gICAgICAgICAgICBkdXJhdGlvbjogbnVsbCAhPT0gKF9jID0gYW5pbWF0aW9uLmR1cmF0aW9uKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiBEZWZhdWx0QW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICBvbmVCeU9uZTogbnVsbCAhPT0gKF9kID0gYW5pbWF0aW9uLm9uZUJ5T25lKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBEZWZhdWx0QW5pbWF0aW9uT25lQnlPbmUsXG4gICAgICAgICAgICBzcGxpdFBhdGg6IG51bGwgIT09IChfZSA9IGFuaW1hdGlvbi5zcGxpdFBhdGgpICYmIHZvaWQgMCAhPT0gX2UgPyBfZSA6IERlZmF1bHRTcGxpdFBhdGhcbiAgICAgICAgfSxcbiAgICAgICAgZW5hYmxlRXhpdEFuaW1hdGlvbjogZW5hYmxlRXhpdEFuaW1hdGlvblxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/view.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/cell.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/cell.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   registerCellMark: () => (/* binding */ registerCellMark)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _view_mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _graph_attributes_transform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graph/attributes/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Cell extends _view_mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    encodeState(state, channel, value) {\n        return super.encodeState(state, channel, value), this._updateComponentEncoders(state), \n        this;\n    }\n    _updateComponentEncoders(state) {\n        this._encoders || (this._encoders = {});\n        const userEncoder = this.spec.encode[state];\n        if (userEncoder && \"update\" === state) {\n            const params = this.parameters(), scales = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.isFunctionType)(userEncoder) ? null : Object.keys(userEncoder).reduce(((res, channel) => ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isScaleEncode)(userEncoder[channel]) && (res[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.getGrammarOutput)(userEncoder[channel].scale, params)), \n            res)), {});\n            this._encoders[state] = {\n                callback: (datum, element, parameters) => {\n                    const userEncodeRes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoder)(userEncoder, datum, element, parameters);\n                    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(userEncodeRes.size)) {\n                        const sizeX = scales.x ? (0,_util_scale__WEBPACK_IMPORTED_MODULE_5__.getBandWidthOfScale)(scales.x) : void 0, sizeY = scales.y ? (0,_util_scale__WEBPACK_IMPORTED_MODULE_5__.getBandWidthOfScale)(scales.y) : void 0;\n                        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sizeX) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sizeY) ? userEncodeRes.size = 10 : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sizeX) ? userEncodeRes.size = sizeY : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sizeY) && (userEncodeRes.size = sizeX), \n                        userEncodeRes.size = [ sizeX, sizeY ];\n                    }\n                    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(userEncodeRes.shape) && (userEncodeRes.shape = \"rect\"), userEncodeRes;\n                }\n            };\n        } else this._encoders[state] = userEncoder;\n    }\n    _getEncoders() {\n        var _a;\n        return null !== (_a = this._encoders) && void 0 !== _a ? _a : {};\n    }\n    getAttributeTransforms() {\n        return [ {\n            channels: [ \"size\", \"padding\" ],\n            transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n                if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(storedAttrs.padding) && storedAttrs.padding > 0) graphicAttributes.size = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(storedAttrs.size) ? storedAttrs.size.map((entry => Math.max(entry - storedAttrs.padding, 1))) : Math.max(storedAttrs.size - storedAttrs.padding, 1); else if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(storedAttrs.padding) && 2 === storedAttrs.padding.length) {\n                    const arraySize = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(storedAttrs.size) ? storedAttrs.size : [ storedAttrs.size, storedAttrs.size ];\n                    graphicAttributes.size = [ Math.max(arraySize[0] - storedAttrs.padding[0], 1), Math.max(arraySize[1] - storedAttrs.padding[1], 1) ];\n                } else graphicAttributes.size = storedAttrs.size;\n            },\n            storedAttrs: \"paddingAttrs\"\n        } ].concat(_graph_attributes_transform__WEBPACK_IMPORTED_MODULE_8__.transformsByType.symbol);\n    }\n    release() {\n        super.release(), this._encoders = null;\n    }\n}\n\nCell.markType = _graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.cell;\n\nconst registerCellMark = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerMark(_graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.cell, Cell);\n};\n//# sourceMappingURL=cell.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvc2VtYW50aWMtbWFya3MvY2VsbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWlEOztBQUVJOztBQUVQOztBQUVtQjs7QUFFN0I7O0FBRXdCOztBQUVLOztBQUViOztBQUVWOztBQUVuQyxtQkFBbUIsNENBQUk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0EsdURBQXVELDJEQUFjLDJFQUEyRSwwREFBYSwwQ0FBMEMsNkRBQWdCO0FBQ3ZOLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsMENBQTBDLGlFQUFhO0FBQ3ZELHdCQUF3Qiw0REFBSztBQUM3QixpREFBaUQsZ0VBQW1CLHdDQUF3QyxnRUFBbUI7QUFDL0gsd0JBQXdCLDREQUFLLFdBQVcsNERBQUssb0NBQW9DLDREQUFLLHVDQUF1Qyw0REFBSztBQUNsSTtBQUNBO0FBQ0EsMkJBQTJCLDREQUFLO0FBQ2hDO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDREQUFRLDJFQUEyRSw0REFBTyxzSkFBc0osU0FBUyw0REFBTztBQUNwUixzQ0FBc0MsNERBQU87QUFDN0M7QUFDQSxrQkFBa0I7QUFDbEIsYUFBYTtBQUNiO0FBQ0EsVUFBVSxTQUFTLHlFQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQix5REFBZTs7QUFFeEI7QUFDUCxJQUFJLG1EQUFPLGNBQWMseURBQWU7QUFDeEM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvc2VtYW50aWMtbWFya3MvY2VsbC5qcz8xNDRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYW1tYXJNYXJrVHlwZSB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5pbXBvcnQgeyBpbnZva2VFbmNvZGVyIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZW5jb2RlXCI7XG5cbmltcG9ydCB7IGlzU2NhbGVFbmNvZGUgfSBmcm9tIFwiLi4vcGFyc2UvbWFya1wiO1xuXG5pbXBvcnQgeyBnZXRHcmFtbWFyT3V0cHV0LCBpc0Z1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmltcG9ydCB7IE1hcmsgfSBmcm9tIFwiLi4vdmlldy9tYXJrXCI7XG5cbmltcG9ydCB7IGlzQXJyYXksIGlzTmlsLCBpc051bWJlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybXNCeVR5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvYXR0cmlidXRlcy90cmFuc2Zvcm1cIjtcblxuaW1wb3J0IHsgZ2V0QmFuZFdpZHRoT2ZTY2FsZSB9IGZyb20gXCIuLi91dGlsL3NjYWxlXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmV4cG9ydCBjbGFzcyBDZWxsIGV4dGVuZHMgTWFyayB7XG4gICAgZW5jb2RlU3RhdGUoc3RhdGUsIGNoYW5uZWwsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5lbmNvZGVTdGF0ZShzdGF0ZSwgY2hhbm5lbCwgdmFsdWUpLCB0aGlzLl91cGRhdGVDb21wb25lbnRFbmNvZGVycyhzdGF0ZSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBfdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5fZW5jb2RlcnMgfHwgKHRoaXMuX2VuY29kZXJzID0ge30pO1xuICAgICAgICBjb25zdCB1c2VyRW5jb2RlciA9IHRoaXMuc3BlYy5lbmNvZGVbc3RhdGVdO1xuICAgICAgICBpZiAodXNlckVuY29kZXIgJiYgXCJ1cGRhdGVcIiA9PT0gc3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMucGFyYW1ldGVycygpLCBzY2FsZXMgPSBpc0Z1bmN0aW9uVHlwZSh1c2VyRW5jb2RlcikgPyBudWxsIDogT2JqZWN0LmtleXModXNlckVuY29kZXIpLnJlZHVjZSgoKHJlcywgY2hhbm5lbCkgPT4gKGlzU2NhbGVFbmNvZGUodXNlckVuY29kZXJbY2hhbm5lbF0pICYmIChyZXNbY2hhbm5lbF0gPSBnZXRHcmFtbWFyT3V0cHV0KHVzZXJFbmNvZGVyW2NoYW5uZWxdLnNjYWxlLCBwYXJhbXMpKSwgXG4gICAgICAgICAgICByZXMpKSwge30pO1xuICAgICAgICAgICAgdGhpcy5fZW5jb2RlcnNbc3RhdGVdID0ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZGF0dW0sIGVsZW1lbnQsIHBhcmFtZXRlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckVuY29kZVJlcyA9IGludm9rZUVuY29kZXIodXNlckVuY29kZXIsIGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmlsKHVzZXJFbmNvZGVSZXMuc2l6ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemVYID0gc2NhbGVzLnggPyBnZXRCYW5kV2lkdGhPZlNjYWxlKHNjYWxlcy54KSA6IHZvaWQgMCwgc2l6ZVkgPSBzY2FsZXMueSA/IGdldEJhbmRXaWR0aE9mU2NhbGUoc2NhbGVzLnkpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNOaWwoc2l6ZVgpICYmIGlzTmlsKHNpemVZKSA/IHVzZXJFbmNvZGVSZXMuc2l6ZSA9IDEwIDogaXNOaWwoc2l6ZVgpID8gdXNlckVuY29kZVJlcy5zaXplID0gc2l6ZVkgOiBpc05pbChzaXplWSkgJiYgKHVzZXJFbmNvZGVSZXMuc2l6ZSA9IHNpemVYKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyRW5jb2RlUmVzLnNpemUgPSBbIHNpemVYLCBzaXplWSBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc05pbCh1c2VyRW5jb2RlUmVzLnNoYXBlKSAmJiAodXNlckVuY29kZVJlcy5zaGFwZSA9IFwicmVjdFwiKSwgdXNlckVuY29kZVJlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgdGhpcy5fZW5jb2RlcnNbc3RhdGVdID0gdXNlckVuY29kZXI7XG4gICAgfVxuICAgIF9nZXRFbmNvZGVycygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy5fZW5jb2RlcnMpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHt9O1xuICAgIH1cbiAgICBnZXRBdHRyaWJ1dGVUcmFuc2Zvcm1zKCkge1xuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICBjaGFubmVsczogWyBcInNpemVcIiwgXCJwYWRkaW5nXCIgXSxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogKGdyYXBoaWNBdHRyaWJ1dGVzLCBuZXh0QXR0cnMsIHN0b3JlZEF0dHJzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyKHN0b3JlZEF0dHJzLnBhZGRpbmcpICYmIHN0b3JlZEF0dHJzLnBhZGRpbmcgPiAwKSBncmFwaGljQXR0cmlidXRlcy5zaXplID0gaXNBcnJheShzdG9yZWRBdHRycy5zaXplKSA/IHN0b3JlZEF0dHJzLnNpemUubWFwKChlbnRyeSA9PiBNYXRoLm1heChlbnRyeSAtIHN0b3JlZEF0dHJzLnBhZGRpbmcsIDEpKSkgOiBNYXRoLm1heChzdG9yZWRBdHRycy5zaXplIC0gc3RvcmVkQXR0cnMucGFkZGluZywgMSk7IGVsc2UgaWYgKGlzQXJyYXkoc3RvcmVkQXR0cnMucGFkZGluZykgJiYgMiA9PT0gc3RvcmVkQXR0cnMucGFkZGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyYXlTaXplID0gaXNBcnJheShzdG9yZWRBdHRycy5zaXplKSA/IHN0b3JlZEF0dHJzLnNpemUgOiBbIHN0b3JlZEF0dHJzLnNpemUsIHN0b3JlZEF0dHJzLnNpemUgXTtcbiAgICAgICAgICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMuc2l6ZSA9IFsgTWF0aC5tYXgoYXJyYXlTaXplWzBdIC0gc3RvcmVkQXR0cnMucGFkZGluZ1swXSwgMSksIE1hdGgubWF4KGFycmF5U2l6ZVsxXSAtIHN0b3JlZEF0dHJzLnBhZGRpbmdbMV0sIDEpIF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGdyYXBoaWNBdHRyaWJ1dGVzLnNpemUgPSBzdG9yZWRBdHRycy5zaXplO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3JlZEF0dHJzOiBcInBhZGRpbmdBdHRyc1wiXG4gICAgICAgIH0gXS5jb25jYXQodHJhbnNmb3Jtc0J5VHlwZS5zeW1ib2wpO1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICBzdXBlci5yZWxlYXNlKCksIHRoaXMuX2VuY29kZXJzID0gbnVsbDtcbiAgICB9XG59XG5cbkNlbGwubWFya1R5cGUgPSBHcmFtbWFyTWFya1R5cGUuY2VsbDtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQ2VsbE1hcmsgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3Rlck1hcmsoR3JhbW1hck1hcmtUeXBlLmNlbGwsIENlbGwpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNlbGwuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/cell.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/interval.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/interval.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Interval: () => (/* binding */ Interval),\n/* harmony export */   registerIntervalMark: () => (/* binding */ registerIntervalMark)\n/* harmony export */ });\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _view_mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _graph_attributes_transform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/attributes/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Interval extends _view_mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    encodeState(state, channel, value) {\n        return super.encodeState(state, channel, value), this._updateComponentEncoders(state), \n        this;\n    }\n    _updateComponentEncoders(state) {\n        this._encoders || (this._encoders = {});\n        const userEncoder = this.spec.encode[state];\n        if (userEncoder && \"update\" === state) {\n            const params = this.parameters(), scales = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.isFunctionType)(userEncoder) ? null : Object.keys(userEncoder).reduce(((res, channel) => ((0,_parse_mark__WEBPACK_IMPORTED_MODULE_2__.isScaleEncode)(userEncoder[channel]) && (res[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.getGrammarOutput)(userEncoder[channel].scale, params)), \n            res)), {});\n            this._encoders[state] = {\n                callback: (datum, element, parameters) => {\n                    var _a, _b, _c;\n                    const userEncodeRes = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_3__.invokeEncoder)(userEncoder, datum, element, parameters);\n                    if (this.disableCoordinateTransform = !1, scales && scales.x && scales.x.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__.ScaleEnum.Band) {\n                        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(scales.y)) {\n                            const domain = scales.y.domain(), min = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.minInArray)(domain), max = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.maxInArray)(domain), baseValue = min > 0 ? min : max < 0 ? max : 0;\n                            userEncodeRes.y1 = scales.y.scale(baseValue);\n                        }\n                        const bandWidth = scales.x.bandwidth();\n                        userEncodeRes.x = userEncodeRes.x + bandWidth / 4, userEncodeRes.x1 = userEncodeRes.x + bandWidth / 2;\n                    } else if (scales && scales.y && scales.y.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_4__.ScaleEnum.Band) {\n                        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(scales.x)) {\n                            const domain = scales.x.domain(), min = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.minInArray)(domain), max = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__.maxInArray)(domain), baseValue = min > 0 ? min : max < 0 ? max : 0;\n                            userEncodeRes.x1 = scales.x.scale(baseValue);\n                        }\n                        const bandWidth = scales.y.bandwidth();\n                        userEncodeRes.y = userEncodeRes.y + bandWidth / 4, userEncodeRes.y1 = userEncodeRes.y + bandWidth / 2;\n                    }\n                    if (scales) {\n                        const coord = (null !== (_b = this.view.getScaleById(null === (_a = userEncoder.x) || void 0 === _a ? void 0 : _a.scale)) && void 0 !== _b ? _b : this.view.getScaleById(null === (_c = userEncoder.y) || void 0 === _c ? void 0 : _c.scale)).getCoordinate();\n                        if (coord && \"polar\" === coord.type) {\n                            this.disableCoordinateTransform = !0;\n                            const origin = coord.origin();\n                            userEncodeRes.cx = origin.x, userEncodeRes.cy = origin.y;\n                        }\n                    }\n                    return userEncodeRes;\n                }\n            };\n        } else this._encoders[state] = userEncoder;\n    }\n    _getEncoders() {\n        var _a;\n        return null !== (_a = this._encoders) && void 0 !== _a ? _a : {};\n    }\n    getAttributeTransforms() {\n        return this.coord && \"polar\" === this.coord.output().type ? [ {\n            channels: [ \"x\", \"y\", \"x1\", \"y1\", \"cx\", \"cy\" ],\n            transform: (graphicAttributes, nextAttrs, storedAttrs) => {\n                graphicAttributes.x = storedAttrs.cx, graphicAttributes.y = storedAttrs.cy, this.coord.output().isTransposed() ? (graphicAttributes.startAngle = storedAttrs.y, \n                graphicAttributes.endAngle = storedAttrs.y1, graphicAttributes.innerRadius = storedAttrs.x, \n                graphicAttributes.outerRadius = storedAttrs.x1) : (graphicAttributes.startAngle = storedAttrs.x, \n                graphicAttributes.endAngle = storedAttrs.x1, graphicAttributes.innerRadius = storedAttrs.y, \n                graphicAttributes.outerRadius = storedAttrs.y1);\n            },\n            storedAttrs: \"sizeAttrs\"\n        } ] : _graph_attributes_transform__WEBPACK_IMPORTED_MODULE_7__.transformsByType.rect;\n    }\n    addGraphicItem(attrs, groupKey) {\n        const graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_8__.createGraphicItem)(this, this.coord && \"polar\" === this.coord.output().type ? _graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.arc : _graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.rect, attrs);\n        return super.addGraphicItem(attrs, groupKey, graphicItem);\n    }\n    release() {\n        super.release(), this._encoders = null;\n    }\n}\n\nInterval.markType = _graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.interval;\n\nconst registerIntervalMark = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.registerMark(_graph_enums__WEBPACK_IMPORTED_MODULE_9__.GrammarMarkType.interval, Interval);\n};\n//# sourceMappingURL=interval.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvc2VtYW50aWMtbWFya3MvaW50ZXJ2YWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUE2Qzs7QUFFSTs7QUFFSTs7QUFFUDs7QUFFbUI7O0FBRTdCOztBQUU2Qjs7QUFFUDs7QUFFTzs7QUFFdkI7O0FBRW5DLHVCQUF1Qiw0Q0FBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQSx1REFBdUQsMkRBQWMsMkVBQTJFLDBEQUFhLDBDQUEwQyw2REFBZ0I7QUFDdk4scUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxpRUFBYTtBQUN2RCxzR0FBc0csdURBQVM7QUFDL0csNkJBQTZCLDREQUFLO0FBQ2xDLG9FQUFvRSw0REFBVSxnQkFBZ0IsNERBQVU7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaURBQWlELHVEQUFTO0FBQ2hGLDZCQUE2Qiw0REFBSztBQUNsQyxvRUFBb0UsNERBQVUsZ0JBQWdCLDREQUFVO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxVQUFVLElBQUkseUVBQWdCO0FBQzlCO0FBQ0E7QUFDQSw0QkFBNEIsc0VBQWlCLDREQUE0RCx5REFBZSxPQUFPLHlEQUFlO0FBQzlJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IseURBQWU7O0FBRTVCO0FBQ1AsSUFBSSxtREFBTyxjQUFjLHlEQUFlO0FBQ3hDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3NlbWFudGljLW1hcmtzL2ludGVydmFsLmpzPzc3OTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NhbGVFbnVtIH0gZnJvbSBcIkB2aXNhY3Rvci92c2NhbGVcIjtcblxuaW1wb3J0IHsgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXIgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuaW1wb3J0IHsgaXNTY2FsZUVuY29kZSB9IGZyb20gXCIuLi9wYXJzZS9tYXJrXCI7XG5cbmltcG9ydCB7IGdldEdyYW1tYXJPdXRwdXQsIGlzRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgTWFyayB9IGZyb20gXCIuLi92aWV3L21hcmtcIjtcblxuaW1wb3J0IHsgaXNOaWwsIG1heEluQXJyYXksIG1pbkluQXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBjcmVhdGVHcmFwaGljSXRlbSB9IGZyb20gXCIuLi9ncmFwaC91dGlsL2dyYXBoaWNcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3Jtc0J5VHlwZSB9IGZyb20gXCIuLi9ncmFwaC9hdHRyaWJ1dGVzL3RyYW5zZm9ybVwiO1xuXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUvZmFjdG9yeVwiO1xuXG5leHBvcnQgY2xhc3MgSW50ZXJ2YWwgZXh0ZW5kcyBNYXJrIHtcbiAgICBlbmNvZGVTdGF0ZShzdGF0ZSwgY2hhbm5lbCwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmVuY29kZVN0YXRlKHN0YXRlLCBjaGFubmVsLCB2YWx1ZSksIHRoaXMuX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKHN0YXRlKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIF91cGRhdGVDb21wb25lbnRFbmNvZGVycyhzdGF0ZSkge1xuICAgICAgICB0aGlzLl9lbmNvZGVycyB8fCAodGhpcy5fZW5jb2RlcnMgPSB7fSk7XG4gICAgICAgIGNvbnN0IHVzZXJFbmNvZGVyID0gdGhpcy5zcGVjLmVuY29kZVtzdGF0ZV07XG4gICAgICAgIGlmICh1c2VyRW5jb2RlciAmJiBcInVwZGF0ZVwiID09PSBzdGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5wYXJhbWV0ZXJzKCksIHNjYWxlcyA9IGlzRnVuY3Rpb25UeXBlKHVzZXJFbmNvZGVyKSA/IG51bGwgOiBPYmplY3Qua2V5cyh1c2VyRW5jb2RlcikucmVkdWNlKCgocmVzLCBjaGFubmVsKSA9PiAoaXNTY2FsZUVuY29kZSh1c2VyRW5jb2RlcltjaGFubmVsXSkgJiYgKHJlc1tjaGFubmVsXSA9IGdldEdyYW1tYXJPdXRwdXQodXNlckVuY29kZXJbY2hhbm5lbF0uc2NhbGUsIHBhcmFtcykpLCBcbiAgICAgICAgICAgIHJlcykpLCB7fSk7XG4gICAgICAgICAgICB0aGlzLl9lbmNvZGVyc1tzdGF0ZV0gPSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IChkYXR1bSwgZWxlbWVudCwgcGFyYW1ldGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckVuY29kZVJlcyA9IGludm9rZUVuY29kZXIodXNlckVuY29kZXIsIGRhdHVtLCBlbGVtZW50LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZUNvb3JkaW5hdGVUcmFuc2Zvcm0gPSAhMSwgc2NhbGVzICYmIHNjYWxlcy54ICYmIHNjYWxlcy54LnR5cGUgPT09IFNjYWxlRW51bS5CYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmlsKHNjYWxlcy55KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvbWFpbiA9IHNjYWxlcy55LmRvbWFpbigpLCBtaW4gPSBtaW5JbkFycmF5KGRvbWFpbiksIG1heCA9IG1heEluQXJyYXkoZG9tYWluKSwgYmFzZVZhbHVlID0gbWluID4gMCA/IG1pbiA6IG1heCA8IDAgPyBtYXggOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJFbmNvZGVSZXMueTEgPSBzY2FsZXMueS5zY2FsZShiYXNlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFuZFdpZHRoID0gc2NhbGVzLnguYmFuZHdpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyRW5jb2RlUmVzLnggPSB1c2VyRW5jb2RlUmVzLnggKyBiYW5kV2lkdGggLyA0LCB1c2VyRW5jb2RlUmVzLngxID0gdXNlckVuY29kZVJlcy54ICsgYmFuZFdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzY2FsZXMgJiYgc2NhbGVzLnkgJiYgc2NhbGVzLnkudHlwZSA9PT0gU2NhbGVFbnVtLkJhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOaWwoc2NhbGVzLngpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9tYWluID0gc2NhbGVzLnguZG9tYWluKCksIG1pbiA9IG1pbkluQXJyYXkoZG9tYWluKSwgbWF4ID0gbWF4SW5BcnJheShkb21haW4pLCBiYXNlVmFsdWUgPSBtaW4gPiAwID8gbWluIDogbWF4IDwgMCA/IG1heCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckVuY29kZVJlcy54MSA9IHNjYWxlcy54LnNjYWxlKGJhc2VWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYW5kV2lkdGggPSBzY2FsZXMueS5iYW5kd2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJFbmNvZGVSZXMueSA9IHVzZXJFbmNvZGVSZXMueSArIGJhbmRXaWR0aCAvIDQsIHVzZXJFbmNvZGVSZXMueTEgPSB1c2VyRW5jb2RlUmVzLnkgKyBiYW5kV2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY2FsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkID0gKG51bGwgIT09IChfYiA9IHRoaXMudmlldy5nZXRTY2FsZUJ5SWQobnVsbCA9PT0gKF9hID0gdXNlckVuY29kZXIueCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnNjYWxlKSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogdGhpcy52aWV3LmdldFNjYWxlQnlJZChudWxsID09PSAoX2MgPSB1c2VyRW5jb2Rlci55KSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2Muc2NhbGUpKS5nZXRDb29yZGluYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmQgJiYgXCJwb2xhclwiID09PSBjb29yZC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlQ29vcmRpbmF0ZVRyYW5zZm9ybSA9ICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IGNvb3JkLm9yaWdpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJFbmNvZGVSZXMuY3ggPSBvcmlnaW4ueCwgdXNlckVuY29kZVJlcy5jeSA9IG9yaWdpbi55O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyRW5jb2RlUmVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB0aGlzLl9lbmNvZGVyc1tzdGF0ZV0gPSB1c2VyRW5jb2RlcjtcbiAgICB9XG4gICAgX2dldEVuY29kZXJzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLl9lbmNvZGVycykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge307XG4gICAgfVxuICAgIGdldEF0dHJpYnV0ZVRyYW5zZm9ybXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvb3JkICYmIFwicG9sYXJcIiA9PT0gdGhpcy5jb29yZC5vdXRwdXQoKS50eXBlID8gWyB7XG4gICAgICAgICAgICBjaGFubmVsczogWyBcInhcIiwgXCJ5XCIsIFwieDFcIiwgXCJ5MVwiLCBcImN4XCIsIFwiY3lcIiBdLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAoZ3JhcGhpY0F0dHJpYnV0ZXMsIG5leHRBdHRycywgc3RvcmVkQXR0cnMpID0+IHtcbiAgICAgICAgICAgICAgICBncmFwaGljQXR0cmlidXRlcy54ID0gc3RvcmVkQXR0cnMuY3gsIGdyYXBoaWNBdHRyaWJ1dGVzLnkgPSBzdG9yZWRBdHRycy5jeSwgdGhpcy5jb29yZC5vdXRwdXQoKS5pc1RyYW5zcG9zZWQoKSA/IChncmFwaGljQXR0cmlidXRlcy5zdGFydEFuZ2xlID0gc3RvcmVkQXR0cnMueSwgXG4gICAgICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMuZW5kQW5nbGUgPSBzdG9yZWRBdHRycy55MSwgZ3JhcGhpY0F0dHJpYnV0ZXMuaW5uZXJSYWRpdXMgPSBzdG9yZWRBdHRycy54LCBcbiAgICAgICAgICAgICAgICBncmFwaGljQXR0cmlidXRlcy5vdXRlclJhZGl1cyA9IHN0b3JlZEF0dHJzLngxKSA6IChncmFwaGljQXR0cmlidXRlcy5zdGFydEFuZ2xlID0gc3RvcmVkQXR0cnMueCwgXG4gICAgICAgICAgICAgICAgZ3JhcGhpY0F0dHJpYnV0ZXMuZW5kQW5nbGUgPSBzdG9yZWRBdHRycy54MSwgZ3JhcGhpY0F0dHJpYnV0ZXMuaW5uZXJSYWRpdXMgPSBzdG9yZWRBdHRycy55LCBcbiAgICAgICAgICAgICAgICBncmFwaGljQXR0cmlidXRlcy5vdXRlclJhZGl1cyA9IHN0b3JlZEF0dHJzLnkxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9yZWRBdHRyczogXCJzaXplQXR0cnNcIlxuICAgICAgICB9IF0gOiB0cmFuc2Zvcm1zQnlUeXBlLnJlY3Q7XG4gICAgfVxuICAgIGFkZEdyYXBoaWNJdGVtKGF0dHJzLCBncm91cEtleSkge1xuICAgICAgICBjb25zdCBncmFwaGljSXRlbSA9IGNyZWF0ZUdyYXBoaWNJdGVtKHRoaXMsIHRoaXMuY29vcmQgJiYgXCJwb2xhclwiID09PSB0aGlzLmNvb3JkLm91dHB1dCgpLnR5cGUgPyBHcmFtbWFyTWFya1R5cGUuYXJjIDogR3JhbW1hck1hcmtUeXBlLnJlY3QsIGF0dHJzKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmFkZEdyYXBoaWNJdGVtKGF0dHJzLCBncm91cEtleSwgZ3JhcGhpY0l0ZW0pO1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICBzdXBlci5yZWxlYXNlKCksIHRoaXMuX2VuY29kZXJzID0gbnVsbDtcbiAgICB9XG59XG5cbkludGVydmFsLm1hcmtUeXBlID0gR3JhbW1hck1hcmtUeXBlLmludGVydmFsO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJJbnRlcnZhbE1hcmsgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3Rlck1hcmsoR3JhbW1hck1hcmtUeXBlLmludGVydmFsLCBJbnRlcnZhbCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWwuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/interval.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/text.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/text.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Text: () => (/* binding */ Text)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _view_mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n\n\n\n\n\n\nclass Text extends _view_mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    addGraphicItem(initAttrs, groupKey) {\n        const originalAttrs = initAttrs && initAttrs.limitAttrs, isRich = originalAttrs && (\"rich\" === originalAttrs.textType || originalAttrs.text && \"rich\" === originalAttrs.text.type), graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_1__.createGraphicItem)(this, isRich ? _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.richtext : _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.text, initAttrs);\n        return super.addGraphicItem(initAttrs, groupKey, graphicItem);\n    }\n    release() {\n        super.release();\n    }\n}\n\nText.markType = _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.text;\n//# sourceMappingURL=text.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvc2VtYW50aWMtbWFya3MvdGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlEOztBQUViOztBQUVzQjs7QUFFbkQsbUJBQW1CLDRDQUFJO0FBQzlCO0FBQ0EsME1BQTBNLHNFQUFpQixnQkFBZ0IseURBQWUsWUFBWSx5REFBZTtBQUNyUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLHlEQUFlO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy9zZW1hbnRpYy1tYXJrcy90ZXh0LmpzPzE3NmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhbW1hck1hcmtUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IE1hcmsgfSBmcm9tIFwiLi4vdmlldy9tYXJrXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUdyYXBoaWNJdGVtIH0gZnJvbSBcIi4uL2dyYXBoL3V0aWwvZ3JhcGhpY1wiO1xuXG5leHBvcnQgY2xhc3MgVGV4dCBleHRlbmRzIE1hcmsge1xuICAgIGFkZEdyYXBoaWNJdGVtKGluaXRBdHRycywgZ3JvdXBLZXkpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxBdHRycyA9IGluaXRBdHRycyAmJiBpbml0QXR0cnMubGltaXRBdHRycywgaXNSaWNoID0gb3JpZ2luYWxBdHRycyAmJiAoXCJyaWNoXCIgPT09IG9yaWdpbmFsQXR0cnMudGV4dFR5cGUgfHwgb3JpZ2luYWxBdHRycy50ZXh0ICYmIFwicmljaFwiID09PSBvcmlnaW5hbEF0dHJzLnRleHQudHlwZSksIGdyYXBoaWNJdGVtID0gY3JlYXRlR3JhcGhpY0l0ZW0odGhpcywgaXNSaWNoID8gR3JhbW1hck1hcmtUeXBlLnJpY2h0ZXh0IDogR3JhbW1hck1hcmtUeXBlLnRleHQsIGluaXRBdHRycyk7XG4gICAgICAgIHJldHVybiBzdXBlci5hZGRHcmFwaGljSXRlbShpbml0QXR0cnMsIGdyb3VwS2V5LCBncmFwaGljSXRlbSk7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHN1cGVyLnJlbGVhc2UoKTtcbiAgICB9XG59XG5cblRleHQubWFya1R5cGUgPSBHcmFtbWFyTWFya1R5cGUudGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/text.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/component.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/component.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arcLabel: () => (/* binding */ arcLabel),\n/* harmony export */   areaLabel: () => (/* binding */ areaLabel),\n/* harmony export */   continuousPlayer: () => (/* binding */ continuousPlayer),\n/* harmony export */   dataLabel: () => (/* binding */ dataLabel),\n/* harmony export */   datazoom: () => (/* binding */ datazoom),\n/* harmony export */   defaultComponentTheme: () => (/* binding */ defaultComponentTheme),\n/* harmony export */   discretePlayer: () => (/* binding */ discretePlayer),\n/* harmony export */   lineDataLabel: () => (/* binding */ lineDataLabel),\n/* harmony export */   lineLabel: () => (/* binding */ lineLabel),\n/* harmony export */   pointLabel: () => (/* binding */ pointLabel),\n/* harmony export */   rectLabel: () => (/* binding */ rectLabel),\n/* harmony export */   scrollbar: () => (/* binding */ scrollbar),\n/* harmony export */   symbolLabel: () => (/* binding */ symbolLabel),\n/* harmony export */   title: () => (/* binding */ title),\n/* harmony export */   tooltip: () => (/* binding */ tooltip)\n/* harmony export */ });\nconst axis = {\n    label: {\n        visible: !0,\n        inside: !1,\n        space: 4,\n        style: {\n            fontSize: 12,\n            fill: \"#89909d\",\n            fontWeight: \"normal\",\n            fillOpacity: 1\n        }\n    },\n    tick: {\n        visible: !0,\n        inside: !1,\n        alignWithLabel: !0,\n        length: 4,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    subTick: {\n        visible: !1,\n        inside: !1,\n        count: 4,\n        length: 2,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    line: {\n        visible: !0,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    items: [],\n    start: {\n        x: 0,\n        y: 0\n    },\n    end: {\n        x: 100,\n        y: 0\n    },\n    x: 0,\n    y: 0\n}, circleAxis = {\n    title: {\n        space: 4,\n        padding: [ 0, 0, 0, 0 ],\n        textStyle: {\n            fontSize: 12,\n            fill: \"#333333\",\n            fontWeight: \"normal\",\n            fillOpacity: 1\n        },\n        text: \"theta\"\n    },\n    label: {\n        visible: !0,\n        inside: !1,\n        space: 4,\n        style: {\n            fontSize: 12,\n            fill: \"#6F6F6F\",\n            fontWeight: \"normal\",\n            fillOpacity: 1\n        }\n    },\n    tick: {\n        visible: !0,\n        inside: !1,\n        alignWithLabel: !0,\n        length: 4,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    subTick: {\n        visible: !1,\n        inside: !1,\n        count: 4,\n        length: 2,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    line: {\n        visible: !0,\n        style: {\n            lineWidth: 1,\n            stroke: \"#D9DDE4\",\n            strokeOpacity: 1\n        }\n    },\n    items: [],\n    startAngle: 0,\n    endAngle: 2 * Math.PI,\n    radius: 100,\n    innerRadius: 0,\n    center: {\n        x: 0,\n        y: 0\n    },\n    x: 0,\n    y: 0\n}, grid = {\n    style: {\n        stroke: \"#f1f2f5\"\n    }\n}, circleGrid = {\n    style: {\n        stroke: \"#f1f2f5\"\n    }\n}, discreteLegend = {\n    layout: \"vertical\",\n    title: {\n        align: \"start\",\n        space: 12,\n        textStyle: {\n            fontSize: 12,\n            fontWeight: \"bold\",\n            fill: \"#2C3542\"\n        }\n    },\n    item: {\n        spaceCol: 10,\n        spaceRow: 10,\n        shape: {\n            space: 4,\n            style: {\n                size: 10,\n                cursor: \"pointer\"\n            },\n            state: {\n                selectedHover: {\n                    opacity: .85\n                },\n                unSelected: {\n                    fill: \"#D8D8D8\",\n                    stroke: \"#D8D8D8\",\n                    fillOpacity: .5\n                }\n            }\n        },\n        label: {\n            space: 4,\n            style: {\n                fontSize: 12,\n                fill: \"black\",\n                cursor: \"pointer\"\n            },\n            state: {\n                selectedHover: {\n                    opacity: .85\n                },\n                unSelected: {\n                    fill: \"#D8D8D8\",\n                    fillOpacity: .5\n                }\n            }\n        },\n        value: {\n            alignRight: !1,\n            style: {\n                fontSize: 12,\n                fill: \"#ccc\",\n                cursor: \"pointer\"\n            },\n            state: {\n                selectedHover: {\n                    opacity: .85\n                },\n                unSelected: {\n                    fill: \"#D8D8D8\"\n                }\n            }\n        },\n        background: {\n            style: {\n                cursor: \"pointer\"\n            },\n            state: {\n                selectedHover: {\n                    fillOpacity: .7,\n                    fill: \"gray\"\n                },\n                unSelectedHover: {\n                    fillOpacity: .2,\n                    fill: \"gray\"\n                }\n            }\n        },\n        focus: !1,\n        focusIconStyle: {\n            size: 10,\n            fill: \"#333\",\n            cursor: \"pointer\"\n        },\n        visible: !0,\n        padding: {\n            top: 2,\n            bottom: 2,\n            left: 2,\n            right: 2\n        }\n    },\n    autoPage: !0,\n    pager: {\n        space: 12,\n        handler: {\n            style: {\n                size: 10\n            },\n            space: 4\n        }\n    },\n    hover: !0,\n    select: !0,\n    selectMode: \"multiple\",\n    allowAllCanceled: !1,\n    items: [ {\n        index: 0,\n        id: \"\",\n        label: \"\",\n        shape: {\n            fill: \"#6690F2\",\n            stroke: \"#6690F2\",\n            symbolType: \"circle\"\n        }\n    } ]\n}, colorLegend = {\n    title: {\n        visible: !1,\n        text: \"\"\n    },\n    colors: [],\n    layout: \"horizontal\",\n    railWidth: 200,\n    railHeight: 8,\n    railStyle: {\n        cornerRadius: 5\n    }\n}, sizeLegend = {\n    title: {\n        visible: !1,\n        text: \"\"\n    },\n    trackStyle: {\n        fill: \"#ccc\"\n    },\n    layout: \"horizontal\",\n    align: \"bottom\",\n    railWidth: 200,\n    railHeight: 6,\n    min: 0,\n    max: 1,\n    value: [ 0, 1 ]\n}, lineCrosshair = {\n    start: {\n        x: 0,\n        y: 0\n    },\n    end: {\n        x: 0,\n        y: 0\n    }\n}, rectCrosshair = {\n    start: {\n        x: 0,\n        y: 0\n    },\n    end: {\n        x: 0,\n        y: 0\n    },\n    rectStyle: {\n        width: 10,\n        height: 10\n    }\n}, sectorCrosshair = {\n    center: {\n        x: 0,\n        y: 0\n    },\n    radius: 100,\n    startAngle: 0,\n    endAngle: Math.PI / 6\n}, circleCrosshair = {\n    center: {\n        x: 0,\n        y: 0\n    },\n    radius: 100,\n    startAngle: 0,\n    endAngle: 2 * Math.PI\n}, polygonCrosshair = {\n    center: {\n        x: 0,\n        y: 0\n    },\n    radius: 100,\n    startAngle: 0,\n    endAngle: 2 * Math.PI,\n    sides: 6\n}, slider = {\n    layout: \"horizontal\",\n    railWidth: 200,\n    railHeight: 10,\n    railStyle: {\n        cornerRadius: 5\n    },\n    range: {\n        draggableTrack: !0\n    },\n    startText: {\n        visible: !0,\n        text: \"\",\n        space: 8\n    },\n    endText: {\n        visible: !0,\n        text: \"\",\n        space: 8\n    },\n    min: 0,\n    max: 1,\n    value: [ 0, 1 ]\n};\n\nconst dataLabel = {\n    size: {\n        width: 400,\n        height: 400\n    },\n    dataLabels: []\n};\n\nconst lineDataLabel = {\n    type: \"line-data\",\n    data: [ {\n        text: \"\"\n    } ],\n    position: \"top\",\n    overlap: {\n        avoidBaseMark: !1,\n        clampForce: !1\n    },\n    smartInvert: !1\n};\n\nconst lineLabel = {\n    type: \"line\",\n    data: [ {\n        text: \"\",\n        data: {}\n    } ],\n    position: \"start\",\n    overlap: {\n        avoidBaseMark: !1,\n        clampForce: !1,\n        size: {\n            width: 1e3,\n            height: 1e3\n        }\n    },\n    smartInvert: !1\n};\n\nconst areaLabel = {\n    type: \"area\",\n    data: [ {\n        text: \"\",\n        data: {}\n    } ],\n    position: \"end\",\n    overlap: {\n        avoidBaseMark: !1,\n        clampForce: !1,\n        size: {\n            width: 1e3,\n            height: 1e3\n        }\n    },\n    smartInvert: !1\n};\n\nconst rectLabel = {\n    type: \"rect\",\n    data: [ {\n        text: \"\",\n        fill: \"#606773\",\n        data: {}\n    } ],\n    position: \"top\",\n    overlap: {\n        size: {\n            width: 1e3,\n            height: 1e3\n        },\n        strategy: [ {\n            type: \"position\"\n        } ]\n    },\n    smartInvert: !1\n};\n\nconst symbolLabel = {\n    type: \"symbol\",\n    data: [ {\n        text: \"\",\n        fill: \"#606773\",\n        data: {}\n    } ],\n    position: \"top\",\n    overlap: {\n        avoidBaseMark: !0,\n        size: {\n            width: 1e3,\n            height: 1e3\n        },\n        strategy: [ {\n            type: \"position\"\n        } ]\n    },\n    smartInvert: !1\n};\n\nconst arcLabel = {\n    type: \"arc\",\n    data: [ {\n        text: \"\",\n        fill: \"#606773\",\n        data: {}\n    } ],\n    width: 800,\n    height: 600,\n    position: \"outside\",\n    zIndex: 302\n};\n\nconst pointLabel = {\n    data: [ {\n        text: \"\",\n        fill: \"#606773\",\n        data: {}\n    } ],\n    overlap: {\n        avoidBaseMark: !1,\n        clampForce: !1,\n        size: {\n            width: 1e3,\n            height: 1e3\n        }\n    },\n    smartInvert: !1\n};\n\nconst datazoom = {\n    orient: \"bottom\",\n    showDetail: \"auto\",\n    brushSelect: !0,\n    start: 0,\n    end: 1,\n    position: {\n        x: 0,\n        y: 0\n    },\n    size: {\n        width: 500,\n        height: 40\n    },\n    previewData: []\n};\n\nconst continuousPlayer = {};\n\nconst discretePlayer = {};\n\nconst tooltip = {};\n\nconst title = {\n    textStyle: {\n        fill: \"#21252c\"\n    },\n    subtextStyle: {\n        fill: \"#606773\"\n    }\n};\n\nconst scrollbar = {\n    width: 12,\n    height: 12,\n    padding: [ 2, 2 ],\n    railStyle: {\n        fill: \"rgba(0, 0, 0, .1)\"\n    }\n};\n\nconst defaultComponentTheme = {\n    axis: axis,\n    circleAxis: circleAxis,\n    grid: grid,\n    circleGrid: circleGrid,\n    discreteLegend: discreteLegend,\n    colorLegend: colorLegend,\n    sizeLegend: sizeLegend,\n    lineCrosshair: lineCrosshair,\n    rectCrosshair: rectCrosshair,\n    sectorCrosshair: sectorCrosshair,\n    circleCrosshair: circleCrosshair,\n    polygonCrosshair: polygonCrosshair,\n    slider: slider,\n    dataLabel: dataLabel,\n    pointLabel: pointLabel,\n    lineLabel: lineLabel,\n    areaLabel: areaLabel,\n    rectLabel: rectLabel,\n    symbolLabel: symbolLabel,\n    arcLabel: arcLabel,\n    lineDataLabel: lineDataLabel,\n    datazoom: datazoom,\n    continuousPlayer: continuousPlayer,\n    discretePlayer: discretePlayer,\n    tooltip: tooltip,\n    title: title,\n    scrollbar: scrollbar\n};\n//# sourceMappingURL=component.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvY29tbW9uL2NvbXBvbmVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsS0FBSztBQUNMO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWLEtBQUs7QUFDTDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRU87O0FBRUE7O0FBRUE7O0FBRUE7QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90aGVtZS9jb21tb24vY29tcG9uZW50LmpzPzJkMjkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXhpcyA9IHtcbiAgICBsYWJlbDoge1xuICAgICAgICB2aXNpYmxlOiAhMCxcbiAgICAgICAgaW5zaWRlOiAhMSxcbiAgICAgICAgc3BhY2U6IDQsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICBmaWxsOiBcIiM4OTkwOWRcIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICB0aWNrOiB7XG4gICAgICAgIHZpc2libGU6ICEwLFxuICAgICAgICBpbnNpZGU6ICExLFxuICAgICAgICBhbGlnbldpdGhMYWJlbDogITAsXG4gICAgICAgIGxlbmd0aDogNCxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgICAgIHN0cm9rZTogXCIjRDlEREU0XCIsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN1YlRpY2s6IHtcbiAgICAgICAgdmlzaWJsZTogITEsXG4gICAgICAgIGluc2lkZTogITEsXG4gICAgICAgIGNvdW50OiA0LFxuICAgICAgICBsZW5ndGg6IDIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBsaW5lV2lkdGg6IDEsXG4gICAgICAgICAgICBzdHJva2U6IFwiI0Q5RERFNFwiLFxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIHZpc2libGU6ICEwLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgbGluZVdpZHRoOiAxLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIiNEOURERTRcIixcbiAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDFcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaXRlbXM6IFtdLFxuICAgIHN0YXJ0OiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICB9LFxuICAgIGVuZDoge1xuICAgICAgICB4OiAxMDAsXG4gICAgICAgIHk6IDBcbiAgICB9LFxuICAgIHg6IDAsXG4gICAgeTogMFxufSwgY2lyY2xlQXhpcyA9IHtcbiAgICB0aXRsZToge1xuICAgICAgICBzcGFjZTogNCxcbiAgICAgICAgcGFkZGluZzogWyAwLCAwLCAwLCAwIF0sXG4gICAgICAgIHRleHRTdHlsZToge1xuICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgZmlsbDogXCIjMzMzMzMzXCIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDFcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dDogXCJ0aGV0YVwiXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgICB2aXNpYmxlOiAhMCxcbiAgICAgICAgaW5zaWRlOiAhMSxcbiAgICAgICAgc3BhY2U6IDQsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICBmaWxsOiBcIiM2RjZGNkZcIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICB0aWNrOiB7XG4gICAgICAgIHZpc2libGU6ICEwLFxuICAgICAgICBpbnNpZGU6ICExLFxuICAgICAgICBhbGlnbldpdGhMYWJlbDogITAsXG4gICAgICAgIGxlbmd0aDogNCxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgICAgIHN0cm9rZTogXCIjRDlEREU0XCIsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN1YlRpY2s6IHtcbiAgICAgICAgdmlzaWJsZTogITEsXG4gICAgICAgIGluc2lkZTogITEsXG4gICAgICAgIGNvdW50OiA0LFxuICAgICAgICBsZW5ndGg6IDIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBsaW5lV2lkdGg6IDEsXG4gICAgICAgICAgICBzdHJva2U6IFwiI0Q5RERFNFwiLFxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIHZpc2libGU6ICEwLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgbGluZVdpZHRoOiAxLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIiNEOURERTRcIixcbiAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDFcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaXRlbXM6IFtdLFxuICAgIHN0YXJ0QW5nbGU6IDAsXG4gICAgZW5kQW5nbGU6IDIgKiBNYXRoLlBJLFxuICAgIHJhZGl1czogMTAwLFxuICAgIGlubmVyUmFkaXVzOiAwLFxuICAgIGNlbnRlcjoge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfSxcbiAgICB4OiAwLFxuICAgIHk6IDBcbn0sIGdyaWQgPSB7XG4gICAgc3R5bGU6IHtcbiAgICAgICAgc3Ryb2tlOiBcIiNmMWYyZjVcIlxuICAgIH1cbn0sIGNpcmNsZUdyaWQgPSB7XG4gICAgc3R5bGU6IHtcbiAgICAgICAgc3Ryb2tlOiBcIiNmMWYyZjVcIlxuICAgIH1cbn0sIGRpc2NyZXRlTGVnZW5kID0ge1xuICAgIGxheW91dDogXCJ2ZXJ0aWNhbFwiLFxuICAgIHRpdGxlOiB7XG4gICAgICAgIGFsaWduOiBcInN0YXJ0XCIsXG4gICAgICAgIHNwYWNlOiAxMixcbiAgICAgICAgdGV4dFN0eWxlOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgICAgIGZpbGw6IFwiIzJDMzU0MlwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGl0ZW06IHtcbiAgICAgICAgc3BhY2VDb2w6IDEwLFxuICAgICAgICBzcGFjZVJvdzogMTAsXG4gICAgICAgIHNoYXBlOiB7XG4gICAgICAgICAgICBzcGFjZTogNCxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgc2l6ZTogMTAsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRIb3Zlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAuODVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVuU2VsZWN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogXCIjRDhEOEQ4XCIsXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogXCIjRDhEOEQ4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAuNVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgIHNwYWNlOiA0LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgICAgZmlsbDogXCJibGFja1wiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSG92ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogLjg1XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1blNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IFwiI0Q4RDhEOFwiLFxuICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogLjVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBhbGlnblJpZ2h0OiAhMSxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICAgIGZpbGw6IFwiI2NjY1wiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSG92ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogLjg1XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1blNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IFwiI0Q4RDhEOFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiYWNrZ3JvdW5kOiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSG92ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC43LFxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBcImdyYXlcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdW5TZWxlY3RlZEhvdmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAuMixcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogXCJncmF5XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzOiAhMSxcbiAgICAgICAgZm9jdXNJY29uU3R5bGU6IHtcbiAgICAgICAgICAgIHNpemU6IDEwLFxuICAgICAgICAgICAgZmlsbDogXCIjMzMzXCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6ICEwLFxuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICB0b3A6IDIsXG4gICAgICAgICAgICBib3R0b206IDIsXG4gICAgICAgICAgICBsZWZ0OiAyLFxuICAgICAgICAgICAgcmlnaHQ6IDJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXV0b1BhZ2U6ICEwLFxuICAgIHBhZ2VyOiB7XG4gICAgICAgIHNwYWNlOiAxMixcbiAgICAgICAgaGFuZGxlcjoge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBzaXplOiAxMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNwYWNlOiA0XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhvdmVyOiAhMCxcbiAgICBzZWxlY3Q6ICEwLFxuICAgIHNlbGVjdE1vZGU6IFwibXVsdGlwbGVcIixcbiAgICBhbGxvd0FsbENhbmNlbGVkOiAhMSxcbiAgICBpdGVtczogWyB7XG4gICAgICAgIGluZGV4OiAwLFxuICAgICAgICBpZDogXCJcIixcbiAgICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICAgIHNoYXBlOiB7XG4gICAgICAgICAgICBmaWxsOiBcIiM2NjkwRjJcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCIjNjY5MEYyXCIsXG4gICAgICAgICAgICBzeW1ib2xUeXBlOiBcImNpcmNsZVwiXG4gICAgICAgIH1cbiAgICB9IF1cbn0sIGNvbG9yTGVnZW5kID0ge1xuICAgIHRpdGxlOiB7XG4gICAgICAgIHZpc2libGU6ICExLFxuICAgICAgICB0ZXh0OiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IFtdLFxuICAgIGxheW91dDogXCJob3Jpem9udGFsXCIsXG4gICAgcmFpbFdpZHRoOiAyMDAsXG4gICAgcmFpbEhlaWdodDogOCxcbiAgICByYWlsU3R5bGU6IHtcbiAgICAgICAgY29ybmVyUmFkaXVzOiA1XG4gICAgfVxufSwgc2l6ZUxlZ2VuZCA9IHtcbiAgICB0aXRsZToge1xuICAgICAgICB2aXNpYmxlOiAhMSxcbiAgICAgICAgdGV4dDogXCJcIlxuICAgIH0sXG4gICAgdHJhY2tTdHlsZToge1xuICAgICAgICBmaWxsOiBcIiNjY2NcIlxuICAgIH0sXG4gICAgbGF5b3V0OiBcImhvcml6b250YWxcIixcbiAgICBhbGlnbjogXCJib3R0b21cIixcbiAgICByYWlsV2lkdGg6IDIwMCxcbiAgICByYWlsSGVpZ2h0OiA2LFxuICAgIG1pbjogMCxcbiAgICBtYXg6IDEsXG4gICAgdmFsdWU6IFsgMCwgMSBdXG59LCBsaW5lQ3Jvc3NoYWlyID0ge1xuICAgIHN0YXJ0OiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICB9LFxuICAgIGVuZDoge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfVxufSwgcmVjdENyb3NzaGFpciA9IHtcbiAgICBzdGFydDoge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfSxcbiAgICBlbmQ6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgIH0sXG4gICAgcmVjdFN0eWxlOiB7XG4gICAgICAgIHdpZHRoOiAxMCxcbiAgICAgICAgaGVpZ2h0OiAxMFxuICAgIH1cbn0sIHNlY3RvckNyb3NzaGFpciA9IHtcbiAgICBjZW50ZXI6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgIH0sXG4gICAgcmFkaXVzOiAxMDAsXG4gICAgc3RhcnRBbmdsZTogMCxcbiAgICBlbmRBbmdsZTogTWF0aC5QSSAvIDZcbn0sIGNpcmNsZUNyb3NzaGFpciA9IHtcbiAgICBjZW50ZXI6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgIH0sXG4gICAgcmFkaXVzOiAxMDAsXG4gICAgc3RhcnRBbmdsZTogMCxcbiAgICBlbmRBbmdsZTogMiAqIE1hdGguUElcbn0sIHBvbHlnb25Dcm9zc2hhaXIgPSB7XG4gICAgY2VudGVyOiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICB9LFxuICAgIHJhZGl1czogMTAwLFxuICAgIHN0YXJ0QW5nbGU6IDAsXG4gICAgZW5kQW5nbGU6IDIgKiBNYXRoLlBJLFxuICAgIHNpZGVzOiA2XG59LCBzbGlkZXIgPSB7XG4gICAgbGF5b3V0OiBcImhvcml6b250YWxcIixcbiAgICByYWlsV2lkdGg6IDIwMCxcbiAgICByYWlsSGVpZ2h0OiAxMCxcbiAgICByYWlsU3R5bGU6IHtcbiAgICAgICAgY29ybmVyUmFkaXVzOiA1XG4gICAgfSxcbiAgICByYW5nZToge1xuICAgICAgICBkcmFnZ2FibGVUcmFjazogITBcbiAgICB9LFxuICAgIHN0YXJ0VGV4dDoge1xuICAgICAgICB2aXNpYmxlOiAhMCxcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgc3BhY2U6IDhcbiAgICB9LFxuICAgIGVuZFRleHQ6IHtcbiAgICAgICAgdmlzaWJsZTogITAsXG4gICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgIHNwYWNlOiA4XG4gICAgfSxcbiAgICBtaW46IDAsXG4gICAgbWF4OiAxLFxuICAgIHZhbHVlOiBbIDAsIDEgXVxufTtcblxuZXhwb3J0IGNvbnN0IGRhdGFMYWJlbCA9IHtcbiAgICBzaXplOiB7XG4gICAgICAgIHdpZHRoOiA0MDAsXG4gICAgICAgIGhlaWdodDogNDAwXG4gICAgfSxcbiAgICBkYXRhTGFiZWxzOiBbXVxufTtcblxuZXhwb3J0IGNvbnN0IGxpbmVEYXRhTGFiZWwgPSB7XG4gICAgdHlwZTogXCJsaW5lLWRhdGFcIixcbiAgICBkYXRhOiBbIHtcbiAgICAgICAgdGV4dDogXCJcIlxuICAgIH0gXSxcbiAgICBwb3NpdGlvbjogXCJ0b3BcIixcbiAgICBvdmVybGFwOiB7XG4gICAgICAgIGF2b2lkQmFzZU1hcms6ICExLFxuICAgICAgICBjbGFtcEZvcmNlOiAhMVxuICAgIH0sXG4gICAgc21hcnRJbnZlcnQ6ICExXG59O1xuXG5leHBvcnQgY29uc3QgbGluZUxhYmVsID0ge1xuICAgIHR5cGU6IFwibGluZVwiLFxuICAgIGRhdGE6IFsge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBkYXRhOiB7fVxuICAgIH0gXSxcbiAgICBwb3NpdGlvbjogXCJzdGFydFwiLFxuICAgIG92ZXJsYXA6IHtcbiAgICAgICAgYXZvaWRCYXNlTWFyazogITEsXG4gICAgICAgIGNsYW1wRm9yY2U6ICExLFxuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICB3aWR0aDogMWUzLFxuICAgICAgICAgICAgaGVpZ2h0OiAxZTNcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc21hcnRJbnZlcnQ6ICExXG59O1xuXG5leHBvcnQgY29uc3QgYXJlYUxhYmVsID0ge1xuICAgIHR5cGU6IFwiYXJlYVwiLFxuICAgIGRhdGE6IFsge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBkYXRhOiB7fVxuICAgIH0gXSxcbiAgICBwb3NpdGlvbjogXCJlbmRcIixcbiAgICBvdmVybGFwOiB7XG4gICAgICAgIGF2b2lkQmFzZU1hcms6ICExLFxuICAgICAgICBjbGFtcEZvcmNlOiAhMSxcbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgd2lkdGg6IDFlMyxcbiAgICAgICAgICAgIGhlaWdodDogMWUzXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNtYXJ0SW52ZXJ0OiAhMVxufTtcblxuZXhwb3J0IGNvbnN0IHJlY3RMYWJlbCA9IHtcbiAgICB0eXBlOiBcInJlY3RcIixcbiAgICBkYXRhOiBbIHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgZmlsbDogXCIjNjA2NzczXCIsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgfSBdLFxuICAgIHBvc2l0aW9uOiBcInRvcFwiLFxuICAgIG92ZXJsYXA6IHtcbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgd2lkdGg6IDFlMyxcbiAgICAgICAgICAgIGhlaWdodDogMWUzXG4gICAgICAgIH0sXG4gICAgICAgIHN0cmF0ZWd5OiBbIHtcbiAgICAgICAgICAgIHR5cGU6IFwicG9zaXRpb25cIlxuICAgICAgICB9IF1cbiAgICB9LFxuICAgIHNtYXJ0SW52ZXJ0OiAhMVxufTtcblxuZXhwb3J0IGNvbnN0IHN5bWJvbExhYmVsID0ge1xuICAgIHR5cGU6IFwic3ltYm9sXCIsXG4gICAgZGF0YTogWyB7XG4gICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgIGZpbGw6IFwiIzYwNjc3M1wiLFxuICAgICAgICBkYXRhOiB7fVxuICAgIH0gXSxcbiAgICBwb3NpdGlvbjogXCJ0b3BcIixcbiAgICBvdmVybGFwOiB7XG4gICAgICAgIGF2b2lkQmFzZU1hcms6ICEwLFxuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICB3aWR0aDogMWUzLFxuICAgICAgICAgICAgaGVpZ2h0OiAxZTNcbiAgICAgICAgfSxcbiAgICAgICAgc3RyYXRlZ3k6IFsge1xuICAgICAgICAgICAgdHlwZTogXCJwb3NpdGlvblwiXG4gICAgICAgIH0gXVxuICAgIH0sXG4gICAgc21hcnRJbnZlcnQ6ICExXG59O1xuXG5leHBvcnQgY29uc3QgYXJjTGFiZWwgPSB7XG4gICAgdHlwZTogXCJhcmNcIixcbiAgICBkYXRhOiBbIHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgZmlsbDogXCIjNjA2NzczXCIsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgfSBdLFxuICAgIHdpZHRoOiA4MDAsXG4gICAgaGVpZ2h0OiA2MDAsXG4gICAgcG9zaXRpb246IFwib3V0c2lkZVwiLFxuICAgIHpJbmRleDogMzAyXG59O1xuXG5leHBvcnQgY29uc3QgcG9pbnRMYWJlbCA9IHtcbiAgICBkYXRhOiBbIHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgZmlsbDogXCIjNjA2NzczXCIsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgfSBdLFxuICAgIG92ZXJsYXA6IHtcbiAgICAgICAgYXZvaWRCYXNlTWFyazogITEsXG4gICAgICAgIGNsYW1wRm9yY2U6ICExLFxuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICB3aWR0aDogMWUzLFxuICAgICAgICAgICAgaGVpZ2h0OiAxZTNcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc21hcnRJbnZlcnQ6ICExXG59O1xuXG5leHBvcnQgY29uc3QgZGF0YXpvb20gPSB7XG4gICAgb3JpZW50OiBcImJvdHRvbVwiLFxuICAgIHNob3dEZXRhaWw6IFwiYXV0b1wiLFxuICAgIGJydXNoU2VsZWN0OiAhMCxcbiAgICBzdGFydDogMCxcbiAgICBlbmQ6IDEsXG4gICAgcG9zaXRpb246IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgIH0sXG4gICAgc2l6ZToge1xuICAgICAgICB3aWR0aDogNTAwLFxuICAgICAgICBoZWlnaHQ6IDQwXG4gICAgfSxcbiAgICBwcmV2aWV3RGF0YTogW11cbn07XG5cbmV4cG9ydCBjb25zdCBjb250aW51b3VzUGxheWVyID0ge307XG5cbmV4cG9ydCBjb25zdCBkaXNjcmV0ZVBsYXllciA9IHt9O1xuXG5leHBvcnQgY29uc3QgdG9vbHRpcCA9IHt9O1xuXG5leHBvcnQgY29uc3QgdGl0bGUgPSB7XG4gICAgdGV4dFN0eWxlOiB7XG4gICAgICAgIGZpbGw6IFwiIzIxMjUyY1wiXG4gICAgfSxcbiAgICBzdWJ0ZXh0U3R5bGU6IHtcbiAgICAgICAgZmlsbDogXCIjNjA2NzczXCJcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2Nyb2xsYmFyID0ge1xuICAgIHdpZHRoOiAxMixcbiAgICBoZWlnaHQ6IDEyLFxuICAgIHBhZGRpbmc6IFsgMiwgMiBdLFxuICAgIHJhaWxTdHlsZToge1xuICAgICAgICBmaWxsOiBcInJnYmEoMCwgMCwgMCwgLjEpXCJcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdENvbXBvbmVudFRoZW1lID0ge1xuICAgIGF4aXM6IGF4aXMsXG4gICAgY2lyY2xlQXhpczogY2lyY2xlQXhpcyxcbiAgICBncmlkOiBncmlkLFxuICAgIGNpcmNsZUdyaWQ6IGNpcmNsZUdyaWQsXG4gICAgZGlzY3JldGVMZWdlbmQ6IGRpc2NyZXRlTGVnZW5kLFxuICAgIGNvbG9yTGVnZW5kOiBjb2xvckxlZ2VuZCxcbiAgICBzaXplTGVnZW5kOiBzaXplTGVnZW5kLFxuICAgIGxpbmVDcm9zc2hhaXI6IGxpbmVDcm9zc2hhaXIsXG4gICAgcmVjdENyb3NzaGFpcjogcmVjdENyb3NzaGFpcixcbiAgICBzZWN0b3JDcm9zc2hhaXI6IHNlY3RvckNyb3NzaGFpcixcbiAgICBjaXJjbGVDcm9zc2hhaXI6IGNpcmNsZUNyb3NzaGFpcixcbiAgICBwb2x5Z29uQ3Jvc3NoYWlyOiBwb2x5Z29uQ3Jvc3NoYWlyLFxuICAgIHNsaWRlcjogc2xpZGVyLFxuICAgIGRhdGFMYWJlbDogZGF0YUxhYmVsLFxuICAgIHBvaW50TGFiZWw6IHBvaW50TGFiZWwsXG4gICAgbGluZUxhYmVsOiBsaW5lTGFiZWwsXG4gICAgYXJlYUxhYmVsOiBhcmVhTGFiZWwsXG4gICAgcmVjdExhYmVsOiByZWN0TGFiZWwsXG4gICAgc3ltYm9sTGFiZWw6IHN5bWJvbExhYmVsLFxuICAgIGFyY0xhYmVsOiBhcmNMYWJlbCxcbiAgICBsaW5lRGF0YUxhYmVsOiBsaW5lRGF0YUxhYmVsLFxuICAgIGRhdGF6b29tOiBkYXRhem9vbSxcbiAgICBjb250aW51b3VzUGxheWVyOiBjb250aW51b3VzUGxheWVyLFxuICAgIGRpc2NyZXRlUGxheWVyOiBkaXNjcmV0ZVBsYXllcixcbiAgICB0b29sdGlwOiB0b29sdGlwLFxuICAgIHRpdGxlOiB0aXRsZSxcbiAgICBzY3JvbGxiYXI6IHNjcm9sbGJhclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/component.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_PADDING: () => (/* binding */ DEFAULT_PADDING)\n/* harmony export */ });\nconst DEFAULT_PADDING = 5;\n//# sourceMappingURL=constants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvY29tbW9uL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvY29tbW9uL2NvbnN0YW50cy5qcz8xZWQxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBERUZBVUxUX1BBRERJTkcgPSA1O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultMarkTheme: () => (/* binding */ defaultMarkTheme)\n/* harmony export */ });\nconst defaultMarkTheme = {\n    symbol: {\n        shape: \"circle\",\n        size: 8\n    },\n    text: {\n        fontSize: 14,\n        fill: \"#000000\"\n    }\n};\n//# sourceMappingURL=mark.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvY29tbW9uL21hcmsuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvY29tbW9uL21hcmsuanM/MjQ2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZGVmYXVsdE1hcmtUaGVtZSA9IHtcbiAgICBzeW1ib2w6IHtcbiAgICAgICAgc2hhcGU6IFwiY2lyY2xlXCIsXG4gICAgICAgIHNpemU6IDhcbiAgICB9LFxuICAgIHRleHQ6IHtcbiAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICBmaWxsOiBcIiMwMDAwMDBcIlxuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXJrLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/dark.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/dark.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   darkTheme: () => (/* binding */ darkTheme)\n/* harmony export */ });\n/* harmony import */ var _common_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/component.js\");\n/* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js\");\n/* harmony import */ var _common_mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js\");\n\n\n\n\n\n\nconst darkComponents = Object.assign({}, _common_component__WEBPACK_IMPORTED_MODULE_0__.defaultComponentTheme);\n\ndarkComponents.axis = Object.assign({}, darkComponents.axis, {\n    label: {\n        style: {\n            fill: \"#bbbdc3\"\n        }\n    },\n    line: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    },\n    tick: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    },\n    subTick: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    }\n}), darkComponents.circleAxis = Object.assign({}, darkComponents.circleAxis, {\n    label: {\n        style: {\n            fill: \"#bbbdc3\"\n        }\n    },\n    line: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    },\n    tick: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    },\n    subTick: {\n        style: {\n            stroke: \"#4b4f54\"\n        }\n    }\n}), darkComponents.grid = Object.assign({}, darkComponents.grid, {\n    style: {\n        stroke: \"#404349\"\n    }\n}), darkComponents.circleGrid = Object.assign({}, darkComponents.circleGrid, {\n    style: {\n        stroke: \"#404349\"\n    }\n}), darkComponents.rectLabel = Object.assign({}, darkComponents.rectLabel, {\n    data: [ {\n        text: \"\",\n        fill: \"#888c93\",\n        data: {}\n    } ]\n}), darkComponents.lineLabel = Object.assign({}, darkComponents.lineLabel, {\n    data: [ {\n        text: \"\",\n        fill: \"#888c93\",\n        data: {}\n    } ]\n}), darkComponents.symbolLabel = Object.assign({}, darkComponents.symbolLabel, {\n    data: [ {\n        text: \"\",\n        fill: \"#888c93\",\n        data: {}\n    } ]\n}), darkComponents.title = Object.assign({}, darkComponents.title, {\n    textStyle: {\n        fill: \"#fdfdfd\"\n    },\n    subtextStyle: {\n        fill: \"#888c93\"\n    }\n});\n\nconst darkTheme = {\n    name: \"dark\",\n    padding: _common_constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_PADDING,\n    background: \"#202226\",\n    palette: {\n        default: [ \"#5383F4\", \"#7BCF8E\", \"#FF9D2C\", \"#FFDB26\", \"#7568D9\", \"#80D8FB\", \"#1857A3\", \"#CAB0E8\", \"#FF8867\", \"#B9E493\", \"#2CB4A8\", \"#B9E4E3\" ]\n    },\n    marks: _common_mark__WEBPACK_IMPORTED_MODULE_2__.defaultMarkTheme,\n    components: darkComponents\n};\n//# sourceMappingURL=dark.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvZGFyay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEOztBQUVOOztBQUVKOztBQUVqRCx1Q0FBdUMsRUFBRSxvRUFBcUI7O0FBRTlELHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywrQ0FBK0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMseUNBQXlDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLENBQUMsK0NBQStDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLENBQUMsOENBQThDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLENBQUMsZ0RBQWdEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFTTtBQUNQO0FBQ0EsYUFBYSw4REFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVywwREFBZ0I7QUFDM0I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90aGVtZS9kYXJrLmpzPzA5M2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmYXVsdENvbXBvbmVudFRoZW1lIH0gZnJvbSBcIi4vY29tbW9uL2NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBERUZBVUxUX1BBRERJTkcgfSBmcm9tIFwiLi9jb21tb24vY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IGRlZmF1bHRNYXJrVGhlbWUgfSBmcm9tIFwiLi9jb21tb24vbWFya1wiO1xuXG5jb25zdCBkYXJrQ29tcG9uZW50cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDb21wb25lbnRUaGVtZSk7XG5cbmRhcmtDb21wb25lbnRzLmF4aXMgPSBPYmplY3QuYXNzaWduKHt9LCBkYXJrQ29tcG9uZW50cy5heGlzLCB7XG4gICAgbGFiZWw6IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGZpbGw6IFwiI2JiYmRjM1wiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHN0cm9rZTogXCIjNGI0ZjU0XCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdGljazoge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgc3Ryb2tlOiBcIiM0YjRmNTRcIlxuICAgICAgICB9XG4gICAgfSxcbiAgICBzdWJUaWNrOiB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBzdHJva2U6IFwiIzRiNGY1NFwiXG4gICAgICAgIH1cbiAgICB9XG59KSwgZGFya0NvbXBvbmVudHMuY2lyY2xlQXhpcyA9IE9iamVjdC5hc3NpZ24oe30sIGRhcmtDb21wb25lbnRzLmNpcmNsZUF4aXMsIHtcbiAgICBsYWJlbDoge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZmlsbDogXCIjYmJiZGMzXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgc3Ryb2tlOiBcIiM0YjRmNTRcIlxuICAgICAgICB9XG4gICAgfSxcbiAgICB0aWNrOiB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBzdHJva2U6IFwiIzRiNGY1NFwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN1YlRpY2s6IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHN0cm9rZTogXCIjNGI0ZjU0XCJcbiAgICAgICAgfVxuICAgIH1cbn0pLCBkYXJrQ29tcG9uZW50cy5ncmlkID0gT2JqZWN0LmFzc2lnbih7fSwgZGFya0NvbXBvbmVudHMuZ3JpZCwge1xuICAgIHN0eWxlOiB7XG4gICAgICAgIHN0cm9rZTogXCIjNDA0MzQ5XCJcbiAgICB9XG59KSwgZGFya0NvbXBvbmVudHMuY2lyY2xlR3JpZCA9IE9iamVjdC5hc3NpZ24oe30sIGRhcmtDb21wb25lbnRzLmNpcmNsZUdyaWQsIHtcbiAgICBzdHlsZToge1xuICAgICAgICBzdHJva2U6IFwiIzQwNDM0OVwiXG4gICAgfVxufSksIGRhcmtDb21wb25lbnRzLnJlY3RMYWJlbCA9IE9iamVjdC5hc3NpZ24oe30sIGRhcmtDb21wb25lbnRzLnJlY3RMYWJlbCwge1xuICAgIGRhdGE6IFsge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBmaWxsOiBcIiM4ODhjOTNcIixcbiAgICAgICAgZGF0YToge31cbiAgICB9IF1cbn0pLCBkYXJrQ29tcG9uZW50cy5saW5lTGFiZWwgPSBPYmplY3QuYXNzaWduKHt9LCBkYXJrQ29tcG9uZW50cy5saW5lTGFiZWwsIHtcbiAgICBkYXRhOiBbIHtcbiAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgZmlsbDogXCIjODg4YzkzXCIsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgfSBdXG59KSwgZGFya0NvbXBvbmVudHMuc3ltYm9sTGFiZWwgPSBPYmplY3QuYXNzaWduKHt9LCBkYXJrQ29tcG9uZW50cy5zeW1ib2xMYWJlbCwge1xuICAgIGRhdGE6IFsge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBmaWxsOiBcIiM4ODhjOTNcIixcbiAgICAgICAgZGF0YToge31cbiAgICB9IF1cbn0pLCBkYXJrQ29tcG9uZW50cy50aXRsZSA9IE9iamVjdC5hc3NpZ24oe30sIGRhcmtDb21wb25lbnRzLnRpdGxlLCB7XG4gICAgdGV4dFN0eWxlOiB7XG4gICAgICAgIGZpbGw6IFwiI2ZkZmRmZFwiXG4gICAgfSxcbiAgICBzdWJ0ZXh0U3R5bGU6IHtcbiAgICAgICAgZmlsbDogXCIjODg4YzkzXCJcbiAgICB9XG59KTtcblxuZXhwb3J0IGNvbnN0IGRhcmtUaGVtZSA9IHtcbiAgICBuYW1lOiBcImRhcmtcIixcbiAgICBwYWRkaW5nOiBERUZBVUxUX1BBRERJTkcsXG4gICAgYmFja2dyb3VuZDogXCIjMjAyMjI2XCIsXG4gICAgcGFsZXR0ZToge1xuICAgICAgICBkZWZhdWx0OiBbIFwiIzUzODNGNFwiLCBcIiM3QkNGOEVcIiwgXCIjRkY5RDJDXCIsIFwiI0ZGREIyNlwiLCBcIiM3NTY4RDlcIiwgXCIjODBEOEZCXCIsIFwiIzE4NTdBM1wiLCBcIiNDQUIwRThcIiwgXCIjRkY4ODY3XCIsIFwiI0I5RTQ5M1wiLCBcIiMyQ0I0QThcIiwgXCIjQjlFNEUzXCIgXVxuICAgIH0sXG4gICAgbWFya3M6IGRlZmF1bHRNYXJrVGhlbWUsXG4gICAgY29tcG9uZW50czogZGFya0NvbXBvbmVudHNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXJrLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/dark.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/default.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/default.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultTheme: () => (/* binding */ defaultTheme)\n/* harmony export */ });\n/* harmony import */ var _common_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/component.js\");\n/* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/constants.js\");\n/* harmony import */ var _common_mark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/common/mark.js\");\n\n\n\n\n\n\nconst defaultTheme = {\n    name: \"default\",\n    padding: _common_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_PADDING,\n    palette: {\n        default: [ \"#6690F2\", \"#70D6A3\", \"#B4E6E2\", \"#63B5FC\", \"#FF8F62\", \"#FFDC83\", \"#BCC5FD\", \"#A29BFE\", \"#63C4C7\", \"#F68484\" ]\n    },\n    marks: _common_mark__WEBPACK_IMPORTED_MODULE_1__.defaultMarkTheme,\n    components: _common_component__WEBPACK_IMPORTED_MODULE_2__.defaultComponentTheme\n};\n//# sourceMappingURL=default.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvZGVmYXVsdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEOztBQUVOOztBQUVKOztBQUUxQztBQUNQO0FBQ0EsYUFBYSw4REFBZTtBQUM1QjtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsMERBQWdCO0FBQzNCLGdCQUFnQixvRUFBcUI7QUFDckM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvZGVmYXVsdC5qcz9iYzIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmF1bHRDb21wb25lbnRUaGVtZSB9IGZyb20gXCIuL2NvbW1vbi9jb21wb25lbnRcIjtcblxuaW1wb3J0IHsgREVGQVVMVF9QQURESU5HIH0gZnJvbSBcIi4vY29tbW9uL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBkZWZhdWx0TWFya1RoZW1lIH0gZnJvbSBcIi4vY29tbW9uL21hcmtcIjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUaGVtZSA9IHtcbiAgICBuYW1lOiBcImRlZmF1bHRcIixcbiAgICBwYWRkaW5nOiBERUZBVUxUX1BBRERJTkcsXG4gICAgcGFsZXR0ZToge1xuICAgICAgICBkZWZhdWx0OiBbIFwiIzY2OTBGMlwiLCBcIiM3MEQ2QTNcIiwgXCIjQjRFNkUyXCIsIFwiIzYzQjVGQ1wiLCBcIiNGRjhGNjJcIiwgXCIjRkZEQzgzXCIsIFwiI0JDQzVGRFwiLCBcIiNBMjlCRkVcIiwgXCIjNjNDNEM3XCIsIFwiI0Y2ODQ4NFwiIF1cbiAgICB9LFxuICAgIG1hcmtzOiBkZWZhdWx0TWFya1RoZW1lLFxuICAgIGNvbXBvbmVudHM6IGRlZmF1bHRDb21wb25lbnRUaGVtZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/default.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeManager: () => (/* binding */ ThemeManager)\n/* harmony export */ });\n/* harmony import */ var _dark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/dark.js\");\n/* harmony import */ var _default__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./default */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/default.js\");\n\n\n\n\nclass ThemeManager {\n    static registerTheme(name, theme) {\n        name && ThemeManager._themes.set(name, theme);\n    }\n    static unregisterTheme(name) {\n        ThemeManager._themes.delete(name);\n    }\n    static getTheme(name) {\n        return ThemeManager._themes.get(name);\n    }\n    static getDefaultTheme() {\n        return ThemeManager.getTheme(\"default\");\n    }\n}\n\nThemeManager._themes = new Map, ThemeManager.registerTheme(\"default\", _default__WEBPACK_IMPORTED_MODULE_0__.defaultTheme), \nThemeManager.registerTheme(\"dark\", _dark__WEBPACK_IMPORTED_MODULE_1__.darkTheme);\n//# sourceMappingURL=theme-manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvdGhlbWUtbWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7O0FBRU07O0FBRWxDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0VBQXNFLGtEQUFZO0FBQ2xGLG1DQUFtQyw0Q0FBUztBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdGhlbWUvdGhlbWUtbWFuYWdlci5qcz82NGU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRhcmtUaGVtZSB9IGZyb20gXCIuL2RhcmtcIjtcblxuaW1wb3J0IHsgZGVmYXVsdFRoZW1lIH0gZnJvbSBcIi4vZGVmYXVsdFwiO1xuXG5leHBvcnQgY2xhc3MgVGhlbWVNYW5hZ2VyIHtcbiAgICBzdGF0aWMgcmVnaXN0ZXJUaGVtZShuYW1lLCB0aGVtZSkge1xuICAgICAgICBuYW1lICYmIFRoZW1lTWFuYWdlci5fdGhlbWVzLnNldChuYW1lLCB0aGVtZSk7XG4gICAgfVxuICAgIHN0YXRpYyB1bnJlZ2lzdGVyVGhlbWUobmFtZSkge1xuICAgICAgICBUaGVtZU1hbmFnZXIuX3RoZW1lcy5kZWxldGUobmFtZSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRUaGVtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBUaGVtZU1hbmFnZXIuX3RoZW1lcy5nZXQobmFtZSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0VGhlbWUoKSB7XG4gICAgICAgIHJldHVybiBUaGVtZU1hbmFnZXIuZ2V0VGhlbWUoXCJkZWZhdWx0XCIpO1xuICAgIH1cbn1cblxuVGhlbWVNYW5hZ2VyLl90aGVtZXMgPSBuZXcgTWFwLCBUaGVtZU1hbmFnZXIucmVnaXN0ZXJUaGVtZShcImRlZmF1bHRcIiwgZGVmYXVsdFRoZW1lKSwgXG5UaGVtZU1hbmFnZXIucmVnaXN0ZXJUaGVtZShcImRhcmtcIiwgZGFya1RoZW1lKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRoZW1lLW1hbmFnZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/bin.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/bin.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValid.js\");\n\n\nconst defaultBins = 10;\n\nconst transform = (options, upstreamData) => {\n    if (!upstreamData || 0 === upstreamData.length) return upstreamData;\n    const {extent: extent, step: step} = options, bins = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options.bins) ? Math.max(options.bins, 1) : 10, range = extent[1] - extent[0], binStep = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(step) ? step : range / bins;\n    return upstreamData.map((upstreamDatum => {\n        var _a, _b, _c, _d;\n        const datum = Object.assign({}, upstreamDatum), value = upstreamDatum[options.field], binIndex = Math.floor((value - extent[0]) / binStep), binStart = extent[0] + binIndex * binStep, binEnd = Math.min(extent[1], extent[0] + (binIndex + 1) * binStep);\n        return datum[null !== (_b = null === (_a = options.as) || void 0 === _a ? void 0 : _a[0]) && void 0 !== _b ? _b : \"binStart\"] = binStart, \n        datum[null !== (_d = null === (_c = options.as) || void 0 === _c ? void 0 : _c[1]) && void 0 !== _d ? _d : \"binEnd\"] = binEnd, \n        datum;\n    }));\n};\n//# sourceMappingURL=bin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2Jpbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyQzs7QUFFM0M7O0FBRU87QUFDUDtBQUNBLFdBQVcsNEJBQTRCLGtCQUFrQiw0REFBTywwRkFBMEYsNERBQU87QUFDaks7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2Jpbi5qcz9iMmY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVmFsaWQgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5jb25zdCBkZWZhdWx0QmlucyA9IDEwO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIGlmICghdXBzdHJlYW1EYXRhIHx8IDAgPT09IHVwc3RyZWFtRGF0YS5sZW5ndGgpIHJldHVybiB1cHN0cmVhbURhdGE7XG4gICAgY29uc3Qge2V4dGVudDogZXh0ZW50LCBzdGVwOiBzdGVwfSA9IG9wdGlvbnMsIGJpbnMgPSBpc1ZhbGlkKG9wdGlvbnMuYmlucykgPyBNYXRoLm1heChvcHRpb25zLmJpbnMsIDEpIDogMTAsIHJhbmdlID0gZXh0ZW50WzFdIC0gZXh0ZW50WzBdLCBiaW5TdGVwID0gaXNWYWxpZChzdGVwKSA/IHN0ZXAgOiByYW5nZSAvIGJpbnM7XG4gICAgcmV0dXJuIHVwc3RyZWFtRGF0YS5tYXAoKHVwc3RyZWFtRGF0dW0gPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGNvbnN0IGRhdHVtID0gT2JqZWN0LmFzc2lnbih7fSwgdXBzdHJlYW1EYXR1bSksIHZhbHVlID0gdXBzdHJlYW1EYXR1bVtvcHRpb25zLmZpZWxkXSwgYmluSW5kZXggPSBNYXRoLmZsb29yKCh2YWx1ZSAtIGV4dGVudFswXSkgLyBiaW5TdGVwKSwgYmluU3RhcnQgPSBleHRlbnRbMF0gKyBiaW5JbmRleCAqIGJpblN0ZXAsIGJpbkVuZCA9IE1hdGgubWluKGV4dGVudFsxXSwgZXh0ZW50WzBdICsgKGJpbkluZGV4ICsgMSkgKiBiaW5TdGVwKTtcbiAgICAgICAgcmV0dXJuIGRhdHVtW251bGwgIT09IChfYiA9IG51bGwgPT09IChfYSA9IG9wdGlvbnMuYXMpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVswXSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogXCJiaW5TdGFydFwiXSA9IGJpblN0YXJ0LCBcbiAgICAgICAgZGF0dW1bbnVsbCAhPT0gKF9kID0gbnVsbCA9PT0gKF9jID0gb3B0aW9ucy5hcykgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jWzFdKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiBcImJpbkVuZFwiXSA9IGJpbkVuZCwgXG4gICAgICAgIGRhdHVtO1xuICAgIH0pKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/bin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/circular-relation.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/circular-relation.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/view-box.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/toPercent.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/extent.js\");\n\n\n\n\nconst transform = (options, upstreamData) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n    if (!upstreamData || 0 === upstreamData.length) return [];\n    const viewBox = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.parseViewBox)(options), startAngle = null !== (_a = options.startAngle) && void 0 !== _a ? _a : 0, endAngle = null !== (_b = options.endAngle) && void 0 !== _b ? _b : 2 * Math.PI, maxRadius = Math.max(viewBox.width / 2, viewBox.height / 2), innerRadius = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(null !== (_c = options.innerRadius) && void 0 !== _c ? _c : 0, maxRadius), outerRadius = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(options.outerRadius, maxRadius), center = [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null === (_d = options.center) || void 0 === _d ? void 0 : _d[0]) ? options.center[0] : viewBox.x0 + (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(null !== (_f = null === (_e = options.center) || void 0 === _e ? void 0 : _e[0]) && void 0 !== _f ? _f : \"50%\", viewBox.width), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(null === (_g = options.center) || void 0 === _g ? void 0 : _g[1]) ? options.center[1] : viewBox.y0 + (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.toPercent)(null !== (_j = null === (_h = options.center) || void 0 === _h ? void 0 : _h[1]) && void 0 !== _j ? _j : \"50%\", viewBox.height) ], fieldAccessor = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_3__.field)(options.field), values = upstreamData.map(fieldAccessor), [min, max] = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__.extent)(values), radiusScale = min === max ? val => (innerRadius + outerRadius) / 2 : val => innerRadius + (outerRadius - innerRadius) * (val - min) / (max - min), sizeAccessor = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(options.radiusField) ? fieldAccessor : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_3__.field)(options.radiusField), defaultSize = null !== (_l = null === (_k = null == options ? void 0 : options.radiusRange) || void 0 === _k ? void 0 : _k[1]) && void 0 !== _l ? _l : 5;\n    let sizeScale = datum => defaultSize;\n    if (sizeAccessor) {\n        const [minSize, maxSize] = sizeAccessor !== fieldAccessor ? (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__.extent)(upstreamData.map(sizeAccessor)) : [ min, max ], minR = null !== (_o = null === (_m = options.radiusRange) || void 0 === _m ? void 0 : _m[0]) && void 0 !== _o ? _o : 5, maxR = null !== (_q = null === (_p = options.radiusRange) || void 0 === _p ? void 0 : _p[1]) && void 0 !== _q ? _q : 5;\n        minSize !== maxSize && (sizeScale = datum => minR + (maxR - minR) * (sizeAccessor(datum) - minSize) / (maxSize - minSize));\n    }\n    const minAngle = Math.min(startAngle, endAngle), maxAngle = Math.max(startAngle, endAngle), angles = getPartialAngles(minAngle, maxAngle, upstreamData.length), res = [], searchAngle = (maxAngle - minAngle) / 60;\n    return upstreamData.forEach(((datum, index) => {\n        const radius = radiusScale(values[index]), size = sizeScale(datum);\n        let x, y, angle = angles[index];\n        for (let i = 0; i < 60 && (x = center[0] + radius * Math.cos(angle), y = center[1] + radius * Math.sin(angle), \n        hasOverlap({\n            x: x,\n            y: y,\n            radius: size\n        }, res) || x - size < viewBox.x0 || x + size > viewBox.x1 || y - size < viewBox.y0 || y + size > viewBox.y1); i++) i < 59 && (angle += searchAngle, \n        angle > maxAngle ? angle = minAngle : angle < minAngle && (angle = maxAngle));\n        res.push({\n            x: x,\n            y: y,\n            radius: size,\n            datum: datum\n        });\n    })), res;\n};\n\nconst getPartialAngles = (minAngle, maxAngle, count) => {\n    let offsetAngle = 0, stepCount = Math.max(Math.ceil(2 * (maxAngle - minAngle) / Math.PI), 2), stepAngle = (maxAngle - minAngle) / stepCount, stepIndex = 0, stepSign = 1, i = 0, j = 0;\n    const res = [];\n    let startAngle = minAngle;\n    for (;i < count; ) j < stepCount && (res.push(startAngle + (j % 2 ? Math.floor(j / 2) + Math.floor(stepCount / 2) : j / 2) * stepAngle * stepSign), \n    j++), i++, j === stepCount && (j = 0, stepIndex += 1, stepSign *= -1, 0 === offsetAngle ? offsetAngle = stepAngle / 2 : offsetAngle /= 2, \n    startAngle = -1 === stepSign ? maxAngle - offsetAngle : minAngle + offsetAngle, \n    stepIndex >= 2 && (stepAngle /= 2, stepCount *= 2));\n    return res;\n}, hasOverlap = (item, arr) => !(!arr || !arr.length) && arr.some((entry => Math.pow(item.x - entry.x, 2) + Math.pow(item.y - entry.y, 2) < Math.pow(item.radius + entry.radius, 2)));\n//# sourceMappingURL=circular-relation.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2NpcmN1bGFyLXJlbGF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBbUQ7O0FBRWtEOztBQUU5RjtBQUNQO0FBQ0E7QUFDQSxvQkFBb0IscUVBQVksa1BBQWtQLGtFQUFTLDBGQUEwRixrRUFBUyw2Q0FBNkMsNERBQVEsc0dBQXNHLGtFQUFTLGlJQUFpSSw0REFBUSxzR0FBc0csa0VBQVMsb0pBQW9KLDhEQUFnQix3RUFBd0UsK0RBQU0sNEtBQTRLLDREQUFLLHdDQUF3Qyw4REFBZ0I7QUFDcnZDO0FBQ0E7QUFDQSxvRUFBb0UsK0RBQU07QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2R0FBNkc7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsV0FBVztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2NpcmN1bGFyLXJlbGF0aW9uLmpzPzYzN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIGlzTnVtYmVyIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgZmllbGQgYXMgZ2V0RmllbGRBY2Nlc3NvciwgZXh0ZW50LCBwYXJzZVZpZXdCb3gsIHRvUGVyY2VudCB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItdXRpbFwiO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xO1xuICAgIGlmICghdXBzdHJlYW1EYXRhIHx8IDAgPT09IHVwc3RyZWFtRGF0YS5sZW5ndGgpIHJldHVybiBbXTtcbiAgICBjb25zdCB2aWV3Qm94ID0gcGFyc2VWaWV3Qm94KG9wdGlvbnMpLCBzdGFydEFuZ2xlID0gbnVsbCAhPT0gKF9hID0gb3B0aW9ucy5zdGFydEFuZ2xlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwLCBlbmRBbmdsZSA9IG51bGwgIT09IChfYiA9IG9wdGlvbnMuZW5kQW5nbGUpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDIgKiBNYXRoLlBJLCBtYXhSYWRpdXMgPSBNYXRoLm1heCh2aWV3Qm94LndpZHRoIC8gMiwgdmlld0JveC5oZWlnaHQgLyAyKSwgaW5uZXJSYWRpdXMgPSB0b1BlcmNlbnQobnVsbCAhPT0gKF9jID0gb3B0aW9ucy5pbm5lclJhZGl1cykgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogMCwgbWF4UmFkaXVzKSwgb3V0ZXJSYWRpdXMgPSB0b1BlcmNlbnQob3B0aW9ucy5vdXRlclJhZGl1cywgbWF4UmFkaXVzKSwgY2VudGVyID0gWyBpc051bWJlcihudWxsID09PSAoX2QgPSBvcHRpb25zLmNlbnRlcikgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kWzBdKSA/IG9wdGlvbnMuY2VudGVyWzBdIDogdmlld0JveC54MCArIHRvUGVyY2VudChudWxsICE9PSAoX2YgPSBudWxsID09PSAoX2UgPSBvcHRpb25zLmNlbnRlcikgfHwgdm9pZCAwID09PSBfZSA/IHZvaWQgMCA6IF9lWzBdKSAmJiB2b2lkIDAgIT09IF9mID8gX2YgOiBcIjUwJVwiLCB2aWV3Qm94LndpZHRoKSwgaXNOdW1iZXIobnVsbCA9PT0gKF9nID0gb3B0aW9ucy5jZW50ZXIpIHx8IHZvaWQgMCA9PT0gX2cgPyB2b2lkIDAgOiBfZ1sxXSkgPyBvcHRpb25zLmNlbnRlclsxXSA6IHZpZXdCb3gueTAgKyB0b1BlcmNlbnQobnVsbCAhPT0gKF9qID0gbnVsbCA9PT0gKF9oID0gb3B0aW9ucy5jZW50ZXIpIHx8IHZvaWQgMCA9PT0gX2ggPyB2b2lkIDAgOiBfaFsxXSkgJiYgdm9pZCAwICE9PSBfaiA/IF9qIDogXCI1MCVcIiwgdmlld0JveC5oZWlnaHQpIF0sIGZpZWxkQWNjZXNzb3IgPSBnZXRGaWVsZEFjY2Vzc29yKG9wdGlvbnMuZmllbGQpLCB2YWx1ZXMgPSB1cHN0cmVhbURhdGEubWFwKGZpZWxkQWNjZXNzb3IpLCBbbWluLCBtYXhdID0gZXh0ZW50KHZhbHVlcyksIHJhZGl1c1NjYWxlID0gbWluID09PSBtYXggPyB2YWwgPT4gKGlubmVyUmFkaXVzICsgb3V0ZXJSYWRpdXMpIC8gMiA6IHZhbCA9PiBpbm5lclJhZGl1cyArIChvdXRlclJhZGl1cyAtIGlubmVyUmFkaXVzKSAqICh2YWwgLSBtaW4pIC8gKG1heCAtIG1pbiksIHNpemVBY2Nlc3NvciA9IGlzTmlsKG9wdGlvbnMucmFkaXVzRmllbGQpID8gZmllbGRBY2Nlc3NvciA6IGdldEZpZWxkQWNjZXNzb3Iob3B0aW9ucy5yYWRpdXNGaWVsZCksIGRlZmF1bHRTaXplID0gbnVsbCAhPT0gKF9sID0gbnVsbCA9PT0gKF9rID0gbnVsbCA9PSBvcHRpb25zID8gdm9pZCAwIDogb3B0aW9ucy5yYWRpdXNSYW5nZSkgfHwgdm9pZCAwID09PSBfayA/IHZvaWQgMCA6IF9rWzFdKSAmJiB2b2lkIDAgIT09IF9sID8gX2wgOiA1O1xuICAgIGxldCBzaXplU2NhbGUgPSBkYXR1bSA9PiBkZWZhdWx0U2l6ZTtcbiAgICBpZiAoc2l6ZUFjY2Vzc29yKSB7XG4gICAgICAgIGNvbnN0IFttaW5TaXplLCBtYXhTaXplXSA9IHNpemVBY2Nlc3NvciAhPT0gZmllbGRBY2Nlc3NvciA/IGV4dGVudCh1cHN0cmVhbURhdGEubWFwKHNpemVBY2Nlc3NvcikpIDogWyBtaW4sIG1heCBdLCBtaW5SID0gbnVsbCAhPT0gKF9vID0gbnVsbCA9PT0gKF9tID0gb3B0aW9ucy5yYWRpdXNSYW5nZSkgfHwgdm9pZCAwID09PSBfbSA/IHZvaWQgMCA6IF9tWzBdKSAmJiB2b2lkIDAgIT09IF9vID8gX28gOiA1LCBtYXhSID0gbnVsbCAhPT0gKF9xID0gbnVsbCA9PT0gKF9wID0gb3B0aW9ucy5yYWRpdXNSYW5nZSkgfHwgdm9pZCAwID09PSBfcCA/IHZvaWQgMCA6IF9wWzFdKSAmJiB2b2lkIDAgIT09IF9xID8gX3EgOiA1O1xuICAgICAgICBtaW5TaXplICE9PSBtYXhTaXplICYmIChzaXplU2NhbGUgPSBkYXR1bSA9PiBtaW5SICsgKG1heFIgLSBtaW5SKSAqIChzaXplQWNjZXNzb3IoZGF0dW0pIC0gbWluU2l6ZSkgLyAobWF4U2l6ZSAtIG1pblNpemUpKTtcbiAgICB9XG4gICAgY29uc3QgbWluQW5nbGUgPSBNYXRoLm1pbihzdGFydEFuZ2xlLCBlbmRBbmdsZSksIG1heEFuZ2xlID0gTWF0aC5tYXgoc3RhcnRBbmdsZSwgZW5kQW5nbGUpLCBhbmdsZXMgPSBnZXRQYXJ0aWFsQW5nbGVzKG1pbkFuZ2xlLCBtYXhBbmdsZSwgdXBzdHJlYW1EYXRhLmxlbmd0aCksIHJlcyA9IFtdLCBzZWFyY2hBbmdsZSA9IChtYXhBbmdsZSAtIG1pbkFuZ2xlKSAvIDYwO1xuICAgIHJldHVybiB1cHN0cmVhbURhdGEuZm9yRWFjaCgoKGRhdHVtLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCByYWRpdXMgPSByYWRpdXNTY2FsZSh2YWx1ZXNbaW5kZXhdKSwgc2l6ZSA9IHNpemVTY2FsZShkYXR1bSk7XG4gICAgICAgIGxldCB4LCB5LCBhbmdsZSA9IGFuZ2xlc1tpbmRleF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjAgJiYgKHggPSBjZW50ZXJbMF0gKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSksIHkgPSBjZW50ZXJbMV0gKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSksIFxuICAgICAgICBoYXNPdmVybGFwKHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgcmFkaXVzOiBzaXplXG4gICAgICAgIH0sIHJlcykgfHwgeCAtIHNpemUgPCB2aWV3Qm94LngwIHx8IHggKyBzaXplID4gdmlld0JveC54MSB8fCB5IC0gc2l6ZSA8IHZpZXdCb3gueTAgfHwgeSArIHNpemUgPiB2aWV3Qm94LnkxKTsgaSsrKSBpIDwgNTkgJiYgKGFuZ2xlICs9IHNlYXJjaEFuZ2xlLCBcbiAgICAgICAgYW5nbGUgPiBtYXhBbmdsZSA/IGFuZ2xlID0gbWluQW5nbGUgOiBhbmdsZSA8IG1pbkFuZ2xlICYmIChhbmdsZSA9IG1heEFuZ2xlKSk7XG4gICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgcmFkaXVzOiBzaXplLFxuICAgICAgICAgICAgZGF0dW06IGRhdHVtXG4gICAgICAgIH0pO1xuICAgIH0pKSwgcmVzO1xufTtcblxuY29uc3QgZ2V0UGFydGlhbEFuZ2xlcyA9IChtaW5BbmdsZSwgbWF4QW5nbGUsIGNvdW50KSA9PiB7XG4gICAgbGV0IG9mZnNldEFuZ2xlID0gMCwgc3RlcENvdW50ID0gTWF0aC5tYXgoTWF0aC5jZWlsKDIgKiAobWF4QW5nbGUgLSBtaW5BbmdsZSkgLyBNYXRoLlBJKSwgMiksIHN0ZXBBbmdsZSA9IChtYXhBbmdsZSAtIG1pbkFuZ2xlKSAvIHN0ZXBDb3VudCwgc3RlcEluZGV4ID0gMCwgc3RlcFNpZ24gPSAxLCBpID0gMCwgaiA9IDA7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgbGV0IHN0YXJ0QW5nbGUgPSBtaW5BbmdsZTtcbiAgICBmb3IgKDtpIDwgY291bnQ7ICkgaiA8IHN0ZXBDb3VudCAmJiAocmVzLnB1c2goc3RhcnRBbmdsZSArIChqICUgMiA/IE1hdGguZmxvb3IoaiAvIDIpICsgTWF0aC5mbG9vcihzdGVwQ291bnQgLyAyKSA6IGogLyAyKSAqIHN0ZXBBbmdsZSAqIHN0ZXBTaWduKSwgXG4gICAgaisrKSwgaSsrLCBqID09PSBzdGVwQ291bnQgJiYgKGogPSAwLCBzdGVwSW5kZXggKz0gMSwgc3RlcFNpZ24gKj0gLTEsIDAgPT09IG9mZnNldEFuZ2xlID8gb2Zmc2V0QW5nbGUgPSBzdGVwQW5nbGUgLyAyIDogb2Zmc2V0QW5nbGUgLz0gMiwgXG4gICAgc3RhcnRBbmdsZSA9IC0xID09PSBzdGVwU2lnbiA/IG1heEFuZ2xlIC0gb2Zmc2V0QW5nbGUgOiBtaW5BbmdsZSArIG9mZnNldEFuZ2xlLCBcbiAgICBzdGVwSW5kZXggPj0gMiAmJiAoc3RlcEFuZ2xlIC89IDIsIHN0ZXBDb3VudCAqPSAyKSk7XG4gICAgcmV0dXJuIHJlcztcbn0sIGhhc092ZXJsYXAgPSAoaXRlbSwgYXJyKSA9PiAhKCFhcnIgfHwgIWFyci5sZW5ndGgpICYmIGFyci5zb21lKChlbnRyeSA9PiBNYXRoLnBvdyhpdGVtLnggLSBlbnRyeS54LCAyKSArIE1hdGgucG93KGl0ZW0ueSAtIGVudHJ5LnksIDIpIDwgTWF0aC5wb3coaXRlbS5yYWRpdXMgKyBlbnRyeS5yYWRpdXMsIDIpKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaXJjdWxhci1yZWxhdGlvbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/circular-relation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/contour.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/contour.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst computeInteractionPoint = (xIndex, yIndex, cell, cellRow, cellColumn, threshold) => {\n    const thresholdCell = [ cell[0] >= threshold ? 1 : 0, cell[1] >= threshold ? 1 : 0, cell[2] >= threshold ? 1 : 0, cell[3] >= threshold ? 1 : 0 ], points = [];\n    thresholdCell[0] !== thresholdCell[1] && points.push({\n        id: `${xIndex}-${yIndex - 1}-${xIndex}-${yIndex}`,\n        currentCell: yIndex * cellColumn + xIndex,\n        nextCell: (yIndex - 1) * cellColumn + xIndex,\n        point: {\n            x: xIndex + (threshold - cell[0]) / (cell[1] - cell[0]),\n            y: yIndex\n        },\n        siblingPoint: null\n    }), thresholdCell[1] !== thresholdCell[2] && points.push({\n        id: `${xIndex}-${yIndex}-${xIndex + 1}-${yIndex}`,\n        currentCell: yIndex * cellColumn + xIndex,\n        nextCell: yIndex * cellColumn + xIndex + 1,\n        point: {\n            x: xIndex + 1,\n            y: yIndex + (threshold - cell[1]) / (cell[2] - cell[1])\n        },\n        siblingPoint: null\n    }), thresholdCell[2] !== thresholdCell[3] && points.push({\n        id: `${xIndex}-${yIndex}-${xIndex}-${yIndex + 1}`,\n        currentCell: yIndex * cellColumn + xIndex,\n        nextCell: (yIndex + 1) * cellColumn + xIndex,\n        point: {\n            x: xIndex + (threshold - cell[3]) / (cell[2] - cell[3]),\n            y: yIndex + 1\n        },\n        siblingPoint: null\n    }), thresholdCell[3] !== thresholdCell[0] && points.push({\n        id: `${xIndex - 1}-${yIndex}-${xIndex}-${yIndex}`,\n        currentCell: yIndex * cellColumn + xIndex,\n        nextCell: yIndex * cellColumn + xIndex - 1,\n        point: {\n            x: xIndex,\n            y: yIndex + (threshold - cell[0]) / (cell[3] - cell[0])\n        },\n        siblingPoint: null\n    });\n    const thresholdFlag = (8 & thresholdCell[0]) + (4 & thresholdCell[1]) + (2 & thresholdCell[2]) + (1 & thresholdCell[3]);\n    return 6 === thresholdFlag || 9 === thresholdFlag ? (points[0].siblingPoint = points[1], \n    points[1].siblingPoint = points[0], points[2].siblingPoint = points[3], points[3].siblingPoint = points[2]) : 2 === points.length && (points[0].siblingPoint = points[1], \n    points[1].siblingPoint = points[0]), points;\n}, connectPoints = (point, grid) => {\n    const siblingPoint = point.siblingPoint, connectResult = connectNextPoints(point, grid);\n    if (\"loop\" === connectResult.result) return connectResult.points;\n    return connectNextPoints(siblingPoint, grid).points.reverse().concat(connectResult.points);\n}, connectNextPoints = (point, grid) => {\n    const connectedPoints = [ point ];\n    let currentPoint = point;\n    const find = p => p.id === currentPoint.id;\n    let result = \"break\";\n    do {\n        const nextCell = grid[currentPoint.nextCell], nextCellPoint = null == nextCell ? void 0 : nextCell.find(find);\n        if (nextCellPoint) {\n            if (currentPoint = nextCellPoint.siblingPoint, connectedPoints.includes(currentPoint)) {\n                result = \"loop\", connectedPoints.push(currentPoint);\n                break;\n            }\n            if (!currentPoint) break;\n            connectedPoints.push(currentPoint);\n        } else currentPoint = null;\n    } while (currentPoint);\n    return {\n        points: connectedPoints,\n        result: result\n    };\n};\n\nconst transform = (options, upstreamData) => {\n    var _a;\n    if (!upstreamData || 0 === upstreamData.length) return upstreamData;\n    const row = options.row, column = options.column, cellRow = row - 1, cellColumn = column - 1, data = upstreamData.map((datum => datum[options.field])), extent = [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.minInArray)(data), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.maxInArray)(data) ], thresholds = null !== (_a = options.thresholds) && void 0 !== _a ? _a : [];\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options.thresholds) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.levels)) {\n        const step = (extent[1] - extent[0]) / options.levels;\n        for (let i = 1; i < options.levels; i++) thresholds.push(extent[0] + i * step);\n    }\n    const cells = [];\n    for (let yIndex = 1; yIndex < row; yIndex++) for (let xIndex = 1; xIndex < column; xIndex++) {\n        const topLeft = data[(yIndex - 1) * column + xIndex - 1], topRight = data[(yIndex - 1) * column + xIndex], bottomRight = data[yIndex * column + xIndex], bottomLeft = data[yIndex * column + xIndex - 1];\n        cells.push([ topLeft, topRight, bottomRight, bottomLeft ]);\n    }\n    const contours = [];\n    return thresholds.forEach((threshold => {\n        var _a, _b;\n        const points = [], gridPoints = [];\n        for (let yIndex = 0; yIndex < cellRow; yIndex++) for (let xIndex = 0; xIndex < cellColumn; xIndex++) {\n            const cell = cells[yIndex * cellColumn + xIndex], gridPoint = computeInteractionPoint(xIndex, yIndex, cell, 0, cellColumn, threshold);\n            points.push(...gridPoint), gridPoints.push(gridPoint);\n        }\n        let processingPoints = points.slice();\n        do {\n            const connectedPoints = connectPoints(processingPoints[0], gridPoints);\n            if (processingPoints.splice(0, 1), connectedPoints.length) {\n                const connectedPointIds = connectedPoints.map((point => point.id));\n                processingPoints = processingPoints.filter((point => !connectedPointIds.includes(point.id)));\n                const contour = {\n                    [null !== (_a = options.asThreshold) && void 0 !== _a ? _a : \"threshold\"]: threshold,\n                    [null !== (_b = options.asPoints) && void 0 !== _b ? _b : \"points\"]: connectedPoints.map((point => ({\n                        x: point.point.x / row,\n                        y: point.point.y / column\n                    })))\n                };\n                contours.push(contour);\n            }\n        } while (processingPoints.length > 0);\n    })), contours;\n};\n//# sourceMappingURL=contour.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2NvbnRvdXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRjs7QUFFbEY7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPLEdBQUcsV0FBVyxHQUFHLE9BQU8sR0FBRyxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsZUFBZSxPQUFPLEdBQUcsT0FBTyxHQUFHLFdBQVcsR0FBRyxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsZUFBZSxPQUFPLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxXQUFXO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsZUFBZSxXQUFXLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLHVLQUF1Syw0REFBVSxRQUFRLDREQUFVO0FBQ25NLFNBQVMsNERBQU8sd0JBQXdCLDREQUFhO0FBQ3JEO0FBQ0Esd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0EseUJBQXlCLGNBQWMsK0JBQStCLGlCQUFpQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrQkFBa0IsK0JBQStCLHFCQUFxQjtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2NvbnRvdXIuanM/M2QxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1ZhbGlkLCBpc1ZhbGlkTnVtYmVyLCBtYXhJbkFycmF5LCBtaW5JbkFycmF5IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuY29uc3QgY29tcHV0ZUludGVyYWN0aW9uUG9pbnQgPSAoeEluZGV4LCB5SW5kZXgsIGNlbGwsIGNlbGxSb3csIGNlbGxDb2x1bW4sIHRocmVzaG9sZCkgPT4ge1xuICAgIGNvbnN0IHRocmVzaG9sZENlbGwgPSBbIGNlbGxbMF0gPj0gdGhyZXNob2xkID8gMSA6IDAsIGNlbGxbMV0gPj0gdGhyZXNob2xkID8gMSA6IDAsIGNlbGxbMl0gPj0gdGhyZXNob2xkID8gMSA6IDAsIGNlbGxbM10gPj0gdGhyZXNob2xkID8gMSA6IDAgXSwgcG9pbnRzID0gW107XG4gICAgdGhyZXNob2xkQ2VsbFswXSAhPT0gdGhyZXNob2xkQ2VsbFsxXSAmJiBwb2ludHMucHVzaCh7XG4gICAgICAgIGlkOiBgJHt4SW5kZXh9LSR7eUluZGV4IC0gMX0tJHt4SW5kZXh9LSR7eUluZGV4fWAsXG4gICAgICAgIGN1cnJlbnRDZWxsOiB5SW5kZXggKiBjZWxsQ29sdW1uICsgeEluZGV4LFxuICAgICAgICBuZXh0Q2VsbDogKHlJbmRleCAtIDEpICogY2VsbENvbHVtbiArIHhJbmRleCxcbiAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgIHg6IHhJbmRleCArICh0aHJlc2hvbGQgLSBjZWxsWzBdKSAvIChjZWxsWzFdIC0gY2VsbFswXSksXG4gICAgICAgICAgICB5OiB5SW5kZXhcbiAgICAgICAgfSxcbiAgICAgICAgc2libGluZ1BvaW50OiBudWxsXG4gICAgfSksIHRocmVzaG9sZENlbGxbMV0gIT09IHRocmVzaG9sZENlbGxbMl0gJiYgcG9pbnRzLnB1c2goe1xuICAgICAgICBpZDogYCR7eEluZGV4fS0ke3lJbmRleH0tJHt4SW5kZXggKyAxfS0ke3lJbmRleH1gLFxuICAgICAgICBjdXJyZW50Q2VsbDogeUluZGV4ICogY2VsbENvbHVtbiArIHhJbmRleCxcbiAgICAgICAgbmV4dENlbGw6IHlJbmRleCAqIGNlbGxDb2x1bW4gKyB4SW5kZXggKyAxLFxuICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgeDogeEluZGV4ICsgMSxcbiAgICAgICAgICAgIHk6IHlJbmRleCArICh0aHJlc2hvbGQgLSBjZWxsWzFdKSAvIChjZWxsWzJdIC0gY2VsbFsxXSlcbiAgICAgICAgfSxcbiAgICAgICAgc2libGluZ1BvaW50OiBudWxsXG4gICAgfSksIHRocmVzaG9sZENlbGxbMl0gIT09IHRocmVzaG9sZENlbGxbM10gJiYgcG9pbnRzLnB1c2goe1xuICAgICAgICBpZDogYCR7eEluZGV4fS0ke3lJbmRleH0tJHt4SW5kZXh9LSR7eUluZGV4ICsgMX1gLFxuICAgICAgICBjdXJyZW50Q2VsbDogeUluZGV4ICogY2VsbENvbHVtbiArIHhJbmRleCxcbiAgICAgICAgbmV4dENlbGw6ICh5SW5kZXggKyAxKSAqIGNlbGxDb2x1bW4gKyB4SW5kZXgsXG4gICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICB4OiB4SW5kZXggKyAodGhyZXNob2xkIC0gY2VsbFszXSkgLyAoY2VsbFsyXSAtIGNlbGxbM10pLFxuICAgICAgICAgICAgeTogeUluZGV4ICsgMVxuICAgICAgICB9LFxuICAgICAgICBzaWJsaW5nUG9pbnQ6IG51bGxcbiAgICB9KSwgdGhyZXNob2xkQ2VsbFszXSAhPT0gdGhyZXNob2xkQ2VsbFswXSAmJiBwb2ludHMucHVzaCh7XG4gICAgICAgIGlkOiBgJHt4SW5kZXggLSAxfS0ke3lJbmRleH0tJHt4SW5kZXh9LSR7eUluZGV4fWAsXG4gICAgICAgIGN1cnJlbnRDZWxsOiB5SW5kZXggKiBjZWxsQ29sdW1uICsgeEluZGV4LFxuICAgICAgICBuZXh0Q2VsbDogeUluZGV4ICogY2VsbENvbHVtbiArIHhJbmRleCAtIDEsXG4gICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICB4OiB4SW5kZXgsXG4gICAgICAgICAgICB5OiB5SW5kZXggKyAodGhyZXNob2xkIC0gY2VsbFswXSkgLyAoY2VsbFszXSAtIGNlbGxbMF0pXG4gICAgICAgIH0sXG4gICAgICAgIHNpYmxpbmdQb2ludDogbnVsbFxuICAgIH0pO1xuICAgIGNvbnN0IHRocmVzaG9sZEZsYWcgPSAoOCAmIHRocmVzaG9sZENlbGxbMF0pICsgKDQgJiB0aHJlc2hvbGRDZWxsWzFdKSArICgyICYgdGhyZXNob2xkQ2VsbFsyXSkgKyAoMSAmIHRocmVzaG9sZENlbGxbM10pO1xuICAgIHJldHVybiA2ID09PSB0aHJlc2hvbGRGbGFnIHx8IDkgPT09IHRocmVzaG9sZEZsYWcgPyAocG9pbnRzWzBdLnNpYmxpbmdQb2ludCA9IHBvaW50c1sxXSwgXG4gICAgcG9pbnRzWzFdLnNpYmxpbmdQb2ludCA9IHBvaW50c1swXSwgcG9pbnRzWzJdLnNpYmxpbmdQb2ludCA9IHBvaW50c1szXSwgcG9pbnRzWzNdLnNpYmxpbmdQb2ludCA9IHBvaW50c1syXSkgOiAyID09PSBwb2ludHMubGVuZ3RoICYmIChwb2ludHNbMF0uc2libGluZ1BvaW50ID0gcG9pbnRzWzFdLCBcbiAgICBwb2ludHNbMV0uc2libGluZ1BvaW50ID0gcG9pbnRzWzBdKSwgcG9pbnRzO1xufSwgY29ubmVjdFBvaW50cyA9IChwb2ludCwgZ3JpZCkgPT4ge1xuICAgIGNvbnN0IHNpYmxpbmdQb2ludCA9IHBvaW50LnNpYmxpbmdQb2ludCwgY29ubmVjdFJlc3VsdCA9IGNvbm5lY3ROZXh0UG9pbnRzKHBvaW50LCBncmlkKTtcbiAgICBpZiAoXCJsb29wXCIgPT09IGNvbm5lY3RSZXN1bHQucmVzdWx0KSByZXR1cm4gY29ubmVjdFJlc3VsdC5wb2ludHM7XG4gICAgcmV0dXJuIGNvbm5lY3ROZXh0UG9pbnRzKHNpYmxpbmdQb2ludCwgZ3JpZCkucG9pbnRzLnJldmVyc2UoKS5jb25jYXQoY29ubmVjdFJlc3VsdC5wb2ludHMpO1xufSwgY29ubmVjdE5leHRQb2ludHMgPSAocG9pbnQsIGdyaWQpID0+IHtcbiAgICBjb25zdCBjb25uZWN0ZWRQb2ludHMgPSBbIHBvaW50IF07XG4gICAgbGV0IGN1cnJlbnRQb2ludCA9IHBvaW50O1xuICAgIGNvbnN0IGZpbmQgPSBwID0+IHAuaWQgPT09IGN1cnJlbnRQb2ludC5pZDtcbiAgICBsZXQgcmVzdWx0ID0gXCJicmVha1wiO1xuICAgIGRvIHtcbiAgICAgICAgY29uc3QgbmV4dENlbGwgPSBncmlkW2N1cnJlbnRQb2ludC5uZXh0Q2VsbF0sIG5leHRDZWxsUG9pbnQgPSBudWxsID09IG5leHRDZWxsID8gdm9pZCAwIDogbmV4dENlbGwuZmluZChmaW5kKTtcbiAgICAgICAgaWYgKG5leHRDZWxsUG9pbnQpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UG9pbnQgPSBuZXh0Q2VsbFBvaW50LnNpYmxpbmdQb2ludCwgY29ubmVjdGVkUG9pbnRzLmluY2x1ZGVzKGN1cnJlbnRQb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBcImxvb3BcIiwgY29ubmVjdGVkUG9pbnRzLnB1c2goY3VycmVudFBvaW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY3VycmVudFBvaW50KSBicmVhaztcbiAgICAgICAgICAgIGNvbm5lY3RlZFBvaW50cy5wdXNoKGN1cnJlbnRQb2ludCk7XG4gICAgICAgIH0gZWxzZSBjdXJyZW50UG9pbnQgPSBudWxsO1xuICAgIH0gd2hpbGUgKGN1cnJlbnRQb2ludCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnRzOiBjb25uZWN0ZWRQb2ludHMsXG4gICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghdXBzdHJlYW1EYXRhIHx8IDAgPT09IHVwc3RyZWFtRGF0YS5sZW5ndGgpIHJldHVybiB1cHN0cmVhbURhdGE7XG4gICAgY29uc3Qgcm93ID0gb3B0aW9ucy5yb3csIGNvbHVtbiA9IG9wdGlvbnMuY29sdW1uLCBjZWxsUm93ID0gcm93IC0gMSwgY2VsbENvbHVtbiA9IGNvbHVtbiAtIDEsIGRhdGEgPSB1cHN0cmVhbURhdGEubWFwKChkYXR1bSA9PiBkYXR1bVtvcHRpb25zLmZpZWxkXSkpLCBleHRlbnQgPSBbIG1pbkluQXJyYXkoZGF0YSksIG1heEluQXJyYXkoZGF0YSkgXSwgdGhyZXNob2xkcyA9IG51bGwgIT09IChfYSA9IG9wdGlvbnMudGhyZXNob2xkcykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogW107XG4gICAgaWYgKCFpc1ZhbGlkKG9wdGlvbnMudGhyZXNob2xkcykgJiYgaXNWYWxpZE51bWJlcihvcHRpb25zLmxldmVscykpIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IChleHRlbnRbMV0gLSBleHRlbnRbMF0pIC8gb3B0aW9ucy5sZXZlbHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgb3B0aW9ucy5sZXZlbHM7IGkrKykgdGhyZXNob2xkcy5wdXNoKGV4dGVudFswXSArIGkgKiBzdGVwKTtcbiAgICB9XG4gICAgY29uc3QgY2VsbHMgPSBbXTtcbiAgICBmb3IgKGxldCB5SW5kZXggPSAxOyB5SW5kZXggPCByb3c7IHlJbmRleCsrKSBmb3IgKGxldCB4SW5kZXggPSAxOyB4SW5kZXggPCBjb2x1bW47IHhJbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IHRvcExlZnQgPSBkYXRhWyh5SW5kZXggLSAxKSAqIGNvbHVtbiArIHhJbmRleCAtIDFdLCB0b3BSaWdodCA9IGRhdGFbKHlJbmRleCAtIDEpICogY29sdW1uICsgeEluZGV4XSwgYm90dG9tUmlnaHQgPSBkYXRhW3lJbmRleCAqIGNvbHVtbiArIHhJbmRleF0sIGJvdHRvbUxlZnQgPSBkYXRhW3lJbmRleCAqIGNvbHVtbiArIHhJbmRleCAtIDFdO1xuICAgICAgICBjZWxscy5wdXNoKFsgdG9wTGVmdCwgdG9wUmlnaHQsIGJvdHRvbVJpZ2h0LCBib3R0b21MZWZ0IF0pO1xuICAgIH1cbiAgICBjb25zdCBjb250b3VycyA9IFtdO1xuICAgIHJldHVybiB0aHJlc2hvbGRzLmZvckVhY2goKHRocmVzaG9sZCA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IFtdLCBncmlkUG9pbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IHlJbmRleCA9IDA7IHlJbmRleCA8IGNlbGxSb3c7IHlJbmRleCsrKSBmb3IgKGxldCB4SW5kZXggPSAwOyB4SW5kZXggPCBjZWxsQ29sdW1uOyB4SW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgY2VsbCA9IGNlbGxzW3lJbmRleCAqIGNlbGxDb2x1bW4gKyB4SW5kZXhdLCBncmlkUG9pbnQgPSBjb21wdXRlSW50ZXJhY3Rpb25Qb2ludCh4SW5kZXgsIHlJbmRleCwgY2VsbCwgMCwgY2VsbENvbHVtbiwgdGhyZXNob2xkKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKC4uLmdyaWRQb2ludCksIGdyaWRQb2ludHMucHVzaChncmlkUG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcm9jZXNzaW5nUG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZFBvaW50cyA9IGNvbm5lY3RQb2ludHMocHJvY2Vzc2luZ1BvaW50c1swXSwgZ3JpZFBvaW50cyk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzc2luZ1BvaW50cy5zcGxpY2UoMCwgMSksIGNvbm5lY3RlZFBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0ZWRQb2ludElkcyA9IGNvbm5lY3RlZFBvaW50cy5tYXAoKHBvaW50ID0+IHBvaW50LmlkKSk7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZ1BvaW50cyA9IHByb2Nlc3NpbmdQb2ludHMuZmlsdGVyKChwb2ludCA9PiAhY29ubmVjdGVkUG9pbnRJZHMuaW5jbHVkZXMocG9pbnQuaWQpKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udG91ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgW251bGwgIT09IChfYSA9IG9wdGlvbnMuYXNUaHJlc2hvbGQpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IFwidGhyZXNob2xkXCJdOiB0aHJlc2hvbGQsXG4gICAgICAgICAgICAgICAgICAgIFtudWxsICE9PSAoX2IgPSBvcHRpb25zLmFzUG9pbnRzKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiBcInBvaW50c1wiXTogY29ubmVjdGVkUG9pbnRzLm1hcCgocG9pbnQgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHBvaW50LnBvaW50LnggLyByb3csXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBwb2ludC5wb2ludC55IC8gY29sdW1uXG4gICAgICAgICAgICAgICAgICAgIH0pKSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnRvdXJzLnB1c2goY29udG91cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHByb2Nlc3NpbmdQb2ludHMubGVuZ3RoID4gMCk7XG4gICAgfSkpLCBjb250b3Vycztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250b3VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/contour.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/filter.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/filter.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\nconst transform = (options, data, parameters) => data.filter((entry => options.callback(entry, parameters)));\n//# sourceMappingURL=filter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2ZpbHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2ZpbHRlci5qcz9iMTU5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgZGF0YSwgcGFyYW1ldGVycykgPT4gZGF0YS5maWx0ZXIoKGVudHJ5ID0+IG9wdGlvbnMuY2FsbGJhY2soZW50cnksIHBhcmFtZXRlcnMpKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/fold.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/fold.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\nconst transform = (options, upstreamData) => {\n    if (!upstreamData || !upstreamData.length) return [];\n    const {fields: fields, asKey: asKey = \"key\", asValue: asValue = \"value\", retains: retains} = options, results = [];\n    for (let i = 0, len = upstreamData.length; i < len; i++) {\n        const entry = upstreamData[i];\n        fields.forEach((field => {\n            const item = {};\n            if (retains) retains.forEach((retain => {\n                item[retain] = entry[retain];\n            })); else for (const prop in entry) -1 === fields.indexOf(prop) && (item[prop] = entry[prop]);\n            item[asKey] = field, item[asValue] = entry[field], results.push(item);\n        }));\n    }\n    return results;\n};\n//# sourceMappingURL=fold.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2ZvbGQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQSxXQUFXLG9GQUFvRjtBQUMvRiwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvZm9sZC5qcz9iNzIzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgaWYgKCF1cHN0cmVhbURhdGEgfHwgIXVwc3RyZWFtRGF0YS5sZW5ndGgpIHJldHVybiBbXTtcbiAgICBjb25zdCB7ZmllbGRzOiBmaWVsZHMsIGFzS2V5OiBhc0tleSA9IFwia2V5XCIsIGFzVmFsdWU6IGFzVmFsdWUgPSBcInZhbHVlXCIsIHJldGFpbnM6IHJldGFpbnN9ID0gb3B0aW9ucywgcmVzdWx0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB1cHN0cmVhbURhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB1cHN0cmVhbURhdGFbaV07XG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKChmaWVsZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0ge307XG4gICAgICAgICAgICBpZiAocmV0YWlucykgcmV0YWlucy5mb3JFYWNoKChyZXRhaW4gPT4ge1xuICAgICAgICAgICAgICAgIGl0ZW1bcmV0YWluXSA9IGVudHJ5W3JldGFpbl07XG4gICAgICAgICAgICB9KSk7IGVsc2UgZm9yIChjb25zdCBwcm9wIGluIGVudHJ5KSAtMSA9PT0gZmllbGRzLmluZGV4T2YocHJvcCkgJiYgKGl0ZW1bcHJvcF0gPSBlbnRyeVtwcm9wXSk7XG4gICAgICAgICAgICBpdGVtW2FzS2V5XSA9IGZpZWxkLCBpdGVtW2FzVmFsdWVdID0gZW50cnlbZmllbGRdLCByZXN1bHRzLnB1c2goaXRlbSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9sZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/fold.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/funnel.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/funnel.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst transform = (options, upstreamData) => {\n    var _a, _b;\n    const {field: field, asTransformRatio: asTransformRatio, asReachRatio: asReachRatio, asHeightRatio: asHeightRatio, asValueRatio: asValueRatio, asNextValueRatio: asNextValueRatio, asLastValueRatio: asLastValueRatio, asLastValue: asLastValue, asCurrentValue: asCurrentValue, asNextValue: asNextValue, heightVisual: heightVisual = !1, isCone: isCone = !0, range: range} = options, max = upstreamData.reduce(((m, d) => Math.max(m, Number.parseFloat(d[field]) || -1 / 0)), -1 / 0), min = upstreamData.reduce(((m, d) => Math.min(m, Number.parseFloat(d[field]) || 1 / 0)), 1 / 0), rangeArr = [ null !== (_a = null == range ? void 0 : range.min) && void 0 !== _a ? _a : min, null !== (_b = null == range ? void 0 : range.max) && void 0 !== _b ? _b : max ], data = upstreamData.map(((originDatum, index) => {\n        var _a, _b;\n        const datum = Object.assign({}, originDatum), currentValue = Number.parseFloat(datum[field]), lastValue = Number.parseFloat(null === (_a = upstreamData[index - 1]) || void 0 === _a ? void 0 : _a[field]), nextValue = Number.parseFloat(null === (_b = upstreamData[index + 1]) || void 0 === _b ? void 0 : _b[field]), transformRatio = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextValue * currentValue) ? nextValue / currentValue : null, reachRatio = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(currentValue * currentValue) ? currentValue / lastValue : null;\n        return asLastValue && (datum[asLastValue] = lastValue), asNextValue && (datum[asNextValue] = nextValue), \n        asTransformRatio && (datum[asTransformRatio] = transformRatio), asReachRatio && (datum[asReachRatio] = 0 === index ? 1 : reachRatio), \n        asHeightRatio && (datum[asHeightRatio] = !0 === heightVisual ? transformRatio : 1 / upstreamData.length), \n        asValueRatio && (datum[asValueRatio] = currentValue / rangeArr[1]), asNextValueRatio && (datum[asNextValueRatio] = index === upstreamData.length - 1 ? isCone ? 0 : datum[asValueRatio] : nextValue / rangeArr[1]), \n        asLastValueRatio && (datum[asLastValueRatio] = 0 === index ? 1 : lastValue / rangeArr[1]), \n        asCurrentValue && (datum[asCurrentValue] = currentValue), datum;\n    }));\n    return data;\n};\n//# sourceMappingURL=funnel.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2Z1bm5lbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRDs7QUFFMUM7QUFDUDtBQUNBLFdBQVcsd1dBQXdXO0FBQ25YO0FBQ0Esc0NBQXNDLDZTQUE2Uyw0REFBYSwyRUFBMkUsNERBQWE7QUFDeGI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2Z1bm5lbC5qcz84OWUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVmFsaWROdW1iZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3Qge2ZpZWxkOiBmaWVsZCwgYXNUcmFuc2Zvcm1SYXRpbzogYXNUcmFuc2Zvcm1SYXRpbywgYXNSZWFjaFJhdGlvOiBhc1JlYWNoUmF0aW8sIGFzSGVpZ2h0UmF0aW86IGFzSGVpZ2h0UmF0aW8sIGFzVmFsdWVSYXRpbzogYXNWYWx1ZVJhdGlvLCBhc05leHRWYWx1ZVJhdGlvOiBhc05leHRWYWx1ZVJhdGlvLCBhc0xhc3RWYWx1ZVJhdGlvOiBhc0xhc3RWYWx1ZVJhdGlvLCBhc0xhc3RWYWx1ZTogYXNMYXN0VmFsdWUsIGFzQ3VycmVudFZhbHVlOiBhc0N1cnJlbnRWYWx1ZSwgYXNOZXh0VmFsdWU6IGFzTmV4dFZhbHVlLCBoZWlnaHRWaXN1YWw6IGhlaWdodFZpc3VhbCA9ICExLCBpc0NvbmU6IGlzQ29uZSA9ICEwLCByYW5nZTogcmFuZ2V9ID0gb3B0aW9ucywgbWF4ID0gdXBzdHJlYW1EYXRhLnJlZHVjZSgoKG0sIGQpID0+IE1hdGgubWF4KG0sIE51bWJlci5wYXJzZUZsb2F0KGRbZmllbGRdKSB8fCAtMSAvIDApKSwgLTEgLyAwKSwgbWluID0gdXBzdHJlYW1EYXRhLnJlZHVjZSgoKG0sIGQpID0+IE1hdGgubWluKG0sIE51bWJlci5wYXJzZUZsb2F0KGRbZmllbGRdKSB8fCAxIC8gMCkpLCAxIC8gMCksIHJhbmdlQXJyID0gWyBudWxsICE9PSAoX2EgPSBudWxsID09IHJhbmdlID8gdm9pZCAwIDogcmFuZ2UubWluKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBtaW4sIG51bGwgIT09IChfYiA9IG51bGwgPT0gcmFuZ2UgPyB2b2lkIDAgOiByYW5nZS5tYXgpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IG1heCBdLCBkYXRhID0gdXBzdHJlYW1EYXRhLm1hcCgoKG9yaWdpbkRhdHVtLCBpbmRleCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBkYXR1bSA9IE9iamVjdC5hc3NpZ24oe30sIG9yaWdpbkRhdHVtKSwgY3VycmVudFZhbHVlID0gTnVtYmVyLnBhcnNlRmxvYXQoZGF0dW1bZmllbGRdKSwgbGFzdFZhbHVlID0gTnVtYmVyLnBhcnNlRmxvYXQobnVsbCA9PT0gKF9hID0gdXBzdHJlYW1EYXRhW2luZGV4IC0gMV0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYVtmaWVsZF0pLCBuZXh0VmFsdWUgPSBOdW1iZXIucGFyc2VGbG9hdChudWxsID09PSAoX2IgPSB1cHN0cmVhbURhdGFbaW5kZXggKyAxXSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iW2ZpZWxkXSksIHRyYW5zZm9ybVJhdGlvID0gaXNWYWxpZE51bWJlcihuZXh0VmFsdWUgKiBjdXJyZW50VmFsdWUpID8gbmV4dFZhbHVlIC8gY3VycmVudFZhbHVlIDogbnVsbCwgcmVhY2hSYXRpbyA9IGlzVmFsaWROdW1iZXIoY3VycmVudFZhbHVlICogY3VycmVudFZhbHVlKSA/IGN1cnJlbnRWYWx1ZSAvIGxhc3RWYWx1ZSA6IG51bGw7XG4gICAgICAgIHJldHVybiBhc0xhc3RWYWx1ZSAmJiAoZGF0dW1bYXNMYXN0VmFsdWVdID0gbGFzdFZhbHVlKSwgYXNOZXh0VmFsdWUgJiYgKGRhdHVtW2FzTmV4dFZhbHVlXSA9IG5leHRWYWx1ZSksIFxuICAgICAgICBhc1RyYW5zZm9ybVJhdGlvICYmIChkYXR1bVthc1RyYW5zZm9ybVJhdGlvXSA9IHRyYW5zZm9ybVJhdGlvKSwgYXNSZWFjaFJhdGlvICYmIChkYXR1bVthc1JlYWNoUmF0aW9dID0gMCA9PT0gaW5kZXggPyAxIDogcmVhY2hSYXRpbyksIFxuICAgICAgICBhc0hlaWdodFJhdGlvICYmIChkYXR1bVthc0hlaWdodFJhdGlvXSA9ICEwID09PSBoZWlnaHRWaXN1YWwgPyB0cmFuc2Zvcm1SYXRpbyA6IDEgLyB1cHN0cmVhbURhdGEubGVuZ3RoKSwgXG4gICAgICAgIGFzVmFsdWVSYXRpbyAmJiAoZGF0dW1bYXNWYWx1ZVJhdGlvXSA9IGN1cnJlbnRWYWx1ZSAvIHJhbmdlQXJyWzFdKSwgYXNOZXh0VmFsdWVSYXRpbyAmJiAoZGF0dW1bYXNOZXh0VmFsdWVSYXRpb10gPSBpbmRleCA9PT0gdXBzdHJlYW1EYXRhLmxlbmd0aCAtIDEgPyBpc0NvbmUgPyAwIDogZGF0dW1bYXNWYWx1ZVJhdGlvXSA6IG5leHRWYWx1ZSAvIHJhbmdlQXJyWzFdKSwgXG4gICAgICAgIGFzTGFzdFZhbHVlUmF0aW8gJiYgKGRhdHVtW2FzTGFzdFZhbHVlUmF0aW9dID0gMCA9PT0gaW5kZXggPyAxIDogbGFzdFZhbHVlIC8gcmFuZ2VBcnJbMV0pLCBcbiAgICAgICAgYXNDdXJyZW50VmFsdWUgJiYgKGRhdHVtW2FzQ3VycmVudFZhbHVlXSA9IGN1cnJlbnRWYWx1ZSksIGRhdHVtO1xuICAgIH0pKTtcbiAgICByZXR1cm4gZGF0YTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mdW5uZWwuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/funnel.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/join.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/join.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/logger.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/field.js\");\n\n\n\n\nconst transform = (options, data) => {\n    const logger = _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.Logger.getInstance();\n    let as = options.as;\n    const {fields: fields, from: from, key: key, values: values} = options, keyAccessor = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(key), indexMap = (from || []).reduce(((map, tuple) => (map[keyAccessor(tuple)] = tuple, \n    map)), {}), defaultValue = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.default) ? null : options.default, fieldAccessors = fields.map((field => (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(field)));\n    if (values) {\n        fields.length > 1 && !as && logger.error('Multi-field lookup requires explicit \"as\" parameter.'), \n        as && as.length !== fields.length * values.length && logger.error('The \"as\" parameter has too few output field names.'), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(as) && (as = values);\n        const valuesAccessors = values.map((value => (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(value)));\n        return data.map((entry => fieldAccessors.reduce(((res, fieldAccessor, fieldIndex) => {\n            const value = indexMap[fieldAccessor(entry)], valuesLength = values.length;\n            return ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value) ? valuesAccessors.map((valuesAccessor => defaultValue)) : valuesAccessors.map((valuesAccessor => valuesAccessor(value)))).reduce(((asRes, asValue, asIndex) => (asRes[as[fieldIndex * valuesLength + asIndex]] = asValue, \n            asRes)), res);\n        }), entry)));\n    }\n    return as || logger.error(\"Missing output field names.\"), data.map((entry => fieldAccessors.reduce(((res, fieldAccessor, fieldIndex) => {\n        const value = indexMap[fieldAccessor(entry)];\n        return res[as[fieldIndex]] = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value) ? defaultValue : value, res;\n    }), entry)));\n};\n//# sourceMappingURL=join.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2pvaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRDs7QUFFbUI7O0FBRTdEO0FBQ1AsbUJBQW1CLG9EQUFNO0FBQ3pCO0FBQ0EsV0FBVyxzREFBc0QseUJBQXlCLDhEQUFnQjtBQUMxRyxhQUFhLGtCQUFrQiw0REFBSyxrRkFBa0YsOERBQWdCO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQUs7QUFDYixxREFBcUQsOERBQWdCO0FBQ3JFO0FBQ0E7QUFDQSxvQkFBb0IsNERBQUs7QUFDekI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDREQUFLO0FBQzFDLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvam9pbi5qcz9hZmMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsLCBMb2dnZXIgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBmaWVsZCBhcyBnZXRGaWVsZEFjY2Vzc29yIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgZGF0YSkgPT4ge1xuICAgIGNvbnN0IGxvZ2dlciA9IExvZ2dlci5nZXRJbnN0YW5jZSgpO1xuICAgIGxldCBhcyA9IG9wdGlvbnMuYXM7XG4gICAgY29uc3Qge2ZpZWxkczogZmllbGRzLCBmcm9tOiBmcm9tLCBrZXk6IGtleSwgdmFsdWVzOiB2YWx1ZXN9ID0gb3B0aW9ucywga2V5QWNjZXNzb3IgPSBnZXRGaWVsZEFjY2Vzc29yKGtleSksIGluZGV4TWFwID0gKGZyb20gfHwgW10pLnJlZHVjZSgoKG1hcCwgdHVwbGUpID0+IChtYXBba2V5QWNjZXNzb3IodHVwbGUpXSA9IHR1cGxlLCBcbiAgICBtYXApKSwge30pLCBkZWZhdWx0VmFsdWUgPSBpc05pbChvcHRpb25zLmRlZmF1bHQpID8gbnVsbCA6IG9wdGlvbnMuZGVmYXVsdCwgZmllbGRBY2Nlc3NvcnMgPSBmaWVsZHMubWFwKChmaWVsZCA9PiBnZXRGaWVsZEFjY2Vzc29yKGZpZWxkKSkpO1xuICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgZmllbGRzLmxlbmd0aCA+IDEgJiYgIWFzICYmIGxvZ2dlci5lcnJvcignTXVsdGktZmllbGQgbG9va3VwIHJlcXVpcmVzIGV4cGxpY2l0IFwiYXNcIiBwYXJhbWV0ZXIuJyksIFxuICAgICAgICBhcyAmJiBhcy5sZW5ndGggIT09IGZpZWxkcy5sZW5ndGggKiB2YWx1ZXMubGVuZ3RoICYmIGxvZ2dlci5lcnJvcignVGhlIFwiYXNcIiBwYXJhbWV0ZXIgaGFzIHRvbyBmZXcgb3V0cHV0IGZpZWxkIG5hbWVzLicpLCBcbiAgICAgICAgaXNOaWwoYXMpICYmIChhcyA9IHZhbHVlcyk7XG4gICAgICAgIGNvbnN0IHZhbHVlc0FjY2Vzc29ycyA9IHZhbHVlcy5tYXAoKHZhbHVlID0+IGdldEZpZWxkQWNjZXNzb3IodmFsdWUpKSk7XG4gICAgICAgIHJldHVybiBkYXRhLm1hcCgoZW50cnkgPT4gZmllbGRBY2Nlc3NvcnMucmVkdWNlKCgocmVzLCBmaWVsZEFjY2Vzc29yLCBmaWVsZEluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGluZGV4TWFwW2ZpZWxkQWNjZXNzb3IoZW50cnkpXSwgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiAoaXNOaWwodmFsdWUpID8gdmFsdWVzQWNjZXNzb3JzLm1hcCgodmFsdWVzQWNjZXNzb3IgPT4gZGVmYXVsdFZhbHVlKSkgOiB2YWx1ZXNBY2Nlc3NvcnMubWFwKCh2YWx1ZXNBY2Nlc3NvciA9PiB2YWx1ZXNBY2Nlc3Nvcih2YWx1ZSkpKSkucmVkdWNlKCgoYXNSZXMsIGFzVmFsdWUsIGFzSW5kZXgpID0+IChhc1Jlc1thc1tmaWVsZEluZGV4ICogdmFsdWVzTGVuZ3RoICsgYXNJbmRleF1dID0gYXNWYWx1ZSwgXG4gICAgICAgICAgICBhc1JlcykpLCByZXMpO1xuICAgICAgICB9KSwgZW50cnkpKSk7XG4gICAgfVxuICAgIHJldHVybiBhcyB8fCBsb2dnZXIuZXJyb3IoXCJNaXNzaW5nIG91dHB1dCBmaWVsZCBuYW1lcy5cIiksIGRhdGEubWFwKChlbnRyeSA9PiBmaWVsZEFjY2Vzc29ycy5yZWR1Y2UoKChyZXMsIGZpZWxkQWNjZXNzb3IsIGZpZWxkSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbmRleE1hcFtmaWVsZEFjY2Vzc29yKGVudHJ5KV07XG4gICAgICAgIHJldHVybiByZXNbYXNbZmllbGRJbmRleF1dID0gaXNOaWwodmFsdWUpID8gZGVmYXVsdFZhbHVlIDogdmFsdWUsIHJlcztcbiAgICB9KSwgZW50cnkpKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9am9pbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/join.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/kde.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/kde.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/quantileSorted.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/data-structure/point.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNumber.js\");\n\n\nconst defaultBins = 256, defaultAs = [ \"x\", \"kde\" ], defaultAs2d = [ \"x\", \"y\", \"kde\" ], SQRT2PI = Math.sqrt(2 * Math.PI), SQRT2PI2 = Math.sqrt((2 * Math.PI) ** 2), gaussKernel = (x, dimension = 1) => {\n    const sp = 1 === dimension ? SQRT2PI : 2 === dimension ? SQRT2PI2 : Math.sqrt((2 * Math.PI) ** dimension);\n    return Math.exp(-(x ** 2) / 2) / sp;\n}, ruleOfThumbBandwidth = (data, dimension = 1) => {\n    const n = data.length, mean = data.reduce(((sum, datum) => sum + datum.x), 0) / n, sd = Math.sqrt(data.reduce(((v, datum) => v + (datum.x - mean) ** 2), 0) / n), sortedData = data.sort(((a, b) => a.x - b.x)).map((datum => datum.x)), q1 = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.quantileSorted)(sortedData, .25), iqr = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.quantileSorted)(sortedData, .75) - q1;\n    return .9 * Math.min(sd, iqr / 1.34) * n ** -.2;\n}, scottBandwidth = (data, dimension = 1) => data.length ** (-1 / (dimension + 4)), kde1d = (targetDatum, data, bandwidth) => {\n    const n = data.length;\n    return data.reduce(((v, datum) => {\n        const distance = Math.abs(targetDatum.x - datum.x);\n        return v + gaussKernel(distance / bandwidth, 1);\n    }), 0) / (n * bandwidth);\n}, kde2d = (targetDatum, data, bandwidth) => {\n    const n = data.length;\n    return data.reduce(((v, datum) => {\n        const distance = _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.PointService.distancePP(targetDatum, datum);\n        return v + gaussKernel(distance / bandwidth ** 2, 1);\n    }), 0) / (n * bandwidth ** 2);\n};\n\nconst transform = (options, upstreamData) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w;\n    if (!upstreamData || 0 === upstreamData.length) return upstreamData;\n    const dimension = null !== (_a = options.dimension) && void 0 !== _a ? _a : \"1d\", field = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.array)(options.field), bins = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.array)(null !== (_b = options.bins) && void 0 !== _b ? _b : 256), as = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__.array)(options.as);\n    if (\"1d\" === dimension) {\n        const data = upstreamData.map((datum => ({\n            x: datum[field[0]]\n        }))), bandwidth = null !== (_c = options.bandwidth) && void 0 !== _c ? _c : ruleOfThumbBandwidth(data), min = data.reduce(((min, datum) => Math.min(min, datum.x)), data[0].x), max = data.reduce(((max, datum) => Math.max(max, datum.x)), data[0].x), extentMin = null !== (_e = null === (_d = options.extent) || void 0 === _d ? void 0 : _d[0]) && void 0 !== _e ? _e : min, extentMax = null !== (_g = null === (_f = options.extent) || void 0 === _f ? void 0 : _f[1]) && void 0 !== _g ? _g : max, extent = [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(extentMin) ? extentMin : null !== (_h = extentMin.x) && void 0 !== _h ? _h : min, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(extentMax) ? extentMax : null !== (_j = extentMax.x) && void 0 !== _j ? _j : max ], step = (extent[1] - extent[0]) / bins[0], kdeResult = new Array(bins[0]).fill(0).map(((v, index) => {\n            var _a, _b;\n            const value = Math.min(extent[0] + step * (index + .5), extent[1]);\n            return {\n                [null !== (_a = as[0]) && void 0 !== _a ? _a : defaultAs[0]]: value,\n                [null !== (_b = as[1]) && void 0 !== _b ? _b : defaultAs[0]]: kde1d({\n                    x: value\n                }, data, bandwidth)\n            };\n        }));\n        return kdeResult;\n    }\n    if (\"2d\" === dimension) {\n        const data = upstreamData.map((datum => ({\n            x: datum[field[0]],\n            y: datum[field[1]]\n        }))), bandwidth = options.bandwidth || scottBandwidth(data, 2), min = data.reduce(((min, datum) => ({\n            x: Math.min(min.x, datum.x),\n            y: Math.min(min.y, datum.y)\n        })), data[0]), max = data.reduce(((max, datum) => ({\n            x: Math.max(max.x, datum.x),\n            y: Math.max(max.y, datum.y)\n        })), data[0]), extentMin = null !== (_l = null === (_k = options.extent) || void 0 === _k ? void 0 : _k[0]) && void 0 !== _l ? _l : min, extentMax = null !== (_o = null === (_m = options.extent) || void 0 === _m ? void 0 : _m[1]) && void 0 !== _o ? _o : max, extent = [ (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(extentMin) ? {\n            x: extentMin,\n            y: extentMin\n        } : {\n            x: null !== (_p = extentMin.x) && void 0 !== _p ? _p : min.x,\n            y: null !== (_q = extentMin.y) && void 0 !== _q ? _q : min.y\n        }, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(extentMax) ? {\n            x: extentMax,\n            y: extentMax\n        } : {\n            x: null !== (_r = extentMax.x) && void 0 !== _r ? _r : max.x,\n            y: null !== (_s = extentMax.y) && void 0 !== _s ? _s : max.y\n        } ], binsX = bins[0], binsY = null !== (_t = bins[1]) && void 0 !== _t ? _t : bins[0], stepX = (extent[1].x - extent[0].x) / binsX, stepY = (extent[1].y - extent[0].y) / binsY, kdeResult = [];\n        for (let yIndex = 0; yIndex < binsY; yIndex++) for (let xIndex = 0; xIndex < binsX; xIndex++) {\n            const x = Math.min(extent[0].x + stepX * (xIndex + .5), extent[1].x), y = Math.min(extent[0].y + stepY * (yIndex + .5), extent[1].y);\n            kdeResult.push({\n                [null !== (_u = as[0]) && void 0 !== _u ? _u : defaultAs2d[0]]: x,\n                [null !== (_v = as[1]) && void 0 !== _v ? _v : defaultAs2d[1]]: y,\n                [null !== (_w = as[2]) && void 0 !== _w ? _w : defaultAs2d[2]]: kde2d({\n                    x: x,\n                    y: y\n                }, data, bandwidth)\n            });\n        }\n        return kdeResult;\n    }\n    return [];\n};\n//# sourceMappingURL=kde.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL2tkZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpRjs7QUFFakY7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtQQUFrUCxnRUFBYyx5QkFBeUIsZ0VBQWM7QUFDdlM7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQSx5QkFBeUIsMERBQVk7QUFDckM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0EsOEZBQThGLHVEQUFLLHdCQUF3Qix1REFBSyxpRUFBaUUsdURBQUs7QUFDdE07QUFDQTtBQUNBO0FBQ0EsU0FBUyxzZkFBc2YsNERBQVEsbUZBQW1GLDREQUFRO0FBQ2xtQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVMsNlFBQTZRLDREQUFRO0FBQzlSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFNBQVMsRUFBRSw0REFBUTtBQUNuQjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkJBQTZCLGdCQUFnQiwrQkFBK0IsZ0JBQWdCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvZGF0YS9rZGUuanM/NGZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb2ludFNlcnZpY2UsIGFycmF5LCBpc051bWJlciwgcXVhbnRpbGVTb3J0ZWQgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5jb25zdCBkZWZhdWx0QmlucyA9IDI1NiwgZGVmYXVsdEFzID0gWyBcInhcIiwgXCJrZGVcIiBdLCBkZWZhdWx0QXMyZCA9IFsgXCJ4XCIsIFwieVwiLCBcImtkZVwiIF0sIFNRUlQyUEkgPSBNYXRoLnNxcnQoMiAqIE1hdGguUEkpLCBTUVJUMlBJMiA9IE1hdGguc3FydCgoMiAqIE1hdGguUEkpICoqIDIpLCBnYXVzc0tlcm5lbCA9ICh4LCBkaW1lbnNpb24gPSAxKSA9PiB7XG4gICAgY29uc3Qgc3AgPSAxID09PSBkaW1lbnNpb24gPyBTUVJUMlBJIDogMiA9PT0gZGltZW5zaW9uID8gU1FSVDJQSTIgOiBNYXRoLnNxcnQoKDIgKiBNYXRoLlBJKSAqKiBkaW1lbnNpb24pO1xuICAgIHJldHVybiBNYXRoLmV4cCgtKHggKiogMikgLyAyKSAvIHNwO1xufSwgcnVsZU9mVGh1bWJCYW5kd2lkdGggPSAoZGF0YSwgZGltZW5zaW9uID0gMSkgPT4ge1xuICAgIGNvbnN0IG4gPSBkYXRhLmxlbmd0aCwgbWVhbiA9IGRhdGEucmVkdWNlKCgoc3VtLCBkYXR1bSkgPT4gc3VtICsgZGF0dW0ueCksIDApIC8gbiwgc2QgPSBNYXRoLnNxcnQoZGF0YS5yZWR1Y2UoKCh2LCBkYXR1bSkgPT4gdiArIChkYXR1bS54IC0gbWVhbikgKiogMiksIDApIC8gbiksIHNvcnRlZERhdGEgPSBkYXRhLnNvcnQoKChhLCBiKSA9PiBhLnggLSBiLngpKS5tYXAoKGRhdHVtID0+IGRhdHVtLngpKSwgcTEgPSBxdWFudGlsZVNvcnRlZChzb3J0ZWREYXRhLCAuMjUpLCBpcXIgPSBxdWFudGlsZVNvcnRlZChzb3J0ZWREYXRhLCAuNzUpIC0gcTE7XG4gICAgcmV0dXJuIC45ICogTWF0aC5taW4oc2QsIGlxciAvIDEuMzQpICogbiAqKiAtLjI7XG59LCBzY290dEJhbmR3aWR0aCA9IChkYXRhLCBkaW1lbnNpb24gPSAxKSA9PiBkYXRhLmxlbmd0aCAqKiAoLTEgLyAoZGltZW5zaW9uICsgNCkpLCBrZGUxZCA9ICh0YXJnZXREYXR1bSwgZGF0YSwgYmFuZHdpZHRoKSA9PiB7XG4gICAgY29uc3QgbiA9IGRhdGEubGVuZ3RoO1xuICAgIHJldHVybiBkYXRhLnJlZHVjZSgoKHYsIGRhdHVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnModGFyZ2V0RGF0dW0ueCAtIGRhdHVtLngpO1xuICAgICAgICByZXR1cm4gdiArIGdhdXNzS2VybmVsKGRpc3RhbmNlIC8gYmFuZHdpZHRoLCAxKTtcbiAgICB9KSwgMCkgLyAobiAqIGJhbmR3aWR0aCk7XG59LCBrZGUyZCA9ICh0YXJnZXREYXR1bSwgZGF0YSwgYmFuZHdpZHRoKSA9PiB7XG4gICAgY29uc3QgbiA9IGRhdGEubGVuZ3RoO1xuICAgIHJldHVybiBkYXRhLnJlZHVjZSgoKHYsIGRhdHVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gUG9pbnRTZXJ2aWNlLmRpc3RhbmNlUFAodGFyZ2V0RGF0dW0sIGRhdHVtKTtcbiAgICAgICAgcmV0dXJuIHYgKyBnYXVzc0tlcm5lbChkaXN0YW5jZSAvIGJhbmR3aWR0aCAqKiAyLCAxKTtcbiAgICB9KSwgMCkgLyAobiAqIGJhbmR3aWR0aCAqKiAyKTtcbn07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3EsIF9yLCBfcywgX3QsIF91LCBfdiwgX3c7XG4gICAgaWYgKCF1cHN0cmVhbURhdGEgfHwgMCA9PT0gdXBzdHJlYW1EYXRhLmxlbmd0aCkgcmV0dXJuIHVwc3RyZWFtRGF0YTtcbiAgICBjb25zdCBkaW1lbnNpb24gPSBudWxsICE9PSAoX2EgPSBvcHRpb25zLmRpbWVuc2lvbikgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogXCIxZFwiLCBmaWVsZCA9IGFycmF5KG9wdGlvbnMuZmllbGQpLCBiaW5zID0gYXJyYXkobnVsbCAhPT0gKF9iID0gb3B0aW9ucy5iaW5zKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiAyNTYpLCBhcyA9IGFycmF5KG9wdGlvbnMuYXMpO1xuICAgIGlmIChcIjFkXCIgPT09IGRpbWVuc2lvbikge1xuICAgICAgICBjb25zdCBkYXRhID0gdXBzdHJlYW1EYXRhLm1hcCgoZGF0dW0gPT4gKHtcbiAgICAgICAgICAgIHg6IGRhdHVtW2ZpZWxkWzBdXVxuICAgICAgICB9KSkpLCBiYW5kd2lkdGggPSBudWxsICE9PSAoX2MgPSBvcHRpb25zLmJhbmR3aWR0aCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogcnVsZU9mVGh1bWJCYW5kd2lkdGgoZGF0YSksIG1pbiA9IGRhdGEucmVkdWNlKCgobWluLCBkYXR1bSkgPT4gTWF0aC5taW4obWluLCBkYXR1bS54KSksIGRhdGFbMF0ueCksIG1heCA9IGRhdGEucmVkdWNlKCgobWF4LCBkYXR1bSkgPT4gTWF0aC5tYXgobWF4LCBkYXR1bS54KSksIGRhdGFbMF0ueCksIGV4dGVudE1pbiA9IG51bGwgIT09IChfZSA9IG51bGwgPT09IChfZCA9IG9wdGlvbnMuZXh0ZW50KSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2RbMF0pICYmIHZvaWQgMCAhPT0gX2UgPyBfZSA6IG1pbiwgZXh0ZW50TWF4ID0gbnVsbCAhPT0gKF9nID0gbnVsbCA9PT0gKF9mID0gb3B0aW9ucy5leHRlbnQpIHx8IHZvaWQgMCA9PT0gX2YgPyB2b2lkIDAgOiBfZlsxXSkgJiYgdm9pZCAwICE9PSBfZyA/IF9nIDogbWF4LCBleHRlbnQgPSBbIGlzTnVtYmVyKGV4dGVudE1pbikgPyBleHRlbnRNaW4gOiBudWxsICE9PSAoX2ggPSBleHRlbnRNaW4ueCkgJiYgdm9pZCAwICE9PSBfaCA/IF9oIDogbWluLCBpc051bWJlcihleHRlbnRNYXgpID8gZXh0ZW50TWF4IDogbnVsbCAhPT0gKF9qID0gZXh0ZW50TWF4LngpICYmIHZvaWQgMCAhPT0gX2ogPyBfaiA6IG1heCBdLCBzdGVwID0gKGV4dGVudFsxXSAtIGV4dGVudFswXSkgLyBiaW5zWzBdLCBrZGVSZXN1bHQgPSBuZXcgQXJyYXkoYmluc1swXSkuZmlsbCgwKS5tYXAoKCh2LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gTWF0aC5taW4oZXh0ZW50WzBdICsgc3RlcCAqIChpbmRleCArIC41KSwgZXh0ZW50WzFdKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgW251bGwgIT09IChfYSA9IGFzWzBdKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBkZWZhdWx0QXNbMF1dOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBbbnVsbCAhPT0gKF9iID0gYXNbMV0pICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IGRlZmF1bHRBc1swXV06IGtkZTFkKHtcbiAgICAgICAgICAgICAgICAgICAgeDogdmFsdWVcbiAgICAgICAgICAgICAgICB9LCBkYXRhLCBiYW5kd2lkdGgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBrZGVSZXN1bHQ7XG4gICAgfVxuICAgIGlmIChcIjJkXCIgPT09IGRpbWVuc2lvbikge1xuICAgICAgICBjb25zdCBkYXRhID0gdXBzdHJlYW1EYXRhLm1hcCgoZGF0dW0gPT4gKHtcbiAgICAgICAgICAgIHg6IGRhdHVtW2ZpZWxkWzBdXSxcbiAgICAgICAgICAgIHk6IGRhdHVtW2ZpZWxkWzFdXVxuICAgICAgICB9KSkpLCBiYW5kd2lkdGggPSBvcHRpb25zLmJhbmR3aWR0aCB8fCBzY290dEJhbmR3aWR0aChkYXRhLCAyKSwgbWluID0gZGF0YS5yZWR1Y2UoKChtaW4sIGRhdHVtKSA9PiAoe1xuICAgICAgICAgICAgeDogTWF0aC5taW4obWluLngsIGRhdHVtLngpLFxuICAgICAgICAgICAgeTogTWF0aC5taW4obWluLnksIGRhdHVtLnkpXG4gICAgICAgIH0pKSwgZGF0YVswXSksIG1heCA9IGRhdGEucmVkdWNlKCgobWF4LCBkYXR1bSkgPT4gKHtcbiAgICAgICAgICAgIHg6IE1hdGgubWF4KG1heC54LCBkYXR1bS54KSxcbiAgICAgICAgICAgIHk6IE1hdGgubWF4KG1heC55LCBkYXR1bS55KVxuICAgICAgICB9KSksIGRhdGFbMF0pLCBleHRlbnRNaW4gPSBudWxsICE9PSAoX2wgPSBudWxsID09PSAoX2sgPSBvcHRpb25zLmV4dGVudCkgfHwgdm9pZCAwID09PSBfayA/IHZvaWQgMCA6IF9rWzBdKSAmJiB2b2lkIDAgIT09IF9sID8gX2wgOiBtaW4sIGV4dGVudE1heCA9IG51bGwgIT09IChfbyA9IG51bGwgPT09IChfbSA9IG9wdGlvbnMuZXh0ZW50KSB8fCB2b2lkIDAgPT09IF9tID8gdm9pZCAwIDogX21bMV0pICYmIHZvaWQgMCAhPT0gX28gPyBfbyA6IG1heCwgZXh0ZW50ID0gWyBpc051bWJlcihleHRlbnRNaW4pID8ge1xuICAgICAgICAgICAgeDogZXh0ZW50TWluLFxuICAgICAgICAgICAgeTogZXh0ZW50TWluXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICB4OiBudWxsICE9PSAoX3AgPSBleHRlbnRNaW4ueCkgJiYgdm9pZCAwICE9PSBfcCA/IF9wIDogbWluLngsXG4gICAgICAgICAgICB5OiBudWxsICE9PSAoX3EgPSBleHRlbnRNaW4ueSkgJiYgdm9pZCAwICE9PSBfcSA/IF9xIDogbWluLnlcbiAgICAgICAgfSwgaXNOdW1iZXIoZXh0ZW50TWF4KSA/IHtcbiAgICAgICAgICAgIHg6IGV4dGVudE1heCxcbiAgICAgICAgICAgIHk6IGV4dGVudE1heFxuICAgICAgICB9IDoge1xuICAgICAgICAgICAgeDogbnVsbCAhPT0gKF9yID0gZXh0ZW50TWF4LngpICYmIHZvaWQgMCAhPT0gX3IgPyBfciA6IG1heC54LFxuICAgICAgICAgICAgeTogbnVsbCAhPT0gKF9zID0gZXh0ZW50TWF4LnkpICYmIHZvaWQgMCAhPT0gX3MgPyBfcyA6IG1heC55XG4gICAgICAgIH0gXSwgYmluc1ggPSBiaW5zWzBdLCBiaW5zWSA9IG51bGwgIT09IChfdCA9IGJpbnNbMV0pICYmIHZvaWQgMCAhPT0gX3QgPyBfdCA6IGJpbnNbMF0sIHN0ZXBYID0gKGV4dGVudFsxXS54IC0gZXh0ZW50WzBdLngpIC8gYmluc1gsIHN0ZXBZID0gKGV4dGVudFsxXS55IC0gZXh0ZW50WzBdLnkpIC8gYmluc1ksIGtkZVJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCB5SW5kZXggPSAwOyB5SW5kZXggPCBiaW5zWTsgeUluZGV4KyspIGZvciAobGV0IHhJbmRleCA9IDA7IHhJbmRleCA8IGJpbnNYOyB4SW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgeCA9IE1hdGgubWluKGV4dGVudFswXS54ICsgc3RlcFggKiAoeEluZGV4ICsgLjUpLCBleHRlbnRbMV0ueCksIHkgPSBNYXRoLm1pbihleHRlbnRbMF0ueSArIHN0ZXBZICogKHlJbmRleCArIC41KSwgZXh0ZW50WzFdLnkpO1xuICAgICAgICAgICAga2RlUmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgIFtudWxsICE9PSAoX3UgPSBhc1swXSkgJiYgdm9pZCAwICE9PSBfdSA/IF91IDogZGVmYXVsdEFzMmRbMF1dOiB4LFxuICAgICAgICAgICAgICAgIFtudWxsICE9PSAoX3YgPSBhc1sxXSkgJiYgdm9pZCAwICE9PSBfdiA/IF92IDogZGVmYXVsdEFzMmRbMV1dOiB5LFxuICAgICAgICAgICAgICAgIFtudWxsICE9PSAoX3cgPSBhc1syXSkgJiYgdm9pZCAwICE9PSBfdyA/IF93IDogZGVmYXVsdEFzMmRbMl1dOiBrZGUyZCh7XG4gICAgICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgICAgICB9LCBkYXRhLCBiYW5kd2lkdGgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2RlUmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gW107XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2RlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/kde.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/map.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/map.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nconst transform = (options, upstreamData, params) => {\n    const func = options.callback, as = options.as;\n    if (!options.all) return upstreamData.forEach((entry => {\n        const data = func(entry, params);\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(as)) {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(entry)) return;\n            entry[as] = data;\n        }\n        return data;\n    })), upstreamData;\n    const data = func(upstreamData, params);\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(as) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(upstreamData) ? data : (upstreamData[as] = data, upstreamData);\n};\n//# sourceMappingURL=map.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL21hcC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF5Qzs7QUFFbEM7QUFDUDtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUFLO0FBQ2xCLGdCQUFnQiw0REFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXLDREQUFLLFFBQVEsNERBQUs7QUFDN0I7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL21hcC5qcz9iMWJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEsIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGZ1bmMgPSBvcHRpb25zLmNhbGxiYWNrLCBhcyA9IG9wdGlvbnMuYXM7XG4gICAgaWYgKCFvcHRpb25zLmFsbCkgcmV0dXJuIHVwc3RyZWFtRGF0YS5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBmdW5jKGVudHJ5LCBwYXJhbXMpO1xuICAgICAgICBpZiAoIWlzTmlsKGFzKSkge1xuICAgICAgICAgICAgaWYgKGlzTmlsKGVudHJ5KSkgcmV0dXJuO1xuICAgICAgICAgICAgZW50cnlbYXNdID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9KSksIHVwc3RyZWFtRGF0YTtcbiAgICBjb25zdCBkYXRhID0gZnVuYyh1cHN0cmVhbURhdGEsIHBhcmFtcyk7XG4gICAgcmV0dXJuIGlzTmlsKGFzKSB8fCBpc05pbCh1cHN0cmVhbURhdGEpID8gZGF0YSA6ICh1cHN0cmVhbURhdGFbYXNdID0gZGF0YSwgdXBzdHJlYW1EYXRhKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/pick.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/pick.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _util_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js\");\n\n\n\n\n\n\nfunction project(source, fields, as) {\n    return fields.reduce(((res, field, index) => (res[as[index]] = field(source), res)), {});\n}\n\nconst transform = (options, upstreamData) => {\n    const {fields: fields = []} = options, as = (0,_util_util__WEBPACK_IMPORTED_MODULE_0__.fieldNames)(fields, options.as || []), fieldsAccessors = fields.map((field => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(field) ? (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__.field)(field) : field));\n    return fieldsAccessors.length ? upstreamData.map(((entry, index) => project(entry, fieldsAccessors, as))) : upstreamData.map(((entry, index) => ({})));\n};\n//# sourceMappingURL=pick.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3BpY2suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRTs7QUFFeEI7O0FBRUY7O0FBRTFDO0FBQ0EsMkZBQTJGO0FBQzNGOztBQUVPO0FBQ1AsV0FBVyxxQkFBcUIsZ0JBQWdCLHNEQUFVLG1FQUFtRSw0REFBUSxVQUFVLDhEQUFnQjtBQUMvSix1SkFBdUo7QUFDdko7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3BpY2suanM/OGFhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaWVsZCBhcyBnZXRGaWVsZEFjY2Vzc29yIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgZmllbGROYW1lcyB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcblxuZnVuY3Rpb24gcHJvamVjdChzb3VyY2UsIGZpZWxkcywgYXMpIHtcbiAgICByZXR1cm4gZmllbGRzLnJlZHVjZSgoKHJlcywgZmllbGQsIGluZGV4KSA9PiAocmVzW2FzW2luZGV4XV0gPSBmaWVsZChzb3VyY2UpLCByZXMpKSwge30pO1xufVxuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIGNvbnN0IHtmaWVsZHM6IGZpZWxkcyA9IFtdfSA9IG9wdGlvbnMsIGFzID0gZmllbGROYW1lcyhmaWVsZHMsIG9wdGlvbnMuYXMgfHwgW10pLCBmaWVsZHNBY2Nlc3NvcnMgPSBmaWVsZHMubWFwKChmaWVsZCA9PiBpc1N0cmluZyhmaWVsZCkgPyBnZXRGaWVsZEFjY2Vzc29yKGZpZWxkKSA6IGZpZWxkKSk7XG4gICAgcmV0dXJuIGZpZWxkc0FjY2Vzc29ycy5sZW5ndGggPyB1cHN0cmVhbURhdGEubWFwKCgoZW50cnksIGluZGV4KSA9PiBwcm9qZWN0KGVudHJ5LCBmaWVsZHNBY2Nlc3NvcnMsIGFzKSkpIDogdXBzdHJlYW1EYXRhLm1hcCgoKGVudHJ5LCBpbmRleCkgPT4gKHt9KSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpY2suanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/pick.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/pie.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/pie.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/angle.js\");\n\n\nconst transform = (options, upstreamData) => {\n    var _a, _b;\n    if (!upstreamData || 0 === upstreamData.length) return upstreamData;\n    const field = options.field, startAngle = null !== (_a = options.startAngle) && void 0 !== _a ? _a : 0, endAngle = null !== (_b = options.endAngle) && void 0 !== _b ? _b : 2 * Math.PI, {asStartAngle: asStartAngle, asEndAngle: asEndAngle, asMiddleAngle: asMiddleAngle, asRadian: asRadian, asRatio: asRatio, asQuadrant: asQuadrant, asK: asK} = options, total = upstreamData.reduce(((sum, d) => Number.parseFloat(d[field]) + sum), 0), max = upstreamData.reduce(((m, d) => Math.max(m, Number.parseFloat(d[field]))), -1 / 0), intervalAngle = endAngle - startAngle;\n    let lastAngle = startAngle;\n    const data = upstreamData.map((originDatum => {\n        const datum = Object.assign({}, originDatum), ratio = Number.parseFloat(datum[field]) / total, radian = ratio * intervalAngle;\n        return asRatio && (datum[asRatio] = ratio), asStartAngle && (datum[asStartAngle] = lastAngle), \n        asEndAngle && (datum[asEndAngle] = lastAngle + radian), asMiddleAngle && (datum[asMiddleAngle] = lastAngle + radian / 2), \n        asRadian && (datum[asRadian] = radian), asQuadrant && (datum[asQuadrant] = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.computeQuadrant)(lastAngle + radian / 2)), \n        asK && (datum[asK] = Number.parseFloat(datum[field]) / max), lastAngle = datum[asEndAngle], \n        datum;\n    }));\n    return data[data.length - 1][asEndAngle] = endAngle, data;\n};\n//# sourceMappingURL=pie.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3BpZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRDs7QUFFNUM7QUFDUDtBQUNBO0FBQ0EsOExBQThMLDBKQUEwSjtBQUN4VjtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxtRkFBbUYsaUVBQWU7QUFDbEc7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvZGF0YS9waWUuanM/NDVhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wdXRlUXVhZHJhbnQgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCF1cHN0cmVhbURhdGEgfHwgMCA9PT0gdXBzdHJlYW1EYXRhLmxlbmd0aCkgcmV0dXJuIHVwc3RyZWFtRGF0YTtcbiAgICBjb25zdCBmaWVsZCA9IG9wdGlvbnMuZmllbGQsIHN0YXJ0QW5nbGUgPSBudWxsICE9PSAoX2EgPSBvcHRpb25zLnN0YXJ0QW5nbGUpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDAsIGVuZEFuZ2xlID0gbnVsbCAhPT0gKF9iID0gb3B0aW9ucy5lbmRBbmdsZSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogMiAqIE1hdGguUEksIHthc1N0YXJ0QW5nbGU6IGFzU3RhcnRBbmdsZSwgYXNFbmRBbmdsZTogYXNFbmRBbmdsZSwgYXNNaWRkbGVBbmdsZTogYXNNaWRkbGVBbmdsZSwgYXNSYWRpYW46IGFzUmFkaWFuLCBhc1JhdGlvOiBhc1JhdGlvLCBhc1F1YWRyYW50OiBhc1F1YWRyYW50LCBhc0s6IGFzS30gPSBvcHRpb25zLCB0b3RhbCA9IHVwc3RyZWFtRGF0YS5yZWR1Y2UoKChzdW0sIGQpID0+IE51bWJlci5wYXJzZUZsb2F0KGRbZmllbGRdKSArIHN1bSksIDApLCBtYXggPSB1cHN0cmVhbURhdGEucmVkdWNlKCgobSwgZCkgPT4gTWF0aC5tYXgobSwgTnVtYmVyLnBhcnNlRmxvYXQoZFtmaWVsZF0pKSksIC0xIC8gMCksIGludGVydmFsQW5nbGUgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgbGV0IGxhc3RBbmdsZSA9IHN0YXJ0QW5nbGU7XG4gICAgY29uc3QgZGF0YSA9IHVwc3RyZWFtRGF0YS5tYXAoKG9yaWdpbkRhdHVtID0+IHtcbiAgICAgICAgY29uc3QgZGF0dW0gPSBPYmplY3QuYXNzaWduKHt9LCBvcmlnaW5EYXR1bSksIHJhdGlvID0gTnVtYmVyLnBhcnNlRmxvYXQoZGF0dW1bZmllbGRdKSAvIHRvdGFsLCByYWRpYW4gPSByYXRpbyAqIGludGVydmFsQW5nbGU7XG4gICAgICAgIHJldHVybiBhc1JhdGlvICYmIChkYXR1bVthc1JhdGlvXSA9IHJhdGlvKSwgYXNTdGFydEFuZ2xlICYmIChkYXR1bVthc1N0YXJ0QW5nbGVdID0gbGFzdEFuZ2xlKSwgXG4gICAgICAgIGFzRW5kQW5nbGUgJiYgKGRhdHVtW2FzRW5kQW5nbGVdID0gbGFzdEFuZ2xlICsgcmFkaWFuKSwgYXNNaWRkbGVBbmdsZSAmJiAoZGF0dW1bYXNNaWRkbGVBbmdsZV0gPSBsYXN0QW5nbGUgKyByYWRpYW4gLyAyKSwgXG4gICAgICAgIGFzUmFkaWFuICYmIChkYXR1bVthc1JhZGlhbl0gPSByYWRpYW4pLCBhc1F1YWRyYW50ICYmIChkYXR1bVthc1F1YWRyYW50XSA9IGNvbXB1dGVRdWFkcmFudChsYXN0QW5nbGUgKyByYWRpYW4gLyAyKSksIFxuICAgICAgICBhc0sgJiYgKGRhdHVtW2FzS10gPSBOdW1iZXIucGFyc2VGbG9hdChkYXR1bVtmaWVsZF0pIC8gbWF4KSwgbGFzdEFuZ2xlID0gZGF0dW1bYXNFbmRBbmdsZV0sIFxuICAgICAgICBkYXR1bTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGRhdGFbZGF0YS5sZW5ndGggLSAxXVthc0VuZEFuZ2xlXSA9IGVuZEFuZ2xlLCBkYXRhO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/pie.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/range.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/range.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/range.js\");\n\n\nconst transform = options => {\n    const {start: start, stop: stop, step: step = 1, as: as = \"data\"} = options;\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.range)(start, stop, step).map((val => ({\n        [as]: val\n    })));\n};\n//# sourceMappingURL=range.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3JhbmdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlDOztBQUVsQztBQUNQLFdBQVcsMkRBQTJEO0FBQ3RFLFdBQVcsdURBQUs7QUFDaEI7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3JhbmdlLmpzP2ZiNGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmFuZ2UgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gb3B0aW9ucyA9PiB7XG4gICAgY29uc3Qge3N0YXJ0OiBzdGFydCwgc3RvcDogc3RvcCwgc3RlcDogc3RlcCA9IDEsIGFzOiBhcyA9IFwiZGF0YVwifSA9IG9wdGlvbnM7XG4gICAgcmV0dXJuIHJhbmdlKHN0YXJ0LCBzdG9wLCBzdGVwKS5tYXAoKHZhbCA9PiAoe1xuICAgICAgICBbYXNdOiB2YWxcbiAgICB9KSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhbmdlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/range.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/sampling.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/sampling.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _util_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js\");\n\n\n\n\nconst samplerMap = {\n    min: _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.minInArray,\n    max: _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.maxInArray,\n    average: _util_util__WEBPACK_IMPORTED_MODULE_1__.average,\n    sum: _util_util__WEBPACK_IMPORTED_MODULE_1__.sum\n};\n\nfunction lttb(size, array, isGroup, yfield) {\n    const frameSize = Math.floor(array.length / size), newIndices = [], len = array.length;\n    let maxArea, area, nextIndex, currentIndex = 0, sampledIndex = 0;\n    newIndices[sampledIndex++] = currentIndex;\n    for (let i = 1; i < len - 1; i += frameSize) {\n        const nextFrameStart = Math.min(i + frameSize, len - 1), nextFrameEnd = Math.min(i + 2 * frameSize, len), avgX = (nextFrameEnd + nextFrameStart) / 2;\n        let avgY = 0;\n        for (let idx = nextFrameStart; idx < nextFrameEnd; idx++) {\n            const value = array[idx][yfield];\n            Number.isNaN(value) || (avgY += value);\n        }\n        avgY /= nextFrameEnd - nextFrameStart;\n        const frameStart = i, frameEnd = Math.min(i + frameSize, len), pointAX = i - 1, pointAY = array[currentIndex][yfield];\n        maxArea = -1, nextIndex = frameStart;\n        for (let idx = frameStart; idx < frameEnd; idx++) {\n            const value = array[idx][yfield];\n            Number.isNaN(yfield) || (area = Math.abs((pointAX - avgX) * (value - pointAY) - (pointAX - idx) * (avgY - pointAY)), \n            area > maxArea && (maxArea = area, nextIndex = idx));\n        }\n        newIndices[sampledIndex++] = nextIndex, currentIndex = nextIndex;\n    }\n    newIndices[sampledIndex - 1] !== len - 1 && (newIndices[sampledIndex++] = len - 1);\n    return newIndices.map((i => isGroup ? array[i].i : i));\n}\n\nfunction sample(size, array, isGroup, mode, yfield) {\n    let frameSize = Math.floor(array.length / size);\n    const newIndices = [], len = array.length;\n    let sampledIndex = 0, frameValues = [];\n    newIndices.push(sampledIndex), array[sampledIndex][yfield] = array[sampledIndex][yfield];\n    for (let i = 1; i < len - 1; i += frameSize) {\n        frameSize > len - i && (frameSize = len - i, frameValues.length = frameSize), frameValues = [];\n        for (let k = 0; k < frameSize; k++) frameValues.push(array[i + k][yfield]);\n        const value = samplerMap[mode](frameValues);\n        sampledIndex = Math.min(Math.round(i + frameValues.length / 2) || 0, len - 1), array[sampledIndex][yfield] = value, \n        newIndices.push(sampledIndex);\n    }\n    return newIndices.map((i => isGroup ? array[i].i : i));\n}\n\nfunction sampleMin(size, array, isGroup, yfield) {\n    return sample(size, array, isGroup, \"min\", yfield);\n}\n\nfunction sampleMax(size, array, isGroup, yfield) {\n    return sample(size, array, isGroup, \"max\", yfield);\n}\n\nfunction sampleAverage(size, array, isGroup, yfield) {\n    return sample(size, array, isGroup, \"average\", yfield);\n}\n\nfunction sampleSum(size, array, isGroup, yfield) {\n    return sample(size, array, isGroup, \"sum\", yfield);\n}\n\nconst transform = (options, upstreamData) => {\n    let size = options.size;\n    const factor = options.factor || 1;\n    if (Array.isArray(size) && (size = Math.floor(size[1] - size[0])), size *= factor, \n    size <= 0) return [];\n    if (upstreamData.length <= size) return upstreamData;\n    if (options.skipfirst) return upstreamData.slice(0, 1);\n    const {mode: mode, yfield: y, groupBy: groupBy} = options, yfield = null != y ? y : \"y\";\n    let sampler = lttb;\n    if (\"min\" === mode ? sampler = sampleMin : \"max\" === mode ? sampler = sampleMax : \"average\" === mode ? sampler = sampleAverage : \"sum\" === mode && (sampler = sampleSum), \n    upstreamData.length) {\n        const groups = {};\n        if (groupBy) {\n            for (let i = 0, n = upstreamData.length; i < n; i++) {\n                const datum = upstreamData[i], groupId = datum[groupBy];\n                groups[groupId] ? groups[groupId].push({\n                    [yfield]: datum[yfield],\n                    i: i\n                }) : (groups[groupId] = [], groups[groupId].push({\n                    [yfield]: datum[yfield],\n                    i: i\n                }));\n            }\n            let rawIndice = [];\n            return Object.keys(groups).forEach((groupName => {\n                const group = groups[groupName];\n                if (group.length <= size) {\n                    const indices = group.map((datum => datum.i));\n                    rawIndice = rawIndice.concat(indices);\n                } else {\n                    const indices = sampler(size, group, !0, yfield);\n                    rawIndice = rawIndice.concat(indices), group.forEach((datum => upstreamData[datum.i][yfield] = datum[yfield]));\n                }\n            })), rawIndice.sort(((a, b) => a - b)), rawIndice.map((index => upstreamData[index]));\n        }\n        return sampler(size, upstreamData, !1, yfield).map((index => upstreamData[index]));\n    }\n    return [];\n};\n//# sourceMappingURL=sampling.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3NhbXBsaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwRDs7QUFFZDs7QUFFNUM7QUFDQSxTQUFTLHdEQUFVO0FBQ25CLFNBQVMsd0RBQVU7QUFDbkIsYUFBYSwrQ0FBTztBQUNwQixTQUFTLDJDQUFHO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0EsdUNBQXVDLG9CQUFvQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0JBQWdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGFBQWE7QUFDakM7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5Q0FBeUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxPQUFPO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3NhbXBsaW5nLmpzPzdiY2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWF4SW5BcnJheSwgbWluSW5BcnJheSB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGF2ZXJhZ2UsIHN1bSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcblxuY29uc3Qgc2FtcGxlck1hcCA9IHtcbiAgICBtaW46IG1pbkluQXJyYXksXG4gICAgbWF4OiBtYXhJbkFycmF5LFxuICAgIGF2ZXJhZ2U6IGF2ZXJhZ2UsXG4gICAgc3VtOiBzdW1cbn07XG5cbmZ1bmN0aW9uIGx0dGIoc2l6ZSwgYXJyYXksIGlzR3JvdXAsIHlmaWVsZCkge1xuICAgIGNvbnN0IGZyYW1lU2l6ZSA9IE1hdGguZmxvb3IoYXJyYXkubGVuZ3RoIC8gc2l6ZSksIG5ld0luZGljZXMgPSBbXSwgbGVuID0gYXJyYXkubGVuZ3RoO1xuICAgIGxldCBtYXhBcmVhLCBhcmVhLCBuZXh0SW5kZXgsIGN1cnJlbnRJbmRleCA9IDAsIHNhbXBsZWRJbmRleCA9IDA7XG4gICAgbmV3SW5kaWNlc1tzYW1wbGVkSW5kZXgrK10gPSBjdXJyZW50SW5kZXg7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW4gLSAxOyBpICs9IGZyYW1lU2l6ZSkge1xuICAgICAgICBjb25zdCBuZXh0RnJhbWVTdGFydCA9IE1hdGgubWluKGkgKyBmcmFtZVNpemUsIGxlbiAtIDEpLCBuZXh0RnJhbWVFbmQgPSBNYXRoLm1pbihpICsgMiAqIGZyYW1lU2l6ZSwgbGVuKSwgYXZnWCA9IChuZXh0RnJhbWVFbmQgKyBuZXh0RnJhbWVTdGFydCkgLyAyO1xuICAgICAgICBsZXQgYXZnWSA9IDA7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IG5leHRGcmFtZVN0YXJ0OyBpZHggPCBuZXh0RnJhbWVFbmQ7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFycmF5W2lkeF1beWZpZWxkXTtcbiAgICAgICAgICAgIE51bWJlci5pc05hTih2YWx1ZSkgfHwgKGF2Z1kgKz0gdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGF2Z1kgLz0gbmV4dEZyYW1lRW5kIC0gbmV4dEZyYW1lU3RhcnQ7XG4gICAgICAgIGNvbnN0IGZyYW1lU3RhcnQgPSBpLCBmcmFtZUVuZCA9IE1hdGgubWluKGkgKyBmcmFtZVNpemUsIGxlbiksIHBvaW50QVggPSBpIC0gMSwgcG9pbnRBWSA9IGFycmF5W2N1cnJlbnRJbmRleF1beWZpZWxkXTtcbiAgICAgICAgbWF4QXJlYSA9IC0xLCBuZXh0SW5kZXggPSBmcmFtZVN0YXJ0O1xuICAgICAgICBmb3IgKGxldCBpZHggPSBmcmFtZVN0YXJ0OyBpZHggPCBmcmFtZUVuZDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXJyYXlbaWR4XVt5ZmllbGRdO1xuICAgICAgICAgICAgTnVtYmVyLmlzTmFOKHlmaWVsZCkgfHwgKGFyZWEgPSBNYXRoLmFicygocG9pbnRBWCAtIGF2Z1gpICogKHZhbHVlIC0gcG9pbnRBWSkgLSAocG9pbnRBWCAtIGlkeCkgKiAoYXZnWSAtIHBvaW50QVkpKSwgXG4gICAgICAgICAgICBhcmVhID4gbWF4QXJlYSAmJiAobWF4QXJlYSA9IGFyZWEsIG5leHRJbmRleCA9IGlkeCkpO1xuICAgICAgICB9XG4gICAgICAgIG5ld0luZGljZXNbc2FtcGxlZEluZGV4KytdID0gbmV4dEluZGV4LCBjdXJyZW50SW5kZXggPSBuZXh0SW5kZXg7XG4gICAgfVxuICAgIG5ld0luZGljZXNbc2FtcGxlZEluZGV4IC0gMV0gIT09IGxlbiAtIDEgJiYgKG5ld0luZGljZXNbc2FtcGxlZEluZGV4KytdID0gbGVuIC0gMSk7XG4gICAgcmV0dXJuIG5ld0luZGljZXMubWFwKChpID0+IGlzR3JvdXAgPyBhcnJheVtpXS5pIDogaSkpO1xufVxuXG5mdW5jdGlvbiBzYW1wbGUoc2l6ZSwgYXJyYXksIGlzR3JvdXAsIG1vZGUsIHlmaWVsZCkge1xuICAgIGxldCBmcmFtZVNpemUgPSBNYXRoLmZsb29yKGFycmF5Lmxlbmd0aCAvIHNpemUpO1xuICAgIGNvbnN0IG5ld0luZGljZXMgPSBbXSwgbGVuID0gYXJyYXkubGVuZ3RoO1xuICAgIGxldCBzYW1wbGVkSW5kZXggPSAwLCBmcmFtZVZhbHVlcyA9IFtdO1xuICAgIG5ld0luZGljZXMucHVzaChzYW1wbGVkSW5kZXgpLCBhcnJheVtzYW1wbGVkSW5kZXhdW3lmaWVsZF0gPSBhcnJheVtzYW1wbGVkSW5kZXhdW3lmaWVsZF07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW4gLSAxOyBpICs9IGZyYW1lU2l6ZSkge1xuICAgICAgICBmcmFtZVNpemUgPiBsZW4gLSBpICYmIChmcmFtZVNpemUgPSBsZW4gLSBpLCBmcmFtZVZhbHVlcy5sZW5ndGggPSBmcmFtZVNpemUpLCBmcmFtZVZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGZyYW1lU2l6ZTsgaysrKSBmcmFtZVZhbHVlcy5wdXNoKGFycmF5W2kgKyBrXVt5ZmllbGRdKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzYW1wbGVyTWFwW21vZGVdKGZyYW1lVmFsdWVzKTtcbiAgICAgICAgc2FtcGxlZEluZGV4ID0gTWF0aC5taW4oTWF0aC5yb3VuZChpICsgZnJhbWVWYWx1ZXMubGVuZ3RoIC8gMikgfHwgMCwgbGVuIC0gMSksIGFycmF5W3NhbXBsZWRJbmRleF1beWZpZWxkXSA9IHZhbHVlLCBcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKHNhbXBsZWRJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiBuZXdJbmRpY2VzLm1hcCgoaSA9PiBpc0dyb3VwID8gYXJyYXlbaV0uaSA6IGkpKTtcbn1cblxuZnVuY3Rpb24gc2FtcGxlTWluKHNpemUsIGFycmF5LCBpc0dyb3VwLCB5ZmllbGQpIHtcbiAgICByZXR1cm4gc2FtcGxlKHNpemUsIGFycmF5LCBpc0dyb3VwLCBcIm1pblwiLCB5ZmllbGQpO1xufVxuXG5mdW5jdGlvbiBzYW1wbGVNYXgoc2l6ZSwgYXJyYXksIGlzR3JvdXAsIHlmaWVsZCkge1xuICAgIHJldHVybiBzYW1wbGUoc2l6ZSwgYXJyYXksIGlzR3JvdXAsIFwibWF4XCIsIHlmaWVsZCk7XG59XG5cbmZ1bmN0aW9uIHNhbXBsZUF2ZXJhZ2Uoc2l6ZSwgYXJyYXksIGlzR3JvdXAsIHlmaWVsZCkge1xuICAgIHJldHVybiBzYW1wbGUoc2l6ZSwgYXJyYXksIGlzR3JvdXAsIFwiYXZlcmFnZVwiLCB5ZmllbGQpO1xufVxuXG5mdW5jdGlvbiBzYW1wbGVTdW0oc2l6ZSwgYXJyYXksIGlzR3JvdXAsIHlmaWVsZCkge1xuICAgIHJldHVybiBzYW1wbGUoc2l6ZSwgYXJyYXksIGlzR3JvdXAsIFwic3VtXCIsIHlmaWVsZCk7XG59XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgbGV0IHNpemUgPSBvcHRpb25zLnNpemU7XG4gICAgY29uc3QgZmFjdG9yID0gb3B0aW9ucy5mYWN0b3IgfHwgMTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzaXplKSAmJiAoc2l6ZSA9IE1hdGguZmxvb3Ioc2l6ZVsxXSAtIHNpemVbMF0pKSwgc2l6ZSAqPSBmYWN0b3IsIFxuICAgIHNpemUgPD0gMCkgcmV0dXJuIFtdO1xuICAgIGlmICh1cHN0cmVhbURhdGEubGVuZ3RoIDw9IHNpemUpIHJldHVybiB1cHN0cmVhbURhdGE7XG4gICAgaWYgKG9wdGlvbnMuc2tpcGZpcnN0KSByZXR1cm4gdXBzdHJlYW1EYXRhLnNsaWNlKDAsIDEpO1xuICAgIGNvbnN0IHttb2RlOiBtb2RlLCB5ZmllbGQ6IHksIGdyb3VwQnk6IGdyb3VwQnl9ID0gb3B0aW9ucywgeWZpZWxkID0gbnVsbCAhPSB5ID8geSA6IFwieVwiO1xuICAgIGxldCBzYW1wbGVyID0gbHR0YjtcbiAgICBpZiAoXCJtaW5cIiA9PT0gbW9kZSA/IHNhbXBsZXIgPSBzYW1wbGVNaW4gOiBcIm1heFwiID09PSBtb2RlID8gc2FtcGxlciA9IHNhbXBsZU1heCA6IFwiYXZlcmFnZVwiID09PSBtb2RlID8gc2FtcGxlciA9IHNhbXBsZUF2ZXJhZ2UgOiBcInN1bVwiID09PSBtb2RlICYmIChzYW1wbGVyID0gc2FtcGxlU3VtKSwgXG4gICAgdXBzdHJlYW1EYXRhLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBncm91cHMgPSB7fTtcbiAgICAgICAgaWYgKGdyb3VwQnkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gdXBzdHJlYW1EYXRhLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdHVtID0gdXBzdHJlYW1EYXRhW2ldLCBncm91cElkID0gZGF0dW1bZ3JvdXBCeV07XG4gICAgICAgICAgICAgICAgZ3JvdXBzW2dyb3VwSWRdID8gZ3JvdXBzW2dyb3VwSWRdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBbeWZpZWxkXTogZGF0dW1beWZpZWxkXSxcbiAgICAgICAgICAgICAgICAgICAgaTogaVxuICAgICAgICAgICAgICAgIH0pIDogKGdyb3Vwc1tncm91cElkXSA9IFtdLCBncm91cHNbZ3JvdXBJZF0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIFt5ZmllbGRdOiBkYXR1bVt5ZmllbGRdLFxuICAgICAgICAgICAgICAgICAgICBpOiBpXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJhd0luZGljZSA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGdyb3VwcykuZm9yRWFjaCgoZ3JvdXBOYW1lID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tncm91cE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChncm91cC5sZW5ndGggPD0gc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRpY2VzID0gZ3JvdXAubWFwKChkYXR1bSA9PiBkYXR1bS5pKSk7XG4gICAgICAgICAgICAgICAgICAgIHJhd0luZGljZSA9IHJhd0luZGljZS5jb25jYXQoaW5kaWNlcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kaWNlcyA9IHNhbXBsZXIoc2l6ZSwgZ3JvdXAsICEwLCB5ZmllbGQpO1xuICAgICAgICAgICAgICAgICAgICByYXdJbmRpY2UgPSByYXdJbmRpY2UuY29uY2F0KGluZGljZXMpLCBncm91cC5mb3JFYWNoKChkYXR1bSA9PiB1cHN0cmVhbURhdGFbZGF0dW0uaV1beWZpZWxkXSA9IGRhdHVtW3lmaWVsZF0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSksIHJhd0luZGljZS5zb3J0KCgoYSwgYikgPT4gYSAtIGIpKSwgcmF3SW5kaWNlLm1hcCgoaW5kZXggPT4gdXBzdHJlYW1EYXRhW2luZGV4XSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzYW1wbGVyKHNpemUsIHVwc3RyZWFtRGF0YSwgITEsIHlmaWVsZCkubWFwKChpbmRleCA9PiB1cHN0cmVhbURhdGFbaW5kZXhdKSk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW1wbGluZy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/sampling.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/sort.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/sort.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/compare.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n\n\n\n\nconst transform = (options, upstreamData) => {\n    const sort = options.sort;\n    if (sort && upstreamData) {\n        const sortFn = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(sort) ? sort : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.compare)(sort.field, sort.order);\n        upstreamData.sort(((a, b) => sortFn(a, b)));\n    }\n    return upstreamData;\n};\n//# sourceMappingURL=sort.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3NvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtEOztBQUVKOztBQUV2QztBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsNERBQVUsZ0JBQWdCLGdFQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvZGF0YS9zb3J0LmpzPzRiYjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItdXRpbFwiO1xuXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICBjb25zdCBzb3J0ID0gb3B0aW9ucy5zb3J0O1xuICAgIGlmIChzb3J0ICYmIHVwc3RyZWFtRGF0YSkge1xuICAgICAgICBjb25zdCBzb3J0Rm4gPSBpc0Z1bmN0aW9uKHNvcnQpID8gc29ydCA6IGNvbXBhcmUoc29ydC5maWVsZCwgc29ydC5vcmRlcik7XG4gICAgICAgIHVwc3RyZWFtRGF0YS5zb3J0KCgoYSwgYikgPT4gc29ydEZuKGEsIGIpKSk7XG4gICAgfVxuICAgIHJldHVybiB1cHN0cmVhbURhdGE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ydC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/sort.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/stack.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/stack.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/field.js\");\n/* harmony import */ var _graph_mark_differ__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../graph/mark/differ */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\");\n\n\n\n\nconst stack = (options, data) => {\n    var _a;\n    const positiveValues = new Map, negativeValues = new Map, offset = null !== (_a = options.offset) && void 0 !== _a ? _a : \"diverging\";\n    return data.map((datum => {\n        var _a;\n        const dimension = datum[options.dimensionField], stackValue = \"diverging\" === offset ? datum[options.stackField] : Math.abs(datum[options.stackField]), map = stackValue >= 0 ? positiveValues : negativeValues, lastValue = null !== (_a = map.get(dimension)) && void 0 !== _a ? _a : 0, value = stackValue + lastValue;\n        return map.set(dimension, value), {\n            dimension: dimension,\n            value: stackValue,\n            stack: value,\n            prevStack: lastValue,\n            datum: datum\n        };\n    }));\n}, silhouetteOffset = (options, data) => {\n    if (!data || 0 === data.length) return data;\n    const groupedData = (0,_graph_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(data, (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(\"dimension\"));\n    return groupedData.keys.forEach((key => {\n        const dimensionData = groupedData.data.get(key);\n        if (!dimensionData || dimensionData.length <= 0) return 0;\n        const g0 = -dimensionData.reduce(((sum, entry) => sum + entry.value), 0) / 2;\n        dimensionData.forEach((datum => {\n            datum.stack = datum.stack + g0, datum.prevStack = datum.prevStack + g0;\n        }));\n    })), data;\n}, wiggleOffset = (options, data) => {\n    if (!data || 0 === data.length) return data;\n    const groupedData = (0,_graph_mark_differ__WEBPACK_IMPORTED_MODULE_0__.groupData)(data, (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.field)(\"dimension\"));\n    return groupedData.keys.forEach((key => {\n        const dimensionData = groupedData.data.get(key);\n        if (!dimensionData || dimensionData.length <= 0) return 0;\n        const n = dimensionData.length, g0 = -1 / (n + 1) * dimensionData.reduce(((sum, entry, i) => entry.value * (n - i + 1)), 0);\n        dimensionData.forEach((datum => {\n            datum.stack = datum.stack + g0, datum.prevStack = datum.prevStack + g0;\n        }));\n    })), data;\n}, setFields = (options, data) => {\n    if (!(options.asPercentStack || options.asPrevPercentStack || options.asPercent || options.asSum)) return data.map((entry => {\n        var _a;\n        const {stack: stack, prevStack: prevStack, datum: datum} = entry, newDatum = Object.assign({}, datum);\n        return newDatum[null !== (_a = options.asStack) && void 0 !== _a ? _a : options.stackField] = stack, \n        options.asPrevStack && (newDatum[options.asPrevStack] = prevStack), newDatum;\n    }));\n    const positiveSums = new Map, negativeSums = new Map;\n    return data.forEach((entry => {\n        var _a;\n        const {dimension: dimension, value: value} = entry, map = value >= 0 ? positiveSums : negativeSums;\n        map.set(dimension, (null !== (_a = map.get(dimension)) && void 0 !== _a ? _a : 0) + value);\n    })), data.map((entry => {\n        var _a, _b;\n        const {dimension: dimension, value: value, stack: stack, prevStack: prevStack, datum: datum} = entry, newDatum = Object.assign({}, datum), sum = null !== (_a = (value >= 0 ? positiveSums : negativeSums).get(dimension)) && void 0 !== _a ? _a : 0;\n        return newDatum[null !== (_b = options.asStack) && void 0 !== _b ? _b : options.stackField] = stack, \n        options.asPrevStack && (newDatum[options.asPrevStack] = prevStack), options.asSum && (newDatum[options.asSum] = sum), \n        options.asPercent && (newDatum[options.asPercent] = 0 === sum ? 0 : value / sum), \n        options.asPercentStack && (newDatum[options.asPercentStack] = 0 === sum ? 0 : stack / sum), \n        options.asPrevPercentStack && (newDatum[options.asPrevPercentStack] = 0 === sum ? 0 : prevStack / sum), \n        newDatum;\n    }));\n};\n\nconst transform = (options, upstreamData) => {\n    var _a;\n    const offset = null !== (_a = options.offset) && void 0 !== _a ? _a : \"diverging\", data = \"negative\" === options.order ? upstreamData.slice().reverse() : upstreamData, stackedValues = stack(options, data);\n    \"silhouette\" === offset ? silhouetteOffset(0, stackedValues) : \"wiggle\" === offset && wiggleOffset(0, stackedValues);\n    const output = setFields(options, stackedValues);\n    return \"negative\" === options.order ? output.reverse() : output;\n};\n//# sourceMappingURL=stack.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3N0YWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDs7QUFFSTs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0Esd0JBQXdCLDZEQUFTLE9BQU8sOERBQUs7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQSx3QkFBd0IsNkRBQVMsT0FBTyw4REFBSztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBO0FBQ0EsZUFBZSxrREFBa0Qsb0NBQW9DO0FBQ3JHO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQSxlQUFlLHNGQUFzRixvQ0FBb0M7QUFDekk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvZGF0YS9zdGFjay5qcz8xM2Q0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpZWxkIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmltcG9ydCB7IGdyb3VwRGF0YSB9IGZyb20gXCIuLi8uLi9ncmFwaC9tYXJrL2RpZmZlclwiO1xuXG5jb25zdCBzdGFjayA9IChvcHRpb25zLCBkYXRhKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHBvc2l0aXZlVmFsdWVzID0gbmV3IE1hcCwgbmVnYXRpdmVWYWx1ZXMgPSBuZXcgTWFwLCBvZmZzZXQgPSBudWxsICE9PSAoX2EgPSBvcHRpb25zLm9mZnNldCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogXCJkaXZlcmdpbmdcIjtcbiAgICByZXR1cm4gZGF0YS5tYXAoKGRhdHVtID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkaW1lbnNpb24gPSBkYXR1bVtvcHRpb25zLmRpbWVuc2lvbkZpZWxkXSwgc3RhY2tWYWx1ZSA9IFwiZGl2ZXJnaW5nXCIgPT09IG9mZnNldCA/IGRhdHVtW29wdGlvbnMuc3RhY2tGaWVsZF0gOiBNYXRoLmFicyhkYXR1bVtvcHRpb25zLnN0YWNrRmllbGRdKSwgbWFwID0gc3RhY2tWYWx1ZSA+PSAwID8gcG9zaXRpdmVWYWx1ZXMgOiBuZWdhdGl2ZVZhbHVlcywgbGFzdFZhbHVlID0gbnVsbCAhPT0gKF9hID0gbWFwLmdldChkaW1lbnNpb24pKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwLCB2YWx1ZSA9IHN0YWNrVmFsdWUgKyBsYXN0VmFsdWU7XG4gICAgICAgIHJldHVybiBtYXAuc2V0KGRpbWVuc2lvbiwgdmFsdWUpLCB7XG4gICAgICAgICAgICBkaW1lbnNpb246IGRpbWVuc2lvbixcbiAgICAgICAgICAgIHZhbHVlOiBzdGFja1ZhbHVlLFxuICAgICAgICAgICAgc3RhY2s6IHZhbHVlLFxuICAgICAgICAgICAgcHJldlN0YWNrOiBsYXN0VmFsdWUsXG4gICAgICAgICAgICBkYXR1bTogZGF0dW1cbiAgICAgICAgfTtcbiAgICB9KSk7XG59LCBzaWxob3VldHRlT2Zmc2V0ID0gKG9wdGlvbnMsIGRhdGEpID0+IHtcbiAgICBpZiAoIWRhdGEgfHwgMCA9PT0gZGF0YS5sZW5ndGgpIHJldHVybiBkYXRhO1xuICAgIGNvbnN0IGdyb3VwZWREYXRhID0gZ3JvdXBEYXRhKGRhdGEsIGZpZWxkKFwiZGltZW5zaW9uXCIpKTtcbiAgICByZXR1cm4gZ3JvdXBlZERhdGEua2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICBjb25zdCBkaW1lbnNpb25EYXRhID0gZ3JvdXBlZERhdGEuZGF0YS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFkaW1lbnNpb25EYXRhIHx8IGRpbWVuc2lvbkRhdGEubGVuZ3RoIDw9IDApIHJldHVybiAwO1xuICAgICAgICBjb25zdCBnMCA9IC1kaW1lbnNpb25EYXRhLnJlZHVjZSgoKHN1bSwgZW50cnkpID0+IHN1bSArIGVudHJ5LnZhbHVlKSwgMCkgLyAyO1xuICAgICAgICBkaW1lbnNpb25EYXRhLmZvckVhY2goKGRhdHVtID0+IHtcbiAgICAgICAgICAgIGRhdHVtLnN0YWNrID0gZGF0dW0uc3RhY2sgKyBnMCwgZGF0dW0ucHJldlN0YWNrID0gZGF0dW0ucHJldlN0YWNrICsgZzA7XG4gICAgICAgIH0pKTtcbiAgICB9KSksIGRhdGE7XG59LCB3aWdnbGVPZmZzZXQgPSAob3B0aW9ucywgZGF0YSkgPT4ge1xuICAgIGlmICghZGF0YSB8fCAwID09PSBkYXRhLmxlbmd0aCkgcmV0dXJuIGRhdGE7XG4gICAgY29uc3QgZ3JvdXBlZERhdGEgPSBncm91cERhdGEoZGF0YSwgZmllbGQoXCJkaW1lbnNpb25cIikpO1xuICAgIHJldHVybiBncm91cGVkRGF0YS5rZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbkRhdGEgPSBncm91cGVkRGF0YS5kYXRhLmdldChrZXkpO1xuICAgICAgICBpZiAoIWRpbWVuc2lvbkRhdGEgfHwgZGltZW5zaW9uRGF0YS5sZW5ndGggPD0gMCkgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IG4gPSBkaW1lbnNpb25EYXRhLmxlbmd0aCwgZzAgPSAtMSAvIChuICsgMSkgKiBkaW1lbnNpb25EYXRhLnJlZHVjZSgoKHN1bSwgZW50cnksIGkpID0+IGVudHJ5LnZhbHVlICogKG4gLSBpICsgMSkpLCAwKTtcbiAgICAgICAgZGltZW5zaW9uRGF0YS5mb3JFYWNoKChkYXR1bSA9PiB7XG4gICAgICAgICAgICBkYXR1bS5zdGFjayA9IGRhdHVtLnN0YWNrICsgZzAsIGRhdHVtLnByZXZTdGFjayA9IGRhdHVtLnByZXZTdGFjayArIGcwO1xuICAgICAgICB9KSk7XG4gICAgfSkpLCBkYXRhO1xufSwgc2V0RmllbGRzID0gKG9wdGlvbnMsIGRhdGEpID0+IHtcbiAgICBpZiAoIShvcHRpb25zLmFzUGVyY2VudFN0YWNrIHx8IG9wdGlvbnMuYXNQcmV2UGVyY2VudFN0YWNrIHx8IG9wdGlvbnMuYXNQZXJjZW50IHx8IG9wdGlvbnMuYXNTdW0pKSByZXR1cm4gZGF0YS5tYXAoKGVudHJ5ID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB7c3RhY2s6IHN0YWNrLCBwcmV2U3RhY2s6IHByZXZTdGFjaywgZGF0dW06IGRhdHVtfSA9IGVudHJ5LCBuZXdEYXR1bSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdHVtKTtcbiAgICAgICAgcmV0dXJuIG5ld0RhdHVtW251bGwgIT09IChfYSA9IG9wdGlvbnMuYXNTdGFjaykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogb3B0aW9ucy5zdGFja0ZpZWxkXSA9IHN0YWNrLCBcbiAgICAgICAgb3B0aW9ucy5hc1ByZXZTdGFjayAmJiAobmV3RGF0dW1bb3B0aW9ucy5hc1ByZXZTdGFja10gPSBwcmV2U3RhY2spLCBuZXdEYXR1bTtcbiAgICB9KSk7XG4gICAgY29uc3QgcG9zaXRpdmVTdW1zID0gbmV3IE1hcCwgbmVnYXRpdmVTdW1zID0gbmV3IE1hcDtcbiAgICByZXR1cm4gZGF0YS5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qge2RpbWVuc2lvbjogZGltZW5zaW9uLCB2YWx1ZTogdmFsdWV9ID0gZW50cnksIG1hcCA9IHZhbHVlID49IDAgPyBwb3NpdGl2ZVN1bXMgOiBuZWdhdGl2ZVN1bXM7XG4gICAgICAgIG1hcC5zZXQoZGltZW5zaW9uLCAobnVsbCAhPT0gKF9hID0gbWFwLmdldChkaW1lbnNpb24pKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwKSArIHZhbHVlKTtcbiAgICB9KSksIGRhdGEubWFwKChlbnRyeSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHtkaW1lbnNpb246IGRpbWVuc2lvbiwgdmFsdWU6IHZhbHVlLCBzdGFjazogc3RhY2ssIHByZXZTdGFjazogcHJldlN0YWNrLCBkYXR1bTogZGF0dW19ID0gZW50cnksIG5ld0RhdHVtID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0dW0pLCBzdW0gPSBudWxsICE9PSAoX2EgPSAodmFsdWUgPj0gMCA/IHBvc2l0aXZlU3VtcyA6IG5lZ2F0aXZlU3VtcykuZ2V0KGRpbWVuc2lvbikpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IDA7XG4gICAgICAgIHJldHVybiBuZXdEYXR1bVtudWxsICE9PSAoX2IgPSBvcHRpb25zLmFzU3RhY2spICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IG9wdGlvbnMuc3RhY2tGaWVsZF0gPSBzdGFjaywgXG4gICAgICAgIG9wdGlvbnMuYXNQcmV2U3RhY2sgJiYgKG5ld0RhdHVtW29wdGlvbnMuYXNQcmV2U3RhY2tdID0gcHJldlN0YWNrKSwgb3B0aW9ucy5hc1N1bSAmJiAobmV3RGF0dW1bb3B0aW9ucy5hc1N1bV0gPSBzdW0pLCBcbiAgICAgICAgb3B0aW9ucy5hc1BlcmNlbnQgJiYgKG5ld0RhdHVtW29wdGlvbnMuYXNQZXJjZW50XSA9IDAgPT09IHN1bSA/IDAgOiB2YWx1ZSAvIHN1bSksIFxuICAgICAgICBvcHRpb25zLmFzUGVyY2VudFN0YWNrICYmIChuZXdEYXR1bVtvcHRpb25zLmFzUGVyY2VudFN0YWNrXSA9IDAgPT09IHN1bSA/IDAgOiBzdGFjayAvIHN1bSksIFxuICAgICAgICBvcHRpb25zLmFzUHJldlBlcmNlbnRTdGFjayAmJiAobmV3RGF0dW1bb3B0aW9ucy5hc1ByZXZQZXJjZW50U3RhY2tdID0gMCA9PT0gc3VtID8gMCA6IHByZXZTdGFjayAvIHN1bSksIFxuICAgICAgICBuZXdEYXR1bTtcbiAgICB9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBvZmZzZXQgPSBudWxsICE9PSAoX2EgPSBvcHRpb25zLm9mZnNldCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogXCJkaXZlcmdpbmdcIiwgZGF0YSA9IFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmRlciA/IHVwc3RyZWFtRGF0YS5zbGljZSgpLnJldmVyc2UoKSA6IHVwc3RyZWFtRGF0YSwgc3RhY2tlZFZhbHVlcyA9IHN0YWNrKG9wdGlvbnMsIGRhdGEpO1xuICAgIFwic2lsaG91ZXR0ZVwiID09PSBvZmZzZXQgPyBzaWxob3VldHRlT2Zmc2V0KDAsIHN0YWNrZWRWYWx1ZXMpIDogXCJ3aWdnbGVcIiA9PT0gb2Zmc2V0ICYmIHdpZ2dsZU9mZnNldCgwLCBzdGFja2VkVmFsdWVzKTtcbiAgICBjb25zdCBvdXRwdXQgPSBzZXRGaWVsZHMob3B0aW9ucywgc3RhY2tlZFZhbHVlcyk7XG4gICAgcmV0dXJuIFwibmVnYXRpdmVcIiA9PT0gb3B0aW9ucy5vcmRlciA/IG91dHB1dC5yZXZlcnNlKCkgOiBvdXRwdXQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhY2suanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/stack.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/unfold.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/unfold.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n\n\nconst aggregateFuncs = {\n    sum: arr => arr.reduce(((sum, val) => sum + val), 0),\n    min: arr => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.minInArray)(arr),\n    max: arr => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.maxInArray)(arr),\n    count: arr => arr.length,\n    mean: arr => arr.reduce(((sum, val) => sum + val), 0) / arr.length\n};\n\nconst transform = (options, upstreamData) => {\n    var _a;\n    if (!upstreamData || !upstreamData.length) return [];\n    const res = [], groups = {}, keyField = options.keyField, valueField = options.valueField, aggregate = aggregateFuncs[null !== (_a = options.aggregateType) && void 0 !== _a ? _a : \"sum\"];\n    if (options.groupBy) {\n        const groupByFields = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.array)(options.groupBy);\n        upstreamData.forEach((entry => {\n            if (!entry) return;\n            const datum = {}, keys = [];\n            groupByFields.forEach((field => {\n                datum[field] = entry[field], keys.push(entry[field]);\n            }));\n            const groupKey = keys.join(\"~\");\n            groups[groupKey] ? groups[groupKey].values[entry[keyField]] ? groups[groupKey].values[entry[keyField]].push(entry[valueField]) : groups[groupKey].values[entry[keyField]] = [ entry[valueField] ] : groups[groupKey] = {\n                datum: datum,\n                values: {\n                    [entry[keyField]]: [ entry[valueField] ]\n                }\n            };\n        }));\n    } else groups[0] = {\n        datum: {},\n        values: {}\n    }, upstreamData.forEach((entry => {\n        entry && (groups[0].values[entry[keyField]] ? groups[0].values[entry[keyField]].push(entry[valueField]) : groups[0].values[entry[keyField]] = [ entry[valueField] ]);\n    }));\n    return Object.keys(groups).forEach((groupKey => {\n        const datum = groups[groupKey].datum, values = groups[groupKey].values;\n        Object.keys(values).forEach((key => {\n            const rows = values[key];\n            datum[key] = aggregate(rows);\n        })), res.push(datum);\n    })), res;\n};\n//# sourceMappingURL=unfold.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9kYXRhL3VuZm9sZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRTs7QUFFakU7QUFDQTtBQUNBLGdCQUFnQiw0REFBVTtBQUMxQixnQkFBZ0IsNERBQVU7QUFDMUI7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLDhCQUE4Qix1REFBSztBQUNuQztBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsTUFBTTtBQUNOLGlCQUFpQjtBQUNqQjtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL2RhdGEvdW5mb2xkLmpzPzQ1MDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXJyYXksIG1heEluQXJyYXksIG1pbkluQXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5jb25zdCBhZ2dyZWdhdGVGdW5jcyA9IHtcbiAgICBzdW06IGFyciA9PiBhcnIucmVkdWNlKCgoc3VtLCB2YWwpID0+IHN1bSArIHZhbCksIDApLFxuICAgIG1pbjogYXJyID0+IG1pbkluQXJyYXkoYXJyKSxcbiAgICBtYXg6IGFyciA9PiBtYXhJbkFycmF5KGFyciksXG4gICAgY291bnQ6IGFyciA9PiBhcnIubGVuZ3RoLFxuICAgIG1lYW46IGFyciA9PiBhcnIucmVkdWNlKCgoc3VtLCB2YWwpID0+IHN1bSArIHZhbCksIDApIC8gYXJyLmxlbmd0aFxufTtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCF1cHN0cmVhbURhdGEgfHwgIXVwc3RyZWFtRGF0YS5sZW5ndGgpIHJldHVybiBbXTtcbiAgICBjb25zdCByZXMgPSBbXSwgZ3JvdXBzID0ge30sIGtleUZpZWxkID0gb3B0aW9ucy5rZXlGaWVsZCwgdmFsdWVGaWVsZCA9IG9wdGlvbnMudmFsdWVGaWVsZCwgYWdncmVnYXRlID0gYWdncmVnYXRlRnVuY3NbbnVsbCAhPT0gKF9hID0gb3B0aW9ucy5hZ2dyZWdhdGVUeXBlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBcInN1bVwiXTtcbiAgICBpZiAob3B0aW9ucy5ncm91cEJ5KSB7XG4gICAgICAgIGNvbnN0IGdyb3VwQnlGaWVsZHMgPSBhcnJheShvcHRpb25zLmdyb3VwQnkpO1xuICAgICAgICB1cHN0cmVhbURhdGEuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICAgICAgaWYgKCFlbnRyeSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgZGF0dW0gPSB7fSwga2V5cyA9IFtdO1xuICAgICAgICAgICAgZ3JvdXBCeUZpZWxkcy5mb3JFYWNoKChmaWVsZCA9PiB7XG4gICAgICAgICAgICAgICAgZGF0dW1bZmllbGRdID0gZW50cnlbZmllbGRdLCBrZXlzLnB1c2goZW50cnlbZmllbGRdKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwS2V5ID0ga2V5cy5qb2luKFwiflwiKTtcbiAgICAgICAgICAgIGdyb3Vwc1tncm91cEtleV0gPyBncm91cHNbZ3JvdXBLZXldLnZhbHVlc1tlbnRyeVtrZXlGaWVsZF1dID8gZ3JvdXBzW2dyb3VwS2V5XS52YWx1ZXNbZW50cnlba2V5RmllbGRdXS5wdXNoKGVudHJ5W3ZhbHVlRmllbGRdKSA6IGdyb3Vwc1tncm91cEtleV0udmFsdWVzW2VudHJ5W2tleUZpZWxkXV0gPSBbIGVudHJ5W3ZhbHVlRmllbGRdIF0gOiBncm91cHNbZ3JvdXBLZXldID0ge1xuICAgICAgICAgICAgICAgIGRhdHVtOiBkYXR1bSxcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgW2VudHJ5W2tleUZpZWxkXV06IFsgZW50cnlbdmFsdWVGaWVsZF0gXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9IGVsc2UgZ3JvdXBzWzBdID0ge1xuICAgICAgICBkYXR1bToge30sXG4gICAgICAgIHZhbHVlczoge31cbiAgICB9LCB1cHN0cmVhbURhdGEuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICBlbnRyeSAmJiAoZ3JvdXBzWzBdLnZhbHVlc1tlbnRyeVtrZXlGaWVsZF1dID8gZ3JvdXBzWzBdLnZhbHVlc1tlbnRyeVtrZXlGaWVsZF1dLnB1c2goZW50cnlbdmFsdWVGaWVsZF0pIDogZ3JvdXBzWzBdLnZhbHVlc1tlbnRyeVtrZXlGaWVsZF1dID0gWyBlbnRyeVt2YWx1ZUZpZWxkXSBdKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGdyb3VwcykuZm9yRWFjaCgoZ3JvdXBLZXkgPT4ge1xuICAgICAgICBjb25zdCBkYXR1bSA9IGdyb3Vwc1tncm91cEtleV0uZGF0dW0sIHZhbHVlcyA9IGdyb3Vwc1tncm91cEtleV0udmFsdWVzO1xuICAgICAgICBPYmplY3Qua2V5cyh2YWx1ZXMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCByb3dzID0gdmFsdWVzW2tleV07XG4gICAgICAgICAgICBkYXR1bVtrZXldID0gYWdncmVnYXRlKHJvd3MpO1xuICAgICAgICB9KSksIHJlcy5wdXNoKGRhdHVtKTtcbiAgICB9KSksIHJlcztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmZvbGQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/unfold.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/index.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/index.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerBinTransform: () => (/* binding */ registerBinTransform),\n/* harmony export */   registerCircularRelationTransform: () => (/* binding */ registerCircularRelationTransform),\n/* harmony export */   registerContourTransform: () => (/* binding */ registerContourTransform),\n/* harmony export */   registerDodgeTransform: () => (/* binding */ registerDodgeTransform),\n/* harmony export */   registerFilterTransform: () => (/* binding */ registerFilterTransform),\n/* harmony export */   registerFoldTransform: () => (/* binding */ registerFoldTransform),\n/* harmony export */   registerFunnelTransform: () => (/* binding */ registerFunnelTransform),\n/* harmony export */   registerIdentifierTransform: () => (/* binding */ registerIdentifierTransform),\n/* harmony export */   registerJitterTransform: () => (/* binding */ registerJitterTransform),\n/* harmony export */   registerJitterXTransform: () => (/* binding */ registerJitterXTransform),\n/* harmony export */   registerJitterYTransform: () => (/* binding */ registerJitterYTransform),\n/* harmony export */   registerJoinTransform: () => (/* binding */ registerJoinTransform),\n/* harmony export */   registerKdeTransform: () => (/* binding */ registerKdeTransform),\n/* harmony export */   registerMapTransform: () => (/* binding */ registerMapTransform),\n/* harmony export */   registerMarkOverlapTransform: () => (/* binding */ registerMarkOverlapTransform),\n/* harmony export */   registerPickTransform: () => (/* binding */ registerPickTransform),\n/* harmony export */   registerPieTransform: () => (/* binding */ registerPieTransform),\n/* harmony export */   registerRangeTransform: () => (/* binding */ registerRangeTransform),\n/* harmony export */   registerSampleTransform: () => (/* binding */ registerSampleTransform),\n/* harmony export */   registerSortTransform: () => (/* binding */ registerSortTransform),\n/* harmony export */   registerStackTransform: () => (/* binding */ registerStackTransform),\n/* harmony export */   registerSymmetryTransform: () => (/* binding */ registerSymmetryTransform),\n/* harmony export */   registerUnfoldTransform: () => (/* binding */ registerUnfoldTransform)\n/* harmony export */ });\n/* harmony import */ var _data_bin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data/bin */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/bin.js\");\n/* harmony import */ var _data_contour__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data/contour */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/contour.js\");\n/* harmony import */ var _data_sort__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./data/sort */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/sort.js\");\n/* harmony import */ var _data_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data/filter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/filter.js\");\n/* harmony import */ var _data_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./data/map */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/map.js\");\n/* harmony import */ var _data_kde__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data/kde */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/kde.js\");\n/* harmony import */ var _data_join__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./data/join */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/join.js\");\n/* harmony import */ var _data_pick__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./data/pick */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/pick.js\");\n/* harmony import */ var _data_range__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./data/range */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/range.js\");\n/* harmony import */ var _data_stack__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./data/stack */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/stack.js\");\n/* harmony import */ var _data_fold__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./data/fold */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/fold.js\");\n/* harmony import */ var _data_unfold__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./data/unfold */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/unfold.js\");\n/* harmony import */ var _data_funnel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./data/funnel */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/funnel.js\");\n/* harmony import */ var _data_pie__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./data/pie */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/pie.js\");\n/* harmony import */ var _data_circular_relation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./data/circular-relation */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/circular-relation.js\");\n/* harmony import */ var _data_sampling__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./data/sampling */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/data/sampling.js\");\n/* harmony import */ var _mark_mark_overlap__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mark/mark-overlap */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/mark-overlap.js\");\n/* harmony import */ var _view_identifier__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./view/identifier */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/view/identifier.js\");\n/* harmony import */ var _mark_dodge__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mark/dodge */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/dodge.js\");\n/* harmony import */ var _mark_jitter__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mark/jitter */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/jitter.js\");\n/* harmony import */ var _mark_symmetry__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mark/symmetry */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/symmetry.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst registerBinTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"bin\", {\n        transform: _data_bin__WEBPACK_IMPORTED_MODULE_1__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerContourTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"contour\", {\n        transform: _data_contour__WEBPACK_IMPORTED_MODULE_2__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerSortTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"sort\", {\n        transform: _data_sort__WEBPACK_IMPORTED_MODULE_3__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerFilterTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"filter\", {\n        transform: _data_filter__WEBPACK_IMPORTED_MODULE_4__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerJoinTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"join\", {\n        transform: _data_join__WEBPACK_IMPORTED_MODULE_5__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerKdeTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"kde\", {\n        transform: _data_kde__WEBPACK_IMPORTED_MODULE_6__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerMapTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"map\", {\n        transform: _data_map__WEBPACK_IMPORTED_MODULE_7__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerPickTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"pick\", {\n        transform: _data_pick__WEBPACK_IMPORTED_MODULE_8__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerRangeTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"range\", {\n        transform: _data_range__WEBPACK_IMPORTED_MODULE_9__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerStackTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"stack\", {\n        transform: _data_stack__WEBPACK_IMPORTED_MODULE_10__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerFunnelTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"funnel\", {\n        transform: _data_funnel__WEBPACK_IMPORTED_MODULE_11__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerPieTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"pie\", {\n        transform: _data_pie__WEBPACK_IMPORTED_MODULE_12__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerCircularRelationTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"circularRelation\", {\n        transform: _data_circular_relation__WEBPACK_IMPORTED_MODULE_13__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerFoldTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"fold\", {\n        transform: _data_fold__WEBPACK_IMPORTED_MODULE_14__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerUnfoldTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"unfold\", {\n        transform: _data_unfold__WEBPACK_IMPORTED_MODULE_15__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerIdentifierTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"identifier\", {\n        transform: _view_identifier__WEBPACK_IMPORTED_MODULE_16__.transform,\n        markPhase: \"beforeJoin\"\n    }, !0);\n};\n\nconst registerSampleTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"sampling\", {\n        transform: _data_sampling__WEBPACK_IMPORTED_MODULE_17__.transform,\n        markPhase: \"afterEncode\"\n    }, !0);\n};\n\nconst registerMarkOverlapTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"markoverlap\", {\n        transform: _mark_mark_overlap__WEBPACK_IMPORTED_MODULE_18__.transform,\n        markPhase: \"afterEncode\"\n    }, !0);\n};\n\nconst registerDodgeTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"dodge\", {\n        transform: _mark_dodge__WEBPACK_IMPORTED_MODULE_19__.transform,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n\nconst registerJitterTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"jitter\", {\n        transform: _mark_jitter__WEBPACK_IMPORTED_MODULE_20__.transform,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n\nconst registerJitterXTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"jitterX\", {\n        transform: _mark_jitter__WEBPACK_IMPORTED_MODULE_20__.jitterX,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n\nconst registerJitterYTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"jitterY\", {\n        transform: _mark_jitter__WEBPACK_IMPORTED_MODULE_20__.jitterY,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n\nconst registerSymmetryTransform = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_0__.Factory.registerTransform(\"symmetry\", {\n        transform: _mark_symmetry__WEBPACK_IMPORTED_MODULE_21__.symmetry,\n        markPhase: \"afterEncodeItems\"\n    }, !0);\n};\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7O0FBRVE7O0FBRU47O0FBRUk7O0FBRU47O0FBRUE7O0FBRUU7O0FBRUE7O0FBRUU7O0FBRUE7O0FBRUY7O0FBRUk7O0FBRUE7O0FBRU47O0FBRTJCOztBQUVuQjs7QUFFUzs7QUFFSDs7QUFFVjs7QUFFNEQ7O0FBRXZEOztBQUV0Qjs7QUFFbkM7QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGdEQUFZO0FBQy9CO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixvREFBZ0I7QUFDbkM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGlEQUFhO0FBQ2hDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixtREFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsaURBQWE7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGdEQUFZO0FBQy9CO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixnREFBWTtBQUMvQjtBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsaURBQWE7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGtEQUFjO0FBQ2pDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixtREFBYztBQUNqQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsb0RBQWU7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGlEQUFZO0FBQy9CO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQiwrREFBeUI7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGtEQUFhO0FBQ2hDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixvREFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsd0RBQW1CO0FBQ3RDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixzREFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsMERBQW9CO0FBQ3ZDO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixtREFBYztBQUNqQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsb0RBQWU7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUCxJQUFJLGtEQUFPO0FBQ1gsbUJBQW1CLGtEQUFnQjtBQUNuQztBQUNBLEtBQUs7QUFDTDs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWCxtQkFBbUIsa0RBQWdCO0FBQ25DO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsSUFBSSxrREFBTztBQUNYLG1CQUFtQixxREFBaUI7QUFDcEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9pbmRleC5qcz8zZTFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRyYW5zZm9ybSBhcyBiaW5UcmFuc2Zvcm0gfSBmcm9tIFwiLi9kYXRhL2JpblwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgY29udG91clRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvY29udG91clwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgc29ydFRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvc29ydFwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgZmlsdGVyVHJhbnNmb3JtIH0gZnJvbSBcIi4vZGF0YS9maWx0ZXJcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIG1hcFRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvbWFwXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBrZGVUcmFuc2Zvcm0gfSBmcm9tIFwiLi9kYXRhL2tkZVwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgam9pblRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvam9pblwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgcGlja1RyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvcGlja1wiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgcmFuZ2VUcmFuc2Zvcm0gfSBmcm9tIFwiLi9kYXRhL3JhbmdlXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBzdGFja1RyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvc3RhY2tcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIGZvbGRUcmFuc2Zvcm0gfSBmcm9tIFwiLi9kYXRhL2ZvbGRcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIHVuZm9sZFRyYW5zZm9ybSB9IGZyb20gXCIuL2RhdGEvdW5mb2xkXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBmdW5uZWxUcmFuc2Zvcm0gfSBmcm9tIFwiLi9kYXRhL2Z1bm5lbFwiO1xuXG5pbXBvcnQgeyB0cmFuc2Zvcm0gYXMgcGllVHJhbnNmb3JtIH0gZnJvbSBcIi4vZGF0YS9waWVcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIGNpcmN1bGFyUmVsYXRpb25UcmFuc2Zvcm0gfSBmcm9tIFwiLi9kYXRhL2NpcmN1bGFyLXJlbGF0aW9uXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBzYW1wbGVUcmFuc2Zvcm0gfSBmcm9tIFwiLi9kYXRhL3NhbXBsaW5nXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBtYXJrb3ZlcmxhcFRyYW5zZm9ybSB9IGZyb20gXCIuL21hcmsvbWFyay1vdmVybGFwXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBpZGVudGlmaWVyVHJhbnNmb3JtIH0gZnJvbSBcIi4vdmlldy9pZGVudGlmaWVyXCI7XG5cbmltcG9ydCB7IHRyYW5zZm9ybSBhcyBkb2RnZVRyYW5zZm9ybSB9IGZyb20gXCIuL21hcmsvZG9kZ2VcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3JtIGFzIGppdHRlclRyYW5zZm9ybSwgaml0dGVyWCBhcyBqaXR0ZXJYVHJhbnNmb3JtLCBqaXR0ZXJZIGFzIGppdHRlcllUcmFuc2Zvcm0gfSBmcm9tIFwiLi9tYXJrL2ppdHRlclwiO1xuXG5pbXBvcnQgeyBzeW1tZXRyeSBhcyBzeW1tZXRyeVRyYW5zZm9ybSB9IGZyb20gXCIuL21hcmsvc3ltbWV0cnlcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQmluVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJiaW5cIiwge1xuICAgICAgICB0cmFuc2Zvcm06IGJpblRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckNvbnRvdXJUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcImNvbnRvdXJcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IGNvbnRvdXJUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTb3J0VHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJzb3J0XCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzb3J0VHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRmlsdGVyVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJmaWx0ZXJcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IGZpbHRlclRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckpvaW5UcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcImpvaW5cIiwge1xuICAgICAgICB0cmFuc2Zvcm06IGpvaW5UcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJLZGVUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcImtkZVwiLCB7XG4gICAgICAgIHRyYW5zZm9ybToga2RlVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTWFwVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJtYXBcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IG1hcFRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclBpY2tUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcInBpY2tcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IHBpY2tUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSYW5nZVRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwicmFuZ2VcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IHJhbmdlVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU3RhY2tUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcInN0YWNrXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzdGFja1RyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckZ1bm5lbFRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwiZnVubmVsXCIsIHtcbiAgICAgICAgdHJhbnNmb3JtOiBmdW5uZWxUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJQaWVUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcInBpZVwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogcGllVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQ2lyY3VsYXJSZWxhdGlvblRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwiY2lyY3VsYXJSZWxhdGlvblwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogY2lyY3VsYXJSZWxhdGlvblRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckZvbGRUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcImZvbGRcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IGZvbGRUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJiZWZvcmVKb2luXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJVbmZvbGRUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcInVuZm9sZFwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogdW5mb2xkVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYmVmb3JlSm9pblwiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVySWRlbnRpZmllclRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwiaWRlbnRpZmllclwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogaWRlbnRpZmllclRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImJlZm9yZUpvaW5cIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclNhbXBsZVRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwic2FtcGxpbmdcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IHNhbXBsZVRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImFmdGVyRW5jb2RlXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJNYXJrT3ZlcmxhcFRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwibWFya292ZXJsYXBcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IG1hcmtvdmVybGFwVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYWZ0ZXJFbmNvZGVcIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckRvZGdlVHJhbnNmb3JtID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJUcmFuc2Zvcm0oXCJkb2RnZVwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogZG9kZ2VUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJhZnRlckVuY29kZUl0ZW1zXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJKaXR0ZXJUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcImppdHRlclwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogaml0dGVyVHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYWZ0ZXJFbmNvZGVJdGVtc1wiXG4gICAgfSwgITApO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVySml0dGVyWFRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwiaml0dGVyWFwiLCB7XG4gICAgICAgIHRyYW5zZm9ybTogaml0dGVyWFRyYW5zZm9ybSxcbiAgICAgICAgbWFya1BoYXNlOiBcImFmdGVyRW5jb2RlSXRlbXNcIlxuICAgIH0sICEwKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckppdHRlcllUcmFuc2Zvcm0gPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybShcImppdHRlcllcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IGppdHRlcllUcmFuc2Zvcm0sXG4gICAgICAgIG1hcmtQaGFzZTogXCJhZnRlckVuY29kZUl0ZW1zXCJcbiAgICB9LCAhMCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTeW1tZXRyeVRyYW5zZm9ybSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyVHJhbnNmb3JtKFwic3ltbWV0cnlcIiwge1xuICAgICAgICB0cmFuc2Zvcm06IHN5bW1ldHJ5VHJhbnNmb3JtLFxuICAgICAgICBtYXJrUGhhc2U6IFwiYWZ0ZXJFbmNvZGVJdGVtc1wiXG4gICAgfSwgITApO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/dodge.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/dodge.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/getter.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/toPercent.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n\n\n\n\n\n\nconst transform = (options, upstreamData) => {\n    var _a, _b, _c;\n    if (!upstreamData || 0 === upstreamData.length || !(null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark)) return upstreamData;\n    const mark = upstreamData[0].mark, markScales = mark.getScales(), bandScale = Object.values(markScales).find(_util_scale__WEBPACK_IMPORTED_MODULE_0__.isBandLikeScale);\n    if (!bandScale) return upstreamData;\n    const scales = mark.getScalesByChannel(), bandWidth = (0,_util_scale__WEBPACK_IMPORTED_MODULE_0__.getBandWidthOfScale)(bandScale), dodgeChannel = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options.dodgeChannel) ? scales.y === bandScale || scales.y1 === bandScale || scales.x && !(0,_util_scale__WEBPACK_IMPORTED_MODULE_0__.isBandLikeScale)(scales.x) || scales.x1 && !(0,_util_scale__WEBPACK_IMPORTED_MODULE_0__.isBandLikeScale)(scales.x1) ? \"y\" : \"x\" : options.dodgeChannel;\n    if (bandWidth > 0) {\n        const innerGap = null !== (_b = options.innerGap) && void 0 !== _b ? _b : 0, categoryGap = null !== (_c = options.categoryGap) && void 0 !== _c ? _c : \"20%\";\n        let getDodgeBy = element => element.groupKey;\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options.dodgeBy)) {\n            const getDodgeValue = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__.getter)((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__.array)(options.dodgeBy));\n            getDodgeBy = element => getDodgeValue(element.getDatum());\n        }\n        const groupValues = [];\n        upstreamData.forEach((element => {\n            const groupValue = getDodgeBy(element);\n            groupValues.includes(groupValue) || groupValues.push(groupValue);\n        }));\n        const groupCount = groupValues.length;\n        if (groupCount < 1) return upstreamData;\n        const catGap = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__.toPercent)(categoryGap, bandWidth);\n        let innerSize = catGap >= bandWidth ? bandWidth : bandWidth - catGap;\n        const innerGapSize = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_4__.toPercent)(innerGap, innerSize);\n        let size = (innerSize - Math.max(groupCount - 1, 0) * innerGapSize) / groupCount;\n        size > options.maxWidth ? (innerSize -= (size - options.maxWidth) * groupCount, \n        size = options.maxWidth) : size < options.minWidth && options.minWidth <= bandWidth / groupCount && (innerSize += (options.minWidth - size) * groupCount, \n        size = options.minWidth);\n        const offsetByGroup = {};\n        groupValues.forEach(((entry, index) => {\n            offsetByGroup[entry] = -innerSize / 2 + index * (size + innerGapSize);\n        }));\n        const markType = mark.markType;\n        \"rect\" === markType || \"interval\" === markType || \"arc\" === markType ? upstreamData.forEach((element => {\n            const groupValue = getDodgeBy(element), offset = offsetByGroup[groupValue], attrs = element.getItemAttribute();\n            if (\"x\" === dodgeChannel) {\n                const newAttrs = {\n                    x: ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.width) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.x1) ? Math.min(attrs.x, attrs.x1) : attrs.x) + ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.width) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.x1) ? bandWidth : Math.abs(attrs.x1 - attrs.x) : attrs.width) / 2 + offset\n                };\n                (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.width) ? newAttrs.x1 = newAttrs.x + size : newAttrs.width = size, element.setItemAttributes(newAttrs);\n            } else if (\"y\" === dodgeChannel) {\n                const newAttrs = {\n                    y: ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.height) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.y1) ? Math.min(attrs.y, attrs.y1) : attrs.y) + ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.height) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.y1) ? bandWidth : Math.abs(attrs.y1 - attrs.y) : attrs.height) / 2 + offset\n                };\n                (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(attrs.height) ? newAttrs.y1 = newAttrs.y + size : newAttrs.height = size, \n                element.setItemAttributes(newAttrs);\n            }\n        })) : upstreamData.forEach((element => {\n            const groupValue = getDodgeBy(element), offset = offsetByGroup[groupValue];\n            if (\"x\" === dodgeChannel) {\n                const x = element.getItemAttribute(\"x\") + bandWidth / 2 + offset + size / 2;\n                element.setItemAttributes({\n                    x: x\n                }), \"rule\" === markType && element.setItemAttributes({\n                    x1: x\n                });\n            } else if (\"y\" === dodgeChannel) {\n                const y = element.getItemAttribute(\"y\") + bandWidth / 2 + offset + size / 2;\n                element.setItemAttributes({\n                    y: y\n                }), \"rule\" === markType && element.setItemAttributes({\n                    y1: y\n                });\n            }\n        }));\n    }\n    return upstreamData;\n};\n//# sourceMappingURL=dodge.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL2RvZGdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnRDs7QUFFWTs7QUFFWTs7QUFFakU7QUFDUDtBQUNBO0FBQ0EsaUhBQWlILHdEQUFlO0FBQ2hJO0FBQ0EsMERBQTBELGdFQUFtQiw0QkFBNEIsNERBQUssMkZBQTJGLDREQUFlLDRCQUE0Qiw0REFBZTtBQUNuUTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUFLO0FBQ2xCLGtDQUFrQywrREFBTSxDQUFDLHVEQUFLO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsdUJBQXVCLGtFQUFTO0FBQ2hDO0FBQ0EsNkJBQTZCLGtFQUFTO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNERBQUssa0JBQWtCLDREQUFLLHVEQUF1RCw0REFBSyxnQkFBZ0IsNERBQUs7QUFDckk7QUFDQSxnQkFBZ0IsNERBQUs7QUFDckIsY0FBYztBQUNkO0FBQ0Esd0JBQXdCLDREQUFLLG1CQUFtQiw0REFBSyx1REFBdUQsNERBQUssaUJBQWlCLDREQUFLO0FBQ3ZJO0FBQ0EsZ0JBQWdCLDREQUFLO0FBQ3JCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy90cmFuc2Zvcm1zL21hcmsvZG9kZ2UuanM/MjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcnJheSwgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBnZXR0ZXIsIHRvUGVyY2VudCB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItdXRpbFwiO1xuXG5pbXBvcnQgeyBnZXRCYW5kV2lkdGhPZlNjYWxlLCBpc0JhbmRMaWtlU2NhbGUgfSBmcm9tIFwiLi4vLi4vdXRpbC9zY2FsZVwiO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGlmICghdXBzdHJlYW1EYXRhIHx8IDAgPT09IHVwc3RyZWFtRGF0YS5sZW5ndGggfHwgIShudWxsID09PSAoX2EgPSB1cHN0cmVhbURhdGFbMF0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5tYXJrKSkgcmV0dXJuIHVwc3RyZWFtRGF0YTtcbiAgICBjb25zdCBtYXJrID0gdXBzdHJlYW1EYXRhWzBdLm1hcmssIG1hcmtTY2FsZXMgPSBtYXJrLmdldFNjYWxlcygpLCBiYW5kU2NhbGUgPSBPYmplY3QudmFsdWVzKG1hcmtTY2FsZXMpLmZpbmQoaXNCYW5kTGlrZVNjYWxlKTtcbiAgICBpZiAoIWJhbmRTY2FsZSkgcmV0dXJuIHVwc3RyZWFtRGF0YTtcbiAgICBjb25zdCBzY2FsZXMgPSBtYXJrLmdldFNjYWxlc0J5Q2hhbm5lbCgpLCBiYW5kV2lkdGggPSBnZXRCYW5kV2lkdGhPZlNjYWxlKGJhbmRTY2FsZSksIGRvZGdlQ2hhbm5lbCA9IGlzTmlsKG9wdGlvbnMuZG9kZ2VDaGFubmVsKSA/IHNjYWxlcy55ID09PSBiYW5kU2NhbGUgfHwgc2NhbGVzLnkxID09PSBiYW5kU2NhbGUgfHwgc2NhbGVzLnggJiYgIWlzQmFuZExpa2VTY2FsZShzY2FsZXMueCkgfHwgc2NhbGVzLngxICYmICFpc0JhbmRMaWtlU2NhbGUoc2NhbGVzLngxKSA/IFwieVwiIDogXCJ4XCIgOiBvcHRpb25zLmRvZGdlQ2hhbm5lbDtcbiAgICBpZiAoYmFuZFdpZHRoID4gMCkge1xuICAgICAgICBjb25zdCBpbm5lckdhcCA9IG51bGwgIT09IChfYiA9IG9wdGlvbnMuaW5uZXJHYXApICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDAsIGNhdGVnb3J5R2FwID0gbnVsbCAhPT0gKF9jID0gb3B0aW9ucy5jYXRlZ29yeUdhcCkgJiYgdm9pZCAwICE9PSBfYyA/IF9jIDogXCIyMCVcIjtcbiAgICAgICAgbGV0IGdldERvZGdlQnkgPSBlbGVtZW50ID0+IGVsZW1lbnQuZ3JvdXBLZXk7XG4gICAgICAgIGlmICghaXNOaWwob3B0aW9ucy5kb2RnZUJ5KSkge1xuICAgICAgICAgICAgY29uc3QgZ2V0RG9kZ2VWYWx1ZSA9IGdldHRlcihhcnJheShvcHRpb25zLmRvZGdlQnkpKTtcbiAgICAgICAgICAgIGdldERvZGdlQnkgPSBlbGVtZW50ID0+IGdldERvZGdlVmFsdWUoZWxlbWVudC5nZXREYXR1bSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncm91cFZhbHVlcyA9IFtdO1xuICAgICAgICB1cHN0cmVhbURhdGEuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBncm91cFZhbHVlID0gZ2V0RG9kZ2VCeShlbGVtZW50KTtcbiAgICAgICAgICAgIGdyb3VwVmFsdWVzLmluY2x1ZGVzKGdyb3VwVmFsdWUpIHx8IGdyb3VwVmFsdWVzLnB1c2goZ3JvdXBWYWx1ZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgZ3JvdXBDb3VudCA9IGdyb3VwVmFsdWVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGdyb3VwQ291bnQgPCAxKSByZXR1cm4gdXBzdHJlYW1EYXRhO1xuICAgICAgICBjb25zdCBjYXRHYXAgPSB0b1BlcmNlbnQoY2F0ZWdvcnlHYXAsIGJhbmRXaWR0aCk7XG4gICAgICAgIGxldCBpbm5lclNpemUgPSBjYXRHYXAgPj0gYmFuZFdpZHRoID8gYmFuZFdpZHRoIDogYmFuZFdpZHRoIC0gY2F0R2FwO1xuICAgICAgICBjb25zdCBpbm5lckdhcFNpemUgPSB0b1BlcmNlbnQoaW5uZXJHYXAsIGlubmVyU2l6ZSk7XG4gICAgICAgIGxldCBzaXplID0gKGlubmVyU2l6ZSAtIE1hdGgubWF4KGdyb3VwQ291bnQgLSAxLCAwKSAqIGlubmVyR2FwU2l6ZSkgLyBncm91cENvdW50O1xuICAgICAgICBzaXplID4gb3B0aW9ucy5tYXhXaWR0aCA/IChpbm5lclNpemUgLT0gKHNpemUgLSBvcHRpb25zLm1heFdpZHRoKSAqIGdyb3VwQ291bnQsIFxuICAgICAgICBzaXplID0gb3B0aW9ucy5tYXhXaWR0aCkgOiBzaXplIDwgb3B0aW9ucy5taW5XaWR0aCAmJiBvcHRpb25zLm1pbldpZHRoIDw9IGJhbmRXaWR0aCAvIGdyb3VwQ291bnQgJiYgKGlubmVyU2l6ZSArPSAob3B0aW9ucy5taW5XaWR0aCAtIHNpemUpICogZ3JvdXBDb3VudCwgXG4gICAgICAgIHNpemUgPSBvcHRpb25zLm1pbldpZHRoKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0QnlHcm91cCA9IHt9O1xuICAgICAgICBncm91cFZhbHVlcy5mb3JFYWNoKCgoZW50cnksIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBvZmZzZXRCeUdyb3VwW2VudHJ5XSA9IC1pbm5lclNpemUgLyAyICsgaW5kZXggKiAoc2l6ZSArIGlubmVyR2FwU2l6ZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgbWFya1R5cGUgPSBtYXJrLm1hcmtUeXBlO1xuICAgICAgICBcInJlY3RcIiA9PT0gbWFya1R5cGUgfHwgXCJpbnRlcnZhbFwiID09PSBtYXJrVHlwZSB8fCBcImFyY1wiID09PSBtYXJrVHlwZSA/IHVwc3RyZWFtRGF0YS5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwVmFsdWUgPSBnZXREb2RnZUJ5KGVsZW1lbnQpLCBvZmZzZXQgPSBvZmZzZXRCeUdyb3VwW2dyb3VwVmFsdWVdLCBhdHRycyA9IGVsZW1lbnQuZ2V0SXRlbUF0dHJpYnV0ZSgpO1xuICAgICAgICAgICAgaWYgKFwieFwiID09PSBkb2RnZUNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdBdHRycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogKGlzTmlsKGF0dHJzLndpZHRoKSAmJiAhaXNOaWwoYXR0cnMueDEpID8gTWF0aC5taW4oYXR0cnMueCwgYXR0cnMueDEpIDogYXR0cnMueCkgKyAoaXNOaWwoYXR0cnMud2lkdGgpID8gaXNOaWwoYXR0cnMueDEpID8gYmFuZFdpZHRoIDogTWF0aC5hYnMoYXR0cnMueDEgLSBhdHRycy54KSA6IGF0dHJzLndpZHRoKSAvIDIgKyBvZmZzZXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlzTmlsKGF0dHJzLndpZHRoKSA/IG5ld0F0dHJzLngxID0gbmV3QXR0cnMueCArIHNpemUgOiBuZXdBdHRycy53aWR0aCA9IHNpemUsIGVsZW1lbnQuc2V0SXRlbUF0dHJpYnV0ZXMobmV3QXR0cnMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcInlcIiA9PT0gZG9kZ2VDaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QXR0cnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHk6IChpc05pbChhdHRycy5oZWlnaHQpICYmICFpc05pbChhdHRycy55MSkgPyBNYXRoLm1pbihhdHRycy55LCBhdHRycy55MSkgOiBhdHRycy55KSArIChpc05pbChhdHRycy5oZWlnaHQpID8gaXNOaWwoYXR0cnMueTEpID8gYmFuZFdpZHRoIDogTWF0aC5hYnMoYXR0cnMueTEgLSBhdHRycy55KSA6IGF0dHJzLmhlaWdodCkgLyAyICsgb2Zmc2V0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpc05pbChhdHRycy5oZWlnaHQpID8gbmV3QXR0cnMueTEgPSBuZXdBdHRycy55ICsgc2l6ZSA6IG5ld0F0dHJzLmhlaWdodCA9IHNpemUsIFxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0SXRlbUF0dHJpYnV0ZXMobmV3QXR0cnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkgOiB1cHN0cmVhbURhdGEuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBncm91cFZhbHVlID0gZ2V0RG9kZ2VCeShlbGVtZW50KSwgb2Zmc2V0ID0gb2Zmc2V0QnlHcm91cFtncm91cFZhbHVlXTtcbiAgICAgICAgICAgIGlmIChcInhcIiA9PT0gZG9kZ2VDaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGVsZW1lbnQuZ2V0SXRlbUF0dHJpYnV0ZShcInhcIikgKyBiYW5kV2lkdGggLyAyICsgb2Zmc2V0ICsgc2l6ZSAvIDI7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRJdGVtQXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHg6IHhcbiAgICAgICAgICAgICAgICB9KSwgXCJydWxlXCIgPT09IG1hcmtUeXBlICYmIGVsZW1lbnQuc2V0SXRlbUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICB4MTogeFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcInlcIiA9PT0gZG9kZ2VDaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGVsZW1lbnQuZ2V0SXRlbUF0dHJpYnV0ZShcInlcIikgKyBiYW5kV2lkdGggLyAyICsgb2Zmc2V0ICsgc2l6ZSAvIDI7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRJdGVtQXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgICAgICB9KSwgXCJydWxlXCIgPT09IG1hcmtUeXBlICYmIGVsZW1lbnQuc2V0SXRlbUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICB5MTogeVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiB1cHN0cmVhbURhdGE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9kZ2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/dodge.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/jitter.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/jitter.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   jitterX: () => (/* binding */ jitterX),\n/* harmony export */   jitterY: () => (/* binding */ jitterY),\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/extent.js\");\n/* harmony import */ var _util_scale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/scale.js\");\n\n\n\n\n\n\nconst jitterByChannel = (options, upstreamData, channel) => {\n    var _a, _b, _c, _d;\n    const mark = upstreamData[0].mark, scale = null === (_a = mark.getScalesByChannel()) || void 0 === _a ? void 0 : _a[channel], random = null !== (_b = options.random) && void 0 !== _b ? _b : Math.random, ratio = Math.min(null !== (_c = \"x\" === channel ? options.widthRatio : options.heightRatio) && void 0 !== _c ? _c : .4, .5), bandSize = null !== (_d = \"x\" === channel ? options.bandWidth : options.bandHeight) && void 0 !== _d ? _d : (0,_util_scale__WEBPACK_IMPORTED_MODULE_0__.getBandWidthOfScale)(scale);\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bandSize)) {\n        let domain = (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_2__.extent)(upstreamData, (el => el.getItemAttribute(channel)));\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(domain[0]) || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(domain[1]) || domain[0] === domain[1]) {\n            const viewBox = mark.view.getViewBox();\n            domain = \"x\" === channel ? [ viewBox.x1, viewBox.x2 ] : [ viewBox.y1, viewBox.y2 ];\n        }\n        const length = upstreamData.length;\n        upstreamData.forEach(((element, index) => {\n            element.setItemAttributes({\n                [channel]: domain[0] + (domain[1] - domain[0]) * random(index, length)\n            });\n        }));\n    } else {\n        const length = upstreamData.length;\n        upstreamData.forEach(((element, index) => {\n            const val = element.getItemAttribute(channel), domain = [ val - ratio * bandSize, val + ratio * bandSize ];\n            element.setItemAttributes({\n                [channel]: domain[0] + (domain[1] - domain[0]) * random(index, length)\n            });\n        }));\n    }\n};\n\nconst jitterY = (options, upstreamData) => {\n    var _a;\n    return upstreamData && 0 !== upstreamData.length && (null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark) ? jitterByChannel(options, upstreamData, \"y\") : upstreamData;\n};\n\nconst jitterX = (options, upstreamData) => {\n    var _a;\n    return upstreamData && 0 !== upstreamData.length && (null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark) ? jitterByChannel(options, upstreamData, \"x\") : upstreamData;\n};\n\nconst transform = (options, upstreamData) => {\n    var _a;\n    return upstreamData && 0 !== upstreamData.length && (null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark) ? (jitterByChannel(options, upstreamData, \"x\"), \n    jitterByChannel(options, upstreamData, \"y\"), upstreamData) : upstreamData;\n};\n//# sourceMappingURL=jitter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL2ppdHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUM7O0FBRVE7O0FBRU07O0FBRXZEO0FBQ0E7QUFDQSx3YkFBd2IsZ0VBQW1CO0FBQzNjLFFBQVEsNERBQUs7QUFDYixxQkFBcUIsK0RBQU07QUFDM0IsWUFBWSw0REFBSyxlQUFlLDREQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvbWFyay9qaXR0ZXIuanM/OWY0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IGV4dGVudCB9IGZyb20gXCJAdmlzYWN0b3IvdmdyYW1tYXItdXRpbFwiO1xuXG5pbXBvcnQgeyBnZXRCYW5kV2lkdGhPZlNjYWxlIH0gZnJvbSBcIi4uLy4uL3V0aWwvc2NhbGVcIjtcblxuY29uc3Qgaml0dGVyQnlDaGFubmVsID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSwgY2hhbm5lbCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCBtYXJrID0gdXBzdHJlYW1EYXRhWzBdLm1hcmssIHNjYWxlID0gbnVsbCA9PT0gKF9hID0gbWFyay5nZXRTY2FsZXNCeUNoYW5uZWwoKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hW2NoYW5uZWxdLCByYW5kb20gPSBudWxsICE9PSAoX2IgPSBvcHRpb25zLnJhbmRvbSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogTWF0aC5yYW5kb20sIHJhdGlvID0gTWF0aC5taW4obnVsbCAhPT0gKF9jID0gXCJ4XCIgPT09IGNoYW5uZWwgPyBvcHRpb25zLndpZHRoUmF0aW8gOiBvcHRpb25zLmhlaWdodFJhdGlvKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAuNCwgLjUpLCBiYW5kU2l6ZSA9IG51bGwgIT09IChfZCA9IFwieFwiID09PSBjaGFubmVsID8gb3B0aW9ucy5iYW5kV2lkdGggOiBvcHRpb25zLmJhbmRIZWlnaHQpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6IGdldEJhbmRXaWR0aE9mU2NhbGUoc2NhbGUpO1xuICAgIGlmIChpc05pbChiYW5kU2l6ZSkpIHtcbiAgICAgICAgbGV0IGRvbWFpbiA9IGV4dGVudCh1cHN0cmVhbURhdGEsIChlbCA9PiBlbC5nZXRJdGVtQXR0cmlidXRlKGNoYW5uZWwpKSk7XG4gICAgICAgIGlmIChpc05pbChkb21haW5bMF0pIHx8IGlzTmlsKGRvbWFpblsxXSkgfHwgZG9tYWluWzBdID09PSBkb21haW5bMV0pIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdCb3ggPSBtYXJrLnZpZXcuZ2V0Vmlld0JveCgpO1xuICAgICAgICAgICAgZG9tYWluID0gXCJ4XCIgPT09IGNoYW5uZWwgPyBbIHZpZXdCb3gueDEsIHZpZXdCb3gueDIgXSA6IFsgdmlld0JveC55MSwgdmlld0JveC55MiBdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHVwc3RyZWFtRGF0YS5sZW5ndGg7XG4gICAgICAgIHVwc3RyZWFtRGF0YS5mb3JFYWNoKCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0SXRlbUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIFtjaGFubmVsXTogZG9tYWluWzBdICsgKGRvbWFpblsxXSAtIGRvbWFpblswXSkgKiByYW5kb20oaW5kZXgsIGxlbmd0aClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdXBzdHJlYW1EYXRhLmxlbmd0aDtcbiAgICAgICAgdXBzdHJlYW1EYXRhLmZvckVhY2goKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsID0gZWxlbWVudC5nZXRJdGVtQXR0cmlidXRlKGNoYW5uZWwpLCBkb21haW4gPSBbIHZhbCAtIHJhdGlvICogYmFuZFNpemUsIHZhbCArIHJhdGlvICogYmFuZFNpemUgXTtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0SXRlbUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIFtjaGFubmVsXTogZG9tYWluWzBdICsgKGRvbWFpblsxXSAtIGRvbWFpblswXSkgKiByYW5kb20oaW5kZXgsIGxlbmd0aClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGppdHRlclkgPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiB1cHN0cmVhbURhdGEgJiYgMCAhPT0gdXBzdHJlYW1EYXRhLmxlbmd0aCAmJiAobnVsbCA9PT0gKF9hID0gdXBzdHJlYW1EYXRhWzBdKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubWFyaykgPyBqaXR0ZXJCeUNoYW5uZWwob3B0aW9ucywgdXBzdHJlYW1EYXRhLCBcInlcIikgOiB1cHN0cmVhbURhdGE7XG59O1xuXG5leHBvcnQgY29uc3Qgaml0dGVyWCA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHVwc3RyZWFtRGF0YSAmJiAwICE9PSB1cHN0cmVhbURhdGEubGVuZ3RoICYmIChudWxsID09PSAoX2EgPSB1cHN0cmVhbURhdGFbMF0pIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5tYXJrKSA/IGppdHRlckJ5Q2hhbm5lbChvcHRpb25zLCB1cHN0cmVhbURhdGEsIFwieFwiKSA6IHVwc3RyZWFtRGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiB1cHN0cmVhbURhdGEgJiYgMCAhPT0gdXBzdHJlYW1EYXRhLmxlbmd0aCAmJiAobnVsbCA9PT0gKF9hID0gdXBzdHJlYW1EYXRhWzBdKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubWFyaykgPyAoaml0dGVyQnlDaGFubmVsKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSwgXCJ4XCIpLCBcbiAgICBqaXR0ZXJCeUNoYW5uZWwob3B0aW9ucywgdXBzdHJlYW1EYXRhLCBcInlcIiksIHVwc3RyZWFtRGF0YSkgOiB1cHN0cmVhbURhdGE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aml0dGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/jitter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/mark-overlap.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/mark-overlap.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n\n\n\n\nfunction reset(elements) {\n    return elements.forEach((element => {\n        element.getGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY) && (element.setGraphicAttribute(\"visible\", !0), \n        element.setGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY, !1));\n    })), elements;\n}\n\nfunction overlapX(elements, delta, deltaMul, useRadius) {\n    if (useRadius) {\n        let lastX = -1 / 0, lastR = 0;\n        const useDeltaMul = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(delta);\n        let itemDelta = delta;\n        elements.forEach((element => {\n            if (!1 === element.getGraphicAttribute(\"visible\")) return;\n            const r = element.getGraphicAttribute(\"size\") / 2, currentX = element.getGraphicAttribute(\"x\");\n            useDeltaMul && (itemDelta = (r + lastR) * deltaMul), Math.abs(currentX - lastX) < itemDelta + lastR + r ? element.getGraphicAttribute(\"forceShow\") || (element.setGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY, !0), \n            element.setGraphicAttribute(\"visible\", !1)) : lastX = currentX, lastR = r;\n        }));\n    }\n}\n\nfunction overlapY(elements, delta, deltaMul, useRadius) {\n    if (useRadius) {\n        let lastY = -1 / 0, lastR = 0;\n        const useDeltaMul = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(delta);\n        let itemDelta = delta;\n        elements.forEach((element => {\n            if (!1 === element.getGraphicAttribute(\"visible\")) return;\n            const r = element.getGraphicAttribute(\"size\") / 2, currentY = element.getGraphicAttribute(\"y\");\n            useDeltaMul && (itemDelta = (r + lastR) * deltaMul), Math.abs(currentY - lastY) < itemDelta + lastR + r ? element.getGraphicAttribute(\"forceShow\") || (element.setGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY, !0), \n            element.setGraphicAttribute(\"visible\", !1)) : lastY = currentY, lastR = r;\n        }));\n    }\n}\n\nfunction overlapXY(elements, delta, deltaMul, useRadius) {\n    if (useRadius) {\n        const lastX = -1 / 0;\n        let lastY = -1 / 0, lastR = 0, dis = 0;\n        const useDeltaMul = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(delta);\n        let itemDelta = delta;\n        elements.forEach((element => {\n            if (!1 === element.getGraphicAttribute(\"visible\")) return;\n            const r = element.getGraphicAttribute(\"size\") / 2, currentX = element.getGraphicAttribute(\"x\"), currentY = element.getGraphicAttribute(\"y\");\n            useDeltaMul && (itemDelta = (r + lastR) * deltaMul), dis = (lastX - currentX) ** 2 + (lastY - currentY) ** 2, \n            dis < (itemDelta + lastR + r) ** 2 ? element.getGraphicAttribute(\"forceShow\") || (element.setGraphicAttribute(_graph_constants__WEBPACK_IMPORTED_MODULE_0__.MARK_OVERLAP_HIDE_KEY, !0), \n            element.setGraphicAttribute(\"visible\", !1)) : lastY = currentY, lastR = r;\n        }));\n    }\n}\n\nconst transform = (options, upstreamData) => {\n    if (!upstreamData || 0 === upstreamData.length) return;\n    let {radius: radius} = options;\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(radius) && \"symbol\" === upstreamData[0].mark.markType && (radius = !0);\n    const {direction: direction, delta: delta, deltaMul: deltaMul = 1, groupBy: groupBy} = options, handleOverlap = elements => {\n        reset(elements);\n        const sortedElements = options.sort ? elements.slice().sort(((a, b) => a.getGraphicAttribute(\"x\") - b.getGraphicAttribute(\"x\"))) : elements;\n        0 === direction ? overlapXY(sortedElements, delta, deltaMul, radius) : 1 === direction ? overlapX(sortedElements, delta, deltaMul, radius) : overlapY(sortedElements, delta, deltaMul, radius);\n    };\n    if (groupBy) {\n        const map = upstreamData.reduce(((res, element) => {\n            const groupName = element.getDatum()[groupBy];\n            return res[groupName] ? res[groupName].push(element) : res[groupName] = [ element ], \n            res;\n        }), {});\n        Object.keys(map).forEach((key => {\n            handleOverlap(map[key]);\n        }));\n    } else handleOverlap(upstreamData);\n    return upstreamData;\n};\n//# sourceMappingURL=mark-overlap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL21hcmstb3ZlcmxhcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUM7O0FBRXFCOztBQUU5RDtBQUNBO0FBQ0Esb0NBQW9DLG1FQUFxQjtBQUN6RCxvQ0FBb0MsbUVBQXFCO0FBQ3pELEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNERBQUs7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrTEFBK0wsbUVBQXFCO0FBQ3BOO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDREQUFLO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0xBQStMLG1FQUFxQjtBQUNwTjtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDREQUFLO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwSEFBMEgsbUVBQXFCO0FBQy9JO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRU87QUFDUDtBQUNBLFNBQVMsZ0JBQWdCO0FBQ3pCLElBQUksNERBQUs7QUFDVCxXQUFXLDhFQUE4RTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEtBQUs7QUFDZDtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvbWFyay9tYXJrLW92ZXJsYXAuanM/MzdjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IE1BUktfT1ZFUkxBUF9ISURFX0tFWSB9IGZyb20gXCIuLi8uLi9ncmFwaC9jb25zdGFudHNcIjtcblxuZnVuY3Rpb24gcmVzZXQoZWxlbWVudHMpIHtcbiAgICByZXR1cm4gZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgIGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShNQVJLX09WRVJMQVBfSElERV9LRVkpICYmIChlbGVtZW50LnNldEdyYXBoaWNBdHRyaWJ1dGUoXCJ2aXNpYmxlXCIsICEwKSwgXG4gICAgICAgIGVsZW1lbnQuc2V0R3JhcGhpY0F0dHJpYnV0ZShNQVJLX09WRVJMQVBfSElERV9LRVksICExKSk7XG4gICAgfSkpLCBlbGVtZW50cztcbn1cblxuZnVuY3Rpb24gb3ZlcmxhcFgoZWxlbWVudHMsIGRlbHRhLCBkZWx0YU11bCwgdXNlUmFkaXVzKSB7XG4gICAgaWYgKHVzZVJhZGl1cykge1xuICAgICAgICBsZXQgbGFzdFggPSAtMSAvIDAsIGxhc3RSID0gMDtcbiAgICAgICAgY29uc3QgdXNlRGVsdGFNdWwgPSBpc05pbChkZWx0YSk7XG4gICAgICAgIGxldCBpdGVtRGVsdGEgPSBkZWx0YTtcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoITEgPT09IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInZpc2libGVcIikpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzaXplXCIpIC8gMiwgY3VycmVudFggPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIpO1xuICAgICAgICAgICAgdXNlRGVsdGFNdWwgJiYgKGl0ZW1EZWx0YSA9IChyICsgbGFzdFIpICogZGVsdGFNdWwpLCBNYXRoLmFicyhjdXJyZW50WCAtIGxhc3RYKSA8IGl0ZW1EZWx0YSArIGxhc3RSICsgciA/IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImZvcmNlU2hvd1wiKSB8fCAoZWxlbWVudC5zZXRHcmFwaGljQXR0cmlidXRlKE1BUktfT1ZFUkxBUF9ISURFX0tFWSwgITApLCBcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0R3JhcGhpY0F0dHJpYnV0ZShcInZpc2libGVcIiwgITEpKSA6IGxhc3RYID0gY3VycmVudFgsIGxhc3RSID0gcjtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb3ZlcmxhcFkoZWxlbWVudHMsIGRlbHRhLCBkZWx0YU11bCwgdXNlUmFkaXVzKSB7XG4gICAgaWYgKHVzZVJhZGl1cykge1xuICAgICAgICBsZXQgbGFzdFkgPSAtMSAvIDAsIGxhc3RSID0gMDtcbiAgICAgICAgY29uc3QgdXNlRGVsdGFNdWwgPSBpc05pbChkZWx0YSk7XG4gICAgICAgIGxldCBpdGVtRGVsdGEgPSBkZWx0YTtcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoITEgPT09IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInZpc2libGVcIikpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJzaXplXCIpIC8gMiwgY3VycmVudFkgPSBlbGVtZW50LmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ5XCIpO1xuICAgICAgICAgICAgdXNlRGVsdGFNdWwgJiYgKGl0ZW1EZWx0YSA9IChyICsgbGFzdFIpICogZGVsdGFNdWwpLCBNYXRoLmFicyhjdXJyZW50WSAtIGxhc3RZKSA8IGl0ZW1EZWx0YSArIGxhc3RSICsgciA/IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcImZvcmNlU2hvd1wiKSB8fCAoZWxlbWVudC5zZXRHcmFwaGljQXR0cmlidXRlKE1BUktfT1ZFUkxBUF9ISURFX0tFWSwgITApLCBcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0R3JhcGhpY0F0dHJpYnV0ZShcInZpc2libGVcIiwgITEpKSA6IGxhc3RZID0gY3VycmVudFksIGxhc3RSID0gcjtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb3ZlcmxhcFhZKGVsZW1lbnRzLCBkZWx0YSwgZGVsdGFNdWwsIHVzZVJhZGl1cykge1xuICAgIGlmICh1c2VSYWRpdXMpIHtcbiAgICAgICAgY29uc3QgbGFzdFggPSAtMSAvIDA7XG4gICAgICAgIGxldCBsYXN0WSA9IC0xIC8gMCwgbGFzdFIgPSAwLCBkaXMgPSAwO1xuICAgICAgICBjb25zdCB1c2VEZWx0YU11bCA9IGlzTmlsKGRlbHRhKTtcbiAgICAgICAgbGV0IGl0ZW1EZWx0YSA9IGRlbHRhO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmICghMSA9PT0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwidmlzaWJsZVwiKSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgciA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInNpemVcIikgLyAyLCBjdXJyZW50WCA9IGVsZW1lbnQuZ2V0R3JhcGhpY0F0dHJpYnV0ZShcInhcIiksIGN1cnJlbnRZID0gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwieVwiKTtcbiAgICAgICAgICAgIHVzZURlbHRhTXVsICYmIChpdGVtRGVsdGEgPSAociArIGxhc3RSKSAqIGRlbHRhTXVsKSwgZGlzID0gKGxhc3RYIC0gY3VycmVudFgpICoqIDIgKyAobGFzdFkgLSBjdXJyZW50WSkgKiogMiwgXG4gICAgICAgICAgICBkaXMgPCAoaXRlbURlbHRhICsgbGFzdFIgKyByKSAqKiAyID8gZWxlbWVudC5nZXRHcmFwaGljQXR0cmlidXRlKFwiZm9yY2VTaG93XCIpIHx8IChlbGVtZW50LnNldEdyYXBoaWNBdHRyaWJ1dGUoTUFSS19PVkVSTEFQX0hJREVfS0VZLCAhMCksIFxuICAgICAgICAgICAgZWxlbWVudC5zZXRHcmFwaGljQXR0cmlidXRlKFwidmlzaWJsZVwiLCAhMSkpIDogbGFzdFkgPSBjdXJyZW50WSwgbGFzdFIgPSByO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtID0gKG9wdGlvbnMsIHVwc3RyZWFtRGF0YSkgPT4ge1xuICAgIGlmICghdXBzdHJlYW1EYXRhIHx8IDAgPT09IHVwc3RyZWFtRGF0YS5sZW5ndGgpIHJldHVybjtcbiAgICBsZXQge3JhZGl1czogcmFkaXVzfSA9IG9wdGlvbnM7XG4gICAgaXNOaWwocmFkaXVzKSAmJiBcInN5bWJvbFwiID09PSB1cHN0cmVhbURhdGFbMF0ubWFyay5tYXJrVHlwZSAmJiAocmFkaXVzID0gITApO1xuICAgIGNvbnN0IHtkaXJlY3Rpb246IGRpcmVjdGlvbiwgZGVsdGE6IGRlbHRhLCBkZWx0YU11bDogZGVsdGFNdWwgPSAxLCBncm91cEJ5OiBncm91cEJ5fSA9IG9wdGlvbnMsIGhhbmRsZU92ZXJsYXAgPSBlbGVtZW50cyA9PiB7XG4gICAgICAgIHJlc2V0KGVsZW1lbnRzKTtcbiAgICAgICAgY29uc3Qgc29ydGVkRWxlbWVudHMgPSBvcHRpb25zLnNvcnQgPyBlbGVtZW50cy5zbGljZSgpLnNvcnQoKChhLCBiKSA9PiBhLmdldEdyYXBoaWNBdHRyaWJ1dGUoXCJ4XCIpIC0gYi5nZXRHcmFwaGljQXR0cmlidXRlKFwieFwiKSkpIDogZWxlbWVudHM7XG4gICAgICAgIDAgPT09IGRpcmVjdGlvbiA/IG92ZXJsYXBYWShzb3J0ZWRFbGVtZW50cywgZGVsdGEsIGRlbHRhTXVsLCByYWRpdXMpIDogMSA9PT0gZGlyZWN0aW9uID8gb3ZlcmxhcFgoc29ydGVkRWxlbWVudHMsIGRlbHRhLCBkZWx0YU11bCwgcmFkaXVzKSA6IG92ZXJsYXBZKHNvcnRlZEVsZW1lbnRzLCBkZWx0YSwgZGVsdGFNdWwsIHJhZGl1cyk7XG4gICAgfTtcbiAgICBpZiAoZ3JvdXBCeSkge1xuICAgICAgICBjb25zdCBtYXAgPSB1cHN0cmVhbURhdGEucmVkdWNlKCgocmVzLCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBncm91cE5hbWUgPSBlbGVtZW50LmdldERhdHVtKClbZ3JvdXBCeV07XG4gICAgICAgICAgICByZXR1cm4gcmVzW2dyb3VwTmFtZV0gPyByZXNbZ3JvdXBOYW1lXS5wdXNoKGVsZW1lbnQpIDogcmVzW2dyb3VwTmFtZV0gPSBbIGVsZW1lbnQgXSwgXG4gICAgICAgICAgICByZXM7XG4gICAgICAgIH0pLCB7fSk7XG4gICAgICAgIE9iamVjdC5rZXlzKG1hcCkuZm9yRWFjaCgoa2V5ID0+IHtcbiAgICAgICAgICAgIGhhbmRsZU92ZXJsYXAobWFwW2tleV0pO1xuICAgICAgICB9KSk7XG4gICAgfSBlbHNlIGhhbmRsZU92ZXJsYXAodXBzdHJlYW1EYXRhKTtcbiAgICByZXR1cm4gdXBzdHJlYW1EYXRhO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcmstb3ZlcmxhcC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/mark-overlap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/symmetry.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/symmetry.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   symmetry: () => (/* binding */ symmetry)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValidNumber.js\");\n\n\nconst symmetryByChannel = (upstreamData, channel, align) => {\n    const baseChannel = `${channel}1`, hasRangeValue = upstreamData.some((el => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(el.getItemAttribute(baseChannel)))), middleValues = hasRangeValue ? upstreamData.map((el => (el.getItemAttribute(baseChannel) + el.getItemAttribute(channel)) / 2)) : upstreamData.map((el => el.getItemAttribute(channel))), maxMid = \"min\" === align ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.minInArray)(middleValues) : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.maxInArray)(middleValues);\n    return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(maxMid) && upstreamData.forEach(((el, index) => {\n        const offset = maxMid - middleValues[index];\n        hasRangeValue ? el.setItemAttributes({\n            [baseChannel]: el.getItemAttribute(baseChannel) + offset,\n            [channel]: el.getItemAttribute(channel) + offset\n        }) : el.setItemAttributes({\n            [channel]: el.getItemAttribute(channel) + offset\n        });\n    })), upstreamData;\n};\n\nconst symmetry = (options, upstreamData) => {\n    var _a, _b;\n    return upstreamData && 0 !== upstreamData.length && (null === (_a = upstreamData[0]) || void 0 === _a ? void 0 : _a.mark) ? symmetryByChannel(upstreamData, null !== (_b = options.channel) && void 0 !== _b ? _b : \"y\", options.align) : upstreamData;\n};\n//# sourceMappingURL=symmetry.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL3N5bW1ldHJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0Y7O0FBRWhGO0FBQ0EsMkJBQTJCLFFBQVEsOENBQThDLDREQUFLLDBQQUEwUCw0REFBVSxpQkFBaUIsNERBQVU7QUFDclgsV0FBVyw0REFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy9tYXJrL3N5bW1ldHJ5LmpzPzdmNDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIGlzVmFsaWROdW1iZXIsIG1heEluQXJyYXksIG1pbkluQXJyYXkgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5jb25zdCBzeW1tZXRyeUJ5Q2hhbm5lbCA9ICh1cHN0cmVhbURhdGEsIGNoYW5uZWwsIGFsaWduKSA9PiB7XG4gICAgY29uc3QgYmFzZUNoYW5uZWwgPSBgJHtjaGFubmVsfTFgLCBoYXNSYW5nZVZhbHVlID0gdXBzdHJlYW1EYXRhLnNvbWUoKGVsID0+ICFpc05pbChlbC5nZXRJdGVtQXR0cmlidXRlKGJhc2VDaGFubmVsKSkpKSwgbWlkZGxlVmFsdWVzID0gaGFzUmFuZ2VWYWx1ZSA/IHVwc3RyZWFtRGF0YS5tYXAoKGVsID0+IChlbC5nZXRJdGVtQXR0cmlidXRlKGJhc2VDaGFubmVsKSArIGVsLmdldEl0ZW1BdHRyaWJ1dGUoY2hhbm5lbCkpIC8gMikpIDogdXBzdHJlYW1EYXRhLm1hcCgoZWwgPT4gZWwuZ2V0SXRlbUF0dHJpYnV0ZShjaGFubmVsKSkpLCBtYXhNaWQgPSBcIm1pblwiID09PSBhbGlnbiA/IG1pbkluQXJyYXkobWlkZGxlVmFsdWVzKSA6IG1heEluQXJyYXkobWlkZGxlVmFsdWVzKTtcbiAgICByZXR1cm4gaXNWYWxpZE51bWJlcihtYXhNaWQpICYmIHVwc3RyZWFtRGF0YS5mb3JFYWNoKCgoZWwsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IG1heE1pZCAtIG1pZGRsZVZhbHVlc1tpbmRleF07XG4gICAgICAgIGhhc1JhbmdlVmFsdWUgPyBlbC5zZXRJdGVtQXR0cmlidXRlcyh7XG4gICAgICAgICAgICBbYmFzZUNoYW5uZWxdOiBlbC5nZXRJdGVtQXR0cmlidXRlKGJhc2VDaGFubmVsKSArIG9mZnNldCxcbiAgICAgICAgICAgIFtjaGFubmVsXTogZWwuZ2V0SXRlbUF0dHJpYnV0ZShjaGFubmVsKSArIG9mZnNldFxuICAgICAgICB9KSA6IGVsLnNldEl0ZW1BdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgIFtjaGFubmVsXTogZWwuZ2V0SXRlbUF0dHJpYnV0ZShjaGFubmVsKSArIG9mZnNldFxuICAgICAgICB9KTtcbiAgICB9KSksIHVwc3RyZWFtRGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBzeW1tZXRyeSA9IChvcHRpb25zLCB1cHN0cmVhbURhdGEpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiB1cHN0cmVhbURhdGEgJiYgMCAhPT0gdXBzdHJlYW1EYXRhLmxlbmd0aCAmJiAobnVsbCA9PT0gKF9hID0gdXBzdHJlYW1EYXRhWzBdKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EubWFyaykgPyBzeW1tZXRyeUJ5Q2hhbm5lbCh1cHN0cmVhbURhdGEsIG51bGwgIT09IChfYiA9IG9wdGlvbnMuY2hhbm5lbCkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDogXCJ5XCIsIG9wdGlvbnMuYWxpZ24pIDogdXBzdHJlYW1EYXRhO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5bW1ldHJ5LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/mark/symmetry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   average: () => (/* binding */ average),\n/* harmony export */   fieldNames: () => (/* binding */ fieldNames),\n/* harmony export */   partition: () => (/* binding */ partition),\n/* harmony export */   sum: () => (/* binding */ sum)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/accessor.js\");\n\n\n\n\nfunction fieldNames(fields, as) {\n    return fields ? fields.map(((f, i) => {\n        var _a;\n        return null !== (_a = as[i]) && void 0 !== _a ? _a : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(f) ? f : (0,_visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_1__.accessorName)(f);\n    })) : null;\n}\n\nfunction partition(data, groupBy, field) {\n    if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(groupBy)) return [ data.map(field) ];\n    const groups = [], map = {};\n    return data.forEach((entry => {\n        const groupKey = groupBy.map((groupFunc => groupFunc(entry))).toString();\n        if (map[groupKey]) map[groupKey].push(field(entry)); else {\n            const groupItem = [];\n            groupItem.dims = groupKey, groups.push(groupItem), map[groupKey] = groupItem;\n        }\n    })), groups;\n}\n\nfunction sum(arr) {\n    return arr.reduce(((accumulator, currentValue) => accumulator + currentValue), 0);\n}\n\nfunction average(arr) {\n    if (0 === arr.length) return 0;\n    return sum(arr) / arr.length;\n}\n//# sourceMappingURL=util.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy91dGlsL3V0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFtRDs7QUFFSTs7QUFFaEQ7QUFDUDtBQUNBO0FBQ0EsNkRBQTZELDREQUFRLFVBQVUscUVBQVk7QUFDM0YsS0FBSztBQUNMOztBQUVPO0FBQ1AsUUFBUSw0REFBSztBQUNiO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3RyYW5zZm9ybXMvdXRpbC91dGlsLmpzPzZmOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgYWNjZXNzb3JOYW1lIH0gZnJvbSBcIkB2aXNhY3Rvci92Z3JhbW1hci11dGlsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWVsZE5hbWVzKGZpZWxkcywgYXMpIHtcbiAgICByZXR1cm4gZmllbGRzID8gZmllbGRzLm1hcCgoKGYsIGkpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gYXNbaV0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IGlzU3RyaW5nKGYpID8gZiA6IGFjY2Vzc29yTmFtZShmKTtcbiAgICB9KSkgOiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydGl0aW9uKGRhdGEsIGdyb3VwQnksIGZpZWxkKSB7XG4gICAgaWYgKGlzTmlsKGdyb3VwQnkpKSByZXR1cm4gWyBkYXRhLm1hcChmaWVsZCkgXTtcbiAgICBjb25zdCBncm91cHMgPSBbXSwgbWFwID0ge307XG4gICAgcmV0dXJuIGRhdGEuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICBjb25zdCBncm91cEtleSA9IGdyb3VwQnkubWFwKChncm91cEZ1bmMgPT4gZ3JvdXBGdW5jKGVudHJ5KSkpLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChtYXBbZ3JvdXBLZXldKSBtYXBbZ3JvdXBLZXldLnB1c2goZmllbGQoZW50cnkpKTsgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBncm91cEl0ZW0gPSBbXTtcbiAgICAgICAgICAgIGdyb3VwSXRlbS5kaW1zID0gZ3JvdXBLZXksIGdyb3Vwcy5wdXNoKGdyb3VwSXRlbSksIG1hcFtncm91cEtleV0gPSBncm91cEl0ZW07XG4gICAgICAgIH1cbiAgICB9KSksIGdyb3Vwcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1bShhcnIpIHtcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgoKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUpID0+IGFjY3VtdWxhdG9yICsgY3VycmVudFZhbHVlKSwgMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdmVyYWdlKGFycikge1xuICAgIGlmICgwID09PSBhcnIubGVuZ3RoKSByZXR1cm4gMDtcbiAgICByZXR1cm4gc3VtKGFycikgLyBhcnIubGVuZ3RoO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/util/util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/view/identifier.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/view/identifier.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n\n\nconst COUNTER_NAME = \":vGrammar_identifier:\";\n\nconst transform = (options, upstreamData, params, view) => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(view[COUNTER_NAME]) && (view[COUNTER_NAME] = 0);\n    let id = view[COUNTER_NAME];\n    const as = options.as;\n    return upstreamData.forEach((entry => {\n        entry && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(entry[as]) && (id += 1, entry[as] = id);\n    })), view[COUNTER_NAME] = id, id;\n};\n//# sourceMappingURL=identifier.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy92aWV3L2lkZW50aWZpZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7O0FBRXpDOztBQUVPO0FBQ1AsSUFBSSw0REFBSztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBSztBQUN0QixLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdHJhbnNmb3Jtcy92aWV3L2lkZW50aWZpZXIuanM/NTAyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmNvbnN0IENPVU5URVJfTkFNRSA9IFwiOnZHcmFtbWFyX2lkZW50aWZpZXI6XCI7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm0gPSAob3B0aW9ucywgdXBzdHJlYW1EYXRhLCBwYXJhbXMsIHZpZXcpID0+IHtcbiAgICBpc05pbCh2aWV3W0NPVU5URVJfTkFNRV0pICYmICh2aWV3W0NPVU5URVJfTkFNRV0gPSAwKTtcbiAgICBsZXQgaWQgPSB2aWV3W0NPVU5URVJfTkFNRV07XG4gICAgY29uc3QgYXMgPSBvcHRpb25zLmFzO1xuICAgIHJldHVybiB1cHN0cmVhbURhdGEuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICBlbnRyeSAmJiBpc05pbChlbnRyeVthc10pICYmIChpZCArPSAxLCBlbnRyeVthc10gPSBpZCk7XG4gICAgfSkpLCB2aWV3W0NPVU5URVJfTkFNRV0gPSBpZCwgaWQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpZmllci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/transforms/view/identifier.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/data.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/data.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseFormat: () => (/* binding */ parseFormat)\n/* harmony export */ });\n/* harmony import */ var _visactor_vdataset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vdataset */ \"(ssr)/./node_modules/.pnpm/@visactor+vdataset@0.19.7/node_modules/@visactor/vdataset/es/parser/dsv.js\");\n/* harmony import */ var _visactor_vdataset__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vdataset */ \"(ssr)/./node_modules/.pnpm/@visactor+vdataset@0.19.7/node_modules/@visactor/vdataset/es/data-view.js\");\n/* harmony import */ var _visactor_vdataset__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vdataset */ \"(ssr)/./node_modules/.pnpm/@visactor+vdataset@0.19.7/node_modules/@visactor/vdataset/es/data-set.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n\n\n\n\nconst jsonParser = (data, options = {}, dataView) => {\n    if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(data)) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(data);\n    try {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(JSON.parse(data));\n    } catch (e) {\n        return [];\n    }\n}, parsers = {\n    csv: _visactor_vdataset__WEBPACK_IMPORTED_MODULE_2__.csvParser,\n    dsv: _visactor_vdataset__WEBPACK_IMPORTED_MODULE_2__.dsvParser,\n    tsv: _visactor_vdataset__WEBPACK_IMPORTED_MODULE_2__.tsvParser,\n    json: jsonParser\n};\n\nconst parseFormat = (data, format) => {\n    if (!format || !parsers[format.type]) return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(data);\n    const options = \"dsv\" === format.type ? {\n        delimiter: format.delimiter\n    } : {};\n    return parsers[format.type](data, options, new _visactor_vdataset__WEBPACK_IMPORTED_MODULE_3__.DataView(new _visactor_vdataset__WEBPACK_IMPORTED_MODULE_4__.DataSet));\n};\n//# sourceMappingURL=data.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC9kYXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3Rjs7QUFFckM7O0FBRW5ELHNDQUFzQztBQUN0QyxTQUFTLDREQUFRLGVBQWUsdURBQUs7QUFDckM7QUFDQSxlQUFlLHVEQUFLO0FBQ3BCLE1BQU07QUFDTjtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVMseURBQVM7QUFDbEIsU0FBUyx5REFBUztBQUNsQixTQUFTLHlEQUFTO0FBQ2xCO0FBQ0E7O0FBRU87QUFDUCxpREFBaUQsdURBQUs7QUFDdEQ7QUFDQTtBQUNBLE1BQU07QUFDTixtREFBbUQsd0RBQVEsS0FBSyx1REFBTztBQUN2RTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy91dGlsL2RhdGEuanM/YTlhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhU2V0LCBEYXRhVmlldywgY3N2UGFyc2VyLCBkc3ZQYXJzZXIsIHRzdlBhcnNlciB9IGZyb20gXCJAdmlzYWN0b3IvdmRhdGFzZXRcIjtcblxuaW1wb3J0IHsgYXJyYXksIGlzU3RyaW5nIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuY29uc3QganNvblBhcnNlciA9IChkYXRhLCBvcHRpb25zID0ge30sIGRhdGFWaWV3KSA9PiB7XG4gICAgaWYgKCFpc1N0cmluZyhkYXRhKSkgcmV0dXJuIGFycmF5KGRhdGEpO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhcnJheShKU09OLnBhcnNlKGRhdGEpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59LCBwYXJzZXJzID0ge1xuICAgIGNzdjogY3N2UGFyc2VyLFxuICAgIGRzdjogZHN2UGFyc2VyLFxuICAgIHRzdjogdHN2UGFyc2VyLFxuICAgIGpzb246IGpzb25QYXJzZXJcbn07XG5cbmV4cG9ydCBjb25zdCBwYXJzZUZvcm1hdCA9IChkYXRhLCBmb3JtYXQpID0+IHtcbiAgICBpZiAoIWZvcm1hdCB8fCAhcGFyc2Vyc1tmb3JtYXQudHlwZV0pIHJldHVybiBhcnJheShkYXRhKTtcbiAgICBjb25zdCBvcHRpb25zID0gXCJkc3ZcIiA9PT0gZm9ybWF0LnR5cGUgPyB7XG4gICAgICAgIGRlbGltaXRlcjogZm9ybWF0LmRlbGltaXRlclxuICAgIH0gOiB7fTtcbiAgICByZXR1cm4gcGFyc2Vyc1tmb3JtYXQudHlwZV0oZGF0YSwgb3B0aW9ucywgbmV3IERhdGFWaWV3KG5ldyBEYXRhU2V0KSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/grammar-heap.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/grammar-heap.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Heap: () => (/* binding */ Heap)\n/* harmony export */ });\nfunction moveToHead(array, idx, start, cmp) {\n    let parent, pidx;\n    const item = array[idx];\n    for (;idx > start && (pidx = Math.floor((idx - 1) / 2), parent = array[pidx], item && parent && cmp(item, parent) < 0); ) array[idx] = parent, \n    idx = pidx;\n    return array[idx] = item;\n}\n\nfunction moveToTail(array, idx, end, cmp) {\n    const start = idx, endIdx = null != end ? end : array.length, item = array[idx];\n    let ridx, cidx = 2 * idx + 1;\n    for (;cidx < endIdx; ) ridx = cidx + 1, ridx < endIdx && cmp(array[cidx], array[ridx]) >= 0 && (cidx = ridx), \n    array[idx] = array[cidx], cidx = 2 * (idx = cidx) + 1;\n    return array[idx] = item, moveToHead(array, idx, start, cmp);\n}\n\nclass Heap {\n    constructor(compare) {\n        this.compare = compare, this.nodes = [];\n    }\n    size() {\n        return this.nodes.length;\n    }\n    last() {\n        return this.nodes[0];\n    }\n    validate() {\n        for (let i = this.nodes.length - 1; i > 0; i -= 1) {\n            const parentIndex = Math.floor((i - 1) / 2);\n            if (this.compare(this.nodes[parentIndex], this.nodes[i]) > 0) return !1;\n        }\n        return !0;\n    }\n    push(node) {\n        if (this.nodes.includes(node)) {\n            const index = this.nodes.indexOf(node);\n            return moveToHead(this.nodes, index, 0, this.compare), moveToTail(this.nodes, index, null, this.compare);\n        }\n        return this.nodes.push(node), moveToHead(this.nodes, this.nodes.length - 1, 0, this.compare);\n    }\n    remove(node) {\n        if (this.nodes.includes(node)) {\n            const index = this.nodes.indexOf(node);\n            this.nodes = this.nodes.slice(0, index).concat(this.nodes.slice(index + 1)), moveToHead(this.nodes, index, 0, this.compare), \n            moveToTail(this.nodes, index, null, this.compare);\n        }\n    }\n    pop() {\n        const last = this.nodes.pop();\n        let item;\n        return this.nodes.length ? (item = this.nodes[0], this.nodes[0] = last, moveToTail(this.nodes, 0, null, this.compare)) : item = last, \n        item;\n    }\n    clear() {\n        this.nodes = [];\n    }\n}\n//# sourceMappingURL=grammar-heap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC9ncmFtbWFyLWhlYXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0hBQWtIO0FBQzVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGVBQWU7QUFDekI7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3V0aWwvZ3JhbW1hci1oZWFwLmpzPzRlYTciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbW92ZVRvSGVhZChhcnJheSwgaWR4LCBzdGFydCwgY21wKSB7XG4gICAgbGV0IHBhcmVudCwgcGlkeDtcbiAgICBjb25zdCBpdGVtID0gYXJyYXlbaWR4XTtcbiAgICBmb3IgKDtpZHggPiBzdGFydCAmJiAocGlkeCA9IE1hdGguZmxvb3IoKGlkeCAtIDEpIC8gMiksIHBhcmVudCA9IGFycmF5W3BpZHhdLCBpdGVtICYmIHBhcmVudCAmJiBjbXAoaXRlbSwgcGFyZW50KSA8IDApOyApIGFycmF5W2lkeF0gPSBwYXJlbnQsIFxuICAgIGlkeCA9IHBpZHg7XG4gICAgcmV0dXJuIGFycmF5W2lkeF0gPSBpdGVtO1xufVxuXG5mdW5jdGlvbiBtb3ZlVG9UYWlsKGFycmF5LCBpZHgsIGVuZCwgY21wKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBpZHgsIGVuZElkeCA9IG51bGwgIT0gZW5kID8gZW5kIDogYXJyYXkubGVuZ3RoLCBpdGVtID0gYXJyYXlbaWR4XTtcbiAgICBsZXQgcmlkeCwgY2lkeCA9IDIgKiBpZHggKyAxO1xuICAgIGZvciAoO2NpZHggPCBlbmRJZHg7ICkgcmlkeCA9IGNpZHggKyAxLCByaWR4IDwgZW5kSWR4ICYmIGNtcChhcnJheVtjaWR4XSwgYXJyYXlbcmlkeF0pID49IDAgJiYgKGNpZHggPSByaWR4KSwgXG4gICAgYXJyYXlbaWR4XSA9IGFycmF5W2NpZHhdLCBjaWR4ID0gMiAqIChpZHggPSBjaWR4KSArIDE7XG4gICAgcmV0dXJuIGFycmF5W2lkeF0gPSBpdGVtLCBtb3ZlVG9IZWFkKGFycmF5LCBpZHgsIHN0YXJ0LCBjbXApO1xufVxuXG5leHBvcnQgY2xhc3MgSGVhcCB7XG4gICAgY29uc3RydWN0b3IoY29tcGFyZSkge1xuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlLCB0aGlzLm5vZGVzID0gW107XG4gICAgfVxuICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmxlbmd0aDtcbiAgICB9XG4gICAgbGFzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXNbMF07XG4gICAgfVxuICAgIHZhbGlkYXRlKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5ub2Rlcy5sZW5ndGggLSAxOyBpID4gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRJbmRleCA9IE1hdGguZmxvb3IoKGkgLSAxKSAvIDIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFyZSh0aGlzLm5vZGVzW3BhcmVudEluZGV4XSwgdGhpcy5ub2Rlc1tpXSkgPiAwKSByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBwdXNoKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMubm9kZXMuaW5jbHVkZXMobm9kZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5pbmRleE9mKG5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG1vdmVUb0hlYWQodGhpcy5ub2RlcywgaW5kZXgsIDAsIHRoaXMuY29tcGFyZSksIG1vdmVUb1RhaWwodGhpcy5ub2RlcywgaW5kZXgsIG51bGwsIHRoaXMuY29tcGFyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMucHVzaChub2RlKSwgbW92ZVRvSGVhZCh0aGlzLm5vZGVzLCB0aGlzLm5vZGVzLmxlbmd0aCAtIDEsIDAsIHRoaXMuY29tcGFyZSk7XG4gICAgfVxuICAgIHJlbW92ZShub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLm5vZGVzLmluY2x1ZGVzKG5vZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMuaW5kZXhPZihub2RlKTtcbiAgICAgICAgICAgIHRoaXMubm9kZXMgPSB0aGlzLm5vZGVzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQodGhpcy5ub2Rlcy5zbGljZShpbmRleCArIDEpKSwgbW92ZVRvSGVhZCh0aGlzLm5vZGVzLCBpbmRleCwgMCwgdGhpcy5jb21wYXJlKSwgXG4gICAgICAgICAgICBtb3ZlVG9UYWlsKHRoaXMubm9kZXMsIGluZGV4LCBudWxsLCB0aGlzLmNvbXBhcmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvcCgpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMubm9kZXMucG9wKCk7XG4gICAgICAgIGxldCBpdGVtO1xuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlcy5sZW5ndGggPyAoaXRlbSA9IHRoaXMubm9kZXNbMF0sIHRoaXMubm9kZXNbMF0gPSBsYXN0LCBtb3ZlVG9UYWlsKHRoaXMubm9kZXMsIDAsIG51bGwsIHRoaXMuY29tcGFyZSkpIDogaXRlbSA9IGxhc3QsIFxuICAgICAgICBpdGVtO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5ub2RlcyA9IFtdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYW1tYXItaGVhcC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/grammar-heap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/scale.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/scale.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBandWidthOfScale: () => (/* binding */ getBandWidthOfScale),\n/* harmony export */   getScaleRangeRatio: () => (/* binding */ getScaleRangeRatio),\n/* harmony export */   isBandLikeScale: () => (/* binding */ isBandLikeScale)\n/* harmony export */ });\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/type.js\");\n\n\nfunction isBandLikeScale(scale) {\n    return scale && (scale.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.ScaleEnum.Band || scale.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.ScaleEnum.Point);\n}\n\nfunction getBandWidthOfScale(scale) {\n    if (scale) return scale.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.ScaleEnum.Band ? scale.bandwidth() : scale.type === _visactor_vscale__WEBPACK_IMPORTED_MODULE_0__.ScaleEnum.Point ? scale.step() : void 0;\n}\n\nfunction getScaleRangeRatio(scale, input) {\n    const range = scale.range();\n    return (scale.scale(input) - range[0]) / (range[range.length - 1] - range[0]);\n}\n//# sourceMappingURL=scale.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC9zY2FsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTZDOztBQUV0QztBQUNQLG9DQUFvQyx1REFBUyx3QkFBd0IsdURBQVM7QUFDOUU7O0FBRU87QUFDUCxxQ0FBcUMsdURBQVMsMkNBQTJDLHVEQUFTO0FBQ2xHOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3V0aWwvc2NhbGUuanM/YjcyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2FsZUVudW0gfSBmcm9tIFwiQHZpc2FjdG9yL3ZzY2FsZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNCYW5kTGlrZVNjYWxlKHNjYWxlKSB7XG4gICAgcmV0dXJuIHNjYWxlICYmIChzY2FsZS50eXBlID09PSBTY2FsZUVudW0uQmFuZCB8fCBzY2FsZS50eXBlID09PSBTY2FsZUVudW0uUG9pbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFuZFdpZHRoT2ZTY2FsZShzY2FsZSkge1xuICAgIGlmIChzY2FsZSkgcmV0dXJuIHNjYWxlLnR5cGUgPT09IFNjYWxlRW51bS5CYW5kID8gc2NhbGUuYmFuZHdpZHRoKCkgOiBzY2FsZS50eXBlID09PSBTY2FsZUVudW0uUG9pbnQgPyBzY2FsZS5zdGVwKCkgOiB2b2lkIDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2FsZVJhbmdlUmF0aW8oc2NhbGUsIGlucHV0KSB7XG4gICAgY29uc3QgcmFuZ2UgPSBzY2FsZS5yYW5nZSgpO1xuICAgIHJldHVybiAoc2NhbGUuc2NhbGUoaW5wdXQpIC0gcmFuZ2VbMF0pIC8gKHJhbmdlW3JhbmdlLmxlbmd0aCAtIDFdIC0gcmFuZ2VbMF0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NhbGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/text.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/text.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   richJsx: () => (/* binding */ richJsx),\n/* harmony export */   richXul: () => (/* binding */ richXul)\n/* harmony export */ });\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/tools.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/graphic/richtext.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n\n\n\n\nfunction richXul(strings, ...insertVars) {\n    return {\n        type: \"rich\",\n        text: (0,_visactor_vrender_core__WEBPACK_IMPORTED_MODULE_0__.xul)(strings.reduce(((res, temp, i) => res + temp + (i >= insertVars.length ? \"\" : insertVars[i])), \"\"))\n    };\n}\n\nfunction richJsx(richText) {\n    return {\n        type: \"rich\",\n        text: richText instanceof _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_1__.RichText ? richText.attribute.textConfig : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(richText) ? richText.map((entry => entry.type ? entry.attribute : entry)) : []\n    };\n}\n//# sourceMappingURL=text.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC90ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFFOztBQUUxQjs7QUFFcEM7QUFDUDtBQUNBO0FBQ0EsY0FBYywyREFBVTtBQUN4QjtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLGtDQUFrQyw0REFBUSxtQ0FBbUMsNERBQU87QUFDcEY7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy91dGlsL3RleHQuanM/ZDZiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB4dWwgYXMgdlJlbmRlclh1bCwgUmljaFRleHQgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29yZVwiO1xuXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJpY2hYdWwoc3RyaW5ncywgLi4uaW5zZXJ0VmFycykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwicmljaFwiLFxuICAgICAgICB0ZXh0OiB2UmVuZGVyWHVsKHN0cmluZ3MucmVkdWNlKCgocmVzLCB0ZW1wLCBpKSA9PiByZXMgKyB0ZW1wICsgKGkgPj0gaW5zZXJ0VmFycy5sZW5ndGggPyBcIlwiIDogaW5zZXJ0VmFyc1tpXSkpLCBcIlwiKSlcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmljaEpzeChyaWNoVGV4dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwicmljaFwiLFxuICAgICAgICB0ZXh0OiByaWNoVGV4dCBpbnN0YW5jZW9mIFJpY2hUZXh0ID8gcmljaFRleHQuYXR0cmlidXRlLnRleHRDb25maWcgOiBpc0FycmF5KHJpY2hUZXh0KSA/IHJpY2hUZXh0Lm1hcCgoZW50cnkgPT4gZW50cnkudHlwZSA/IGVudHJ5LmF0dHJpYnV0ZSA6IGVudHJ5KSkgOiBbXVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/text.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/unique-list.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/unique-list.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniqueList: () => (/* binding */ UniqueList)\n/* harmony export */ });\n/* harmony import */ var _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vgrammar-util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-util@0.16.11/node_modules/@visactor/vgrammar-util/es/accessors.js\");\n\n\nclass UniqueList {\n    constructor(idFunc) {\n        this.list = [], this.ids = {}, this.idFunc = idFunc || _visactor_vgrammar_util__WEBPACK_IMPORTED_MODULE_0__.identity;\n    }\n    add(element) {\n        const id = this.idFunc(element);\n        return this.ids[id] || (this.ids[id] = 1, this.list.push(element)), this;\n    }\n    remove(element) {\n        const id = this.idFunc(element);\n        return this.ids[id] && (this.ids[id] = 0, this.list = this.list.filter((entry => entry !== element))), \n        this;\n    }\n    forEach(callback, reverse) {\n        reverse ? this.list.slice().reverse().forEach(callback) : this.list.forEach(callback);\n    }\n    filter(callback) {\n        return this.list.filter(callback);\n    }\n    get length() {\n        return this.list.length;\n    }\n    getElementByIndex(index) {\n        return this.list[index];\n    }\n}\n//# sourceMappingURL=unique-list.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdXRpbC91bmlxdWUtbGlzdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRDs7QUFFNUM7QUFDUDtBQUNBLHFDQUFxQywwQkFBMEIsNkRBQVE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy91dGlsL3VuaXF1ZS1saXN0LmpzPzU4MjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tIFwiQHZpc2FjdG9yL3ZncmFtbWFyLXV0aWxcIjtcblxuZXhwb3J0IGNsYXNzIFVuaXF1ZUxpc3Qge1xuICAgIGNvbnN0cnVjdG9yKGlkRnVuYykge1xuICAgICAgICB0aGlzLmxpc3QgPSBbXSwgdGhpcy5pZHMgPSB7fSwgdGhpcy5pZEZ1bmMgPSBpZEZ1bmMgfHwgaWRlbnRpdHk7XG4gICAgfVxuICAgIGFkZChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5pZEZ1bmMoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB0aGlzLmlkc1tpZF0gfHwgKHRoaXMuaWRzW2lkXSA9IDEsIHRoaXMubGlzdC5wdXNoKGVsZW1lbnQpKSwgdGhpcztcbiAgICB9XG4gICAgcmVtb3ZlKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkRnVuYyhlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWRzW2lkXSAmJiAodGhpcy5pZHNbaWRdID0gMCwgdGhpcy5saXN0ID0gdGhpcy5saXN0LmZpbHRlcigoZW50cnkgPT4gZW50cnkgIT09IGVsZW1lbnQpKSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrLCByZXZlcnNlKSB7XG4gICAgICAgIHJldmVyc2UgPyB0aGlzLmxpc3Quc2xpY2UoKS5yZXZlcnNlKCkuZm9yRWFjaChjYWxsYmFjaykgOiB0aGlzLmxpc3QuZm9yRWFjaChjYWxsYmFjayk7XG4gICAgfVxuICAgIGZpbHRlcihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0LmZpbHRlcihjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QubGVuZ3RoO1xuICAgIH1cbiAgICBnZXRFbGVtZW50QnlJbmRleChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0W2luZGV4XTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmlxdWUtbGlzdC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/unique-list.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/View.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/View.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ View)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/debounce.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/dom.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/logger.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/modules.js\");\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./data */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/data.js\");\n/* harmony import */ var _dataflow__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./dataflow */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/dataflow.js\");\n/* harmony import */ var _graph_mark_tree__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../graph/mark-tree */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark-tree.js\");\n/* harmony import */ var _graph_canvas_renderer__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../graph/canvas-renderer */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/canvas-renderer.js\");\n/* harmony import */ var _graph_util_events_extend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/util/events-extend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _signal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./signal */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/signal.js\");\n/* harmony import */ var _parse_view__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../parse/view */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/view.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _graph_util_env__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../graph/util/env */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/env.js\");\n/* harmony import */ var _group__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./group */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/group.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _grammar_record__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./grammar-record */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-record.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _semantic_marks_text__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../semantic-marks/text */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/semantic-marks/text.js\");\n/* harmony import */ var _theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../theme/theme-manager */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/theme/theme-manager.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./component */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _graph_view_diff__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../graph/view-diff */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/view-diff.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass View extends (_visactor_vutils__WEBPACK_IMPORTED_MODULE_0___default()) {\n    static useRegisters(comps) {\n        comps.forEach((fn => {\n            fn();\n        }));\n    }\n    constructor(options = {}, config = {}) {\n        super(), this._observer = null, this._onResize = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(((...args) => {\n            const size = this._getContainerSize();\n            size && this.resize(size.width, size.height);\n        }), 100), this.delegateEvent = (event, type) => {\n            const extendedEvt = (0,_graph_util_events_extend__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, event, type, _constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_VIEW);\n            this.emit(type, extendedEvt, event.element);\n        }, this.handleProgressiveFrame = () => {\n            this._progressiveMarks.length && this._progressiveMarks.forEach((mark => {\n                mark.isDoingProgressive() && mark.evaluateProgressive();\n            })), this.doPreProgressive();\n        }, this._config = config, this._options = Object.assign({\n            mode: _constants__WEBPACK_IMPORTED_MODULE_3__.BROWSER\n        }, options), this.initialize();\n    }\n    getGrammarById(id) {\n        return this.grammars.getGrammar(id);\n    }\n    getSignalById(id) {\n        return this.grammars.getSignal(id);\n    }\n    getDataById(id) {\n        return this.grammars.getData(id);\n    }\n    getScaleById(id) {\n        return this.grammars.getScale(id);\n    }\n    getCoordinateById(id) {\n        return this.grammars.getCoordinate(id);\n    }\n    getMarkById(id) {\n        return this.grammars.getMark(id);\n    }\n    getCustomizedById(id) {\n        return this.grammars.getCustomized(id);\n    }\n    getGrammarsByName(name) {\n        return this.grammars.filter((grammar => grammar.name() === name));\n    }\n    getGrammarsByType(grammarType) {\n        return this.grammars.filter((grammar => grammar.grammarType === grammarType));\n    }\n    getMarksByType(markType) {\n        return this.grammars.getAllMarks().filter((mark => mark.markType === markType));\n    }\n    getMarksByName(name) {\n        return this.grammars.getAllMarks().filter((mark => mark.name() === name));\n    }\n    getMarksBySelector(selector) {\n        if (!selector) return null;\n        const selectors = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(selector), res = [];\n        return selectors.forEach((selectorStr => {\n            if ((0,_parse_util__WEBPACK_IMPORTED_MODULE_5__.isGrammar)(selectorStr)) return void res.push(selectorStr);\n            if (selectorStr[0] === _constants__WEBPACK_IMPORTED_MODULE_3__.ID_PREFIX) {\n                const mark = this.getMarkById(selectorStr.slice(1));\n                return void (mark && res.push(mark));\n            }\n            const marks = selectorStr[0] === _constants__WEBPACK_IMPORTED_MODULE_3__.NAME_PREFIX ? this.getMarksByName(selectorStr.slice(1)) : (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_6__.isMarkType)(selectorStr) ? this.getMarksByType(selectorStr) : null;\n            marks && marks.length && marks.forEach((mark => {\n                res.push(mark);\n            }));\n        })), res;\n    }\n    updateSignal(signal, value) {\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(signal) && (signal = this.getSignalById(signal)), signal.set(value), this.commit(signal);\n    }\n    signal(value, update) {\n        const signal = new _signal__WEBPACK_IMPORTED_MODULE_8__.Signal(this);\n        return arguments.length >= 1 && signal.value(value), arguments.length >= 2 && signal.update(update), \n        this.grammars.record(signal), this._dataflow.add(signal), signal;\n    }\n    data(values) {\n        const data = new _data__WEBPACK_IMPORTED_MODULE_9__.Data(this, values);\n        return this.grammars.record(data), this._dataflow.add(data), data;\n    }\n    scale(type) {\n        const scale = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createGrammar(\"scale\", this, type);\n        return scale && (this.grammars.record(scale), this._dataflow.add(scale)), scale;\n    }\n    coordinate(type) {\n        const coordinate = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createGrammar(\"coordinate\", this, type);\n        return coordinate && (this.grammars.record(coordinate), this._dataflow.add(coordinate)), \n        coordinate;\n    }\n    mark(type, group, markOptions) {\n        const groupMark = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(group) ? this.getMarkById(group) : group;\n        let mark;\n        switch (type) {\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.group:\n            mark = new _group__WEBPACK_IMPORTED_MODULE_12__.GroupMark(this, groupMark);\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.glyph:\n            const GlyphMark = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.getMark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.glyph);\n            GlyphMark && (mark = new GlyphMark(this, null == markOptions ? void 0 : markOptions.glyphType, groupMark));\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component:\n            mark = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.hasComponent(null == markOptions ? void 0 : markOptions.componentType) ? _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createComponent(null == markOptions ? void 0 : markOptions.componentType, this, groupMark, null == markOptions ? void 0 : markOptions.mode) : new _component__WEBPACK_IMPORTED_MODULE_13__.Component(this, null == markOptions ? void 0 : markOptions.componentType, groupMark, null == markOptions ? void 0 : markOptions.mode);\n            break;\n\n          case _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.text:\n            mark = new _semantic_marks_text__WEBPACK_IMPORTED_MODULE_14__.Text(this, type, groupMark);\n            break;\n\n          default:\n            mark = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.hasMark(type) ? _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createMark(type, this, groupMark) : new _mark__WEBPACK_IMPORTED_MODULE_15__.Mark(this, type, groupMark);\n        }\n        return this.grammars.record(mark), this._dataflow.add(mark), mark;\n    }\n    group(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.group, group);\n    }\n    glyph(glyphType, group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.glyph, group, {\n            glyphType: glyphType\n        });\n    }\n    component(componentType, group, mode = \"2d\") {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: componentType,\n            mode: mode\n        });\n    }\n    axis(group, mode = \"2d\") {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.axis,\n            mode: mode\n        });\n    }\n    grid(group, mode = \"2d\") {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.grid,\n            mode: mode\n        });\n    }\n    legend(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.legend\n        });\n    }\n    slider(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.slider\n        });\n    }\n    label(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.label\n        });\n    }\n    datazoom(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.datazoom\n        });\n    }\n    player(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.player\n        });\n    }\n    title(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.title\n        });\n    }\n    scrollbar(group) {\n        return this.mark(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component, group, {\n            componentType: _graph_enums__WEBPACK_IMPORTED_MODULE_11__.ComponentEnum.scrollbar\n        });\n    }\n    customized(type, spec) {\n        const grammar = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createGrammar(type, this, null == spec ? void 0 : spec.type);\n        if (grammar) return grammar.parse(spec), this.grammars.record(grammar), this._dataflow.add(grammar), \n        grammar;\n    }\n    addGrammar(grammar) {\n        return this.grammars.find((storedGrammar => storedGrammar.uid === grammar.uid)) || (this.grammars.record(grammar), \n        this._dataflow.add(grammar), grammar.parse(grammar.getSpec()), this._needBuildLayoutTree = !0), \n        this;\n    }\n    removeGrammar(grammar) {\n        const recordedGrammar = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(grammar) ? this.getGrammarById(grammar) : grammar;\n        return recordedGrammar && this.grammars.find((storedGrammar => storedGrammar.uid === recordedGrammar.uid)) ? (\"mark\" === recordedGrammar.grammarType && recordedGrammar.prepareRelease(), \n        this._cachedGrammars.record(recordedGrammar), this._dataflow.remove(recordedGrammar), \n        this.grammars.unrecord(recordedGrammar), this._needBuildLayoutTree = !0, this) : this;\n    }\n    removeAllGrammars() {\n        return this.grammars.traverse((grammar => {\n            \"signal\" === grammar.grammarType && _parse_view__WEBPACK_IMPORTED_MODULE_16__.BuiltInSignalID.includes(grammar.id()) || \"mark\" === grammar.grammarType && \"root\" === grammar.id() || this.removeGrammar(grammar);\n        })), this;\n    }\n    removeAllGraphicItems() {\n        return this.traverseMarkTree((mark => {\n            mark.graphicItem && ((0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_6__.removeGraphicItem)(mark.graphicItem), mark.elementMap.forEach((element => {\n                element.resetGraphicItem();\n            })), mark.graphicItem = null);\n        })), this;\n    }\n    parseSpec(spec) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        if (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_PARSE_VIEW), this._spec = spec, (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.normalizeMarkTree)(spec), \n        spec.theme ? this.theme(spec.theme) : this.theme(_theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__.ThemeManager.getDefaultTheme()), \n        spec.width && this.width(spec.width), spec.height && this.height(spec.height), this.padding(null !== (_b = null !== (_a = spec.padding) && void 0 !== _a ? _a : this._options.padding) && void 0 !== _b ? _b : this._theme.padding), \n        !this.width() || !this.height()) {\n            const size = this._getContainerSize();\n            size && (this.updateSignal(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_WIDTH, size.width), this.updateSignal(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_HEIGHT, size.height));\n        }\n        (null === (_c = spec.signals) || void 0 === _c ? void 0 : _c.length) && spec.signals.forEach((signal => {\n            this.signal().parse(signal);\n        })), (null === (_d = spec.data) || void 0 === _d ? void 0 : _d.length) && spec.data.forEach((data => {\n            this.data(null).parse(data);\n        })), (null === (_e = spec.coordinates) || void 0 === _e ? void 0 : _e.length) && spec.coordinates.forEach((coordinate => {\n            var _a;\n            null === (_a = this.coordinate(coordinate.type)) || void 0 === _a || _a.parse(coordinate);\n        })), (null === (_f = spec.scales) || void 0 === _f ? void 0 : _f.length) && spec.scales.forEach((scale => {\n            var _a;\n            null === (_a = this.scale(scale.type)) || void 0 === _a || _a.parse(scale);\n        }));\n        const customizedGrammars = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.getGrammars();\n        return Object.keys(customizedGrammars).forEach((key => {\n            const {specKey: specKey} = customizedGrammars[key];\n            spec[specKey] && spec[specKey].length && spec[specKey].forEach((specValue => {\n                this.customized(key, specValue);\n            }));\n        })), spec.marks && spec.marks.length && spec.marks.forEach((mark => {\n            this.parseMarkSpec(mark);\n        })), spec.events && spec.events.length && spec.events.forEach((eventConfig => {\n            var _b;\n            null === (_b = this.event) || void 0 === _b || _b.call(this, eventConfig);\n        })), spec.interactions && spec.interactions.length && spec.interactions.forEach((interaction => {\n            this.interaction(interaction.type, interaction);\n        })), !1 === spec.animation ? null === (_g = this.animate) || void 0 === _g || _g.disable() : null === (_h = this.animate) || void 0 === _h || _h.enable(), \n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_PARSE_VIEW), this._needBuildLayoutTree = !0, this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.before, \n        this;\n    }\n    updateSpec(spec) {\n        return this.removeAllInteractions(), this.removeAllGrammars(), this.parseSpec(spec);\n    }\n    parseBuiltIn() {\n        (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.builtInSignals)(this._options, this._config, this.getCurrentTheme()).forEach((signalSpec => {\n            const signal = this.signal().parse(signalSpec);\n            signalSpec.value && signal.set(signalSpec.value);\n        }));\n        this.parseMarkSpec({\n            id: \"root\",\n            type: \"group\",\n            encode: {\n                enter: {\n                    x: 0,\n                    y: 0\n                },\n                update: {\n                    width: {\n                        signal: \"width\"\n                    },\n                    height: {\n                        signal: \"height\"\n                    }\n                }\n            }\n        }), this.rootMark = this.getMarkById(\"root\");\n    }\n    parseMarkSpec(spec) {\n        var _a;\n        const markOptions = spec.type === _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.glyph ? {\n            glyphType: spec.glyphType\n        } : spec.type === _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.component ? {\n            componentType: spec.componentType,\n            mode: spec.mode\n        } : null;\n        this.mark(spec.type, spec.group, markOptions).parse(spec), null === (_a = spec.marks) || void 0 === _a || _a.forEach((childSpec => {\n            this.parseMarkSpec(childSpec);\n        }));\n    }\n    theme(theme) {\n        var _a, _b, _c, _d, _e, _f;\n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(theme) ? this._theme = null !== (_a = _theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__.ThemeManager.getTheme(theme)) && void 0 !== _a ? _a : _theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__.ThemeManager.getDefaultTheme() : this._theme = theme;\n        const {background: background, padding: padding} = null !== (_b = this._spec) && void 0 !== _b ? _b : {};\n        return this._theme ? (this.background(null !== (_c = null != background ? background : this._options.background) && void 0 !== _c ? _c : this._theme.background), \n        this.padding(null !== (_d = null != padding ? padding : this._options.padding) && void 0 !== _d ? _d : this._theme.padding), \n        null === (_f = null === (_e = this.renderer.stage()) || void 0 === _e ? void 0 : _e.setTheme) || void 0 === _f || _f.call(_e, Object.assign({}, this._theme.marks))) : (this.background(null != background ? background : this._options.background), \n        this.padding(null != padding ? padding : this._options.padding)), this;\n    }\n    getCurrentTheme() {\n        return this._theme;\n    }\n    setCurrentTheme(theme, render = !0) {\n        return this.theme(theme), this.grammars.getAllMarks().forEach((mark => {\n            mark.commit();\n        })), render ? (this.evaluate(), this.renderer.render(!0)) : this._dataflow.evaluate(), \n        this;\n    }\n    background(value) {\n        return arguments.length ? (this._background = value, this.renderer.background(value), \n        value) : this._background;\n    }\n    width(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_WIDTH);\n        return arguments.length ? (this._options.width = value, this.updateSignal(signal, value), \n        value) : signal.output();\n    }\n    height(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_HEIGHT);\n        return arguments.length ? (this._options.height = value, this.updateSignal(signal, value), \n        value) : signal.output();\n    }\n    viewWidth(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_WIDTH);\n        if (arguments.length) {\n            const padding = this.padding();\n            return this.width(value + padding.left + padding.right), value;\n        }\n        return signal.output();\n    }\n    viewHeight(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_HEIGHT);\n        if (arguments.length) {\n            const padding = this.padding();\n            return this.height(value + padding.top + padding.bottom), value;\n        }\n        return signal.output();\n    }\n    padding(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_PADDING);\n        if (arguments.length) {\n            const padding = (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.normalizePadding)(value);\n            return this.updateSignal(signal, padding), padding;\n        }\n        return (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.normalizePadding)(signal.output());\n    }\n    autoFit(value) {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_AUTOFIT);\n        return arguments.length ? (this.updateSignal(signal, value), value) : signal.output();\n    }\n    getViewBox() {\n        const signal = this.getSignalById(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_VIEW_BOX);\n        return null == signal ? void 0 : signal.output();\n    }\n    updateLayoutTag() {\n        return this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.before, this;\n    }\n    getLayoutState() {\n        return this._layoutState;\n    }\n    buildLayoutTree() {\n        const markMap = {}, rootMarks = [];\n        this.traverseMarkTree((mark => {\n            markMap[mark.id()] = !0, mark.group && markMap[mark.group.id()] || rootMarks.push(mark), \n            mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.group && mark.updateLayoutChildren();\n        }), (mark => mark.needLayout())), this._layoutMarks = rootMarks;\n    }\n    doLayout() {\n        var _a;\n        const doLayout = this._options.doLayout || _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.getDefaultLayout();\n        doLayout && (null === (_a = this._layoutMarks) || void 0 === _a ? void 0 : _a.length) && (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_DO_LAYOUT), \n        doLayout(this._layoutMarks, this._options, this), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_DO_LAYOUT));\n    }\n    handleLayoutEnd() {\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_MARK_LAYOUT_END), this._layoutMarks.forEach((layoutMark => {\n            (0,_graph_mark_tree__WEBPACK_IMPORTED_MODULE_18__.traverseMarkTree)(layoutMark, \"layoutChildren\", (mark => {\n                mark.handleLayoutEnd();\n            }), (mark => mark !== layoutMark));\n        })), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_MARK_LAYOUT_END);\n    }\n    handleRenderEnd() {\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_MARK_RENDER_END), (0,_graph_mark_tree__WEBPACK_IMPORTED_MODULE_18__.traverseMarkTree)(this.rootMark, \"children\", (mark => {\n            mark.handleRenderEnd();\n        })), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_MARK_RENDER_END);\n    }\n    commit(grammar) {\n        return this._dataflow.commit(grammar), this;\n    }\n    run(runningConfig) {\n        return this.evaluate(runningConfig), this;\n    }\n    doRender(immediately) {\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.BEFORE_DO_RENDER), this.renderer && (!this._progressiveMarks && this.animate ? this.animate.animate() : this.traverseMarkTree((mark => {\n            mark.cleanExitElements();\n        }), null, !0), this.renderer.render(immediately), this.handleRenderEnd()), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_11__.HOOK_EVENT.AFTER_DO_RENDER);\n    }\n    evaluate(runningConfig) {\n        var _a, _c;\n        const normalizedRunningConfig = (0,_parse_view__WEBPACK_IMPORTED_MODULE_16__.normalizeRunningConfig)(runningConfig), grammarWillDetach = this._cachedGrammars.size() > 0;\n        grammarWillDetach && (this.reuseCachedGrammars(normalizedRunningConfig), this.detachCachedGrammar());\n        const hasResize = this._resizeRenderer(), hasUpdate = this._dataflow.hasCommitted();\n        return grammarWillDetach || hasUpdate || this._layoutState || hasResize ? (this.clearProgressive(), \n        this._dataflow.evaluate(), this._needBuildLayoutTree && (this.buildLayoutTree(), \n        this._needBuildLayoutTree = !1), this._layoutState && (this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.layouting, \n        this.doLayout(), this._dataflow.hasCommitted() && (this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.reevaluate, \n        this._dataflow.evaluate()), this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.after, (null === (_a = this._layoutMarks) || void 0 === _a ? void 0 : _a.length) && this.handleLayoutEnd()), \n        this._layoutState = null, this.findProgressiveMarks(), this._resizeRenderer(), null === (_c = this.morph) || void 0 === _c || _c.call(this, normalizedRunningConfig), \n        this.releaseCachedGrammars(normalizedRunningConfig), this.doRender(!0), this.doPreProgressive(), \n        this) : this;\n    }\n    reuseCachedGrammars(runningConfig) {\n        if (runningConfig.reuse) {\n            const reuseDiffUpdate = diff => {\n                diff.next.reuse(diff.prev), diff.prev.detachAll(), diff.prev.clear(), this._cachedGrammars.unrecord(diff.prev);\n            };\n            this._differ.diffGrammar(this._cachedGrammars.getAllSignals(), this.grammars.getAllSignals().filter((signal => !_parse_view__WEBPACK_IMPORTED_MODULE_16__.BuiltInSignalID.includes(signal.id())))).update.forEach(reuseDiffUpdate);\n            this._differ.diffGrammar(this._cachedGrammars.getAllData(), this.grammars.getAllData()).update.forEach(reuseDiffUpdate);\n            this._differ.diffGrammar(this._cachedGrammars.getAllScales(), this.grammars.getAllScales()).update.forEach(reuseDiffUpdate);\n            this._differ.diffGrammar(this._cachedGrammars.getAllCoordinates(), this.grammars.getAllCoordinates()).update.forEach(reuseDiffUpdate);\n        }\n        this._differ.diffMark(this._cachedGrammars.getAllMarks(), this.grammars.getAllMarks().filter((mark => \"root\" !== mark.id())), runningConfig).update.forEach((diff => {\n            var _b;\n            const matched = 1 === diff.prev.length && 1 === diff.next.length && diff.prev[0].markType === diff.next[0].markType, enableMarkMorphConfig = diff.prev.every((mark => mark.getMorphConfig().morph)) && diff.next.every((mark => mark.getMorphConfig().morph));\n            this.morph && (runningConfig.morph && enableMarkMorphConfig || runningConfig.morphAll) ? null === (_b = this.addMorphMarks) || void 0 === _b || _b.call(this, {\n                prev: diff.prev,\n                next: diff.next\n            }) : matched && runningConfig.reuse && (diff.next[0].reuse(diff.prev[0]), diff.prev[0].detachAll(), \n            diff.prev[0].clear(), this._cachedGrammars.unrecord(diff.prev[0]));\n        }));\n    }\n    detachCachedGrammar() {\n        this._cachedGrammars.traverse((grammar => {\n            var _a, _b;\n            if (grammar.detachAll(), \"mark\" === grammar.grammarType) {\n                const mark = grammar;\n                null === (_b = null === (_a = mark.group) || void 0 === _a ? void 0 : _a.removeChild) || void 0 === _b || _b.call(_a, mark);\n            }\n        }));\n    }\n    releaseCachedGrammars(runningConfig) {\n        this._cachedGrammars.traverse((grammar => {\n            \"mark\" !== grammar.grammarType && grammar.release();\n        }));\n        const markNodes = this._cachedGrammars.getAllMarkNodes();\n        markNodes.forEach((node => {\n            var _a;\n            null === (_a = node.mark.animate) || void 0 === _a || _a.stop(), runningConfig.enableExitAnimation && this.animate && this.animate.animateAddition(node.mark);\n        }));\n        const releaseUp = node => {\n            if (node.mark.view && (!node.mark.animate || 0 === node.mark.animate.getAnimatorCount()) && (!node.children || 0 === node.children.length)) {\n                node.mark.release();\n                const parent = node.parent;\n                parent && (node.parent.children = node.parent.children.filter((n => n !== node)), \n                node.parent = null, releaseUp(parent));\n            }\n        };\n        markNodes.forEach((node => {\n            const mark = node.mark;\n            mark.animate && 0 !== mark.animate.getAnimatorCount() ? mark.addEventListener(\"animationEnd\", (() => {\n                mark.animate && 0 === mark.animate.getAnimatorCount() && releaseUp(node);\n            })) : releaseUp(node);\n        })), this._cachedGrammars.clear();\n    }\n    runAfter(callback) {\n        return this._dataflow.runAfter((() => {\n            callback.call(null, this);\n        })), this;\n    }\n    runBefore(callback) {\n        return this._dataflow.runBefore((() => {\n            callback.call(null, this);\n        })), this;\n    }\n    getImageBuffer() {\n        var _a, _b;\n        if (\"node\" !== this._options.mode) return void this.logger.error(new TypeError(\"getImageBuffer() now only support node environment.\"));\n        const stage = null === (_b = null === (_a = this.renderer) || void 0 === _a ? void 0 : _a.stage) || void 0 === _b ? void 0 : _b.call(_a);\n        if (stage) {\n            stage.render();\n            return stage.window.getImageBuffer();\n        }\n        return this.logger.error(new ReferenceError(\"render is not defined\")), null;\n    }\n    traverseMarkTree(apply, filter, leafFirst) {\n        return (0,_graph_mark_tree__WEBPACK_IMPORTED_MODULE_18__.traverseMarkTree)(this.rootMark, \"children\", apply, filter, leafFirst), this;\n    }\n    _bindResizeEvent() {\n        var _a, _b, _c, _d, _e, _f;\n        if (this.autoFit()) {\n            const container = null === (_e = null === (_d = null === (_c = null === (_b = null === (_a = this.renderer) || void 0 === _a ? void 0 : _a.stage) || void 0 === _b ? void 0 : _b.call(_a)) || void 0 === _c ? void 0 : _c.window) || void 0 === _d ? void 0 : _d.getContainer) || void 0 === _e ? void 0 : _e.call(_d);\n            if (container) {\n                const ResizeObserverWindow = window.ResizeObserver;\n                this._observer = new ResizeObserverWindow(this._onResize), null === (_f = this._observer) || void 0 === _f || _f.observe(container);\n            }\n            window.addEventListener(\"resize\", this._onResize);\n        }\n    }\n    _unBindResizeEvent() {\n        this.autoFit() && (window.removeEventListener(\"resize\", this._onResize), this._observer && (this._observer.disconnect(), \n        this._observer = null));\n    }\n    _getContainerSize() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n        const container = null === (_e = null === (_d = null === (_c = null === (_b = null === (_a = this.renderer) || void 0 === _a ? void 0 : _a.stage) || void 0 === _b ? void 0 : _b.call(_a)) || void 0 === _c ? void 0 : _c.window) || void 0 === _d ? void 0 : _d.getContainer) || void 0 === _e ? void 0 : _e.call(_d);\n        if (container) {\n            const {width: containerWidth, height: containerHeight} = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_19__.getContainerSize)(container);\n            return {\n                width: null !== (_h = null !== (_g = null === (_f = this._spec) || void 0 === _f ? void 0 : _f.width) && void 0 !== _g ? _g : this._options.width) && void 0 !== _h ? _h : containerWidth,\n                height: null !== (_l = null !== (_k = null === (_j = this._spec) || void 0 === _j ? void 0 : _j.height) && void 0 !== _k ? _k : this._options.height) && void 0 !== _l ? _l : containerHeight\n            };\n        }\n        return null;\n    }\n    resize(width, height, render = !0) {\n        let needDataflow = !1;\n        return width !== this.width() && (needDataflow = !0, this.updateSignal(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_WIDTH, width)), \n        height !== this.height() && (needDataflow = !0, this.updateSignal(_constants__WEBPACK_IMPORTED_MODULE_3__.SIGNAL_HEIGHT, height)), \n        needDataflow && (render ? this.evaluate({\n            morph: !1\n        }) : this._dataflow.evaluate()), this;\n    }\n    _resizeRenderer() {\n        const width = this.width(), height = this.height();\n        return !!this.renderer.shouldResize(width, height) && (this.renderer.resize(width, height), \n        this.emit(\"resize\", {}, {\n            width: width,\n            height: height\n        }), !0);\n    }\n    interaction(type, spec) {\n        const interaction = _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.createInteraction(type, this, spec);\n        return interaction && (interaction.bind(), this._boundInteractions || (this._boundInteractions = []), \n        this._boundInteractions.push(interaction)), interaction;\n    }\n    removeInteraction(type, id) {\n        if (this._boundInteractions) {\n            const instances = this._boundInteractions.filter((interaction => {\n                var _a;\n                return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(id) ? (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(type) ? interaction.type === type : type ? interaction === type : void 0 : (null === (_a = interaction.options) || void 0 === _a ? void 0 : _a.id) === id;\n            }));\n            instances.length && instances.forEach((instance => {\n                instance.unbind();\n            }));\n        }\n        return this;\n    }\n    removeAllInteractions() {\n        return this._boundInteractions && (this._boundInteractions.forEach((instance => {\n            instance.unbind();\n        })), this._boundInteractions = null), this;\n    }\n    initializeEventConfig(config) {\n        const eventsConfig = Object.assign({\n            defaults: {}\n        }, config), unpack = (obj, keys) => {\n            keys.forEach((k => {\n                (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(obj[k]) && (obj[k] = obj[k].reduce(((set, key) => (set[key] = !0, set)), {}));\n            }));\n        };\n        return unpack(eventsConfig.defaults, [ \"prevent\", \"allow\" ]), unpack(eventsConfig, [ _constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_VIEW, _constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_SOURCE_WINDOW ]), \n        eventsConfig;\n    }\n    initEvent() {\n        const stage = this.renderer.stage();\n        stage && stage.on(\"*\", this.delegateEvent);\n    }\n    releaseStageEvent() {\n        const stage = this.renderer.stage();\n        stage && stage.off(\"*\", this.delegateEvent);\n    }\n    addEventListener(type, handler, options) {\n        let callback = handler;\n        return options && !1 === options.trap || (callback = handler, callback.raw = handler), \n        options && options.target && (callback.target = options.target), this.on(type, callback), \n        this;\n    }\n    removeEventListener(type, handler) {\n        return handler ? this.off(type, handler) : this.off(type), this;\n    }\n    initializeRenderer() {\n        const width = this._options.width, height = this._options.height;\n        this.renderer = new _graph_canvas_renderer__WEBPACK_IMPORTED_MODULE_22__[\"default\"](this), this.renderer.initialize(width, height, this._options, this._eventConfig).background(this._background);\n    }\n    initialize() {\n        var _a, _c;\n        this.grammars = new _grammar_record__WEBPACK_IMPORTED_MODULE_23__.RecordedGrammars((grammar => grammar.id()), ((key, grammar) => this.logger.warn(`Grammar id '${key}' has been occupied`, grammar))), \n        this._cachedGrammars = new _grammar_record__WEBPACK_IMPORTED_MODULE_23__.RecordedTreeGrammars((grammar => grammar.id())), this._options.logger && _visactor_vutils__WEBPACK_IMPORTED_MODULE_24__.Logger.setInstance(this._options.logger), \n        this.logger = _visactor_vutils__WEBPACK_IMPORTED_MODULE_24__.Logger.getInstance(null !== (_a = this._options.logLevel) && void 0 !== _a ? _a : 0), \n        this._dataflow = new _dataflow__WEBPACK_IMPORTED_MODULE_25__[\"default\"], this.animate = null === (_c = this.initAnimate) || void 0 === _c ? void 0 : _c.call(this, this), \n        this._differ = new _graph_view_diff__WEBPACK_IMPORTED_MODULE_26__.ViewDiff, this._options.hooks && (Object.keys(this._options.hooks).forEach((key => {\n            this.on(key, this._options.hooks[key]);\n        })), this.hooks = this._options.hooks), this.container = null, this.renderer = null, \n        this._eventListeners = [], this._eventConfig = this.initializeEventConfig(this._options.eventConfig), \n        this._theme = this._options.disableTheme ? null : _theme_theme_manager__WEBPACK_IMPORTED_MODULE_17__.ThemeManager.getDefaultTheme(), \n        this.parseBuiltIn(), (0,_graph_util_env__WEBPACK_IMPORTED_MODULE_27__.configureEnvironment)(this._options), this.initializeRenderer(), \n        this._eventConfig.disable || this.initEvent(), this._bindResizeEvent(), this._needBuildLayoutTree = !0, \n        this._layoutState = _graph_enums__WEBPACK_IMPORTED_MODULE_11__.LayoutState.before, this.theme(this._theme);\n    }\n    pauseProgressive() {\n        return !1;\n    }\n    resumeProgressive() {\n        return !1;\n    }\n    restartProgressive() {\n        return !1;\n    }\n    findProgressiveMarks() {\n        const marks = [];\n        return this.traverseMarkTree((mark => {\n            marks.push(mark);\n        }), (mark => mark.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_11__.GrammarMarkType.group && mark.isProgressive())), \n        marks.length ? (this._progressiveMarks = marks, this.renderer && this.renderer.combineIncrementalLayers(), \n        marks) : (this._progressiveMarks = null, null);\n    }\n    doPreProgressive() {\n        if (this._progressiveMarks && this._progressiveMarks.some((mark => mark.isDoingProgressive()))) {\n            const raf = _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__.vglobal.getRequestAnimationFrame();\n            this._progressiveRafId = raf(this.handleProgressiveFrame);\n        } else this._progressiveMarks && this.animate && this._progressiveMarks.every((mark => mark.canAnimateAfterProgressive())) ? this.animate.animate() : this._progressiveMarks && (this._progressiveMarks = null);\n    }\n    clearProgressive() {\n        if (this._progressiveRafId) {\n            _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_28__.vglobal.getCancelAnimationFrame()(this._progressiveRafId);\n        }\n        this._progressiveMarks && this._progressiveMarks.length && (this._progressiveMarks.forEach((entry => {\n            entry.clearProgressive();\n        })), this._progressiveMarks = null);\n    }\n    release() {\n        var _a, _b, _c, _d;\n        this.removeAllInteractions(), this.releaseStageEvent(), this._unBindResizeEvent(), \n        this.clearProgressive(), _core_factory__WEBPACK_IMPORTED_MODULE_10__.Factory.unregisterRuntimeTransforms(), _visactor_vutils__WEBPACK_IMPORTED_MODULE_24__.Logger.setInstance(null), \n        null === (_a = this.animate) || void 0 === _a || _a.stop(), this.grammars.release(), \n        this._cachedGrammars.release(), this._dataflow.release(), this._dataflow = null, \n        null === (_c = null === (_b = this.renderer) || void 0 === _b ? void 0 : _b.release) || void 0 === _c || _c.call(_b), \n        this.renderer = null, this._boundInteractions = null, this.removeAllListeners(), \n        null === (_d = this._eventListeners) || void 0 === _d || _d.forEach((listener => {\n            listener.source.removeEventListener(listener.type, listener.handler);\n        })), this._eventListeners = null;\n    }\n}\n//# sourceMappingURL=View.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9WaWV3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUg7O0FBRXBFOztBQUVuQjs7QUFFSTs7QUFFb0I7O0FBRUE7O0FBRU07O0FBRStKOztBQUV6TDs7QUFFMkY7O0FBRW5GOztBQUVlOztBQUVyQjs7QUFFTjs7QUFFNEM7O0FBRWU7O0FBRTNDOztBQUVROztBQUVaOztBQUVGOztBQUU4Qjs7QUFFeEI7O0FBRS9CLG1CQUFtQix5REFBWTtBQUM5QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw0QkFBNEIsYUFBYTtBQUN6Qyx5REFBeUQsNERBQVE7QUFDakU7QUFDQTtBQUNBLFNBQVM7QUFDVCxnQ0FBZ0MscUVBQWlCLG9CQUFvQix5REFBaUI7QUFDdEY7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Qsa0JBQWtCLCtDQUFPO0FBQ3pCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsdURBQUs7QUFDL0I7QUFDQSxnQkFBZ0Isc0RBQVM7QUFDekIsbUNBQW1DLGlEQUFTO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxtREFBVywrQ0FBK0MsK0RBQVU7QUFDakg7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsNERBQVE7QUFDaEI7QUFDQTtBQUNBLDJCQUEyQiwyQ0FBTTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1Q0FBSTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbURBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1EQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDREQUFRO0FBQ2xDO0FBQ0E7QUFDQSxlQUFlLDBEQUFlO0FBQzlCLHVCQUF1Qiw4Q0FBUztBQUNoQzs7QUFFQSxlQUFlLDBEQUFlO0FBQzlCLDhCQUE4QixtREFBTyxTQUFTLDBEQUFlO0FBQzdEO0FBQ0E7O0FBRUEsZUFBZSwwREFBZTtBQUM5QixtQkFBbUIsbURBQU8sMEVBQTBFLG1EQUFPLG1KQUFtSixrREFBUztBQUN2UTs7QUFFQSxlQUFlLDBEQUFlO0FBQzlCLHVCQUF1Qix1REFBSTtBQUMzQjs7QUFFQTtBQUNBLG1CQUFtQixtREFBTyxpQkFBaUIsbURBQU8seUNBQXlDLHdDQUFJO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUFlO0FBQ3hDO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5QiwwREFBZTtBQUN4QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0EseUJBQXlCLDBEQUFlO0FBQ3hDLDJCQUEyQix3REFBYTtBQUN4QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5QiwwREFBZTtBQUN4QywyQkFBMkIsd0RBQWE7QUFDeEMsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0EseUJBQXlCLDBEQUFlO0FBQ3hDLDJCQUEyQix3REFBYTtBQUN4QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5QiwwREFBZTtBQUN4QywyQkFBMkIsd0RBQWE7QUFDeEMsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWU7QUFDeEMsMkJBQTJCLHdEQUFhO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0Esd0JBQXdCLG1EQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0REFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QseURBQWU7QUFDL0QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxzRUFBaUI7QUFDbEQ7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxREFBVSx3Q0FBd0MsK0RBQWlCO0FBQ3pGLHlEQUF5RCwrREFBWTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsb0RBQVksaUNBQWlDLHFEQUFhO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbUNBQW1DLG1EQUFPO0FBQzFDO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNULGtCQUFrQixxREFBVSx3RUFBd0Usc0RBQVc7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBYztBQUN0QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywwREFBZTtBQUN6RDtBQUNBLFVBQVUsZ0JBQWdCLDBEQUFlO0FBQ3pDO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFRLHVDQUF1QywrREFBWSwwQ0FBMEMsK0RBQVk7QUFDekgsZUFBZSwwQ0FBMEM7QUFDekQ7QUFDQTtBQUNBLHNKQUFzSjtBQUN0SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG9EQUFZO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHFEQUFhO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHlEQUFpQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywwREFBa0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsc0RBQWM7QUFDeEQ7QUFDQSw0QkFBNEIsOERBQWdCO0FBQzVDO0FBQ0E7QUFDQSxlQUFlLDhEQUFnQjtBQUMvQjtBQUNBO0FBQ0EsMENBQTBDLHNEQUFjO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx1REFBZTtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsc0RBQVc7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsOEJBQThCLDBEQUFlO0FBQzdDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsbURBQU87QUFDMUQsNEdBQTRHLHFEQUFVO0FBQ3RILG9FQUFvRSxxREFBVTtBQUM5RTtBQUNBO0FBQ0Esa0JBQWtCLHFEQUFVO0FBQzVCLFlBQVksbUVBQWdCO0FBQzVCO0FBQ0EsYUFBYTtBQUNiLFNBQVMsY0FBYyxxREFBVTtBQUNqQztBQUNBO0FBQ0Esa0JBQWtCLHFEQUFVLDBCQUEwQixtRUFBZ0I7QUFDdEU7QUFDQSxTQUFTLGNBQWMscURBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxREFBVTtBQUM1QjtBQUNBLFNBQVMsb0ZBQW9GLHFEQUFVO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxvRUFBc0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsc0RBQVc7QUFDOUYsK0VBQStFLHNEQUFXO0FBQzFGLHdEQUF3RCxzREFBVztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0SEFBNEgseURBQWU7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUVBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQWdELEVBQUUsbUVBQWdCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSxvREFBWTtBQUMzRiwwRUFBMEUscURBQWE7QUFDdkY7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSw0QkFBNEIsbURBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNkRBQUssT0FBTyw0REFBUTtBQUMzQyxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxnQkFBZ0IsNkRBQU8sNEVBQTRFO0FBQ25HLGFBQWE7QUFDYjtBQUNBLDZGQUE2Rix5REFBaUIsRUFBRSwyREFBbUI7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4REFBZ0IsK0VBQStFLElBQUk7QUFDL0gsbUNBQW1DLGtFQUFvQixxREFBcUQscURBQU07QUFDbEgsc0JBQXNCLHFEQUFNO0FBQzVCLDZCQUE2QixrREFBUTtBQUNyQywyQkFBMkIsdURBQVE7QUFDbkM7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwwREFBMEQsK0RBQVk7QUFDdEUsNkJBQTZCLHNFQUFvQjtBQUNqRDtBQUNBLDRCQUE0QixzREFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4QkFBOEIsMERBQWU7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0REFBTztBQUMvQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxtREFBTyxnQ0FBZ0MscURBQU07QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9WaWV3LmpzP2Y2YWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCBkZWJvdW5jZSwgaXNTdHJpbmcsIGdldENvbnRhaW5lclNpemUsIExvZ2dlciwgYXJyYXksIGlzTmlsLCBpc0FycmF5IH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgdmdsb2JhbCB9IGZyb20gXCJAdmlzYWN0b3IvdnJlbmRlci1jb3JlXCI7XG5cbmltcG9ydCB7IERhdGEgfSBmcm9tIFwiLi9kYXRhXCI7XG5cbmltcG9ydCBEYXRhZmxvdyBmcm9tIFwiLi9kYXRhZmxvd1wiO1xuXG5pbXBvcnQgeyB0cmF2ZXJzZU1hcmtUcmVlIH0gZnJvbSBcIi4uL2dyYXBoL21hcmstdHJlZVwiO1xuXG5pbXBvcnQgQ2FudmFzUmVuZGVyZXIgZnJvbSBcIi4uL2dyYXBoL2NhbnZhcy1yZW5kZXJlclwiO1xuXG5pbXBvcnQgZ2V0RXh0ZW5kZWRFdmVudHMgZnJvbSBcIi4uL2dyYXBoL3V0aWwvZXZlbnRzLWV4dGVuZFwiO1xuXG5pbXBvcnQgeyBCUk9XU0VSLCBTSUdOQUxfV0lEVEgsIFNJR05BTF9IRUlHSFQsIFNJR05BTF9QQURESU5HLCBTSUdOQUxfQVVUT0ZJVCwgU0lHTkFMX1ZJRVdfV0lEVEgsIFNJR05BTF9WSUVXX0hFSUdIVCwgRVZFTlRfU09VUkNFX1ZJRVcsIFNJR05BTF9WSUVXX0JPWCwgSURfUFJFRklYLCBOQU1FX1BSRUZJWCwgRVZFTlRfU09VUkNFX1dJTkRPVyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tIFwiLi9zaWduYWxcIjtcblxuaW1wb3J0IHsgQnVpbHRJblNpZ25hbElELCBidWlsdEluU2lnbmFscywgbm9ybWFsaXplTWFya1RyZWUsIG5vcm1hbGl6ZVJ1bm5pbmdDb25maWcsIG5vcm1hbGl6ZVBhZGRpbmcgfSBmcm9tIFwiLi4vcGFyc2Uvdmlld1wiO1xuXG5pbXBvcnQgeyBpc0dyYW1tYXIgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBjb25maWd1cmVFbnZpcm9ubWVudCB9IGZyb20gXCIuLi9ncmFwaC91dGlsL2VudlwiO1xuXG5pbXBvcnQgeyBHcm91cE1hcmsgfSBmcm9tIFwiLi9ncm91cFwiO1xuXG5pbXBvcnQgeyBNYXJrIH0gZnJvbSBcIi4vbWFya1wiO1xuXG5pbXBvcnQgeyBSZWNvcmRlZEdyYW1tYXJzLCBSZWNvcmRlZFRyZWVHcmFtbWFycyB9IGZyb20gXCIuL2dyYW1tYXItcmVjb3JkXCI7XG5cbmltcG9ydCB7IENvbXBvbmVudEVudW0sIEhPT0tfRVZFTlQsIExheW91dFN0YXRlLCBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgVGV4dCB9IGZyb20gXCIuLi9zZW1hbnRpYy1tYXJrcy90ZXh0XCI7XG5cbmltcG9ydCB7IFRoZW1lTWFuYWdlciB9IGZyb20gXCIuLi90aGVtZS90aGVtZS1tYW5hZ2VyXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBpc01hcmtUeXBlLCByZW1vdmVHcmFwaGljSXRlbSB9IGZyb20gXCIuLi9ncmFwaC91dGlsL2dyYXBoaWNcIjtcblxuaW1wb3J0IHsgVmlld0RpZmYgfSBmcm9tIFwiLi4vZ3JhcGgvdmlldy1kaWZmXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXcgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIHN0YXRpYyB1c2VSZWdpc3RlcnMoY29tcHMpIHtcbiAgICAgICAgY29tcHMuZm9yRWFjaCgoZm4gPT4ge1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30sIGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuX29ic2VydmVyID0gbnVsbCwgdGhpcy5fb25SZXNpemUgPSBkZWJvdW5jZSgoKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9nZXRDb250YWluZXJTaXplKCk7XG4gICAgICAgICAgICBzaXplICYmIHRoaXMucmVzaXplKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcbiAgICAgICAgfSksIDEwMCksIHRoaXMuZGVsZWdhdGVFdmVudCA9IChldmVudCwgdHlwZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXh0ZW5kZWRFdnQgPSBnZXRFeHRlbmRlZEV2ZW50cyh0aGlzLCBldmVudCwgdHlwZSwgRVZFTlRfU09VUkNFX1ZJRVcpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KHR5cGUsIGV4dGVuZGVkRXZ0LCBldmVudC5lbGVtZW50KTtcbiAgICAgICAgfSwgdGhpcy5oYW5kbGVQcm9ncmVzc2l2ZUZyYW1lID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcy5sZW5ndGggJiYgdGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgICAgICBtYXJrLmlzRG9pbmdQcm9ncmVzc2l2ZSgpICYmIG1hcmsuZXZhbHVhdGVQcm9ncmVzc2l2ZSgpO1xuICAgICAgICAgICAgfSkpLCB0aGlzLmRvUHJlUHJvZ3Jlc3NpdmUoKTtcbiAgICAgICAgfSwgdGhpcy5fY29uZmlnID0gY29uZmlnLCB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBtb2RlOiBCUk9XU0VSXG4gICAgICAgIH0sIG9wdGlvbnMpLCB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9XG4gICAgZ2V0R3JhbW1hckJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMuZ2V0R3JhbW1hcihpZCk7XG4gICAgfVxuICAgIGdldFNpZ25hbEJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMuZ2V0U2lnbmFsKGlkKTtcbiAgICB9XG4gICAgZ2V0RGF0YUJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMuZ2V0RGF0YShpZCk7XG4gICAgfVxuICAgIGdldFNjYWxlQnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5nZXRTY2FsZShpZCk7XG4gICAgfVxuICAgIGdldENvb3JkaW5hdGVCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLmdldENvb3JkaW5hdGUoaWQpO1xuICAgIH1cbiAgICBnZXRNYXJrQnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5nZXRNYXJrKGlkKTtcbiAgICB9XG4gICAgZ2V0Q3VzdG9taXplZEJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMuZ2V0Q3VzdG9taXplZChpZCk7XG4gICAgfVxuICAgIGdldEdyYW1tYXJzQnlOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hcnMuZmlsdGVyKChncmFtbWFyID0+IGdyYW1tYXIubmFtZSgpID09PSBuYW1lKSk7XG4gICAgfVxuICAgIGdldEdyYW1tYXJzQnlUeXBlKGdyYW1tYXJUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLmZpbHRlcigoZ3JhbW1hciA9PiBncmFtbWFyLmdyYW1tYXJUeXBlID09PSBncmFtbWFyVHlwZSkpO1xuICAgIH1cbiAgICBnZXRNYXJrc0J5VHlwZShtYXJrVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5nZXRBbGxNYXJrcygpLmZpbHRlcigobWFyayA9PiBtYXJrLm1hcmtUeXBlID09PSBtYXJrVHlwZSkpO1xuICAgIH1cbiAgICBnZXRNYXJrc0J5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLmdldEFsbE1hcmtzKCkuZmlsdGVyKChtYXJrID0+IG1hcmsubmFtZSgpID09PSBuYW1lKSk7XG4gICAgfVxuICAgIGdldE1hcmtzQnlTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgICAgICBpZiAoIXNlbGVjdG9yKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JzID0gYXJyYXkoc2VsZWN0b3IpLCByZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9ycy5mb3JFYWNoKChzZWxlY3RvclN0ciA9PiB7XG4gICAgICAgICAgICBpZiAoaXNHcmFtbWFyKHNlbGVjdG9yU3RyKSkgcmV0dXJuIHZvaWQgcmVzLnB1c2goc2VsZWN0b3JTdHIpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yU3RyWzBdID09PSBJRF9QUkVGSVgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJrID0gdGhpcy5nZXRNYXJrQnlJZChzZWxlY3RvclN0ci5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgKG1hcmsgJiYgcmVzLnB1c2gobWFyaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWFya3MgPSBzZWxlY3RvclN0clswXSA9PT0gTkFNRV9QUkVGSVggPyB0aGlzLmdldE1hcmtzQnlOYW1lKHNlbGVjdG9yU3RyLnNsaWNlKDEpKSA6IGlzTWFya1R5cGUoc2VsZWN0b3JTdHIpID8gdGhpcy5nZXRNYXJrc0J5VHlwZShzZWxlY3RvclN0cikgOiBudWxsO1xuICAgICAgICAgICAgbWFya3MgJiYgbWFya3MubGVuZ3RoICYmIG1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKG1hcmspO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSksIHJlcztcbiAgICB9XG4gICAgdXBkYXRlU2lnbmFsKHNpZ25hbCwgdmFsdWUpIHtcbiAgICAgICAgaXNTdHJpbmcoc2lnbmFsKSAmJiAoc2lnbmFsID0gdGhpcy5nZXRTaWduYWxCeUlkKHNpZ25hbCkpLCBzaWduYWwuc2V0KHZhbHVlKSwgdGhpcy5jb21taXQoc2lnbmFsKTtcbiAgICB9XG4gICAgc2lnbmFsKHZhbHVlLCB1cGRhdGUpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPj0gMSAmJiBzaWduYWwudmFsdWUodmFsdWUpLCBhcmd1bWVudHMubGVuZ3RoID49IDIgJiYgc2lnbmFsLnVwZGF0ZSh1cGRhdGUpLCBcbiAgICAgICAgdGhpcy5ncmFtbWFycy5yZWNvcmQoc2lnbmFsKSwgdGhpcy5fZGF0YWZsb3cuYWRkKHNpZ25hbCksIHNpZ25hbDtcbiAgICB9XG4gICAgZGF0YSh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBEYXRhKHRoaXMsIHZhbHVlcyk7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLnJlY29yZChkYXRhKSwgdGhpcy5fZGF0YWZsb3cuYWRkKGRhdGEpLCBkYXRhO1xuICAgIH1cbiAgICBzY2FsZSh0eXBlKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gRmFjdG9yeS5jcmVhdGVHcmFtbWFyKFwic2NhbGVcIiwgdGhpcywgdHlwZSk7XG4gICAgICAgIHJldHVybiBzY2FsZSAmJiAodGhpcy5ncmFtbWFycy5yZWNvcmQoc2NhbGUpLCB0aGlzLl9kYXRhZmxvdy5hZGQoc2NhbGUpKSwgc2NhbGU7XG4gICAgfVxuICAgIGNvb3JkaW5hdGUodHlwZSkge1xuICAgICAgICBjb25zdCBjb29yZGluYXRlID0gRmFjdG9yeS5jcmVhdGVHcmFtbWFyKFwiY29vcmRpbmF0ZVwiLCB0aGlzLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIGNvb3JkaW5hdGUgJiYgKHRoaXMuZ3JhbW1hcnMucmVjb3JkKGNvb3JkaW5hdGUpLCB0aGlzLl9kYXRhZmxvdy5hZGQoY29vcmRpbmF0ZSkpLCBcbiAgICAgICAgY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgbWFyayh0eXBlLCBncm91cCwgbWFya09wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ3JvdXBNYXJrID0gaXNTdHJpbmcoZ3JvdXApID8gdGhpcy5nZXRNYXJrQnlJZChncm91cCkgOiBncm91cDtcbiAgICAgICAgbGV0IG1hcms7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLmdyb3VwOlxuICAgICAgICAgICAgbWFyayA9IG5ldyBHcm91cE1hcmsodGhpcywgZ3JvdXBNYXJrKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUuZ2x5cGg6XG4gICAgICAgICAgICBjb25zdCBHbHlwaE1hcmsgPSBGYWN0b3J5LmdldE1hcmsoR3JhbW1hck1hcmtUeXBlLmdseXBoKTtcbiAgICAgICAgICAgIEdseXBoTWFyayAmJiAobWFyayA9IG5ldyBHbHlwaE1hcmsodGhpcywgbnVsbCA9PSBtYXJrT3B0aW9ucyA/IHZvaWQgMCA6IG1hcmtPcHRpb25zLmdseXBoVHlwZSwgZ3JvdXBNYXJrKSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgR3JhbW1hck1hcmtUeXBlLmNvbXBvbmVudDpcbiAgICAgICAgICAgIG1hcmsgPSBGYWN0b3J5Lmhhc0NvbXBvbmVudChudWxsID09IG1hcmtPcHRpb25zID8gdm9pZCAwIDogbWFya09wdGlvbnMuY29tcG9uZW50VHlwZSkgPyBGYWN0b3J5LmNyZWF0ZUNvbXBvbmVudChudWxsID09IG1hcmtPcHRpb25zID8gdm9pZCAwIDogbWFya09wdGlvbnMuY29tcG9uZW50VHlwZSwgdGhpcywgZ3JvdXBNYXJrLCBudWxsID09IG1hcmtPcHRpb25zID8gdm9pZCAwIDogbWFya09wdGlvbnMubW9kZSkgOiBuZXcgQ29tcG9uZW50KHRoaXMsIG51bGwgPT0gbWFya09wdGlvbnMgPyB2b2lkIDAgOiBtYXJrT3B0aW9ucy5jb21wb25lbnRUeXBlLCBncm91cE1hcmssIG51bGwgPT0gbWFya09wdGlvbnMgPyB2b2lkIDAgOiBtYXJrT3B0aW9ucy5tb2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBHcmFtbWFyTWFya1R5cGUudGV4dDpcbiAgICAgICAgICAgIG1hcmsgPSBuZXcgVGV4dCh0aGlzLCB0eXBlLCBncm91cE1hcmspO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWFyayA9IEZhY3RvcnkuaGFzTWFyayh0eXBlKSA/IEZhY3RvcnkuY3JlYXRlTWFyayh0eXBlLCB0aGlzLCBncm91cE1hcmspIDogbmV3IE1hcmsodGhpcywgdHlwZSwgZ3JvdXBNYXJrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5yZWNvcmQobWFyayksIHRoaXMuX2RhdGFmbG93LmFkZChtYXJrKSwgbWFyaztcbiAgICB9XG4gICAgZ3JvdXAoZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFyayhHcmFtbWFyTWFya1R5cGUuZ3JvdXAsIGdyb3VwKTtcbiAgICB9XG4gICAgZ2x5cGgoZ2x5cGhUeXBlLCBncm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5nbHlwaCwgZ3JvdXAsIHtcbiAgICAgICAgICAgIGdseXBoVHlwZTogZ2x5cGhUeXBlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb21wb25lbnQoY29tcG9uZW50VHlwZSwgZ3JvdXAsIG1vZGUgPSBcIjJkXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFyayhHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50LCBncm91cCwge1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogY29tcG9uZW50VHlwZSxcbiAgICAgICAgICAgIG1vZGU6IG1vZGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGF4aXMoZ3JvdXAsIG1vZGUgPSBcIjJkXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFyayhHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50LCBncm91cCwge1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogQ29tcG9uZW50RW51bS5heGlzLFxuICAgICAgICAgICAgbW9kZTogbW9kZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ3JpZChncm91cCwgbW9kZSA9IFwiMmRcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwLCB7XG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBDb21wb25lbnRFbnVtLmdyaWQsXG4gICAgICAgICAgICBtb2RlOiBtb2RlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZWdlbmQoZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFyayhHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50LCBncm91cCwge1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogQ29tcG9uZW50RW51bS5sZWdlbmRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNsaWRlcihncm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwLCB7XG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBDb21wb25lbnRFbnVtLnNsaWRlclxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGFiZWwoZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFyayhHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50LCBncm91cCwge1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogQ29tcG9uZW50RW51bS5sYWJlbFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGF0YXpvb20oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFyayhHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50LCBncm91cCwge1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogQ29tcG9uZW50RW51bS5kYXRhem9vbVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGxheWVyKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcmsoR3JhbW1hck1hcmtUeXBlLmNvbXBvbmVudCwgZ3JvdXAsIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IENvbXBvbmVudEVudW0ucGxheWVyXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0aXRsZShncm91cCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrKEdyYW1tYXJNYXJrVHlwZS5jb21wb25lbnQsIGdyb3VwLCB7XG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBDb21wb25lbnRFbnVtLnRpdGxlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzY3JvbGxiYXIoZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFyayhHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50LCBncm91cCwge1xuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogQ29tcG9uZW50RW51bS5zY3JvbGxiYXJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGN1c3RvbWl6ZWQodHlwZSwgc3BlYykge1xuICAgICAgICBjb25zdCBncmFtbWFyID0gRmFjdG9yeS5jcmVhdGVHcmFtbWFyKHR5cGUsIHRoaXMsIG51bGwgPT0gc3BlYyA/IHZvaWQgMCA6IHNwZWMudHlwZSk7XG4gICAgICAgIGlmIChncmFtbWFyKSByZXR1cm4gZ3JhbW1hci5wYXJzZShzcGVjKSwgdGhpcy5ncmFtbWFycy5yZWNvcmQoZ3JhbW1hciksIHRoaXMuX2RhdGFmbG93LmFkZChncmFtbWFyKSwgXG4gICAgICAgIGdyYW1tYXI7XG4gICAgfVxuICAgIGFkZEdyYW1tYXIoZ3JhbW1hcikge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFycy5maW5kKChzdG9yZWRHcmFtbWFyID0+IHN0b3JlZEdyYW1tYXIudWlkID09PSBncmFtbWFyLnVpZCkpIHx8ICh0aGlzLmdyYW1tYXJzLnJlY29yZChncmFtbWFyKSwgXG4gICAgICAgIHRoaXMuX2RhdGFmbG93LmFkZChncmFtbWFyKSwgZ3JhbW1hci5wYXJzZShncmFtbWFyLmdldFNwZWMoKSksIHRoaXMuX25lZWRCdWlsZExheW91dFRyZWUgPSAhMCksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICByZW1vdmVHcmFtbWFyKGdyYW1tYXIpIHtcbiAgICAgICAgY29uc3QgcmVjb3JkZWRHcmFtbWFyID0gaXNTdHJpbmcoZ3JhbW1hcikgPyB0aGlzLmdldEdyYW1tYXJCeUlkKGdyYW1tYXIpIDogZ3JhbW1hcjtcbiAgICAgICAgcmV0dXJuIHJlY29yZGVkR3JhbW1hciAmJiB0aGlzLmdyYW1tYXJzLmZpbmQoKHN0b3JlZEdyYW1tYXIgPT4gc3RvcmVkR3JhbW1hci51aWQgPT09IHJlY29yZGVkR3JhbW1hci51aWQpKSA/IChcIm1hcmtcIiA9PT0gcmVjb3JkZWRHcmFtbWFyLmdyYW1tYXJUeXBlICYmIHJlY29yZGVkR3JhbW1hci5wcmVwYXJlUmVsZWFzZSgpLCBcbiAgICAgICAgdGhpcy5fY2FjaGVkR3JhbW1hcnMucmVjb3JkKHJlY29yZGVkR3JhbW1hciksIHRoaXMuX2RhdGFmbG93LnJlbW92ZShyZWNvcmRlZEdyYW1tYXIpLCBcbiAgICAgICAgdGhpcy5ncmFtbWFycy51bnJlY29yZChyZWNvcmRlZEdyYW1tYXIpLCB0aGlzLl9uZWVkQnVpbGRMYXlvdXRUcmVlID0gITAsIHRoaXMpIDogdGhpcztcbiAgICB9XG4gICAgcmVtb3ZlQWxsR3JhbW1hcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJzLnRyYXZlcnNlKChncmFtbWFyID0+IHtcbiAgICAgICAgICAgIFwic2lnbmFsXCIgPT09IGdyYW1tYXIuZ3JhbW1hclR5cGUgJiYgQnVpbHRJblNpZ25hbElELmluY2x1ZGVzKGdyYW1tYXIuaWQoKSkgfHwgXCJtYXJrXCIgPT09IGdyYW1tYXIuZ3JhbW1hclR5cGUgJiYgXCJyb290XCIgPT09IGdyYW1tYXIuaWQoKSB8fCB0aGlzLnJlbW92ZUdyYW1tYXIoZ3JhbW1hcik7XG4gICAgICAgIH0pKSwgdGhpcztcbiAgICB9XG4gICAgcmVtb3ZlQWxsR3JhcGhpY0l0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmF2ZXJzZU1hcmtUcmVlKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsuZ3JhcGhpY0l0ZW0gJiYgKHJlbW92ZUdyYXBoaWNJdGVtKG1hcmsuZ3JhcGhpY0l0ZW0pLCBtYXJrLmVsZW1lbnRNYXAuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZXNldEdyYXBoaWNJdGVtKCk7XG4gICAgICAgICAgICB9KSksIG1hcmsuZ3JhcGhpY0l0ZW0gPSBudWxsKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBwYXJzZVNwZWMoc3BlYykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgICAgICBpZiAodGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX1BBUlNFX1ZJRVcpLCB0aGlzLl9zcGVjID0gc3BlYywgbm9ybWFsaXplTWFya1RyZWUoc3BlYyksIFxuICAgICAgICBzcGVjLnRoZW1lID8gdGhpcy50aGVtZShzcGVjLnRoZW1lKSA6IHRoaXMudGhlbWUoVGhlbWVNYW5hZ2VyLmdldERlZmF1bHRUaGVtZSgpKSwgXG4gICAgICAgIHNwZWMud2lkdGggJiYgdGhpcy53aWR0aChzcGVjLndpZHRoKSwgc3BlYy5oZWlnaHQgJiYgdGhpcy5oZWlnaHQoc3BlYy5oZWlnaHQpLCB0aGlzLnBhZGRpbmcobnVsbCAhPT0gKF9iID0gbnVsbCAhPT0gKF9hID0gc3BlYy5wYWRkaW5nKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB0aGlzLl9vcHRpb25zLnBhZGRpbmcpICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IHRoaXMuX3RoZW1lLnBhZGRpbmcpLCBcbiAgICAgICAgIXRoaXMud2lkdGgoKSB8fCAhdGhpcy5oZWlnaHQoKSkge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX2dldENvbnRhaW5lclNpemUoKTtcbiAgICAgICAgICAgIHNpemUgJiYgKHRoaXMudXBkYXRlU2lnbmFsKFNJR05BTF9XSURUSCwgc2l6ZS53aWR0aCksIHRoaXMudXBkYXRlU2lnbmFsKFNJR05BTF9IRUlHSFQsIHNpemUuaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICAgICAgKG51bGwgPT09IChfYyA9IHNwZWMuc2lnbmFscykgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmxlbmd0aCkgJiYgc3BlYy5zaWduYWxzLmZvckVhY2goKHNpZ25hbCA9PiB7XG4gICAgICAgICAgICB0aGlzLnNpZ25hbCgpLnBhcnNlKHNpZ25hbCk7XG4gICAgICAgIH0pKSwgKG51bGwgPT09IChfZCA9IHNwZWMuZGF0YSkgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kLmxlbmd0aCkgJiYgc3BlYy5kYXRhLmZvckVhY2goKGRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhKG51bGwpLnBhcnNlKGRhdGEpO1xuICAgICAgICB9KSksIChudWxsID09PSAoX2UgPSBzcGVjLmNvb3JkaW5hdGVzKSB8fCB2b2lkIDAgPT09IF9lID8gdm9pZCAwIDogX2UubGVuZ3RoKSAmJiBzcGVjLmNvb3JkaW5hdGVzLmZvckVhY2goKGNvb3JkaW5hdGUgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgbnVsbCA9PT0gKF9hID0gdGhpcy5jb29yZGluYXRlKGNvb3JkaW5hdGUudHlwZSkpIHx8IHZvaWQgMCA9PT0gX2EgfHwgX2EucGFyc2UoY29vcmRpbmF0ZSk7XG4gICAgICAgIH0pKSwgKG51bGwgPT09IChfZiA9IHNwZWMuc2NhbGVzKSB8fCB2b2lkIDAgPT09IF9mID8gdm9pZCAwIDogX2YubGVuZ3RoKSAmJiBzcGVjLnNjYWxlcy5mb3JFYWNoKChzY2FsZSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBudWxsID09PSAoX2EgPSB0aGlzLnNjYWxlKHNjYWxlLnR5cGUpKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLnBhcnNlKHNjYWxlKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBjdXN0b21pemVkR3JhbW1hcnMgPSBGYWN0b3J5LmdldEdyYW1tYXJzKCk7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhjdXN0b21pemVkR3JhbW1hcnMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7c3BlY0tleTogc3BlY0tleX0gPSBjdXN0b21pemVkR3JhbW1hcnNba2V5XTtcbiAgICAgICAgICAgIHNwZWNbc3BlY0tleV0gJiYgc3BlY1tzcGVjS2V5XS5sZW5ndGggJiYgc3BlY1tzcGVjS2V5XS5mb3JFYWNoKChzcGVjVmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXplZChrZXksIHNwZWNWYWx1ZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKSwgc3BlYy5tYXJrcyAmJiBzcGVjLm1hcmtzLmxlbmd0aCAmJiBzcGVjLm1hcmtzLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgdGhpcy5wYXJzZU1hcmtTcGVjKG1hcmspO1xuICAgICAgICB9KSksIHNwZWMuZXZlbnRzICYmIHNwZWMuZXZlbnRzLmxlbmd0aCAmJiBzcGVjLmV2ZW50cy5mb3JFYWNoKChldmVudENvbmZpZyA9PiB7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICBudWxsID09PSAoX2IgPSB0aGlzLmV2ZW50KSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwodGhpcywgZXZlbnRDb25maWcpO1xuICAgICAgICB9KSksIHNwZWMuaW50ZXJhY3Rpb25zICYmIHNwZWMuaW50ZXJhY3Rpb25zLmxlbmd0aCAmJiBzcGVjLmludGVyYWN0aW9ucy5mb3JFYWNoKChpbnRlcmFjdGlvbiA9PiB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uKGludGVyYWN0aW9uLnR5cGUsIGludGVyYWN0aW9uKTtcbiAgICAgICAgfSkpLCAhMSA9PT0gc3BlYy5hbmltYXRpb24gPyBudWxsID09PSAoX2cgPSB0aGlzLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2cgfHwgX2cuZGlzYWJsZSgpIDogbnVsbCA9PT0gKF9oID0gdGhpcy5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9oIHx8IF9oLmVuYWJsZSgpLCBcbiAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfUEFSU0VfVklFVyksIHRoaXMuX25lZWRCdWlsZExheW91dFRyZWUgPSAhMCwgdGhpcy5fbGF5b3V0U3RhdGUgPSBMYXlvdXRTdGF0ZS5iZWZvcmUsIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICB1cGRhdGVTcGVjKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQWxsSW50ZXJhY3Rpb25zKCksIHRoaXMucmVtb3ZlQWxsR3JhbW1hcnMoKSwgdGhpcy5wYXJzZVNwZWMoc3BlYyk7XG4gICAgfVxuICAgIHBhcnNlQnVpbHRJbigpIHtcbiAgICAgICAgYnVpbHRJblNpZ25hbHModGhpcy5fb3B0aW9ucywgdGhpcy5fY29uZmlnLCB0aGlzLmdldEN1cnJlbnRUaGVtZSgpKS5mb3JFYWNoKChzaWduYWxTcGVjID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25hbCA9IHRoaXMuc2lnbmFsKCkucGFyc2Uoc2lnbmFsU3BlYyk7XG4gICAgICAgICAgICBzaWduYWxTcGVjLnZhbHVlICYmIHNpZ25hbC5zZXQoc2lnbmFsU3BlYy52YWx1ZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5wYXJzZU1hcmtTcGVjKHtcbiAgICAgICAgICAgIGlkOiBcInJvb3RcIixcbiAgICAgICAgICAgIHR5cGU6IFwiZ3JvdXBcIixcbiAgICAgICAgICAgIGVuY29kZToge1xuICAgICAgICAgICAgICAgIGVudGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBcIndpZHRoXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IFwiaGVpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIHRoaXMucm9vdE1hcmsgPSB0aGlzLmdldE1hcmtCeUlkKFwicm9vdFwiKTtcbiAgICB9XG4gICAgcGFyc2VNYXJrU3BlYyhzcGVjKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgbWFya09wdGlvbnMgPSBzcGVjLnR5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5nbHlwaCA/IHtcbiAgICAgICAgICAgIGdseXBoVHlwZTogc3BlYy5nbHlwaFR5cGVcbiAgICAgICAgfSA6IHNwZWMudHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmNvbXBvbmVudCA/IHtcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IHNwZWMuY29tcG9uZW50VHlwZSxcbiAgICAgICAgICAgIG1vZGU6IHNwZWMubW9kZVxuICAgICAgICB9IDogbnVsbDtcbiAgICAgICAgdGhpcy5tYXJrKHNwZWMudHlwZSwgc3BlYy5ncm91cCwgbWFya09wdGlvbnMpLnBhcnNlKHNwZWMpLCBudWxsID09PSAoX2EgPSBzcGVjLm1hcmtzKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLmZvckVhY2goKGNoaWxkU3BlYyA9PiB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlTWFya1NwZWMoY2hpbGRTcGVjKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB0aGVtZSh0aGVtZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgaXNTdHJpbmcodGhlbWUpID8gdGhpcy5fdGhlbWUgPSBudWxsICE9PSAoX2EgPSBUaGVtZU1hbmFnZXIuZ2V0VGhlbWUodGhlbWUpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBUaGVtZU1hbmFnZXIuZ2V0RGVmYXVsdFRoZW1lKCkgOiB0aGlzLl90aGVtZSA9IHRoZW1lO1xuICAgICAgICBjb25zdCB7YmFja2dyb3VuZDogYmFja2dyb3VuZCwgcGFkZGluZzogcGFkZGluZ30gPSBudWxsICE9PSAoX2IgPSB0aGlzLl9zcGVjKSAmJiB2b2lkIDAgIT09IF9iID8gX2IgOiB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW1lID8gKHRoaXMuYmFja2dyb3VuZChudWxsICE9PSAoX2MgPSBudWxsICE9IGJhY2tncm91bmQgPyBiYWNrZ3JvdW5kIDogdGhpcy5fb3B0aW9ucy5iYWNrZ3JvdW5kKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiB0aGlzLl90aGVtZS5iYWNrZ3JvdW5kKSwgXG4gICAgICAgIHRoaXMucGFkZGluZyhudWxsICE9PSAoX2QgPSBudWxsICE9IHBhZGRpbmcgPyBwYWRkaW5nIDogdGhpcy5fb3B0aW9ucy5wYWRkaW5nKSAmJiB2b2lkIDAgIT09IF9kID8gX2QgOiB0aGlzLl90aGVtZS5wYWRkaW5nKSwgXG4gICAgICAgIG51bGwgPT09IChfZiA9IG51bGwgPT09IChfZSA9IHRoaXMucmVuZGVyZXIuc3RhZ2UoKSkgfHwgdm9pZCAwID09PSBfZSA/IHZvaWQgMCA6IF9lLnNldFRoZW1lKSB8fCB2b2lkIDAgPT09IF9mIHx8IF9mLmNhbGwoX2UsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3RoZW1lLm1hcmtzKSkpIDogKHRoaXMuYmFja2dyb3VuZChudWxsICE9IGJhY2tncm91bmQgPyBiYWNrZ3JvdW5kIDogdGhpcy5fb3B0aW9ucy5iYWNrZ3JvdW5kKSwgXG4gICAgICAgIHRoaXMucGFkZGluZyhudWxsICE9IHBhZGRpbmcgPyBwYWRkaW5nIDogdGhpcy5fb3B0aW9ucy5wYWRkaW5nKSksIHRoaXM7XG4gICAgfVxuICAgIGdldEN1cnJlbnRUaGVtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW1lO1xuICAgIH1cbiAgICBzZXRDdXJyZW50VGhlbWUodGhlbWUsIHJlbmRlciA9ICEwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW1lKHRoZW1lKSwgdGhpcy5ncmFtbWFycy5nZXRBbGxNYXJrcygpLmZvckVhY2goKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5jb21taXQoKTtcbiAgICAgICAgfSkpLCByZW5kZXIgPyAodGhpcy5ldmFsdWF0ZSgpLCB0aGlzLnJlbmRlcmVyLnJlbmRlcighMCkpIDogdGhpcy5fZGF0YWZsb3cuZXZhbHVhdGUoKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIGJhY2tncm91bmQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodGhpcy5fYmFja2dyb3VuZCA9IHZhbHVlLCB0aGlzLnJlbmRlcmVyLmJhY2tncm91bmQodmFsdWUpLCBcbiAgICAgICAgdmFsdWUpIDogdGhpcy5fYmFja2dyb3VuZDtcbiAgICB9XG4gICAgd2lkdGgodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gdGhpcy5nZXRTaWduYWxCeUlkKFNJR05BTF9XSURUSCk7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHRoaXMuX29wdGlvbnMud2lkdGggPSB2YWx1ZSwgdGhpcy51cGRhdGVTaWduYWwoc2lnbmFsLCB2YWx1ZSksIFxuICAgICAgICB2YWx1ZSkgOiBzaWduYWwub3V0cHV0KCk7XG4gICAgfVxuICAgIGhlaWdodCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLmdldFNpZ25hbEJ5SWQoU0lHTkFMX0hFSUdIVCk7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHRoaXMuX29wdGlvbnMuaGVpZ2h0ID0gdmFsdWUsIHRoaXMudXBkYXRlU2lnbmFsKHNpZ25hbCwgdmFsdWUpLCBcbiAgICAgICAgdmFsdWUpIDogc2lnbmFsLm91dHB1dCgpO1xuICAgIH1cbiAgICB2aWV3V2lkdGgodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gdGhpcy5nZXRTaWduYWxCeUlkKFNJR05BTF9WSUVXX1dJRFRIKTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLnBhZGRpbmcoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndpZHRoKHZhbHVlICsgcGFkZGluZy5sZWZ0ICsgcGFkZGluZy5yaWdodCksIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaWduYWwub3V0cHV0KCk7XG4gICAgfVxuICAgIHZpZXdIZWlnaHQodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gdGhpcy5nZXRTaWduYWxCeUlkKFNJR05BTF9WSUVXX0hFSUdIVCk7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5wYWRkaW5nKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQodmFsdWUgKyBwYWRkaW5nLnRvcCArIHBhZGRpbmcuYm90dG9tKSwgdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpZ25hbC5vdXRwdXQoKTtcbiAgICB9XG4gICAgcGFkZGluZyh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLmdldFNpZ25hbEJ5SWQoU0lHTkFMX1BBRERJTkcpO1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IG5vcm1hbGl6ZVBhZGRpbmcodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlU2lnbmFsKHNpZ25hbCwgcGFkZGluZyksIHBhZGRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVBhZGRpbmcoc2lnbmFsLm91dHB1dCgpKTtcbiAgICB9XG4gICAgYXV0b0ZpdCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLmdldFNpZ25hbEJ5SWQoU0lHTkFMX0FVVE9GSVQpO1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0aGlzLnVwZGF0ZVNpZ25hbChzaWduYWwsIHZhbHVlKSwgdmFsdWUpIDogc2lnbmFsLm91dHB1dCgpO1xuICAgIH1cbiAgICBnZXRWaWV3Qm94KCkge1xuICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLmdldFNpZ25hbEJ5SWQoU0lHTkFMX1ZJRVdfQk9YKTtcbiAgICAgICAgcmV0dXJuIG51bGwgPT0gc2lnbmFsID8gdm9pZCAwIDogc2lnbmFsLm91dHB1dCgpO1xuICAgIH1cbiAgICB1cGRhdGVMYXlvdXRUYWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXlvdXRTdGF0ZSA9IExheW91dFN0YXRlLmJlZm9yZSwgdGhpcztcbiAgICB9XG4gICAgZ2V0TGF5b3V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXlvdXRTdGF0ZTtcbiAgICB9XG4gICAgYnVpbGRMYXlvdXRUcmVlKCkge1xuICAgICAgICBjb25zdCBtYXJrTWFwID0ge30sIHJvb3RNYXJrcyA9IFtdO1xuICAgICAgICB0aGlzLnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFya01hcFttYXJrLmlkKCldID0gITAsIG1hcmsuZ3JvdXAgJiYgbWFya01hcFttYXJrLmdyb3VwLmlkKCldIHx8IHJvb3RNYXJrcy5wdXNoKG1hcmspLCBcbiAgICAgICAgICAgIG1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCAmJiBtYXJrLnVwZGF0ZUxheW91dENoaWxkcmVuKCk7XG4gICAgICAgIH0pLCAobWFyayA9PiBtYXJrLm5lZWRMYXlvdXQoKSkpLCB0aGlzLl9sYXlvdXRNYXJrcyA9IHJvb3RNYXJrcztcbiAgICB9XG4gICAgZG9MYXlvdXQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZG9MYXlvdXQgPSB0aGlzLl9vcHRpb25zLmRvTGF5b3V0IHx8IEZhY3RvcnkuZ2V0RGVmYXVsdExheW91dCgpO1xuICAgICAgICBkb0xheW91dCAmJiAobnVsbCA9PT0gKF9hID0gdGhpcy5fbGF5b3V0TWFya3MpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICYmICh0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfRE9fTEFZT1VUKSwgXG4gICAgICAgIGRvTGF5b3V0KHRoaXMuX2xheW91dE1hcmtzLCB0aGlzLl9vcHRpb25zLCB0aGlzKSwgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfRE9fTEFZT1VUKSk7XG4gICAgfVxuICAgIGhhbmRsZUxheW91dEVuZCgpIHtcbiAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX01BUktfTEFZT1VUX0VORCksIHRoaXMuX2xheW91dE1hcmtzLmZvckVhY2goKGxheW91dE1hcmsgPT4ge1xuICAgICAgICAgICAgdHJhdmVyc2VNYXJrVHJlZShsYXlvdXRNYXJrLCBcImxheW91dENoaWxkcmVuXCIsIChtYXJrID0+IHtcbiAgICAgICAgICAgICAgICBtYXJrLmhhbmRsZUxheW91dEVuZCgpO1xuICAgICAgICAgICAgfSksIChtYXJrID0+IG1hcmsgIT09IGxheW91dE1hcmspKTtcbiAgICAgICAgfSkpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9NQVJLX0xBWU9VVF9FTkQpO1xuICAgIH1cbiAgICBoYW5kbGVSZW5kZXJFbmQoKSB7XG4gICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX1JFTkRFUl9FTkQpLCB0cmF2ZXJzZU1hcmtUcmVlKHRoaXMucm9vdE1hcmssIFwiY2hpbGRyZW5cIiwgKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5oYW5kbGVSZW5kZXJFbmQoKTtcbiAgICAgICAgfSkpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9NQVJLX1JFTkRFUl9FTkQpO1xuICAgIH1cbiAgICBjb21taXQoZ3JhbW1hcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YWZsb3cuY29tbWl0KGdyYW1tYXIpLCB0aGlzO1xuICAgIH1cbiAgICBydW4ocnVubmluZ0NvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5ldmFsdWF0ZShydW5uaW5nQ29uZmlnKSwgdGhpcztcbiAgICB9XG4gICAgZG9SZW5kZXIoaW1tZWRpYXRlbHkpIHtcbiAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX0RPX1JFTkRFUiksIHRoaXMucmVuZGVyZXIgJiYgKCF0aGlzLl9wcm9ncmVzc2l2ZU1hcmtzICYmIHRoaXMuYW5pbWF0ZSA/IHRoaXMuYW5pbWF0ZS5hbmltYXRlKCkgOiB0aGlzLnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFyay5jbGVhbkV4aXRFbGVtZW50cygpO1xuICAgICAgICB9KSwgbnVsbCwgITApLCB0aGlzLnJlbmRlcmVyLnJlbmRlcihpbW1lZGlhdGVseSksIHRoaXMuaGFuZGxlUmVuZGVyRW5kKCkpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9ET19SRU5ERVIpO1xuICAgIH1cbiAgICBldmFsdWF0ZShydW5uaW5nQ29uZmlnKSB7XG4gICAgICAgIHZhciBfYSwgX2M7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRSdW5uaW5nQ29uZmlnID0gbm9ybWFsaXplUnVubmluZ0NvbmZpZyhydW5uaW5nQ29uZmlnKSwgZ3JhbW1hcldpbGxEZXRhY2ggPSB0aGlzLl9jYWNoZWRHcmFtbWFycy5zaXplKCkgPiAwO1xuICAgICAgICBncmFtbWFyV2lsbERldGFjaCAmJiAodGhpcy5yZXVzZUNhY2hlZEdyYW1tYXJzKG5vcm1hbGl6ZWRSdW5uaW5nQ29uZmlnKSwgdGhpcy5kZXRhY2hDYWNoZWRHcmFtbWFyKCkpO1xuICAgICAgICBjb25zdCBoYXNSZXNpemUgPSB0aGlzLl9yZXNpemVSZW5kZXJlcigpLCBoYXNVcGRhdGUgPSB0aGlzLl9kYXRhZmxvdy5oYXNDb21taXR0ZWQoKTtcbiAgICAgICAgcmV0dXJuIGdyYW1tYXJXaWxsRGV0YWNoIHx8IGhhc1VwZGF0ZSB8fCB0aGlzLl9sYXlvdXRTdGF0ZSB8fCBoYXNSZXNpemUgPyAodGhpcy5jbGVhclByb2dyZXNzaXZlKCksIFxuICAgICAgICB0aGlzLl9kYXRhZmxvdy5ldmFsdWF0ZSgpLCB0aGlzLl9uZWVkQnVpbGRMYXlvdXRUcmVlICYmICh0aGlzLmJ1aWxkTGF5b3V0VHJlZSgpLCBcbiAgICAgICAgdGhpcy5fbmVlZEJ1aWxkTGF5b3V0VHJlZSA9ICExKSwgdGhpcy5fbGF5b3V0U3RhdGUgJiYgKHRoaXMuX2xheW91dFN0YXRlID0gTGF5b3V0U3RhdGUubGF5b3V0aW5nLCBcbiAgICAgICAgdGhpcy5kb0xheW91dCgpLCB0aGlzLl9kYXRhZmxvdy5oYXNDb21taXR0ZWQoKSAmJiAodGhpcy5fbGF5b3V0U3RhdGUgPSBMYXlvdXRTdGF0ZS5yZWV2YWx1YXRlLCBcbiAgICAgICAgdGhpcy5fZGF0YWZsb3cuZXZhbHVhdGUoKSksIHRoaXMuX2xheW91dFN0YXRlID0gTGF5b3V0U3RhdGUuYWZ0ZXIsIChudWxsID09PSAoX2EgPSB0aGlzLl9sYXlvdXRNYXJrcykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgJiYgdGhpcy5oYW5kbGVMYXlvdXRFbmQoKSksIFxuICAgICAgICB0aGlzLl9sYXlvdXRTdGF0ZSA9IG51bGwsIHRoaXMuZmluZFByb2dyZXNzaXZlTWFya3MoKSwgdGhpcy5fcmVzaXplUmVuZGVyZXIoKSwgbnVsbCA9PT0gKF9jID0gdGhpcy5tb3JwaCkgfHwgdm9pZCAwID09PSBfYyB8fCBfYy5jYWxsKHRoaXMsIG5vcm1hbGl6ZWRSdW5uaW5nQ29uZmlnKSwgXG4gICAgICAgIHRoaXMucmVsZWFzZUNhY2hlZEdyYW1tYXJzKG5vcm1hbGl6ZWRSdW5uaW5nQ29uZmlnKSwgdGhpcy5kb1JlbmRlcighMCksIHRoaXMuZG9QcmVQcm9ncmVzc2l2ZSgpLCBcbiAgICAgICAgdGhpcykgOiB0aGlzO1xuICAgIH1cbiAgICByZXVzZUNhY2hlZEdyYW1tYXJzKHJ1bm5pbmdDb25maWcpIHtcbiAgICAgICAgaWYgKHJ1bm5pbmdDb25maWcucmV1c2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJldXNlRGlmZlVwZGF0ZSA9IGRpZmYgPT4ge1xuICAgICAgICAgICAgICAgIGRpZmYubmV4dC5yZXVzZShkaWZmLnByZXYpLCBkaWZmLnByZXYuZGV0YWNoQWxsKCksIGRpZmYucHJldi5jbGVhcigpLCB0aGlzLl9jYWNoZWRHcmFtbWFycy51bnJlY29yZChkaWZmLnByZXYpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2RpZmZlci5kaWZmR3JhbW1hcih0aGlzLl9jYWNoZWRHcmFtbWFycy5nZXRBbGxTaWduYWxzKCksIHRoaXMuZ3JhbW1hcnMuZ2V0QWxsU2lnbmFscygpLmZpbHRlcigoc2lnbmFsID0+ICFCdWlsdEluU2lnbmFsSUQuaW5jbHVkZXMoc2lnbmFsLmlkKCkpKSkpLnVwZGF0ZS5mb3JFYWNoKHJldXNlRGlmZlVwZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLl9kaWZmZXIuZGlmZkdyYW1tYXIodGhpcy5fY2FjaGVkR3JhbW1hcnMuZ2V0QWxsRGF0YSgpLCB0aGlzLmdyYW1tYXJzLmdldEFsbERhdGEoKSkudXBkYXRlLmZvckVhY2gocmV1c2VEaWZmVXBkYXRlKTtcbiAgICAgICAgICAgIHRoaXMuX2RpZmZlci5kaWZmR3JhbW1hcih0aGlzLl9jYWNoZWRHcmFtbWFycy5nZXRBbGxTY2FsZXMoKSwgdGhpcy5ncmFtbWFycy5nZXRBbGxTY2FsZXMoKSkudXBkYXRlLmZvckVhY2gocmV1c2VEaWZmVXBkYXRlKTtcbiAgICAgICAgICAgIHRoaXMuX2RpZmZlci5kaWZmR3JhbW1hcih0aGlzLl9jYWNoZWRHcmFtbWFycy5nZXRBbGxDb29yZGluYXRlcygpLCB0aGlzLmdyYW1tYXJzLmdldEFsbENvb3JkaW5hdGVzKCkpLnVwZGF0ZS5mb3JFYWNoKHJldXNlRGlmZlVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGlmZmVyLmRpZmZNYXJrKHRoaXMuX2NhY2hlZEdyYW1tYXJzLmdldEFsbE1hcmtzKCksIHRoaXMuZ3JhbW1hcnMuZ2V0QWxsTWFya3MoKS5maWx0ZXIoKG1hcmsgPT4gXCJyb290XCIgIT09IG1hcmsuaWQoKSkpLCBydW5uaW5nQ29uZmlnKS51cGRhdGUuZm9yRWFjaCgoZGlmZiA9PiB7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkID0gMSA9PT0gZGlmZi5wcmV2Lmxlbmd0aCAmJiAxID09PSBkaWZmLm5leHQubGVuZ3RoICYmIGRpZmYucHJldlswXS5tYXJrVHlwZSA9PT0gZGlmZi5uZXh0WzBdLm1hcmtUeXBlLCBlbmFibGVNYXJrTW9ycGhDb25maWcgPSBkaWZmLnByZXYuZXZlcnkoKG1hcmsgPT4gbWFyay5nZXRNb3JwaENvbmZpZygpLm1vcnBoKSkgJiYgZGlmZi5uZXh0LmV2ZXJ5KChtYXJrID0+IG1hcmsuZ2V0TW9ycGhDb25maWcoKS5tb3JwaCkpO1xuICAgICAgICAgICAgdGhpcy5tb3JwaCAmJiAocnVubmluZ0NvbmZpZy5tb3JwaCAmJiBlbmFibGVNYXJrTW9ycGhDb25maWcgfHwgcnVubmluZ0NvbmZpZy5tb3JwaEFsbCkgPyBudWxsID09PSAoX2IgPSB0aGlzLmFkZE1vcnBoTWFya3MpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgcHJldjogZGlmZi5wcmV2LFxuICAgICAgICAgICAgICAgIG5leHQ6IGRpZmYubmV4dFxuICAgICAgICAgICAgfSkgOiBtYXRjaGVkICYmIHJ1bm5pbmdDb25maWcucmV1c2UgJiYgKGRpZmYubmV4dFswXS5yZXVzZShkaWZmLnByZXZbMF0pLCBkaWZmLnByZXZbMF0uZGV0YWNoQWxsKCksIFxuICAgICAgICAgICAgZGlmZi5wcmV2WzBdLmNsZWFyKCksIHRoaXMuX2NhY2hlZEdyYW1tYXJzLnVucmVjb3JkKGRpZmYucHJldlswXSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGRldGFjaENhY2hlZEdyYW1tYXIoKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZEdyYW1tYXJzLnRyYXZlcnNlKChncmFtbWFyID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBpZiAoZ3JhbW1hci5kZXRhY2hBbGwoKSwgXCJtYXJrXCIgPT09IGdyYW1tYXIuZ3JhbW1hclR5cGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJrID0gZ3JhbW1hcjtcbiAgICAgICAgICAgICAgICBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSBtYXJrLmdyb3VwKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EucmVtb3ZlQ2hpbGQpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSwgbWFyayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVsZWFzZUNhY2hlZEdyYW1tYXJzKHJ1bm5pbmdDb25maWcpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkR3JhbW1hcnMudHJhdmVyc2UoKGdyYW1tYXIgPT4ge1xuICAgICAgICAgICAgXCJtYXJrXCIgIT09IGdyYW1tYXIuZ3JhbW1hclR5cGUgJiYgZ3JhbW1hci5yZWxlYXNlKCk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgbWFya05vZGVzID0gdGhpcy5fY2FjaGVkR3JhbW1hcnMuZ2V0QWxsTWFya05vZGVzKCk7XG4gICAgICAgIG1hcmtOb2Rlcy5mb3JFYWNoKChub2RlID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIG51bGwgPT09IChfYSA9IG5vZGUubWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLnN0b3AoKSwgcnVubmluZ0NvbmZpZy5lbmFibGVFeGl0QW5pbWF0aW9uICYmIHRoaXMuYW5pbWF0ZSAmJiB0aGlzLmFuaW1hdGUuYW5pbWF0ZUFkZGl0aW9uKG5vZGUubWFyayk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgcmVsZWFzZVVwID0gbm9kZSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZS5tYXJrLnZpZXcgJiYgKCFub2RlLm1hcmsuYW5pbWF0ZSB8fCAwID09PSBub2RlLm1hcmsuYW5pbWF0ZS5nZXRBbmltYXRvckNvdW50KCkpICYmICghbm9kZS5jaGlsZHJlbiB8fCAwID09PSBub2RlLmNoaWxkcmVuLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBub2RlLm1hcmsucmVsZWFzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50O1xuICAgICAgICAgICAgICAgIHBhcmVudCAmJiAobm9kZS5wYXJlbnQuY2hpbGRyZW4gPSBub2RlLnBhcmVudC5jaGlsZHJlbi5maWx0ZXIoKG4gPT4gbiAhPT0gbm9kZSkpLCBcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudCA9IG51bGwsIHJlbGVhc2VVcChwYXJlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbWFya05vZGVzLmZvckVhY2goKG5vZGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFyayA9IG5vZGUubWFyaztcbiAgICAgICAgICAgIG1hcmsuYW5pbWF0ZSAmJiAwICE9PSBtYXJrLmFuaW1hdGUuZ2V0QW5pbWF0b3JDb3VudCgpID8gbWFyay5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uRW5kXCIsICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbWFyay5hbmltYXRlICYmIDAgPT09IG1hcmsuYW5pbWF0ZS5nZXRBbmltYXRvckNvdW50KCkgJiYgcmVsZWFzZVVwKG5vZGUpO1xuICAgICAgICAgICAgfSkpIDogcmVsZWFzZVVwKG5vZGUpO1xuICAgICAgICB9KSksIHRoaXMuX2NhY2hlZEdyYW1tYXJzLmNsZWFyKCk7XG4gICAgfVxuICAgIHJ1bkFmdGVyKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhZmxvdy5ydW5BZnRlcigoKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChudWxsLCB0aGlzKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBydW5CZWZvcmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFmbG93LnJ1bkJlZm9yZSgoKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChudWxsLCB0aGlzKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBnZXRJbWFnZUJ1ZmZlcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKFwibm9kZVwiICE9PSB0aGlzLl9vcHRpb25zLm1vZGUpIHJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmVycm9yKG5ldyBUeXBlRXJyb3IoXCJnZXRJbWFnZUJ1ZmZlcigpIG5vdyBvbmx5IHN1cHBvcnQgbm9kZSBlbnZpcm9ubWVudC5cIikpO1xuICAgICAgICBjb25zdCBzdGFnZSA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IHRoaXMucmVuZGVyZXIpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zdGFnZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICBpZiAoc3RhZ2UpIHtcbiAgICAgICAgICAgIHN0YWdlLnJlbmRlcigpO1xuICAgICAgICAgICAgcmV0dXJuIHN0YWdlLndpbmRvdy5nZXRJbWFnZUJ1ZmZlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihuZXcgUmVmZXJlbmNlRXJyb3IoXCJyZW5kZXIgaXMgbm90IGRlZmluZWRcIikpLCBudWxsO1xuICAgIH1cbiAgICB0cmF2ZXJzZU1hcmtUcmVlKGFwcGx5LCBmaWx0ZXIsIGxlYWZGaXJzdCkge1xuICAgICAgICByZXR1cm4gdHJhdmVyc2VNYXJrVHJlZSh0aGlzLnJvb3RNYXJrLCBcImNoaWxkcmVuXCIsIGFwcGx5LCBmaWx0ZXIsIGxlYWZGaXJzdCksIHRoaXM7XG4gICAgfVxuICAgIF9iaW5kUmVzaXplRXZlbnQoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBpZiAodGhpcy5hdXRvRml0KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG51bGwgPT09IChfZSA9IG51bGwgPT09IChfZCA9IG51bGwgPT09IChfYyA9IG51bGwgPT09IChfYiA9IG51bGwgPT09IChfYSA9IHRoaXMucmVuZGVyZXIpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5zdGFnZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2Mud2luZG93KSB8fCB2b2lkIDAgPT09IF9kID8gdm9pZCAwIDogX2QuZ2V0Q29udGFpbmVyKSB8fCB2b2lkIDAgPT09IF9lID8gdm9pZCAwIDogX2UuY2FsbChfZCk7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgUmVzaXplT2JzZXJ2ZXJXaW5kb3cgPSB3aW5kb3cuUmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXJXaW5kb3codGhpcy5fb25SZXNpemUpLCBudWxsID09PSAoX2YgPSB0aGlzLl9vYnNlcnZlcikgfHwgdm9pZCAwID09PSBfZiB8fCBfZi5vYnNlcnZlKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLl9vblJlc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3VuQmluZFJlc2l6ZUV2ZW50KCkge1xuICAgICAgICB0aGlzLmF1dG9GaXQoKSAmJiAod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5fb25SZXNpemUpLCB0aGlzLl9vYnNlcnZlciAmJiAodGhpcy5fb2JzZXJ2ZXIuZGlzY29ubmVjdCgpLCBcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXIgPSBudWxsKSk7XG4gICAgfVxuICAgIF9nZXRDb250YWluZXJTaXplKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBudWxsID09PSAoX2UgPSBudWxsID09PSAoX2QgPSBudWxsID09PSAoX2MgPSBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSB0aGlzLnJlbmRlcmVyKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc3RhZ2UpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLndpbmRvdykgfHwgdm9pZCAwID09PSBfZCA/IHZvaWQgMCA6IF9kLmdldENvbnRhaW5lcikgfHwgdm9pZCAwID09PSBfZSA/IHZvaWQgMCA6IF9lLmNhbGwoX2QpO1xuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCB7d2lkdGg6IGNvbnRhaW5lcldpZHRoLCBoZWlnaHQ6IGNvbnRhaW5lckhlaWdodH0gPSBnZXRDb250YWluZXJTaXplKGNvbnRhaW5lcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBudWxsICE9PSAoX2ggPSBudWxsICE9PSAoX2cgPSBudWxsID09PSAoX2YgPSB0aGlzLl9zcGVjKSB8fCB2b2lkIDAgPT09IF9mID8gdm9pZCAwIDogX2Yud2lkdGgpICYmIHZvaWQgMCAhPT0gX2cgPyBfZyA6IHRoaXMuX29wdGlvbnMud2lkdGgpICYmIHZvaWQgMCAhPT0gX2ggPyBfaCA6IGNvbnRhaW5lcldpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogbnVsbCAhPT0gKF9sID0gbnVsbCAhPT0gKF9rID0gbnVsbCA9PT0gKF9qID0gdGhpcy5fc3BlYykgfHwgdm9pZCAwID09PSBfaiA/IHZvaWQgMCA6IF9qLmhlaWdodCkgJiYgdm9pZCAwICE9PSBfayA/IF9rIDogdGhpcy5fb3B0aW9ucy5oZWlnaHQpICYmIHZvaWQgMCAhPT0gX2wgPyBfbCA6IGNvbnRhaW5lckhlaWdodFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlbmRlciA9ICEwKSB7XG4gICAgICAgIGxldCBuZWVkRGF0YWZsb3cgPSAhMTtcbiAgICAgICAgcmV0dXJuIHdpZHRoICE9PSB0aGlzLndpZHRoKCkgJiYgKG5lZWREYXRhZmxvdyA9ICEwLCB0aGlzLnVwZGF0ZVNpZ25hbChTSUdOQUxfV0lEVEgsIHdpZHRoKSksIFxuICAgICAgICBoZWlnaHQgIT09IHRoaXMuaGVpZ2h0KCkgJiYgKG5lZWREYXRhZmxvdyA9ICEwLCB0aGlzLnVwZGF0ZVNpZ25hbChTSUdOQUxfSEVJR0hULCBoZWlnaHQpKSwgXG4gICAgICAgIG5lZWREYXRhZmxvdyAmJiAocmVuZGVyID8gdGhpcy5ldmFsdWF0ZSh7XG4gICAgICAgICAgICBtb3JwaDogITFcbiAgICAgICAgfSkgOiB0aGlzLl9kYXRhZmxvdy5ldmFsdWF0ZSgpKSwgdGhpcztcbiAgICB9XG4gICAgX3Jlc2l6ZVJlbmRlcmVyKCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMud2lkdGgoKSwgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKTtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5yZW5kZXJlci5zaG91bGRSZXNpemUod2lkdGgsIGhlaWdodCkgJiYgKHRoaXMucmVuZGVyZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpLCBcbiAgICAgICAgdGhpcy5lbWl0KFwicmVzaXplXCIsIHt9LCB7XG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9KSwgITApO1xuICAgIH1cbiAgICBpbnRlcmFjdGlvbih0eXBlLCBzcGVjKSB7XG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uID0gRmFjdG9yeS5jcmVhdGVJbnRlcmFjdGlvbih0eXBlLCB0aGlzLCBzcGVjKTtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uICYmIChpbnRlcmFjdGlvbi5iaW5kKCksIHRoaXMuX2JvdW5kSW50ZXJhY3Rpb25zIHx8ICh0aGlzLl9ib3VuZEludGVyYWN0aW9ucyA9IFtdKSwgXG4gICAgICAgIHRoaXMuX2JvdW5kSW50ZXJhY3Rpb25zLnB1c2goaW50ZXJhY3Rpb24pKSwgaW50ZXJhY3Rpb247XG4gICAgfVxuICAgIHJlbW92ZUludGVyYWN0aW9uKHR5cGUsIGlkKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib3VuZEludGVyYWN0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VzID0gdGhpcy5fYm91bmRJbnRlcmFjdGlvbnMuZmlsdGVyKChpbnRlcmFjdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc05pbChpZCkgPyBpc1N0cmluZyh0eXBlKSA/IGludGVyYWN0aW9uLnR5cGUgPT09IHR5cGUgOiB0eXBlID8gaW50ZXJhY3Rpb24gPT09IHR5cGUgOiB2b2lkIDAgOiAobnVsbCA9PT0gKF9hID0gaW50ZXJhY3Rpb24ub3B0aW9ucykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmlkKSA9PT0gaWQ7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpbnN0YW5jZXMubGVuZ3RoICYmIGluc3RhbmNlcy5mb3JFYWNoKChpbnN0YW5jZSA9PiB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UudW5iaW5kKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlbW92ZUFsbEludGVyYWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kSW50ZXJhY3Rpb25zICYmICh0aGlzLl9ib3VuZEludGVyYWN0aW9ucy5mb3JFYWNoKChpbnN0YW5jZSA9PiB7XG4gICAgICAgICAgICBpbnN0YW5jZS51bmJpbmQoKTtcbiAgICAgICAgfSkpLCB0aGlzLl9ib3VuZEludGVyYWN0aW9ucyA9IG51bGwpLCB0aGlzO1xuICAgIH1cbiAgICBpbml0aWFsaXplRXZlbnRDb25maWcoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50c0NvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgZGVmYXVsdHM6IHt9XG4gICAgICAgIH0sIGNvbmZpZyksIHVucGFjayA9IChvYmosIGtleXMpID0+IHtcbiAgICAgICAgICAgIGtleXMuZm9yRWFjaCgoayA9PiB7XG4gICAgICAgICAgICAgICAgaXNBcnJheShvYmpba10pICYmIChvYmpba10gPSBvYmpba10ucmVkdWNlKCgoc2V0LCBrZXkpID0+IChzZXRba2V5XSA9ICEwLCBzZXQpKSwge30pKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHVucGFjayhldmVudHNDb25maWcuZGVmYXVsdHMsIFsgXCJwcmV2ZW50XCIsIFwiYWxsb3dcIiBdKSwgdW5wYWNrKGV2ZW50c0NvbmZpZywgWyBFVkVOVF9TT1VSQ0VfVklFVywgRVZFTlRfU09VUkNFX1dJTkRPVyBdKSwgXG4gICAgICAgIGV2ZW50c0NvbmZpZztcbiAgICB9XG4gICAgaW5pdEV2ZW50KCkge1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMucmVuZGVyZXIuc3RhZ2UoKTtcbiAgICAgICAgc3RhZ2UgJiYgc3RhZ2Uub24oXCIqXCIsIHRoaXMuZGVsZWdhdGVFdmVudCk7XG4gICAgfVxuICAgIHJlbGVhc2VTdGFnZUV2ZW50KCkge1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMucmVuZGVyZXIuc3RhZ2UoKTtcbiAgICAgICAgc3RhZ2UgJiYgc3RhZ2Uub2ZmKFwiKlwiLCB0aGlzLmRlbGVnYXRlRXZlbnQpO1xuICAgIH1cbiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGNhbGxiYWNrID0gaGFuZGxlcjtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMgJiYgITEgPT09IG9wdGlvbnMudHJhcCB8fCAoY2FsbGJhY2sgPSBoYW5kbGVyLCBjYWxsYmFjay5yYXcgPSBoYW5kbGVyKSwgXG4gICAgICAgIG9wdGlvbnMgJiYgb3B0aW9ucy50YXJnZXQgJiYgKGNhbGxiYWNrLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0KSwgdGhpcy5vbih0eXBlLCBjYWxsYmFjayksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIgPyB0aGlzLm9mZih0eXBlLCBoYW5kbGVyKSA6IHRoaXMub2ZmKHR5cGUpLCB0aGlzO1xuICAgIH1cbiAgICBpbml0aWFsaXplUmVuZGVyZXIoKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fb3B0aW9ucy53aWR0aCwgaGVpZ2h0ID0gdGhpcy5fb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgQ2FudmFzUmVuZGVyZXIodGhpcyksIHRoaXMucmVuZGVyZXIuaW5pdGlhbGl6ZSh3aWR0aCwgaGVpZ2h0LCB0aGlzLl9vcHRpb25zLCB0aGlzLl9ldmVudENvbmZpZykuYmFja2dyb3VuZCh0aGlzLl9iYWNrZ3JvdW5kKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYztcbiAgICAgICAgdGhpcy5ncmFtbWFycyA9IG5ldyBSZWNvcmRlZEdyYW1tYXJzKChncmFtbWFyID0+IGdyYW1tYXIuaWQoKSksICgoa2V5LCBncmFtbWFyKSA9PiB0aGlzLmxvZ2dlci53YXJuKGBHcmFtbWFyIGlkICcke2tleX0nIGhhcyBiZWVuIG9jY3VwaWVkYCwgZ3JhbW1hcikpKSwgXG4gICAgICAgIHRoaXMuX2NhY2hlZEdyYW1tYXJzID0gbmV3IFJlY29yZGVkVHJlZUdyYW1tYXJzKChncmFtbWFyID0+IGdyYW1tYXIuaWQoKSkpLCB0aGlzLl9vcHRpb25zLmxvZ2dlciAmJiBMb2dnZXIuc2V0SW5zdGFuY2UodGhpcy5fb3B0aW9ucy5sb2dnZXIpLCBcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0SW5zdGFuY2UobnVsbCAhPT0gKF9hID0gdGhpcy5fb3B0aW9ucy5sb2dMZXZlbCkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogMCksIFxuICAgICAgICB0aGlzLl9kYXRhZmxvdyA9IG5ldyBEYXRhZmxvdywgdGhpcy5hbmltYXRlID0gbnVsbCA9PT0gKF9jID0gdGhpcy5pbml0QW5pbWF0ZSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmNhbGwodGhpcywgdGhpcyksIFxuICAgICAgICB0aGlzLl9kaWZmZXIgPSBuZXcgVmlld0RpZmYsIHRoaXMuX29wdGlvbnMuaG9va3MgJiYgKE9iamVjdC5rZXlzKHRoaXMuX29wdGlvbnMuaG9va3MpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uKGtleSwgdGhpcy5fb3B0aW9ucy5ob29rc1trZXldKTtcbiAgICAgICAgfSkpLCB0aGlzLmhvb2tzID0gdGhpcy5fb3B0aW9ucy5ob29rcyksIHRoaXMuY29udGFpbmVyID0gbnVsbCwgdGhpcy5yZW5kZXJlciA9IG51bGwsIFxuICAgICAgICB0aGlzLl9ldmVudExpc3RlbmVycyA9IFtdLCB0aGlzLl9ldmVudENvbmZpZyA9IHRoaXMuaW5pdGlhbGl6ZUV2ZW50Q29uZmlnKHRoaXMuX29wdGlvbnMuZXZlbnRDb25maWcpLCBcbiAgICAgICAgdGhpcy5fdGhlbWUgPSB0aGlzLl9vcHRpb25zLmRpc2FibGVUaGVtZSA/IG51bGwgOiBUaGVtZU1hbmFnZXIuZ2V0RGVmYXVsdFRoZW1lKCksIFxuICAgICAgICB0aGlzLnBhcnNlQnVpbHRJbigpLCBjb25maWd1cmVFbnZpcm9ubWVudCh0aGlzLl9vcHRpb25zKSwgdGhpcy5pbml0aWFsaXplUmVuZGVyZXIoKSwgXG4gICAgICAgIHRoaXMuX2V2ZW50Q29uZmlnLmRpc2FibGUgfHwgdGhpcy5pbml0RXZlbnQoKSwgdGhpcy5fYmluZFJlc2l6ZUV2ZW50KCksIHRoaXMuX25lZWRCdWlsZExheW91dFRyZWUgPSAhMCwgXG4gICAgICAgIHRoaXMuX2xheW91dFN0YXRlID0gTGF5b3V0U3RhdGUuYmVmb3JlLCB0aGlzLnRoZW1lKHRoaXMuX3RoZW1lKTtcbiAgICB9XG4gICAgcGF1c2VQcm9ncmVzc2l2ZSgpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICByZXN1bWVQcm9ncmVzc2l2ZSgpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICByZXN0YXJ0UHJvZ3Jlc3NpdmUoKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZmluZFByb2dyZXNzaXZlTWFya3MoKSB7XG4gICAgICAgIGNvbnN0IG1hcmtzID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgbWFya3MucHVzaChtYXJrKTtcbiAgICAgICAgfSksIChtYXJrID0+IG1hcmsubWFya1R5cGUgIT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCAmJiBtYXJrLmlzUHJvZ3Jlc3NpdmUoKSkpLCBcbiAgICAgICAgbWFya3MubGVuZ3RoID8gKHRoaXMuX3Byb2dyZXNzaXZlTWFya3MgPSBtYXJrcywgdGhpcy5yZW5kZXJlciAmJiB0aGlzLnJlbmRlcmVyLmNvbWJpbmVJbmNyZW1lbnRhbExheWVycygpLCBcbiAgICAgICAgbWFya3MpIDogKHRoaXMuX3Byb2dyZXNzaXZlTWFya3MgPSBudWxsLCBudWxsKTtcbiAgICB9XG4gICAgZG9QcmVQcm9ncmVzc2l2ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzaXZlTWFya3MgJiYgdGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcy5zb21lKChtYXJrID0+IG1hcmsuaXNEb2luZ1Byb2dyZXNzaXZlKCkpKSkge1xuICAgICAgICAgICAgY29uc3QgcmFmID0gdmdsb2JhbC5nZXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzaXZlUmFmSWQgPSByYWYodGhpcy5oYW5kbGVQcm9ncmVzc2l2ZUZyYW1lKTtcbiAgICAgICAgfSBlbHNlIHRoaXMuX3Byb2dyZXNzaXZlTWFya3MgJiYgdGhpcy5hbmltYXRlICYmIHRoaXMuX3Byb2dyZXNzaXZlTWFya3MuZXZlcnkoKG1hcmsgPT4gbWFyay5jYW5BbmltYXRlQWZ0ZXJQcm9ncmVzc2l2ZSgpKSkgPyB0aGlzLmFuaW1hdGUuYW5pbWF0ZSgpIDogdGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcyAmJiAodGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcyA9IG51bGwpO1xuICAgIH1cbiAgICBjbGVhclByb2dyZXNzaXZlKCkge1xuICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NpdmVSYWZJZCkge1xuICAgICAgICAgICAgdmdsb2JhbC5nZXRDYW5jZWxBbmltYXRpb25GcmFtZSgpKHRoaXMuX3Byb2dyZXNzaXZlUmFmSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzaXZlTWFya3MgJiYgdGhpcy5fcHJvZ3Jlc3NpdmVNYXJrcy5sZW5ndGggJiYgKHRoaXMuX3Byb2dyZXNzaXZlTWFya3MuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICAgICAgZW50cnkuY2xlYXJQcm9ncmVzc2l2ZSgpO1xuICAgICAgICB9KSksIHRoaXMuX3Byb2dyZXNzaXZlTWFya3MgPSBudWxsKTtcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbEludGVyYWN0aW9ucygpLCB0aGlzLnJlbGVhc2VTdGFnZUV2ZW50KCksIHRoaXMuX3VuQmluZFJlc2l6ZUV2ZW50KCksIFxuICAgICAgICB0aGlzLmNsZWFyUHJvZ3Jlc3NpdmUoKSwgRmFjdG9yeS51bnJlZ2lzdGVyUnVudGltZVRyYW5zZm9ybXMoKSwgTG9nZ2VyLnNldEluc3RhbmNlKG51bGwpLCBcbiAgICAgICAgbnVsbCA9PT0gKF9hID0gdGhpcy5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLnN0b3AoKSwgdGhpcy5ncmFtbWFycy5yZWxlYXNlKCksIFxuICAgICAgICB0aGlzLl9jYWNoZWRHcmFtbWFycy5yZWxlYXNlKCksIHRoaXMuX2RhdGFmbG93LnJlbGVhc2UoKSwgdGhpcy5fZGF0YWZsb3cgPSBudWxsLCBcbiAgICAgICAgbnVsbCA9PT0gKF9jID0gbnVsbCA9PT0gKF9iID0gdGhpcy5yZW5kZXJlcikgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLnJlbGVhc2UpIHx8IHZvaWQgMCA9PT0gX2MgfHwgX2MuY2FsbChfYiksIFxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbCwgdGhpcy5fYm91bmRJbnRlcmFjdGlvbnMgPSBudWxsLCB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLCBcbiAgICAgICAgbnVsbCA9PT0gKF9kID0gdGhpcy5fZXZlbnRMaXN0ZW5lcnMpIHx8IHZvaWQgMCA9PT0gX2QgfHwgX2QuZm9yRWFjaCgobGlzdGVuZXIgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXIudHlwZSwgbGlzdGVuZXIuaGFuZGxlcik7XG4gICAgICAgIH0pKSwgdGhpcy5fZXZlbnRMaXN0ZW5lcnMgPSBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXcuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/View.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/animate.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/animate.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewAnimate: () => (/* binding */ ViewAnimate)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\nclass ViewAnimate {\n    constructor(view) {\n        this._animations = [], this._additionalAnimateMarks = [], this.isEnabled = !0, this._onAnimationStart = event => {\n            this._additionalAnimateMarks = this._additionalAnimateMarks.filter((mark => {\n                var _a;\n                return null === (_a = null == mark ? void 0 : mark.animate) || void 0 === _a ? void 0 : _a.isAnimating();\n            })), 0 === this._animations.length && 0 === this._additionalAnimateMarks.length && this._view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ALL_ANIMATION_START, {}), \n            this._animations = this._animations.concat({\n                config: event.animationConfig,\n                mark: event.mark\n            });\n        }, this._onAnimationEnd = event => {\n            this._additionalAnimateMarks = this._additionalAnimateMarks.filter((mark => {\n                var _a;\n                return null === (_a = null == mark ? void 0 : mark.animate) || void 0 === _a ? void 0 : _a.isAnimating();\n            })), this._animations = this._animations.filter((animation => animation.config !== event.animationConfig || animation.mark !== event.mark)), \n            0 === this._animations.length && 0 === this._additionalAnimateMarks.length && this._view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ALL_ANIMATION_END, {});\n        }, this._view = view, this._view.addEventListener(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ANIMATION_START, this._onAnimationStart), \n        this._view.addEventListener(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ANIMATION_END, this._onAnimationEnd);\n    }\n    stop() {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).stop) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks.forEach((mark => {\n            var _a, _b;\n            mark.view && mark.animate && (null === (_b = (_a = mark.animate).stop) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks = [], this;\n    }\n    pause() {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).pause) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks.forEach((mark => {\n            var _a, _b;\n            mark.view && mark.animate && (null === (_b = (_a = mark.animate).pause) || void 0 === _b || _b.call(_a));\n        })), this;\n    }\n    resume() {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).resume) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks.forEach((mark => {\n            var _a, _b;\n            mark.view && mark.animate && (null === (_b = (_a = mark.animate).resume) || void 0 === _b || _b.call(_a));\n        })), this;\n    }\n    enable() {\n        return this.isEnabled = !0, this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).enable) || void 0 === _b || _b.call(_a));\n        })), this;\n    }\n    disable() {\n        return this.isEnabled = !1, this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).disable) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks.forEach((mark => {\n            var _a, _b;\n            mark.view && mark.animate && (null === (_b = (_a = mark.animate).stop) || void 0 === _b || _b.call(_a));\n        })), this._additionalAnimateMarks = [], this;\n    }\n    enableAnimationState(state) {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).enableAnimationState) || void 0 === _b || _b.call(_a, state));\n        })), this;\n    }\n    disableAnimationState(state) {\n        return this._view.traverseMarkTree((mark => {\n            var _a, _b;\n            mark.animate && (null === (_b = (_a = mark.animate).disableAnimationState) || void 0 === _b || _b.call(_a, state));\n        })), this;\n    }\n    isAnimating() {\n        return 0 !== this._animations.length || this._additionalAnimateMarks.some((mark => {\n            var _a;\n            return (null === (_a = null == mark ? void 0 : mark.animate) || void 0 === _a ? void 0 : _a.isAnimating()) || !1;\n        }));\n    }\n    animate() {\n        return this.isEnabled ? (this._view.traverseMarkTree((mark => {\n            mark.isUpdated && mark.animate && mark.animate.animate(), mark.cleanExitElements(), \n            mark.isUpdated = !1;\n        }), null, !0), this) : this;\n    }\n    animateAddition(additionMark) {\n        var _a;\n        const animate = null === (_a = additionMark.animate) || void 0 === _a ? void 0 : _a.animate();\n        return animate && animate.isAnimating() && this._additionalAnimateMarks.push(additionMark), \n        this;\n    }\n    release() {\n        this._additionalAnimateMarks = [], this._animations = [], this._view.removeEventListener(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ALL_ANIMATION_START, this._onAnimationStart), \n        this._view.removeEventListener(_graph_enums__WEBPACK_IMPORTED_MODULE_0__.HOOK_EVENT.ALL_ANIMATION_END, this._onAnimationEnd), \n        this._view = null;\n    }\n}\n//# sourceMappingURL=animate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9hbmltYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDOztBQUVyQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtHQUFrRyxvREFBVSx3QkFBd0I7QUFDako7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMEdBQTBHLG9EQUFVLHNCQUFzQjtBQUMxSSxTQUFTLGlEQUFpRCxvREFBVTtBQUNwRSxvQ0FBb0Msb0RBQVU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLG9EQUFVO0FBQzNHLHVDQUF1QyxvREFBVTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9hbmltYXRlLmpzPzM5N2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSE9PS19FVkVOVCB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5leHBvcnQgY2xhc3MgVmlld0FuaW1hdGUge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0aW9ucyA9IFtdLCB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzID0gW10sIHRoaXMuaXNFbmFibGVkID0gITAsIHRoaXMuX29uQW5pbWF0aW9uU3RhcnQgPSBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzID0gdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcy5maWx0ZXIoKG1hcmsgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9hID0gbnVsbCA9PSBtYXJrID8gdm9pZCAwIDogbWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuaXNBbmltYXRpbmcoKTtcbiAgICAgICAgICAgIH0pKSwgMCA9PT0gdGhpcy5fYW5pbWF0aW9ucy5sZW5ndGggJiYgMCA9PT0gdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcy5sZW5ndGggJiYgdGhpcy5fdmlldy5lbWl0KEhPT0tfRVZFTlQuQUxMX0FOSU1BVElPTl9TVEFSVCwge30pLCBcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbnMgPSB0aGlzLl9hbmltYXRpb25zLmNvbmNhdCh7XG4gICAgICAgICAgICAgICAgY29uZmlnOiBldmVudC5hbmltYXRpb25Db25maWcsXG4gICAgICAgICAgICAgICAgbWFyazogZXZlbnQubWFya1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRoaXMuX29uQW5pbWF0aW9uRW5kID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcyA9IHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3MuZmlsdGVyKChtYXJrID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgPT09IChfYSA9IG51bGwgPT0gbWFyayA/IHZvaWQgMCA6IG1hcmsuYW5pbWF0ZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmlzQW5pbWF0aW5nKCk7XG4gICAgICAgICAgICB9KSksIHRoaXMuX2FuaW1hdGlvbnMgPSB0aGlzLl9hbmltYXRpb25zLmZpbHRlcigoYW5pbWF0aW9uID0+IGFuaW1hdGlvbi5jb25maWcgIT09IGV2ZW50LmFuaW1hdGlvbkNvbmZpZyB8fCBhbmltYXRpb24ubWFyayAhPT0gZXZlbnQubWFyaykpLCBcbiAgICAgICAgICAgIDAgPT09IHRoaXMuX2FuaW1hdGlvbnMubGVuZ3RoICYmIDAgPT09IHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3MubGVuZ3RoICYmIHRoaXMuX3ZpZXcuZW1pdChIT09LX0VWRU5ULkFMTF9BTklNQVRJT05fRU5ELCB7fSk7XG4gICAgICAgIH0sIHRoaXMuX3ZpZXcgPSB2aWV3LCB0aGlzLl92aWV3LmFkZEV2ZW50TGlzdGVuZXIoSE9PS19FVkVOVC5BTklNQVRJT05fU1RBUlQsIHRoaXMuX29uQW5pbWF0aW9uU3RhcnQpLCBcbiAgICAgICAgdGhpcy5fdmlldy5hZGRFdmVudExpc3RlbmVyKEhPT0tfRVZFTlQuQU5JTUFUSU9OX0VORCwgdGhpcy5fb25BbmltYXRpb25FbmQpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlldy50cmF2ZXJzZU1hcmtUcmVlKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBtYXJrLmFuaW1hdGUgJiYgKG51bGwgPT09IChfYiA9IChfYSA9IG1hcmsuYW5pbWF0ZSkuc3RvcCkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hKSk7XG4gICAgICAgIH0pKSwgdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBtYXJrLnZpZXcgJiYgbWFyay5hbmltYXRlICYmIChudWxsID09PSAoX2IgPSAoX2EgPSBtYXJrLmFuaW1hdGUpLnN0b3ApIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSkpO1xuICAgICAgICB9KSksIHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3MgPSBbXSwgdGhpcztcbiAgICB9XG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3LnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIG1hcmsuYW5pbWF0ZSAmJiAobnVsbCA9PT0gKF9iID0gKF9hID0gbWFyay5hbmltYXRlKS5wYXVzZSkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hKSk7XG4gICAgICAgIH0pKSwgdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcy5mb3JFYWNoKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBtYXJrLnZpZXcgJiYgbWFyay5hbmltYXRlICYmIChudWxsID09PSAoX2IgPSAoX2EgPSBtYXJrLmFuaW1hdGUpLnBhdXNlKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EpKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3LnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIG1hcmsuYW5pbWF0ZSAmJiAobnVsbCA9PT0gKF9iID0gKF9hID0gbWFyay5hbmltYXRlKS5yZXN1bWUpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSkpO1xuICAgICAgICB9KSksIHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgbWFyay52aWV3ICYmIG1hcmsuYW5pbWF0ZSAmJiAobnVsbCA9PT0gKF9iID0gKF9hID0gbWFyay5hbmltYXRlKS5yZXN1bWUpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSkpO1xuICAgICAgICB9KSksIHRoaXM7XG4gICAgfVxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFbmFibGVkID0gITAsIHRoaXMuX3ZpZXcudHJhdmVyc2VNYXJrVHJlZSgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgbWFyay5hbmltYXRlICYmIChudWxsID09PSAoX2IgPSAoX2EgPSBtYXJrLmFuaW1hdGUpLmVuYWJsZSkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hKSk7XG4gICAgICAgIH0pKSwgdGhpcztcbiAgICB9XG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFbmFibGVkID0gITEsIHRoaXMuX3ZpZXcudHJhdmVyc2VNYXJrVHJlZSgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgbWFyay5hbmltYXRlICYmIChudWxsID09PSAoX2IgPSAoX2EgPSBtYXJrLmFuaW1hdGUpLmRpc2FibGUpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbChfYSkpO1xuICAgICAgICB9KSksIHRoaXMuX2FkZGl0aW9uYWxBbmltYXRlTWFya3MuZm9yRWFjaCgobWFyayA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgbWFyay52aWV3ICYmIG1hcmsuYW5pbWF0ZSAmJiAobnVsbCA9PT0gKF9iID0gKF9hID0gbWFyay5hbmltYXRlKS5zdG9wKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EpKTtcbiAgICAgICAgfSkpLCB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzID0gW10sIHRoaXM7XG4gICAgfVxuICAgIGVuYWJsZUFuaW1hdGlvblN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3LnRyYXZlcnNlTWFya1RyZWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIG1hcmsuYW5pbWF0ZSAmJiAobnVsbCA9PT0gKF9iID0gKF9hID0gbWFyay5hbmltYXRlKS5lbmFibGVBbmltYXRpb25TdGF0ZSkgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKF9hLCBzdGF0ZSkpO1xuICAgICAgICB9KSksIHRoaXM7XG4gICAgfVxuICAgIGRpc2FibGVBbmltYXRpb25TdGF0ZShzdGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlldy50cmF2ZXJzZU1hcmtUcmVlKChtYXJrID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBtYXJrLmFuaW1hdGUgJiYgKG51bGwgPT09IChfYiA9IChfYSA9IG1hcmsuYW5pbWF0ZSkuZGlzYWJsZUFuaW1hdGlvblN0YXRlKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EsIHN0YXRlKSk7XG4gICAgICAgIH0pKSwgdGhpcztcbiAgICB9XG4gICAgaXNBbmltYXRpbmcoKSB7XG4gICAgICAgIHJldHVybiAwICE9PSB0aGlzLl9hbmltYXRpb25zLmxlbmd0aCB8fCB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzLnNvbWUoKG1hcmsgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIChudWxsID09PSAoX2EgPSBudWxsID09IG1hcmsgPyB2b2lkIDAgOiBtYXJrLmFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5pc0FuaW1hdGluZygpKSB8fCAhMTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhbmltYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQgPyAodGhpcy5fdmlldy50cmF2ZXJzZU1hcmtUcmVlKChtYXJrID0+IHtcbiAgICAgICAgICAgIG1hcmsuaXNVcGRhdGVkICYmIG1hcmsuYW5pbWF0ZSAmJiBtYXJrLmFuaW1hdGUuYW5pbWF0ZSgpLCBtYXJrLmNsZWFuRXhpdEVsZW1lbnRzKCksIFxuICAgICAgICAgICAgbWFyay5pc1VwZGF0ZWQgPSAhMTtcbiAgICAgICAgfSksIG51bGwsICEwKSwgdGhpcykgOiB0aGlzO1xuICAgIH1cbiAgICBhbmltYXRlQWRkaXRpb24oYWRkaXRpb25NYXJrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgYW5pbWF0ZSA9IG51bGwgPT09IChfYSA9IGFkZGl0aW9uTWFyay5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuYW5pbWF0ZSgpO1xuICAgICAgICByZXR1cm4gYW5pbWF0ZSAmJiBhbmltYXRlLmlzQW5pbWF0aW5nKCkgJiYgdGhpcy5fYWRkaXRpb25hbEFuaW1hdGVNYXJrcy5wdXNoKGFkZGl0aW9uTWFyayksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICB0aGlzLl9hZGRpdGlvbmFsQW5pbWF0ZU1hcmtzID0gW10sIHRoaXMuX2FuaW1hdGlvbnMgPSBbXSwgdGhpcy5fdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKEhPT0tfRVZFTlQuQUxMX0FOSU1BVElPTl9TVEFSVCwgdGhpcy5fb25BbmltYXRpb25TdGFydCksIFxuICAgICAgICB0aGlzLl92aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoSE9PS19FVkVOVC5BTExfQU5JTUFUSU9OX0VORCwgdGhpcy5fb25BbmltYXRpb25FbmQpLCBcbiAgICAgICAgdGhpcy5fdmlldyA9IG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/animate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Component: () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n\n\n\n\n\n\n\n\nclass Component extends _mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    constructor(view, componentType, group, mode) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.component, group), this._componentDatum = {\n            [_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey]: 0\n        }, this.componentType = componentType, this.spec.type = \"component\", this.spec.componentType = componentType, \n        this.mode = mode, this._updateComponentEncoders();\n    }\n    configureComponent(config) {\n        return this.spec.componentConfig = config, this.commit(), this;\n    }\n    addGraphicItem(attrs, groupKey, newGraphicItem) {\n        const graphicItem = null != newGraphicItem ? newGraphicItem : _core_factory__WEBPACK_IMPORTED_MODULE_3__.Factory.createGraphicComponent(this.componentType, attrs, {\n            mode: this.mode,\n            skipDefault: this.spec.skipTheme\n        });\n        return graphicItem && (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.BEFORE_ADD_VRENDER_MARK, {\n            graphicItem: graphicItem\n        }), this.graphicParent.appendChild(graphicItem), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.AFTER_ADD_VRENDER_MARK, {\n            graphicItem: graphicItem\n        })), graphicItem;\n    }\n    join(data) {\n        return super.join(data, _graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey);\n    }\n    encodeState(state, channel, value) {\n        return super.encodeState(state, channel, value), this._updateComponentEncoders(), \n        this;\n    }\n    parseRenderContext() {\n        return {\n            large: !1\n        };\n    }\n    _prepareRejoin() {\n        this._componentDatum[_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey] += 1;\n    }\n    evaluateJoin(data) {\n        return this.spec.key = _graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey, data ? (data[_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey] = this._componentDatum[_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey], \n        this._componentDatum = data) : this._componentDatum = {\n            [_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey]: this._componentDatum[_graph_constants__WEBPACK_IMPORTED_MODULE_2__.DefaultKey]\n        }, super.evaluateJoin([ this._componentDatum ]);\n    }\n    _updateComponentEncoders() {\n        this._encoders = this.spec.encode;\n    }\n    _getEncoders() {\n        var _a;\n        return null !== (_a = this._encoders) && void 0 !== _a ? _a : {};\n    }\n}\n//# sourceMappingURL=component.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9jb21wb25lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7O0FBRWE7O0FBRW5COztBQUVaOztBQUV2Qix3QkFBd0IsdUNBQUk7QUFDbkM7QUFDQSxvQkFBb0IseURBQWU7QUFDbkMsYUFBYSx3REFBVTtBQUN2QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLGtEQUFPO0FBQzdFO0FBQ0E7QUFDQSxTQUFTO0FBQ1QseUNBQXlDLG9EQUFVO0FBQ25EO0FBQ0EsU0FBUywwREFBMEQsb0RBQVU7QUFDN0U7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGdDQUFnQyx3REFBVTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFVO0FBQ3ZDO0FBQ0E7QUFDQSwrQkFBK0Isd0RBQVUsZUFBZSx3REFBVSx5QkFBeUIsd0RBQVU7QUFDckc7QUFDQSxhQUFhLHdEQUFVLHdCQUF3Qix3REFBVTtBQUN6RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvY29tcG9uZW50LmpzP2ExZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVmYXVsdEtleSB9IGZyb20gXCIuLi9ncmFwaC9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgR3JhbW1hck1hcmtUeXBlLCBIT09LX0VWRU5UIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmltcG9ydCB7IE1hcmsgfSBmcm9tIFwiLi9tYXJrXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21wb25lbnQgZXh0ZW5kcyBNYXJrIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBjb21wb25lbnRUeXBlLCBncm91cCwgbW9kZSkge1xuICAgICAgICBzdXBlcih2aWV3LCBHcmFtbWFyTWFya1R5cGUuY29tcG9uZW50LCBncm91cCksIHRoaXMuX2NvbXBvbmVudERhdHVtID0ge1xuICAgICAgICAgICAgW0RlZmF1bHRLZXldOiAwXG4gICAgICAgIH0sIHRoaXMuY29tcG9uZW50VHlwZSA9IGNvbXBvbmVudFR5cGUsIHRoaXMuc3BlYy50eXBlID0gXCJjb21wb25lbnRcIiwgdGhpcy5zcGVjLmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnRUeXBlLCBcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZSwgdGhpcy5fdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKTtcbiAgICB9XG4gICAgY29uZmlndXJlQ29tcG9uZW50KGNvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmNvbXBvbmVudENvbmZpZyA9IGNvbmZpZywgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5LCBuZXdHcmFwaGljSXRlbSkge1xuICAgICAgICBjb25zdCBncmFwaGljSXRlbSA9IG51bGwgIT0gbmV3R3JhcGhpY0l0ZW0gPyBuZXdHcmFwaGljSXRlbSA6IEZhY3RvcnkuY3JlYXRlR3JhcGhpY0NvbXBvbmVudCh0aGlzLmNvbXBvbmVudFR5cGUsIGF0dHJzLCB7XG4gICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICBza2lwRGVmYXVsdDogdGhpcy5zcGVjLnNraXBUaGVtZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGdyYXBoaWNJdGVtICYmICh0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfQUREX1ZSRU5ERVJfTUFSSywge1xuICAgICAgICAgICAgZ3JhcGhpY0l0ZW06IGdyYXBoaWNJdGVtXG4gICAgICAgIH0pLCB0aGlzLmdyYXBoaWNQYXJlbnQuYXBwZW5kQ2hpbGQoZ3JhcGhpY0l0ZW0pLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9BRERfVlJFTkRFUl9NQVJLLCB7XG4gICAgICAgICAgICBncmFwaGljSXRlbTogZ3JhcGhpY0l0ZW1cbiAgICAgICAgfSkpLCBncmFwaGljSXRlbTtcbiAgICB9XG4gICAgam9pbihkYXRhKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5qb2luKGRhdGEsIERlZmF1bHRLZXkpO1xuICAgIH1cbiAgICBlbmNvZGVTdGF0ZShzdGF0ZSwgY2hhbm5lbCwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmVuY29kZVN0YXRlKHN0YXRlLCBjaGFubmVsLCB2YWx1ZSksIHRoaXMuX3VwZGF0ZUNvbXBvbmVudEVuY29kZXJzKCksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBwYXJzZVJlbmRlckNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYXJnZTogITFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3ByZXBhcmVSZWpvaW4oKSB7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudERhdHVtW0RlZmF1bHRLZXldICs9IDE7XG4gICAgfVxuICAgIGV2YWx1YXRlSm9pbihkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMua2V5ID0gRGVmYXVsdEtleSwgZGF0YSA/IChkYXRhW0RlZmF1bHRLZXldID0gdGhpcy5fY29tcG9uZW50RGF0dW1bRGVmYXVsdEtleV0sIFxuICAgICAgICB0aGlzLl9jb21wb25lbnREYXR1bSA9IGRhdGEpIDogdGhpcy5fY29tcG9uZW50RGF0dW0gPSB7XG4gICAgICAgICAgICBbRGVmYXVsdEtleV06IHRoaXMuX2NvbXBvbmVudERhdHVtW0RlZmF1bHRLZXldXG4gICAgICAgIH0sIHN1cGVyLmV2YWx1YXRlSm9pbihbIHRoaXMuX2NvbXBvbmVudERhdHVtIF0pO1xuICAgIH1cbiAgICBfdXBkYXRlQ29tcG9uZW50RW5jb2RlcnMoKSB7XG4gICAgICAgIHRoaXMuX2VuY29kZXJzID0gdGhpcy5zcGVjLmVuY29kZTtcbiAgICB9XG4gICAgX2dldEVuY29kZXJzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLl9lbmNvZGVycykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge307XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/component.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BROWSER: () => (/* binding */ BROWSER),\n/* harmony export */   DEFAULT_HOVER_STATE: () => (/* binding */ DEFAULT_HOVER_STATE),\n/* harmony export */   EVENT_SOURCE_VIEW: () => (/* binding */ EVENT_SOURCE_VIEW),\n/* harmony export */   EVENT_SOURCE_WINDOW: () => (/* binding */ EVENT_SOURCE_WINDOW),\n/* harmony export */   ID_PREFIX: () => (/* binding */ ID_PREFIX),\n/* harmony export */   NAME_PREFIX: () => (/* binding */ NAME_PREFIX),\n/* harmony export */   NO_TRAP: () => (/* binding */ NO_TRAP),\n/* harmony export */   SIGNAL_AUTOFIT: () => (/* binding */ SIGNAL_AUTOFIT),\n/* harmony export */   SIGNAL_HEIGHT: () => (/* binding */ SIGNAL_HEIGHT),\n/* harmony export */   SIGNAL_PADDING: () => (/* binding */ SIGNAL_PADDING),\n/* harmony export */   SIGNAL_VIEW_BOX: () => (/* binding */ SIGNAL_VIEW_BOX),\n/* harmony export */   SIGNAL_VIEW_HEIGHT: () => (/* binding */ SIGNAL_VIEW_HEIGHT),\n/* harmony export */   SIGNAL_VIEW_WIDTH: () => (/* binding */ SIGNAL_VIEW_WIDTH),\n/* harmony export */   SIGNAL_WIDTH: () => (/* binding */ SIGNAL_WIDTH)\n/* harmony export */ });\nconst EVENT_SOURCE_WINDOW = \"window\";\n\nconst EVENT_SOURCE_VIEW = \"view\";\n\nconst BROWSER = \"browser\";\n\nconst NO_TRAP = {\n    trap: !1\n};\n\nconst SIGNAL_WIDTH = \"width\";\n\nconst SIGNAL_HEIGHT = \"height\";\n\nconst SIGNAL_VIEW_WIDTH = \"viewWidth\";\n\nconst SIGNAL_VIEW_HEIGHT = \"viewHeight\";\n\nconst SIGNAL_PADDING = \"padding\";\n\nconst SIGNAL_VIEW_BOX = \"viewBox\";\n\nconst SIGNAL_AUTOFIT = \"autoFit\";\n\nconst DEFAULT_HOVER_STATE = \"hover\";\n\nconst NAME_PREFIX = \"@\";\n\nconst ID_PREFIX = \"#\";\n//# sourceMappingURL=constants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTzs7QUFFQTs7QUFFQTs7QUFFQTtBQUNQO0FBQ0E7O0FBRU87O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9jb25zdGFudHMuanM/Y2QyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRVZFTlRfU09VUkNFX1dJTkRPVyA9IFwid2luZG93XCI7XG5cbmV4cG9ydCBjb25zdCBFVkVOVF9TT1VSQ0VfVklFVyA9IFwidmlld1wiO1xuXG5leHBvcnQgY29uc3QgQlJPV1NFUiA9IFwiYnJvd3NlclwiO1xuXG5leHBvcnQgY29uc3QgTk9fVFJBUCA9IHtcbiAgICB0cmFwOiAhMVxufTtcblxuZXhwb3J0IGNvbnN0IFNJR05BTF9XSURUSCA9IFwid2lkdGhcIjtcblxuZXhwb3J0IGNvbnN0IFNJR05BTF9IRUlHSFQgPSBcImhlaWdodFwiO1xuXG5leHBvcnQgY29uc3QgU0lHTkFMX1ZJRVdfV0lEVEggPSBcInZpZXdXaWR0aFwiO1xuXG5leHBvcnQgY29uc3QgU0lHTkFMX1ZJRVdfSEVJR0hUID0gXCJ2aWV3SGVpZ2h0XCI7XG5cbmV4cG9ydCBjb25zdCBTSUdOQUxfUEFERElORyA9IFwicGFkZGluZ1wiO1xuXG5leHBvcnQgY29uc3QgU0lHTkFMX1ZJRVdfQk9YID0gXCJ2aWV3Qm94XCI7XG5cbmV4cG9ydCBjb25zdCBTSUdOQUxfQVVUT0ZJVCA9IFwiYXV0b0ZpdFwiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9IT1ZFUl9TVEFURSA9IFwiaG92ZXJcIjtcblxuZXhwb3J0IGNvbnN0IE5BTUVfUFJFRklYID0gXCJAXCI7XG5cbmV4cG9ydCBjb25zdCBJRF9QUkVGSVggPSBcIiNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/coordinate.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/coordinate.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Coordinate: () => (/* binding */ Coordinate),\n/* harmony export */   registerCoordinate: () => (/* binding */ registerCoordinate)\n/* harmony export */ });\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_coordinate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/coordinate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/coordinate.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\nclass Coordinate extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor(view, coordinateType) {\n        super(view), this.grammarType = \"coordinate\", this.spec = {\n            type: \"cartesian\"\n        }, this.spec.type = coordinateType, this.coordinate = (0,_parse_coordinate__WEBPACK_IMPORTED_MODULE_1__.createCoordinate)(coordinateType);\n    }\n    parse(spec) {\n        return super.parse(spec), this.start(spec.start), this.end(spec.end), this.origin(spec.origin), \n        this.translate(spec.translate), this.rotate(spec.rotate), this.scale(spec.scale), \n        this.transpose(spec.transpose), this.commit(), this;\n    }\n    evaluate(upstream, parameters) {\n        return this.coordinate && this.coordinate.type === this.spec.type || (this.coordinate = (0,_parse_coordinate__WEBPACK_IMPORTED_MODULE_1__.createCoordinate)(this.spec.type)), \n        (0,_parse_coordinate__WEBPACK_IMPORTED_MODULE_1__.configureCoordinate)(this.spec, this.coordinate, parameters), this;\n    }\n    output() {\n        return this.coordinate;\n    }\n    start(start) {\n        return this.setFunctionSpec(start, \"start\");\n    }\n    end(end) {\n        return this.setFunctionSpec(end, \"end\");\n    }\n    origin(origin) {\n        return this.setFunctionSpec(origin, \"origin\");\n    }\n    translate(offset) {\n        return this.setFunctionSpec(offset, \"translate\");\n    }\n    rotate(angle) {\n        return this.setFunctionSpec(angle, \"rotate\");\n    }\n    scale(ratio) {\n        return this.setFunctionSpec(ratio, \"scale\");\n    }\n    transpose(isTransposed) {\n        return this.setFunctionSpec(isTransposed, \"transpose\");\n    }\n    reuse(grammar) {\n        return grammar.grammarType !== this.grammarType || (this.coordinate = grammar.output()), \n        this;\n    }\n    clear() {\n        super.clear(), this.coordinate = null;\n    }\n}\n\nconst registerCoordinate = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerGrammar(\"coordinate\", Coordinate, \"coordinates\");\n};\n//# sourceMappingURL=coordinate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9jb29yZGluYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTZDOztBQUUrQjs7QUFFbEM7O0FBRW5DLHlCQUF5QixzREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQSxTQUFTLHFEQUFxRCxtRUFBZ0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0csbUVBQWdCO0FBQ2hILFFBQVEsc0VBQW1CO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L2Nvb3JkaW5hdGUuanM/ZmNhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHcmFtbWFyQmFzZSB9IGZyb20gXCIuL2dyYW1tYXItYmFzZVwiO1xuXG5pbXBvcnQgeyBjb25maWd1cmVDb29yZGluYXRlLCBjcmVhdGVDb29yZGluYXRlIH0gZnJvbSBcIi4uL3BhcnNlL2Nvb3JkaW5hdGVcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuZXhwb3J0IGNsYXNzIENvb3JkaW5hdGUgZXh0ZW5kcyBHcmFtbWFyQmFzZSB7XG4gICAgY29uc3RydWN0b3IodmlldywgY29vcmRpbmF0ZVR5cGUpIHtcbiAgICAgICAgc3VwZXIodmlldyksIHRoaXMuZ3JhbW1hclR5cGUgPSBcImNvb3JkaW5hdGVcIiwgdGhpcy5zcGVjID0ge1xuICAgICAgICAgICAgdHlwZTogXCJjYXJ0ZXNpYW5cIlxuICAgICAgICB9LCB0aGlzLnNwZWMudHlwZSA9IGNvb3JkaW5hdGVUeXBlLCB0aGlzLmNvb3JkaW5hdGUgPSBjcmVhdGVDb29yZGluYXRlKGNvb3JkaW5hdGVUeXBlKTtcbiAgICB9XG4gICAgcGFyc2Uoc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2Uoc3BlYyksIHRoaXMuc3RhcnQoc3BlYy5zdGFydCksIHRoaXMuZW5kKHNwZWMuZW5kKSwgdGhpcy5vcmlnaW4oc3BlYy5vcmlnaW4pLCBcbiAgICAgICAgdGhpcy50cmFuc2xhdGUoc3BlYy50cmFuc2xhdGUpLCB0aGlzLnJvdGF0ZShzcGVjLnJvdGF0ZSksIHRoaXMuc2NhbGUoc3BlYy5zY2FsZSksIFxuICAgICAgICB0aGlzLnRyYW5zcG9zZShzcGVjLnRyYW5zcG9zZSksIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGV2YWx1YXRlKHVwc3RyZWFtLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGUgJiYgdGhpcy5jb29yZGluYXRlLnR5cGUgPT09IHRoaXMuc3BlYy50eXBlIHx8ICh0aGlzLmNvb3JkaW5hdGUgPSBjcmVhdGVDb29yZGluYXRlKHRoaXMuc3BlYy50eXBlKSksIFxuICAgICAgICBjb25maWd1cmVDb29yZGluYXRlKHRoaXMuc3BlYywgdGhpcy5jb29yZGluYXRlLCBwYXJhbWV0ZXJzKSwgdGhpcztcbiAgICB9XG4gICAgb3V0cHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlO1xuICAgIH1cbiAgICBzdGFydChzdGFydCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMoc3RhcnQsIFwic3RhcnRcIik7XG4gICAgfVxuICAgIGVuZChlbmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKGVuZCwgXCJlbmRcIik7XG4gICAgfVxuICAgIG9yaWdpbihvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKG9yaWdpbiwgXCJvcmlnaW5cIik7XG4gICAgfVxuICAgIHRyYW5zbGF0ZShvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKG9mZnNldCwgXCJ0cmFuc2xhdGVcIik7XG4gICAgfVxuICAgIHJvdGF0ZShhbmdsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMoYW5nbGUsIFwicm90YXRlXCIpO1xuICAgIH1cbiAgICBzY2FsZShyYXRpbykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRGdW5jdGlvblNwZWMocmF0aW8sIFwic2NhbGVcIik7XG4gICAgfVxuICAgIHRyYW5zcG9zZShpc1RyYW5zcG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKGlzVHJhbnNwb3NlZCwgXCJ0cmFuc3Bvc2VcIik7XG4gICAgfVxuICAgIHJldXNlKGdyYW1tYXIpIHtcbiAgICAgICAgcmV0dXJuIGdyYW1tYXIuZ3JhbW1hclR5cGUgIT09IHRoaXMuZ3JhbW1hclR5cGUgfHwgKHRoaXMuY29vcmRpbmF0ZSA9IGdyYW1tYXIub3V0cHV0KCkpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHN1cGVyLmNsZWFyKCksIHRoaXMuY29vcmRpbmF0ZSA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJDb29yZGluYXRlID0gKCkgPT4ge1xuICAgIEZhY3RvcnkucmVnaXN0ZXJHcmFtbWFyKFwiY29vcmRpbmF0ZVwiLCBDb29yZGluYXRlLCBcImNvb3JkaW5hdGVzXCIpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvb3JkaW5hdGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/coordinate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/data.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/data.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Data: () => (/* binding */ Data)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _parse_transform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/transform.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _util_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/data */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/data.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nclass Data extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor(view, values, format) {\n        super(view), this.grammarType = \"data\", this.spec = {}, this._dataIDKey = `VGRAMMAR_DATA_ID_KEY_${this.uid}`, \n        this._loadTasks = [], this._postFilters = [], this.ingest = options => {\n            const format = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.invokeParameterFunctionType)(options.format, this.parameters());\n            return this._input = (0,_util_data__WEBPACK_IMPORTED_MODULE_2__.parseFormat)(options.values, format), this._input;\n        }, this.load = options => {\n            if (options.values) return this.ingest(options);\n        }, this.relay = options => options[0], this._loadTasks = [], (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(values) || this.values(values, format);\n    }\n    parse(spec) {\n        return super.parse(spec), this._isLoaded = !1, this.source(spec.source, spec.format, !1), \n        this.url(spec.url, spec.format, !1), this.values(spec.values, spec.format, !1), \n        this.transform(spec.transform), this.parseLoad(spec), this.commit(), this;\n    }\n    parseDataSource(spec) {\n        const refs = [], transforms = [], formatRef = spec.format ? (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.parseFunctionType)(spec.format, this.view)[0] : null;\n        if (formatRef && refs.push(formatRef), spec.values) {\n            const valuesRef = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.parseFunctionType)(spec.values, this.view)[0];\n            valuesRef && refs.push(valuesRef), transforms.push({\n                type: \"ingest\",\n                transform: this.ingest,\n                isRawOptions: !0,\n                options: {\n                    values: spec.values,\n                    format: spec.format\n                }\n            });\n        } else if (spec.url) {\n            const urlRef = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.parseFunctionType)(spec.url, this.view)[0];\n            urlRef && refs.push(urlRef), transforms.push({\n                type: \"load\",\n                transform: this.load,\n                options: {\n                    url: null != urlRef ? urlRef : spec.url,\n                    format: null != formatRef ? formatRef : spec.format\n                }\n            });\n        } else if (spec.source) {\n            const upstreamData = [];\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(spec.source).forEach((sourceId => {\n                const sourceData = (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.isGrammar)(sourceId) ? sourceId : this.view.getDataById(sourceId);\n                sourceData && (refs.push(sourceData), upstreamData.push(sourceData));\n            })), upstreamData.length && (transforms.push({\n                type: \"relay\",\n                transform: this.relay,\n                options: upstreamData\n            }), this.grammarSource = upstreamData[0]);\n        }\n        return {\n            transforms: transforms,\n            refs: refs\n        };\n    }\n    evaluate(upstream, parameters) {\n        this.view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_5__.HOOK_EVENT.BEFORE_EVALUATE_DATA);\n        const tasks = this._isLoaded ? this.transforms : this._loadTasks.concat(this.transforms);\n        this.grammarSource && (this._input = upstream);\n        const values = this.evaluateTransform(tasks, this._input, parameters), filteredValues = this._evaluateFilter(values, parameters);\n        return this.setValues(filteredValues), this._isLoaded = !0, this.view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_5__.HOOK_EVENT.AFTER_EVALUATE_DATA), \n        this;\n    }\n    output() {\n        return this._values;\n    }\n    getDataIDKey() {\n        return this._dataIDKey;\n    }\n    values(values, format, load = !0) {\n        const spec = Object.assign({}, this.spec, {\n            values: values,\n            format: format\n        });\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(values) || (spec.url = void 0, spec.source = void 0), load ? this.parseLoad(spec) : this;\n    }\n    url(url, format, load = !0) {\n        const spec = Object.assign({}, this.spec, {\n            url: url,\n            format: format\n        });\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(url) || (spec.values = void 0, spec.source = void 0), load ? this.parseLoad(spec) : this;\n    }\n    source(source, format, load = !0) {\n        const spec = Object.assign({}, this.spec, {\n            source: source,\n            format: format\n        });\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(source) || (spec.values = void 0, spec.url = void 0), load ? this.parseLoad(spec) : this;\n    }\n    parseLoad(spec) {\n        this.detach(this.parseDataSource(this.spec).refs), this.spec = spec;\n        const dataSourceResult = this.parseDataSource(this.spec);\n        return this.attach(dataSourceResult.refs), this._loadTasks = dataSourceResult.transforms, \n        this._isLoaded = !1, this.commit(), this;\n    }\n    setValues(data) {\n        this._values = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(data).map(((entry, index) => {\n            const datum = entry === Object(entry) ? entry : {\n                data: entry\n            };\n            return datum[this._dataIDKey] = index, datum;\n        }));\n    }\n    field(field) {\n        return this._values.map((value => value[field]));\n    }\n    transform(transforms) {\n        const prevTransforms = (0,_parse_transform__WEBPACK_IMPORTED_MODULE_6__.parseTransformSpec)(this.spec.transform, this.view);\n        prevTransforms && (this.detach(prevTransforms.refs), this.transforms = []), this.spec.transform = transforms;\n        const nextTransforms = (0,_parse_transform__WEBPACK_IMPORTED_MODULE_6__.parseTransformSpec)(this.spec.transform, this.view);\n        return nextTransforms && (this.attach(nextTransforms.refs), this.transforms = nextTransforms.transforms), \n        this.commit(), this;\n    }\n    getValue() {\n        return this._values;\n    }\n    getInput() {\n        return this._input;\n    }\n    addDataFilter(filter) {\n        return this._postFilters = this._postFilters.concat((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(filter)), this._postFilters.sort(((filterA, filterB) => {\n            var _a, _b;\n            return (null !== (_a = filterA.rank) && void 0 !== _a ? _a : 0) - (null !== (_b = filterB.rank) && void 0 !== _b ? _b : 0);\n        })), this;\n    }\n    removeDataFilter(filter) {\n        const filters = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__.array)(filter);\n        return this._postFilters = this._postFilters.filter((filter => !filters.includes(filter))), \n        this;\n    }\n    _evaluateFilter(value, parameters) {\n        return this._postFilters.reduce(((result, filter) => filter.filter(result, parameters)), value);\n    }\n    reuse(grammar) {\n        return grammar.grammarType !== this.grammarType || (this._isLoaded = !1, this._values = grammar.output()), \n        this;\n    }\n    clear() {\n        super.clear(), this._input = null, this._values = null;\n    }\n}\n//# sourceMappingURL=data.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9kYXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWdEOztBQUVIOztBQUU2Qzs7QUFFbEM7O0FBRVo7O0FBRUQ7O0FBRXBDLG1CQUFtQixzREFBVztBQUNyQztBQUNBLDhEQUE4RCw0Q0FBNEMsU0FBUztBQUNuSDtBQUNBLDJCQUEyQix3RUFBMkI7QUFDdEQsaUNBQWlDLHVEQUFXO0FBQzVDLFNBQVM7QUFDVDtBQUNBLFNBQVMsNERBQTRELDREQUFLO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLDhEQUFpQjtBQUNyRjtBQUNBLDhCQUE4Qiw4REFBaUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1YsMkJBQTJCLDhEQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1Y7QUFDQSxZQUFZLHVEQUFLO0FBQ2pCLG1DQUFtQyxzREFBUztBQUM1QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLG9EQUFVO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1REFBSztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9FQUFrQjtBQUNqRDtBQUNBLCtCQUErQixvRUFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsdURBQUs7QUFDakU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esd0JBQXdCLHVEQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9kYXRhLmpzPzlmMmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXJyYXksIGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgR3JhbW1hckJhc2UgfSBmcm9tIFwiLi9ncmFtbWFyLWJhc2VcIjtcblxuaW1wb3J0IHsgaW52b2tlUGFyYW1ldGVyRnVuY3Rpb25UeXBlLCBpc0dyYW1tYXIsIHBhcnNlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgcGFyc2VUcmFuc2Zvcm1TcGVjIH0gZnJvbSBcIi4uL3BhcnNlL3RyYW5zZm9ybVwiO1xuXG5pbXBvcnQgeyBIT09LX0VWRU5UIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IHBhcnNlRm9ybWF0IH0gZnJvbSBcIi4uL3V0aWwvZGF0YVwiO1xuXG5leHBvcnQgY2xhc3MgRGF0YSBleHRlbmRzIEdyYW1tYXJCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCB2YWx1ZXMsIGZvcm1hdCkge1xuICAgICAgICBzdXBlcih2aWV3KSwgdGhpcy5ncmFtbWFyVHlwZSA9IFwiZGF0YVwiLCB0aGlzLnNwZWMgPSB7fSwgdGhpcy5fZGF0YUlES2V5ID0gYFZHUkFNTUFSX0RBVEFfSURfS0VZXyR7dGhpcy51aWR9YCwgXG4gICAgICAgIHRoaXMuX2xvYWRUYXNrcyA9IFtdLCB0aGlzLl9wb3N0RmlsdGVycyA9IFtdLCB0aGlzLmluZ2VzdCA9IG9wdGlvbnMgPT4ge1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gaW52b2tlUGFyYW1ldGVyRnVuY3Rpb25UeXBlKG9wdGlvbnMuZm9ybWF0LCB0aGlzLnBhcmFtZXRlcnMoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5wdXQgPSBwYXJzZUZvcm1hdChvcHRpb25zLnZhbHVlcywgZm9ybWF0KSwgdGhpcy5faW5wdXQ7XG4gICAgICAgIH0sIHRoaXMubG9hZCA9IG9wdGlvbnMgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudmFsdWVzKSByZXR1cm4gdGhpcy5pbmdlc3Qob3B0aW9ucyk7XG4gICAgICAgIH0sIHRoaXMucmVsYXkgPSBvcHRpb25zID0+IG9wdGlvbnNbMF0sIHRoaXMuX2xvYWRUYXNrcyA9IFtdLCBpc05pbCh2YWx1ZXMpIHx8IHRoaXMudmFsdWVzKHZhbHVlcywgZm9ybWF0KTtcbiAgICB9XG4gICAgcGFyc2Uoc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2Uoc3BlYyksIHRoaXMuX2lzTG9hZGVkID0gITEsIHRoaXMuc291cmNlKHNwZWMuc291cmNlLCBzcGVjLmZvcm1hdCwgITEpLCBcbiAgICAgICAgdGhpcy51cmwoc3BlYy51cmwsIHNwZWMuZm9ybWF0LCAhMSksIHRoaXMudmFsdWVzKHNwZWMudmFsdWVzLCBzcGVjLmZvcm1hdCwgITEpLCBcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0oc3BlYy50cmFuc2Zvcm0pLCB0aGlzLnBhcnNlTG9hZChzcGVjKSwgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgcGFyc2VEYXRhU291cmNlKHNwZWMpIHtcbiAgICAgICAgY29uc3QgcmVmcyA9IFtdLCB0cmFuc2Zvcm1zID0gW10sIGZvcm1hdFJlZiA9IHNwZWMuZm9ybWF0ID8gcGFyc2VGdW5jdGlvblR5cGUoc3BlYy5mb3JtYXQsIHRoaXMudmlldylbMF0gOiBudWxsO1xuICAgICAgICBpZiAoZm9ybWF0UmVmICYmIHJlZnMucHVzaChmb3JtYXRSZWYpLCBzcGVjLnZhbHVlcykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzUmVmID0gcGFyc2VGdW5jdGlvblR5cGUoc3BlYy52YWx1ZXMsIHRoaXMudmlldylbMF07XG4gICAgICAgICAgICB2YWx1ZXNSZWYgJiYgcmVmcy5wdXNoKHZhbHVlc1JlZiksIHRyYW5zZm9ybXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJpbmdlc3RcIixcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMuaW5nZXN0LFxuICAgICAgICAgICAgICAgIGlzUmF3T3B0aW9uczogITAsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHNwZWMudmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHNwZWMuZm9ybWF0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3BlYy51cmwpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybFJlZiA9IHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMudXJsLCB0aGlzLnZpZXcpWzBdO1xuICAgICAgICAgICAgdXJsUmVmICYmIHJlZnMucHVzaCh1cmxSZWYpLCB0cmFuc2Zvcm1zLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwibG9hZFwiLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy5sb2FkLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBudWxsICE9IHVybFJlZiA/IHVybFJlZiA6IHNwZWMudXJsLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IG51bGwgIT0gZm9ybWF0UmVmID8gZm9ybWF0UmVmIDogc3BlYy5mb3JtYXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChzcGVjLnNvdXJjZSkge1xuICAgICAgICAgICAgY29uc3QgdXBzdHJlYW1EYXRhID0gW107XG4gICAgICAgICAgICBhcnJheShzcGVjLnNvdXJjZSkuZm9yRWFjaCgoc291cmNlSWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZURhdGEgPSBpc0dyYW1tYXIoc291cmNlSWQpID8gc291cmNlSWQgOiB0aGlzLnZpZXcuZ2V0RGF0YUJ5SWQoc291cmNlSWQpO1xuICAgICAgICAgICAgICAgIHNvdXJjZURhdGEgJiYgKHJlZnMucHVzaChzb3VyY2VEYXRhKSwgdXBzdHJlYW1EYXRhLnB1c2goc291cmNlRGF0YSkpO1xuICAgICAgICAgICAgfSkpLCB1cHN0cmVhbURhdGEubGVuZ3RoICYmICh0cmFuc2Zvcm1zLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVsYXlcIixcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMucmVsYXksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdXBzdHJlYW1EYXRhXG4gICAgICAgICAgICB9KSwgdGhpcy5ncmFtbWFyU291cmNlID0gdXBzdHJlYW1EYXRhWzBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhbnNmb3JtczogdHJhbnNmb3JtcyxcbiAgICAgICAgICAgIHJlZnM6IHJlZnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZXZhbHVhdGUodXBzdHJlYW0sIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdGhpcy52aWV3LmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfRVZBTFVBVEVfREFUQSk7XG4gICAgICAgIGNvbnN0IHRhc2tzID0gdGhpcy5faXNMb2FkZWQgPyB0aGlzLnRyYW5zZm9ybXMgOiB0aGlzLl9sb2FkVGFza3MuY29uY2F0KHRoaXMudHJhbnNmb3Jtcyk7XG4gICAgICAgIHRoaXMuZ3JhbW1hclNvdXJjZSAmJiAodGhpcy5faW5wdXQgPSB1cHN0cmVhbSk7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuZXZhbHVhdGVUcmFuc2Zvcm0odGFza3MsIHRoaXMuX2lucHV0LCBwYXJhbWV0ZXJzKSwgZmlsdGVyZWRWYWx1ZXMgPSB0aGlzLl9ldmFsdWF0ZUZpbHRlcih2YWx1ZXMsIHBhcmFtZXRlcnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRWYWx1ZXMoZmlsdGVyZWRWYWx1ZXMpLCB0aGlzLl9pc0xvYWRlZCA9ICEwLCB0aGlzLnZpZXcuZW1pdChIT09LX0VWRU5ULkFGVEVSX0VWQUxVQVRFX0RBVEEpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgb3V0cHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzO1xuICAgIH1cbiAgICBnZXREYXRhSURLZXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhSURLZXk7XG4gICAgfVxuICAgIHZhbHVlcyh2YWx1ZXMsIGZvcm1hdCwgbG9hZCA9ICEwKSB7XG4gICAgICAgIGNvbnN0IHNwZWMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNwZWMsIHtcbiAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc05pbCh2YWx1ZXMpIHx8IChzcGVjLnVybCA9IHZvaWQgMCwgc3BlYy5zb3VyY2UgPSB2b2lkIDApLCBsb2FkID8gdGhpcy5wYXJzZUxvYWQoc3BlYykgOiB0aGlzO1xuICAgIH1cbiAgICB1cmwodXJsLCBmb3JtYXQsIGxvYWQgPSAhMCkge1xuICAgICAgICBjb25zdCBzcGVjID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zcGVjLCB7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXNOaWwodXJsKSB8fCAoc3BlYy52YWx1ZXMgPSB2b2lkIDAsIHNwZWMuc291cmNlID0gdm9pZCAwKSwgbG9hZCA/IHRoaXMucGFyc2VMb2FkKHNwZWMpIDogdGhpcztcbiAgICB9XG4gICAgc291cmNlKHNvdXJjZSwgZm9ybWF0LCBsb2FkID0gITApIHtcbiAgICAgICAgY29uc3Qgc3BlYyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3BlYywge1xuICAgICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgICBmb3JtYXQ6IGZvcm1hdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlzTmlsKHNvdXJjZSkgfHwgKHNwZWMudmFsdWVzID0gdm9pZCAwLCBzcGVjLnVybCA9IHZvaWQgMCksIGxvYWQgPyB0aGlzLnBhcnNlTG9hZChzcGVjKSA6IHRoaXM7XG4gICAgfVxuICAgIHBhcnNlTG9hZChzcGVjKSB7XG4gICAgICAgIHRoaXMuZGV0YWNoKHRoaXMucGFyc2VEYXRhU291cmNlKHRoaXMuc3BlYykucmVmcyksIHRoaXMuc3BlYyA9IHNwZWM7XG4gICAgICAgIGNvbnN0IGRhdGFTb3VyY2VSZXN1bHQgPSB0aGlzLnBhcnNlRGF0YVNvdXJjZSh0aGlzLnNwZWMpO1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2goZGF0YVNvdXJjZVJlc3VsdC5yZWZzKSwgdGhpcy5fbG9hZFRhc2tzID0gZGF0YVNvdXJjZVJlc3VsdC50cmFuc2Zvcm1zLCBcbiAgICAgICAgdGhpcy5faXNMb2FkZWQgPSAhMSwgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgc2V0VmFsdWVzKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXkoZGF0YSkubWFwKCgoZW50cnksIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXR1bSA9IGVudHJ5ID09PSBPYmplY3QoZW50cnkpID8gZW50cnkgOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogZW50cnlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZGF0dW1bdGhpcy5fZGF0YUlES2V5XSA9IGluZGV4LCBkYXR1bTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBmaWVsZChmaWVsZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzLm1hcCgodmFsdWUgPT4gdmFsdWVbZmllbGRdKSk7XG4gICAgfVxuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm1zKSB7XG4gICAgICAgIGNvbnN0IHByZXZUcmFuc2Zvcm1zID0gcGFyc2VUcmFuc2Zvcm1TcGVjKHRoaXMuc3BlYy50cmFuc2Zvcm0sIHRoaXMudmlldyk7XG4gICAgICAgIHByZXZUcmFuc2Zvcm1zICYmICh0aGlzLmRldGFjaChwcmV2VHJhbnNmb3Jtcy5yZWZzKSwgdGhpcy50cmFuc2Zvcm1zID0gW10pLCB0aGlzLnNwZWMudHJhbnNmb3JtID0gdHJhbnNmb3JtcztcbiAgICAgICAgY29uc3QgbmV4dFRyYW5zZm9ybXMgPSBwYXJzZVRyYW5zZm9ybVNwZWModGhpcy5zcGVjLnRyYW5zZm9ybSwgdGhpcy52aWV3KTtcbiAgICAgICAgcmV0dXJuIG5leHRUcmFuc2Zvcm1zICYmICh0aGlzLmF0dGFjaChuZXh0VHJhbnNmb3Jtcy5yZWZzKSwgdGhpcy50cmFuc2Zvcm1zID0gbmV4dFRyYW5zZm9ybXMudHJhbnNmb3JtcyksIFxuICAgICAgICB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcbiAgICB9XG4gICAgZ2V0SW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dDtcbiAgICB9XG4gICAgYWRkRGF0YUZpbHRlcihmaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc3RGaWx0ZXJzID0gdGhpcy5fcG9zdEZpbHRlcnMuY29uY2F0KGFycmF5KGZpbHRlcikpLCB0aGlzLl9wb3N0RmlsdGVycy5zb3J0KCgoZmlsdGVyQSwgZmlsdGVyQikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiAobnVsbCAhPT0gKF9hID0gZmlsdGVyQS5yYW5rKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwKSAtIChudWxsICE9PSAoX2IgPSBmaWx0ZXJCLnJhbmspICYmIHZvaWQgMCAhPT0gX2IgPyBfYiA6IDApO1xuICAgICAgICB9KSksIHRoaXM7XG4gICAgfVxuICAgIHJlbW92ZURhdGFGaWx0ZXIoZmlsdGVyKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcnMgPSBhcnJheShmaWx0ZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9zdEZpbHRlcnMgPSB0aGlzLl9wb3N0RmlsdGVycy5maWx0ZXIoKGZpbHRlciA9PiAhZmlsdGVycy5pbmNsdWRlcyhmaWx0ZXIpKSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBfZXZhbHVhdGVGaWx0ZXIodmFsdWUsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc3RGaWx0ZXJzLnJlZHVjZSgoKHJlc3VsdCwgZmlsdGVyKSA9PiBmaWx0ZXIuZmlsdGVyKHJlc3VsdCwgcGFyYW1ldGVycykpLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldXNlKGdyYW1tYXIpIHtcbiAgICAgICAgcmV0dXJuIGdyYW1tYXIuZ3JhbW1hclR5cGUgIT09IHRoaXMuZ3JhbW1hclR5cGUgfHwgKHRoaXMuX2lzTG9hZGVkID0gITEsIHRoaXMuX3ZhbHVlcyA9IGdyYW1tYXIub3V0cHV0KCkpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHN1cGVyLmNsZWFyKCksIHRoaXMuX2lucHV0ID0gbnVsbCwgdGhpcy5fdmFsdWVzID0gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/dataflow.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/dataflow.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Dataflow)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/logger.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _util_grammar_heap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/grammar-heap */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/grammar-heap.js\");\n/* harmony import */ var _util_unique_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/unique-list */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/util/unique-list.js\");\n\n\n\n\n\n\nclass Dataflow {\n    constructor() {\n        this.grammars = [], this.logger = _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__.Logger.getInstance(), this._curRank = 0, this._committed = new _util_unique_list__WEBPACK_IMPORTED_MODULE_1__.UniqueList((grammar => grammar.uid)), \n        this._heap = new _util_grammar_heap__WEBPACK_IMPORTED_MODULE_2__.Heap(((a, b) => (null == a ? void 0 : a.qrank) - (null == b ? void 0 : b.qrank))), \n        this._beforeRunner = null, this._afterRunner = null, this._updateCounter = 0, this._finishFirstRender = !1;\n    }\n    add(grammar) {\n        if (grammar) return this._setRankOfGrammar(grammar), this.commit(grammar), !this.grammars.includes(grammar) && (this.grammars.push(grammar), \n        !0);\n    }\n    remove(grammar) {\n        grammar && (this._committed.remove(grammar), this._heap.remove(grammar), this.grammars = this.grammars.filter((storedGrammar => storedGrammar !== grammar)));\n    }\n    _setRankOfGrammar(grammar) {\n        grammar && (grammar.rank = ++this._curRank);\n    }\n    _reRank(grammar) {\n        const queue = [ grammar ];\n        for (;queue.length; ) {\n            const cur = queue.pop();\n            this._setRankOfGrammar(cur);\n            const list = cur.targets;\n            list && list.forEach((entry => {\n                queue.push(entry), entry === grammar && this.logger.error(\"Cycle detected in dataflow graph.\");\n            }));\n        }\n    }\n    _enqueue(grammar) {\n        grammar && (grammar.qrank = grammar.rank, this._heap.push(grammar));\n    }\n    _logGrammarRunInfo(grammar) {\n        if (this.logger.canLogError()) {\n            const debugStr = [ {\n                key: \"id\",\n                value: grammar.id()\n            }, {\n                key: \"name\",\n                value: grammar.name()\n            } ].reduce(((str, entry, index) => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(entry.value) ? str : `${str}${index ? \" , \" : \"\"}${entry.key}: ${entry.value}`), \"\");\n            this.logger.debug(\"Run Operator: \", grammar, debugStr);\n        }\n    }\n    hasCommitted() {\n        return !!this._committed.length;\n    }\n    commit(grammar) {\n        return this._committed.add(grammar), this;\n    }\n    _beforeEvaluate() {\n        this.grammars.forEach((grammar => {\n            grammar.targets.some((target => (null == target ? void 0 : target.rank) < (null == grammar ? void 0 : grammar.rank))) && this._reRank(grammar);\n        })), this._committed.forEach((grammar => this._enqueue(grammar))), this._committed = new _util_unique_list__WEBPACK_IMPORTED_MODULE_1__.UniqueList((grammar => grammar.uid));\n    }\n    _enqueueTargets(grammar) {\n        grammar.targets && grammar.targets.length && this._finishFirstRender && grammar.targets.forEach((target => this._enqueue(target)));\n    }\n    evaluate() {\n        if (this._beforeRunner && this._beforeRunner(this), !this._committed.length) return this.logger.info(\"Dataflow invoked, but nothing to do.\"), \n        !1;\n        this._updateCounter += 1;\n        let grammar, dt, count = 0;\n        for (this.logger.canLogInfo() && (dt = Date.now(), this.logger.debug(`-- START PROPAGATION (${this._updateCounter}) -----`)), \n        this._beforeEvaluate(); this._heap.size() > 0; ) grammar = this._heap.pop(), grammar && (grammar.rank === grammar.qrank ? (grammar.run(), \n        this._logGrammarRunInfo(grammar), this._enqueueTargets(grammar), count += 1) : this._enqueue(grammar));\n        return this.logger.canLogInfo() && (dt = Date.now() - dt, this.logger.info(`> ${count} grammars updated; ${dt} ms`)), \n        this._afterRunner && this._afterRunner(this), this._finishFirstRender = !0, !0;\n    }\n    runBefore(callback) {\n        this._beforeRunner = callback;\n    }\n    runAfter(callback) {\n        this._afterRunner = callback;\n    }\n    release() {\n        this._heap && (this._heap.clear(), this._heap = null), this.logger = null, this._committed = null;\n    }\n}\n//# sourceMappingURL=dataflow.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9kYXRhZmxvdy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpRDs7QUFFTDs7QUFFSzs7QUFFbEM7QUFDZjtBQUNBLDBDQUEwQyxvREFBTSx5REFBeUQseURBQVU7QUFDbkgseUJBQXlCLG9EQUFJO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsY0FBYyxpQ0FBaUMsNERBQUsseUJBQXlCLElBQUksRUFBRSxtQkFBbUIsRUFBRSxVQUFVLElBQUksWUFBWTtBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdGQUF3Rix5REFBVTtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzR0FBc0csb0JBQW9CO0FBQzFILGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQSx3RkFBd0YsT0FBTyxrQkFBa0IsRUFBRSxJQUFJO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L2RhdGFmbG93LmpzP2JkOTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwsIExvZ2dlciB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEhlYXAgfSBmcm9tIFwiLi4vdXRpbC9ncmFtbWFyLWhlYXBcIjtcblxuaW1wb3J0IHsgVW5pcXVlTGlzdCB9IGZyb20gXCIuLi91dGlsL3VuaXF1ZS1saXN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFmbG93IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ncmFtbWFycyA9IFtdLCB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRJbnN0YW5jZSgpLCB0aGlzLl9jdXJSYW5rID0gMCwgdGhpcy5fY29tbWl0dGVkID0gbmV3IFVuaXF1ZUxpc3QoKGdyYW1tYXIgPT4gZ3JhbW1hci51aWQpKSwgXG4gICAgICAgIHRoaXMuX2hlYXAgPSBuZXcgSGVhcCgoKGEsIGIpID0+IChudWxsID09IGEgPyB2b2lkIDAgOiBhLnFyYW5rKSAtIChudWxsID09IGIgPyB2b2lkIDAgOiBiLnFyYW5rKSkpLCBcbiAgICAgICAgdGhpcy5fYmVmb3JlUnVubmVyID0gbnVsbCwgdGhpcy5fYWZ0ZXJSdW5uZXIgPSBudWxsLCB0aGlzLl91cGRhdGVDb3VudGVyID0gMCwgdGhpcy5fZmluaXNoRmlyc3RSZW5kZXIgPSAhMTtcbiAgICB9XG4gICAgYWRkKGdyYW1tYXIpIHtcbiAgICAgICAgaWYgKGdyYW1tYXIpIHJldHVybiB0aGlzLl9zZXRSYW5rT2ZHcmFtbWFyKGdyYW1tYXIpLCB0aGlzLmNvbW1pdChncmFtbWFyKSwgIXRoaXMuZ3JhbW1hcnMuaW5jbHVkZXMoZ3JhbW1hcikgJiYgKHRoaXMuZ3JhbW1hcnMucHVzaChncmFtbWFyKSwgXG4gICAgICAgICEwKTtcbiAgICB9XG4gICAgcmVtb3ZlKGdyYW1tYXIpIHtcbiAgICAgICAgZ3JhbW1hciAmJiAodGhpcy5fY29tbWl0dGVkLnJlbW92ZShncmFtbWFyKSwgdGhpcy5faGVhcC5yZW1vdmUoZ3JhbW1hciksIHRoaXMuZ3JhbW1hcnMgPSB0aGlzLmdyYW1tYXJzLmZpbHRlcigoc3RvcmVkR3JhbW1hciA9PiBzdG9yZWRHcmFtbWFyICE9PSBncmFtbWFyKSkpO1xuICAgIH1cbiAgICBfc2V0UmFua09mR3JhbW1hcihncmFtbWFyKSB7XG4gICAgICAgIGdyYW1tYXIgJiYgKGdyYW1tYXIucmFuayA9ICsrdGhpcy5fY3VyUmFuayk7XG4gICAgfVxuICAgIF9yZVJhbmsoZ3JhbW1hcikge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IFsgZ3JhbW1hciBdO1xuICAgICAgICBmb3IgKDtxdWV1ZS5sZW5ndGg7ICkge1xuICAgICAgICAgICAgY29uc3QgY3VyID0gcXVldWUucG9wKCk7XG4gICAgICAgICAgICB0aGlzLl9zZXRSYW5rT2ZHcmFtbWFyKGN1cik7XG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gY3VyLnRhcmdldHM7XG4gICAgICAgICAgICBsaXN0ICYmIGxpc3QuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goZW50cnkpLCBlbnRyeSA9PT0gZ3JhbW1hciAmJiB0aGlzLmxvZ2dlci5lcnJvcihcIkN5Y2xlIGRldGVjdGVkIGluIGRhdGFmbG93IGdyYXBoLlwiKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZW5xdWV1ZShncmFtbWFyKSB7XG4gICAgICAgIGdyYW1tYXIgJiYgKGdyYW1tYXIucXJhbmsgPSBncmFtbWFyLnJhbmssIHRoaXMuX2hlYXAucHVzaChncmFtbWFyKSk7XG4gICAgfVxuICAgIF9sb2dHcmFtbWFyUnVuSW5mbyhncmFtbWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmxvZ2dlci5jYW5Mb2dFcnJvcigpKSB7XG4gICAgICAgICAgICBjb25zdCBkZWJ1Z1N0ciA9IFsge1xuICAgICAgICAgICAgICAgIGtleTogXCJpZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBncmFtbWFyLmlkKClcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBncmFtbWFyLm5hbWUoKVxuICAgICAgICAgICAgfSBdLnJlZHVjZSgoKHN0ciwgZW50cnksIGluZGV4KSA9PiBpc05pbChlbnRyeS52YWx1ZSkgPyBzdHIgOiBgJHtzdHJ9JHtpbmRleCA/IFwiICwgXCIgOiBcIlwifSR7ZW50cnkua2V5fTogJHtlbnRyeS52YWx1ZX1gKSwgXCJcIik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJ1biBPcGVyYXRvcjogXCIsIGdyYW1tYXIsIGRlYnVnU3RyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNDb21taXR0ZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2NvbW1pdHRlZC5sZW5ndGg7XG4gICAgfVxuICAgIGNvbW1pdChncmFtbWFyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21taXR0ZWQuYWRkKGdyYW1tYXIpLCB0aGlzO1xuICAgIH1cbiAgICBfYmVmb3JlRXZhbHVhdGUoKSB7XG4gICAgICAgIHRoaXMuZ3JhbW1hcnMuZm9yRWFjaCgoZ3JhbW1hciA9PiB7XG4gICAgICAgICAgICBncmFtbWFyLnRhcmdldHMuc29tZSgodGFyZ2V0ID0+IChudWxsID09IHRhcmdldCA/IHZvaWQgMCA6IHRhcmdldC5yYW5rKSA8IChudWxsID09IGdyYW1tYXIgPyB2b2lkIDAgOiBncmFtbWFyLnJhbmspKSkgJiYgdGhpcy5fcmVSYW5rKGdyYW1tYXIpO1xuICAgICAgICB9KSksIHRoaXMuX2NvbW1pdHRlZC5mb3JFYWNoKChncmFtbWFyID0+IHRoaXMuX2VucXVldWUoZ3JhbW1hcikpKSwgdGhpcy5fY29tbWl0dGVkID0gbmV3IFVuaXF1ZUxpc3QoKGdyYW1tYXIgPT4gZ3JhbW1hci51aWQpKTtcbiAgICB9XG4gICAgX2VucXVldWVUYXJnZXRzKGdyYW1tYXIpIHtcbiAgICAgICAgZ3JhbW1hci50YXJnZXRzICYmIGdyYW1tYXIudGFyZ2V0cy5sZW5ndGggJiYgdGhpcy5fZmluaXNoRmlyc3RSZW5kZXIgJiYgZ3JhbW1hci50YXJnZXRzLmZvckVhY2goKHRhcmdldCA9PiB0aGlzLl9lbnF1ZXVlKHRhcmdldCkpKTtcbiAgICB9XG4gICAgZXZhbHVhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9iZWZvcmVSdW5uZXIgJiYgdGhpcy5fYmVmb3JlUnVubmVyKHRoaXMpLCAhdGhpcy5fY29tbWl0dGVkLmxlbmd0aCkgcmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oXCJEYXRhZmxvdyBpbnZva2VkLCBidXQgbm90aGluZyB0byBkby5cIiksIFxuICAgICAgICAhMTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ291bnRlciArPSAxO1xuICAgICAgICBsZXQgZ3JhbW1hciwgZHQsIGNvdW50ID0gMDtcbiAgICAgICAgZm9yICh0aGlzLmxvZ2dlci5jYW5Mb2dJbmZvKCkgJiYgKGR0ID0gRGF0ZS5ub3coKSwgdGhpcy5sb2dnZXIuZGVidWcoYC0tIFNUQVJUIFBST1BBR0FUSU9OICgke3RoaXMuX3VwZGF0ZUNvdW50ZXJ9KSAtLS0tLWApKSwgXG4gICAgICAgIHRoaXMuX2JlZm9yZUV2YWx1YXRlKCk7IHRoaXMuX2hlYXAuc2l6ZSgpID4gMDsgKSBncmFtbWFyID0gdGhpcy5faGVhcC5wb3AoKSwgZ3JhbW1hciAmJiAoZ3JhbW1hci5yYW5rID09PSBncmFtbWFyLnFyYW5rID8gKGdyYW1tYXIucnVuKCksIFxuICAgICAgICB0aGlzLl9sb2dHcmFtbWFyUnVuSW5mbyhncmFtbWFyKSwgdGhpcy5fZW5xdWV1ZVRhcmdldHMoZ3JhbW1hciksIGNvdW50ICs9IDEpIDogdGhpcy5fZW5xdWV1ZShncmFtbWFyKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2dlci5jYW5Mb2dJbmZvKCkgJiYgKGR0ID0gRGF0ZS5ub3coKSAtIGR0LCB0aGlzLmxvZ2dlci5pbmZvKGA+ICR7Y291bnR9IGdyYW1tYXJzIHVwZGF0ZWQ7ICR7ZHR9IG1zYCkpLCBcbiAgICAgICAgdGhpcy5fYWZ0ZXJSdW5uZXIgJiYgdGhpcy5fYWZ0ZXJSdW5uZXIodGhpcyksIHRoaXMuX2ZpbmlzaEZpcnN0UmVuZGVyID0gITAsICEwO1xuICAgIH1cbiAgICBydW5CZWZvcmUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fYmVmb3JlUnVubmVyID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIHJ1bkFmdGVyKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2FmdGVyUnVubmVyID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMuX2hlYXAgJiYgKHRoaXMuX2hlYXAuY2xlYXIoKSwgdGhpcy5faGVhcCA9IG51bGwpLCB0aGlzLmxvZ2dlciA9IG51bGwsIHRoaXMuX2NvbW1pdHRlZCA9IG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YWZsb3cuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/dataflow.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/events.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/events.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   permit: () => (/* binding */ permit),\n/* harmony export */   prevent: () => (/* binding */ prevent)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isObject.js\");\n\n\nfunction prevent(eventConfig, type) {\n    const def = eventConfig.defaults, prevent = def.prevent, allow = def.allow;\n    return !1 !== prevent && !0 !== allow && (!0 === prevent || !1 === allow || (prevent ? prevent[type] : !!allow && !allow[type]));\n}\n\nfunction permit(eventConfig, key, type) {\n    const rule = null == eventConfig ? void 0 : eventConfig[key];\n    return !(!1 === rule || (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(rule) && !rule[type]);\n}\n//# sourceMappingURL=events.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ldmVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDOztBQUVyQztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0EsNEJBQTRCLDREQUFRO0FBQ3BDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvZXZlbnRzLmpzPzcwNzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudChldmVudENvbmZpZywgdHlwZSkge1xuICAgIGNvbnN0IGRlZiA9IGV2ZW50Q29uZmlnLmRlZmF1bHRzLCBwcmV2ZW50ID0gZGVmLnByZXZlbnQsIGFsbG93ID0gZGVmLmFsbG93O1xuICAgIHJldHVybiAhMSAhPT0gcHJldmVudCAmJiAhMCAhPT0gYWxsb3cgJiYgKCEwID09PSBwcmV2ZW50IHx8ICExID09PSBhbGxvdyB8fCAocHJldmVudCA/IHByZXZlbnRbdHlwZV0gOiAhIWFsbG93ICYmICFhbGxvd1t0eXBlXSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGVybWl0KGV2ZW50Q29uZmlnLCBrZXksIHR5cGUpIHtcbiAgICBjb25zdCBydWxlID0gbnVsbCA9PSBldmVudENvbmZpZyA/IHZvaWQgMCA6IGV2ZW50Q29uZmlnW2tleV07XG4gICAgcmV0dXJuICEoITEgPT09IHJ1bGUgfHwgaXNPYmplY3QocnVsZSkgJiYgIXJ1bGVbdHlwZV0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph-meta.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph-meta.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlyphMeta: () => (/* binding */ GlyphMeta)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n\n\nclass GlyphMeta {\n    constructor(marks, encoders, defaultEncoder, progressiveChannels) {\n        this.channelEncoder = {}, this.marks = marks, encoders && this.registerChannelEncoder(encoders), \n        defaultEncoder && this.registerDefaultEncoder(defaultEncoder), this.progressiveChannels && this.registerProgressiveChannels(progressiveChannels);\n    }\n    getMarks() {\n        return this.marks;\n    }\n    registerChannelEncoder(channel, encoder) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(channel) ? this.channelEncoder[channel] = encoder : Object.assign(this.channelEncoder, channel), \n        this;\n    }\n    registerFunctionEncoder(encoder) {\n        return this.functionEncoder = encoder, this;\n    }\n    registerDefaultEncoder(encoder) {\n        return this.defaultEncoder = encoder, this;\n    }\n    registerProgressiveChannels(channels) {\n        return this.progressiveChannels = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(channels), this;\n    }\n    getChannelEncoder() {\n        return this.channelEncoder;\n    }\n    getFunctionEncoder() {\n        return this.functionEncoder;\n    }\n    getDefaultEncoder() {\n        return this.defaultEncoder;\n    }\n    getProgressiveChannels() {\n        return this.progressiveChannels;\n    }\n}\n//# sourceMappingURL=glyph-meta.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9nbHlwaC1tZXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRDs7QUFFNUM7QUFDUDtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx1REFBSztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvZ2x5cGgtbWV0YS5qcz82ZjdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5LCBpc1N0cmluZyB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBHbHlwaE1ldGEge1xuICAgIGNvbnN0cnVjdG9yKG1hcmtzLCBlbmNvZGVycywgZGVmYXVsdEVuY29kZXIsIHByb2dyZXNzaXZlQ2hhbm5lbHMpIHtcbiAgICAgICAgdGhpcy5jaGFubmVsRW5jb2RlciA9IHt9LCB0aGlzLm1hcmtzID0gbWFya3MsIGVuY29kZXJzICYmIHRoaXMucmVnaXN0ZXJDaGFubmVsRW5jb2RlcihlbmNvZGVycyksIFxuICAgICAgICBkZWZhdWx0RW5jb2RlciAmJiB0aGlzLnJlZ2lzdGVyRGVmYXVsdEVuY29kZXIoZGVmYXVsdEVuY29kZXIpLCB0aGlzLnByb2dyZXNzaXZlQ2hhbm5lbHMgJiYgdGhpcy5yZWdpc3RlclByb2dyZXNzaXZlQ2hhbm5lbHMocHJvZ3Jlc3NpdmVDaGFubmVscyk7XG4gICAgfVxuICAgIGdldE1hcmtzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrcztcbiAgICB9XG4gICAgcmVnaXN0ZXJDaGFubmVsRW5jb2RlcihjaGFubmVsLCBlbmNvZGVyKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjaGFubmVsKSA/IHRoaXMuY2hhbm5lbEVuY29kZXJbY2hhbm5lbF0gPSBlbmNvZGVyIDogT2JqZWN0LmFzc2lnbih0aGlzLmNoYW5uZWxFbmNvZGVyLCBjaGFubmVsKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHJlZ2lzdGVyRnVuY3Rpb25FbmNvZGVyKGVuY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuY3Rpb25FbmNvZGVyID0gZW5jb2RlciwgdGhpcztcbiAgICB9XG4gICAgcmVnaXN0ZXJEZWZhdWx0RW5jb2RlcihlbmNvZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRFbmNvZGVyID0gZW5jb2RlciwgdGhpcztcbiAgICB9XG4gICAgcmVnaXN0ZXJQcm9ncmVzc2l2ZUNoYW5uZWxzKGNoYW5uZWxzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzaXZlQ2hhbm5lbHMgPSBhcnJheShjaGFubmVscyksIHRoaXM7XG4gICAgfVxuICAgIGdldENoYW5uZWxFbmNvZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsRW5jb2RlcjtcbiAgICB9XG4gICAgZ2V0RnVuY3Rpb25FbmNvZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jdGlvbkVuY29kZXI7XG4gICAgfVxuICAgIGdldERlZmF1bHRFbmNvZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0RW5jb2RlcjtcbiAgICB9XG4gICAgZ2V0UHJvZ3Jlc3NpdmVDaGFubmVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NpdmVDaGFubmVscztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbHlwaC1tZXRhLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph-meta.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlyphMark: () => (/* binding */ GlyphMark),\n/* harmony export */   registerGlyphMark: () => (/* binding */ registerGlyphMark)\n/* harmony export */ });\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n/* harmony import */ var _graph_glyph_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/glyph-element */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/glyph-element.js\");\n\n\n\n\n\n\n\n\n\n\nclass GlyphMark extends _mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    constructor(view, glyphType, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.glyph, group), this.glyphType = glyphType, this.glyphMeta = _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.getGlyph(glyphType);\n    }\n    configureGlyph(config) {\n        return this.spec.glyphConfig = config, this.commit(), this;\n    }\n    getGlyphMeta() {\n        return this.glyphMeta;\n    }\n    getGlyphConfig() {\n        return this.spec.glyphConfig;\n    }\n    addGraphicItem(attrs, groupKey) {\n        const graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_3__.createGlyphGraphicItem)(this, this.glyphMeta, attrs);\n        return super.addGraphicItem(attrs, groupKey, graphicItem);\n    }\n    createElement() {\n        return new _graph_glyph_element__WEBPACK_IMPORTED_MODULE_4__.GlyphElement(this);\n    }\n}\n\nGlyphMark.markType = _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.glyph;\n\nconst registerGlyphMark = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_2__.Factory.registerMark(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.glyph, GlyphMark);\n};\n//# sourceMappingURL=glyph.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9nbHlwaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlEOztBQUVjOztBQUVqQzs7QUFFWTs7QUFFWTs7QUFFL0Msd0JBQXdCLHVDQUFJO0FBQ25DO0FBQ0Esb0JBQW9CLHlEQUFlLDZEQUE2RCxrREFBTztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDJFQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOERBQVk7QUFDL0I7QUFDQTs7QUFFQSxxQkFBcUIseURBQWU7O0FBRTdCO0FBQ1AsSUFBSSxrREFBTyxjQUFjLHlEQUFlO0FBQ3hDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvZ2x5cGguanM/NWViNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgY3JlYXRlR2x5cGhHcmFwaGljSXRlbSB9IGZyb20gXCIuLi9ncmFwaC91dGlsL2dyYXBoaWNcIjtcblxuaW1wb3J0IHsgTWFyayB9IGZyb20gXCIuL21hcmtcIjtcblxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCIuLi9jb3JlL2ZhY3RvcnlcIjtcblxuaW1wb3J0IHsgR2x5cGhFbGVtZW50IH0gZnJvbSBcIi4uL2dyYXBoL2dseXBoLWVsZW1lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEdseXBoTWFyayBleHRlbmRzIE1hcmsge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIGdseXBoVHlwZSwgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIodmlldywgR3JhbW1hck1hcmtUeXBlLmdseXBoLCBncm91cCksIHRoaXMuZ2x5cGhUeXBlID0gZ2x5cGhUeXBlLCB0aGlzLmdseXBoTWV0YSA9IEZhY3RvcnkuZ2V0R2x5cGgoZ2x5cGhUeXBlKTtcbiAgICB9XG4gICAgY29uZmlndXJlR2x5cGgoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuZ2x5cGhDb25maWcgPSBjb25maWcsIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGdldEdseXBoTWV0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2x5cGhNZXRhO1xuICAgIH1cbiAgICBnZXRHbHlwaENvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5nbHlwaENvbmZpZztcbiAgICB9XG4gICAgYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5KSB7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNJdGVtID0gY3JlYXRlR2x5cGhHcmFwaGljSXRlbSh0aGlzLCB0aGlzLmdseXBoTWV0YSwgYXR0cnMpO1xuICAgICAgICByZXR1cm4gc3VwZXIuYWRkR3JhcGhpY0l0ZW0oYXR0cnMsIGdyb3VwS2V5LCBncmFwaGljSXRlbSk7XG4gICAgfVxuICAgIGNyZWF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgR2x5cGhFbGVtZW50KHRoaXMpO1xuICAgIH1cbn1cblxuR2x5cGhNYXJrLm1hcmtUeXBlID0gR3JhbW1hck1hcmtUeXBlLmdseXBoO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJHbHlwaE1hcmsgPSAoKSA9PiB7XG4gICAgRmFjdG9yeS5yZWdpc3Rlck1hcmsoR3JhbW1hck1hcmtUeXBlLmdseXBoLCBHbHlwaE1hcmspO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdseXBoLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/glyph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GrammarBase: () => (/* binding */ GrammarBase)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/array.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _parse_option__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parse/option */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/option.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\n\n\n\n\nlet grammarBaseId = -1;\n\nclass GrammarBase extends (_visactor_vutils__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(view) {\n        super(), this.spec = {}, this.references = new Map, this.targets = [], this.transforms = [], \n        this.view = view, this.uid = ++grammarBaseId;\n    }\n    parse(spec) {\n        return this.id(spec.id), this.name(spec.name), this.depend(spec.dependency), this;\n    }\n    depend(grammars) {\n        var _a;\n        if (null === (_a = this.spec) || void 0 === _a ? void 0 : _a.dependency) {\n            const lastGrammars = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(this.spec.dependency).map((grammar => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(grammar) ? this.view.getGrammarById(grammar) : grammar));\n            this.detach(lastGrammars);\n        }\n        this.spec.dependency = grammars;\n        const currentGrammars = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(grammars).map((grammar => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(grammar) ? this.view.getGrammarById(grammar) : grammar));\n        return this.attach(currentGrammars), this.commit(), this;\n    }\n    addEventListener(type, handler, options) {\n        let callback = handler;\n        return options && !1 === options.trap || (callback = handler, callback.raw = handler), \n        options && options.target && (callback.target = options.target), this.on(type, callback), \n        this;\n    }\n    removeEventListener(type, handler) {\n        return handler ? this.off(type, handler) : this.off(type), this;\n    }\n    emit(event, ...args) {\n        var _a, _b;\n        return null === (_b = null === (_a = this.view) || void 0 === _a ? void 0 : _a.emit) || void 0 === _b || _b.call(_a, event, ...args), \n        super.emit(event, ...args);\n    }\n    emitGrammarEvent(event, ...args) {\n        return super.emit(event, ...args);\n    }\n    evaluateTransform(transforms, upstream, parameters) {\n        if (!transforms || !transforms.length) return upstream;\n        let currentUpstreamData = upstream, i = 0;\n        const n = transforms.length;\n        for (;i < n; ) {\n            const task = transforms[i];\n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.HOOK_EVENT.BEFORE_TRANSFORM, task.type), currentUpstreamData = task.transform(task.isRawOptions ? task.options : (0,_parse_option__WEBPACK_IMPORTED_MODULE_4__.parseOptions)(task.options, parameters), currentUpstreamData, parameters, this.view), \n            i++, this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_3__.HOOK_EVENT.AFTER_TRANSFORM, task.type);\n        }\n        return currentUpstreamData;\n    }\n    set(value) {\n        return !1;\n    }\n    id(id) {\n        return arguments.length ? (this.view.grammars.unrecord(this), this._id = id, this.view.grammars.record(this), \n        this) : this._id;\n    }\n    name(name) {\n        return arguments.length ? (this._name = name, this) : this._name;\n    }\n    attach(reference, count = 1) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(reference).filter((ref => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ref))).forEach((ref => {\n            var _a;\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(reference) || (ref.targets.includes(this) || ref.targets.push(this), this.references.set(ref, (null !== (_a = this.references.get(ref)) && void 0 !== _a ? _a : 0) + count));\n        })), this;\n    }\n    detach(reference, count = 1) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.array)(reference).filter((ref => !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ref))).forEach((ref => {\n            const refCount = this.references.get(ref) - count;\n            refCount > 0 ? this.references.set(ref, refCount - 1) : (this.references.delete(ref), \n            ref.targets.includes(this) && (ref.targets = ref.targets.filter((target => target !== this))));\n        })), this;\n    }\n    detachAll() {\n        this.references.forEach(((count, ref) => {\n            this.detach(ref, count);\n        }));\n    }\n    link(source) {\n        this.grammarSource = source;\n    }\n    run() {\n        var _a;\n        const upstream = null === (_a = this.grammarSource) || void 0 === _a ? void 0 : _a.output(), parameters = this.parameters();\n        return this.evaluate(upstream, parameters);\n    }\n    commit() {\n        this.view.commit(this);\n    }\n    parameters() {\n        const params = {};\n        return this.references.forEach(((count, ref) => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(ref.id()) && (params[ref.id()] = ref.output());\n        })), params;\n    }\n    getSpec() {\n        return this.spec;\n    }\n    reuse(grammar) {\n        return this;\n    }\n    clear() {\n        this.spec = null, this.view = null;\n    }\n    release() {\n        this.clear();\n    }\n    setFunctionSpec(spec, specField) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.spec[specField]) || this.detach((0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.parseFunctionType)(this.spec[specField], this.view)), \n        this.spec[specField] = spec, this.attach((0,_parse_util__WEBPACK_IMPORTED_MODULE_7__.parseFunctionType)(spec, this.view)), this.commit(), \n        this;\n    }\n}\n//# sourceMappingURL=grammar-base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ncmFtbWFyLWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFpRjs7QUFFbEM7O0FBRUc7O0FBRU47O0FBRTVDOztBQUVPLDBCQUEwQix5REFBWTtBQUM3QztBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFLLHVDQUF1Qyw0REFBUTtBQUNyRjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsdURBQUssMkJBQTJCLDREQUFRO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQSxzQkFBc0Isb0RBQVUsdUdBQXVHLDJEQUFZO0FBQ25KLDJCQUEyQixvREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1REFBSyw0QkFBNEIsNERBQUs7QUFDckQ7QUFDQSxZQUFZLDREQUFLO0FBQ2pCLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZUFBZSx1REFBSyw0QkFBNEIsNERBQUs7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQU87QUFDbkIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFLLHNDQUFzQyw4REFBaUI7QUFDM0UsaURBQWlELDhEQUFpQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ncmFtbWFyLWJhc2UuanM/Mzg5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcnJheSwgRXZlbnRFbWl0dGVyLCBpc05pbCwgaXNTdHJpbmcsIGlzVmFsaWQgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBwYXJzZU9wdGlvbnMgfSBmcm9tIFwiLi4vcGFyc2Uvb3B0aW9uXCI7XG5cbmltcG9ydCB7IHBhcnNlRnVuY3Rpb25UeXBlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgSE9PS19FVkVOVCB9IGZyb20gXCIuLi9ncmFwaC9lbnVtc1wiO1xuXG5sZXQgZ3JhbW1hckJhc2VJZCA9IC0xO1xuXG5leHBvcnQgY2xhc3MgR3JhbW1hckJhc2UgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5zcGVjID0ge30sIHRoaXMucmVmZXJlbmNlcyA9IG5ldyBNYXAsIHRoaXMudGFyZ2V0cyA9IFtdLCB0aGlzLnRyYW5zZm9ybXMgPSBbXSwgXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXcsIHRoaXMudWlkID0gKytncmFtbWFyQmFzZUlkO1xuICAgIH1cbiAgICBwYXJzZShzcGVjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkKHNwZWMuaWQpLCB0aGlzLm5hbWUoc3BlYy5uYW1lKSwgdGhpcy5kZXBlbmQoc3BlYy5kZXBlbmRlbmN5KSwgdGhpcztcbiAgICB9XG4gICAgZGVwZW5kKGdyYW1tYXJzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKG51bGwgPT09IChfYSA9IHRoaXMuc3BlYykgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmRlcGVuZGVuY3kpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RHcmFtbWFycyA9IGFycmF5KHRoaXMuc3BlYy5kZXBlbmRlbmN5KS5tYXAoKGdyYW1tYXIgPT4gaXNTdHJpbmcoZ3JhbW1hcikgPyB0aGlzLnZpZXcuZ2V0R3JhbW1hckJ5SWQoZ3JhbW1hcikgOiBncmFtbWFyKSk7XG4gICAgICAgICAgICB0aGlzLmRldGFjaChsYXN0R3JhbW1hcnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BlYy5kZXBlbmRlbmN5ID0gZ3JhbW1hcnM7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRHcmFtbWFycyA9IGFycmF5KGdyYW1tYXJzKS5tYXAoKGdyYW1tYXIgPT4gaXNTdHJpbmcoZ3JhbW1hcikgPyB0aGlzLnZpZXcuZ2V0R3JhbW1hckJ5SWQoZ3JhbW1hcikgOiBncmFtbWFyKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaChjdXJyZW50R3JhbW1hcnMpLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGNhbGxiYWNrID0gaGFuZGxlcjtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMgJiYgITEgPT09IG9wdGlvbnMudHJhcCB8fCAoY2FsbGJhY2sgPSBoYW5kbGVyLCBjYWxsYmFjay5yYXcgPSBoYW5kbGVyKSwgXG4gICAgICAgIG9wdGlvbnMgJiYgb3B0aW9ucy50YXJnZXQgJiYgKGNhbGxiYWNrLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0KSwgdGhpcy5vbih0eXBlLCBjYWxsYmFjayksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIgPyB0aGlzLm9mZih0eXBlLCBoYW5kbGVyKSA6IHRoaXMub2ZmKHR5cGUpLCB0aGlzO1xuICAgIH1cbiAgICBlbWl0KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSB0aGlzLnZpZXcpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5lbWl0KSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwoX2EsIGV2ZW50LCAuLi5hcmdzKSwgXG4gICAgICAgIHN1cGVyLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBlbWl0R3JhbW1hckV2ZW50KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICB9XG4gICAgZXZhbHVhdGVUcmFuc2Zvcm0odHJhbnNmb3JtcywgdXBzdHJlYW0sIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgaWYgKCF0cmFuc2Zvcm1zIHx8ICF0cmFuc2Zvcm1zLmxlbmd0aCkgcmV0dXJuIHVwc3RyZWFtO1xuICAgICAgICBsZXQgY3VycmVudFVwc3RyZWFtRGF0YSA9IHVwc3RyZWFtLCBpID0gMDtcbiAgICAgICAgY29uc3QgbiA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuICAgICAgICBmb3IgKDtpIDwgbjsgKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrID0gdHJhbnNmb3Jtc1tpXTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9UUkFOU0ZPUk0sIHRhc2sudHlwZSksIGN1cnJlbnRVcHN0cmVhbURhdGEgPSB0YXNrLnRyYW5zZm9ybSh0YXNrLmlzUmF3T3B0aW9ucyA/IHRhc2sub3B0aW9ucyA6IHBhcnNlT3B0aW9ucyh0YXNrLm9wdGlvbnMsIHBhcmFtZXRlcnMpLCBjdXJyZW50VXBzdHJlYW1EYXRhLCBwYXJhbWV0ZXJzLCB0aGlzLnZpZXcpLCBcbiAgICAgICAgICAgIGkrKywgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfVFJBTlNGT1JNLCB0YXNrLnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50VXBzdHJlYW1EYXRhO1xuICAgIH1cbiAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBpZChpZCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0aGlzLnZpZXcuZ3JhbW1hcnMudW5yZWNvcmQodGhpcyksIHRoaXMuX2lkID0gaWQsIHRoaXMudmlldy5ncmFtbWFycy5yZWNvcmQodGhpcyksIFxuICAgICAgICB0aGlzKSA6IHRoaXMuX2lkO1xuICAgIH1cbiAgICBuYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodGhpcy5fbmFtZSA9IG5hbWUsIHRoaXMpIDogdGhpcy5fbmFtZTtcbiAgICB9XG4gICAgYXR0YWNoKHJlZmVyZW5jZSwgY291bnQgPSAxKSB7XG4gICAgICAgIHJldHVybiBhcnJheShyZWZlcmVuY2UpLmZpbHRlcigocmVmID0+ICFpc05pbChyZWYpKSkuZm9yRWFjaCgocmVmID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlzTmlsKHJlZmVyZW5jZSkgfHwgKHJlZi50YXJnZXRzLmluY2x1ZGVzKHRoaXMpIHx8IHJlZi50YXJnZXRzLnB1c2godGhpcyksIHRoaXMucmVmZXJlbmNlcy5zZXQocmVmLCAobnVsbCAhPT0gKF9hID0gdGhpcy5yZWZlcmVuY2VzLmdldChyZWYpKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiAwKSArIGNvdW50KSk7XG4gICAgICAgIH0pKSwgdGhpcztcbiAgICB9XG4gICAgZGV0YWNoKHJlZmVyZW5jZSwgY291bnQgPSAxKSB7XG4gICAgICAgIHJldHVybiBhcnJheShyZWZlcmVuY2UpLmZpbHRlcigocmVmID0+ICFpc05pbChyZWYpKSkuZm9yRWFjaCgocmVmID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlZkNvdW50ID0gdGhpcy5yZWZlcmVuY2VzLmdldChyZWYpIC0gY291bnQ7XG4gICAgICAgICAgICByZWZDb3VudCA+IDAgPyB0aGlzLnJlZmVyZW5jZXMuc2V0KHJlZiwgcmVmQ291bnQgLSAxKSA6ICh0aGlzLnJlZmVyZW5jZXMuZGVsZXRlKHJlZiksIFxuICAgICAgICAgICAgcmVmLnRhcmdldHMuaW5jbHVkZXModGhpcykgJiYgKHJlZi50YXJnZXRzID0gcmVmLnRhcmdldHMuZmlsdGVyKCh0YXJnZXQgPT4gdGFyZ2V0ICE9PSB0aGlzKSkpKTtcbiAgICAgICAgfSkpLCB0aGlzO1xuICAgIH1cbiAgICBkZXRhY2hBbGwoKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlcy5mb3JFYWNoKCgoY291bnQsIHJlZikgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2gocmVmLCBjb3VudCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgbGluayhzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5ncmFtbWFyU291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdXBzdHJlYW0gPSBudWxsID09PSAoX2EgPSB0aGlzLmdyYW1tYXJTb3VyY2UpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5vdXRwdXQoKSwgcGFyYW1ldGVycyA9IHRoaXMucGFyYW1ldGVycygpO1xuICAgICAgICByZXR1cm4gdGhpcy5ldmFsdWF0ZSh1cHN0cmVhbSwgcGFyYW1ldGVycyk7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgdGhpcy52aWV3LmNvbW1pdCh0aGlzKTtcbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge307XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZXMuZm9yRWFjaCgoKGNvdW50LCByZWYpID0+IHtcbiAgICAgICAgICAgIGlzVmFsaWQocmVmLmlkKCkpICYmIChwYXJhbXNbcmVmLmlkKCldID0gcmVmLm91dHB1dCgpKTtcbiAgICAgICAgfSkpLCBwYXJhbXM7XG4gICAgfVxuICAgIGdldFNwZWMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWM7XG4gICAgfVxuICAgIHJldXNlKGdyYW1tYXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnNwZWMgPSBudWxsLCB0aGlzLnZpZXcgPSBudWxsO1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuICAgIHNldEZ1bmN0aW9uU3BlYyhzcGVjLCBzcGVjRmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGlzTmlsKHRoaXMuc3BlY1tzcGVjRmllbGRdKSB8fCB0aGlzLmRldGFjaChwYXJzZUZ1bmN0aW9uVHlwZSh0aGlzLnNwZWNbc3BlY0ZpZWxkXSwgdGhpcy52aWV3KSksIFxuICAgICAgICB0aGlzLnNwZWNbc3BlY0ZpZWxkXSA9IHNwZWMsIHRoaXMuYXR0YWNoKHBhcnNlRnVuY3Rpb25UeXBlKHNwZWMsIHRoaXMudmlldykpLCB0aGlzLmNvbW1pdCgpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFtbWFyLWJhc2UuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-record.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-record.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordedGrammars: () => (/* binding */ RecordedGrammars),\n/* harmony export */   RecordedTreeGrammars: () => (/* binding */ RecordedTreeGrammars),\n/* harmony export */   releaseUpMarkNode: () => (/* binding */ releaseUpMarkNode)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n\n\n\n\nclass RecordedGrammars {\n    constructor(mapKey, warningWhenDuplicated) {\n        this._grammars = {\n            signal: [],\n            data: [],\n            scale: [],\n            coordinate: [],\n            mark: [],\n            customized: []\n        }, this._grammarMap = {\n            signal: {},\n            data: {},\n            scale: {},\n            coordinate: {},\n            mark: {},\n            customized: {}\n        }, this._size = 0, this._mapKey = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(mapKey) ? grammar => grammar[mapKey] : mapKey, \n        this._warning = warningWhenDuplicated;\n    }\n    record(grammar) {\n        var _a, _b;\n        const grammarType = grammar.grammarType, key = this._mapKey(grammar);\n        return this._grammarMap[grammarType] ? (this._grammars[grammarType].push(grammar), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key) || (this._grammarMap[grammarType][key] ? null === (_a = this._warning) || void 0 === _a || _a.call(this, key, grammar) : this._grammarMap[grammarType][key] = grammar)) : (this._grammars.customized.push(grammar), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key) || (this._grammarMap.customized[key] ? null === (_b = this._warning) || void 0 === _b || _b.call(this, key, grammar) : this._grammarMap.customized[key] = grammar)), \n        this._size += 1, this;\n    }\n    unrecord(grammar) {\n        const grammarType = grammar.grammarType, key = this._mapKey(grammar);\n        return this._grammarMap[grammarType] ? (this._grammars[grammarType] = this._grammars[grammarType].filter((storedGrammar => storedGrammar !== grammar)), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key) || this._grammarMap[grammarType][key] !== grammar || delete this._grammarMap[grammarType][key]) : (this._grammars.customized = this._grammars.customized.filter((storedGrammar => storedGrammar !== grammar)), \n        (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(key) || this._grammarMap.customized[key] !== grammar || delete this._grammarMap.customized[key]), \n        this._size -= 1, this;\n    }\n    size() {\n        return this._size;\n    }\n    getSignal(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.signal[key]) && void 0 !== _a ? _a : null;\n    }\n    getData(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.data[key]) && void 0 !== _a ? _a : null;\n    }\n    getScale(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.scale[key]) && void 0 !== _a ? _a : null;\n    }\n    getCoordinate(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.coordinate[key]) && void 0 !== _a ? _a : null;\n    }\n    getMark(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.mark[key]) && void 0 !== _a ? _a : null;\n    }\n    getCustomized(key) {\n        var _a;\n        return null !== (_a = this._grammarMap.customized[key]) && void 0 !== _a ? _a : null;\n    }\n    getGrammar(key) {\n        return this._grammarMap.data[key] ? this._grammarMap.data[key] : this._grammarMap.signal[key] ? this._grammarMap.signal[key] : this._grammarMap.scale[key] ? this._grammarMap.scale[key] : this._grammarMap.coordinate[key] ? this._grammarMap.coordinate[key] : this._grammarMap.mark[key] ? this._grammarMap.mark[key] : this._grammarMap.customized[key] ? this._grammarMap.customized[key] : null;\n    }\n    getAllSignals() {\n        return this._grammars.signal;\n    }\n    getAllData() {\n        return this._grammars.data;\n    }\n    getAllScales() {\n        return this._grammars.scale;\n    }\n    getAllCoordinates() {\n        return this._grammars.coordinate;\n    }\n    getAllMarks() {\n        return this._grammars.mark;\n    }\n    getAllCustomized() {\n        return this._grammars.customized;\n    }\n    traverse(func) {\n        var _a;\n        Object.values(null !== (_a = this._grammars) && void 0 !== _a ? _a : {}).forEach((grammars => (null != grammars ? grammars : []).forEach((grammar => {\n            func.call(null, grammar);\n        }))));\n    }\n    find(func) {\n        let targetGrammar = null;\n        return this.traverse((grammar => !0 === func.call(null, grammar) && (targetGrammar = grammar, \n        !0))), targetGrammar;\n    }\n    filter(func) {\n        const targetGrammars = [];\n        return this.traverse((grammar => {\n            !0 === func.call(null, grammar) && targetGrammars.push(grammar);\n        })), targetGrammars;\n    }\n    clear() {\n        this._size = 0, this._grammars = {\n            signal: [],\n            data: [],\n            scale: [],\n            coordinate: [],\n            mark: [],\n            customized: []\n        }, this._grammarMap = {\n            signal: {},\n            data: {},\n            scale: {},\n            coordinate: {},\n            mark: {},\n            customized: {}\n        };\n    }\n    release() {\n        this._size = 0, this._grammars = null, this._grammarMap = null;\n    }\n}\n\nclass RecordedTreeGrammars extends RecordedGrammars {\n    constructor() {\n        super(...arguments), this._markNodes = [];\n    }\n    record(grammar) {\n        if (super.record(grammar), \"mark\" === grammar.grammarType) {\n            const mark = grammar, currentNode = {\n                mark: mark,\n                parent: null,\n                children: []\n            };\n            this._markNodes.forEach((node => {\n                const targetMark = node.mark;\n                targetMark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group && targetMark.includesChild(mark, !1) ? (node.children.push(currentNode), \n                currentNode.parent = node) : mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group && mark.includesChild(targetMark, !1) && (currentNode.children.push(node), \n                node.parent = currentNode);\n            })), this._markNodes.push(currentNode);\n        }\n        return this;\n    }\n    unrecord(grammar) {\n        if (super.unrecord(grammar), \"mark\" === grammar.grammarType) {\n            const mark = grammar, currentNode = this._markNodes.find((node => node.mark === mark));\n            this._markNodes.forEach((node => {\n                node.mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group && node.children.includes(currentNode) ? (node.children = node.children.filter((n => n !== currentNode)), \n                currentNode.parent = null) : mark.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_2__.GrammarMarkType.group && currentNode.children.includes(node) && (currentNode.children = currentNode.children.filter((n => n !== node)), \n                node.parent = null);\n            })), this._markNodes = this._markNodes.filter((n => n !== currentNode));\n        }\n        return this;\n    }\n    getAllMarkNodes() {\n        return this._markNodes;\n    }\n    clear() {\n        super.clear(), this._markNodes = [];\n    }\n    release() {\n        super.release(), this._markNodes = null;\n    }\n}\n\nconst releaseUpMarkNode = node => {};\n//# sourceMappingURL=grammar-record.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ncmFtbWFyLXJlY29yZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBbUQ7O0FBRUY7O0FBRTFDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxzQkFBc0I7QUFDdEIsb0JBQW9CO0FBQ3BCLHFCQUFxQjtBQUNyQiwwQkFBMEI7QUFDMUIsb0JBQW9CO0FBQ3BCO0FBQ0EsU0FBUyxpQ0FBaUMsNERBQVE7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBSztBQUNiLFFBQVEsNERBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBSztBQUNiLFFBQVEsNERBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRTtBQUMvRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsc0JBQXNCO0FBQ3RCLG9CQUFvQjtBQUNwQixxQkFBcUI7QUFDckIsMEJBQTBCO0FBQzFCLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx5REFBZTtBQUN2RCwrREFBK0QseURBQWU7QUFDOUU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseURBQWU7QUFDdEQsK0RBQStELHlEQUFlO0FBQzlFO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvZ3JhbW1hci1yZWNvcmQuanM/ZTk2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCwgaXNTdHJpbmcgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBHcmFtbWFyTWFya1R5cGUgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuZXhwb3J0IGNsYXNzIFJlY29yZGVkR3JhbW1hcnMge1xuICAgIGNvbnN0cnVjdG9yKG1hcEtleSwgd2FybmluZ1doZW5EdXBsaWNhdGVkKSB7XG4gICAgICAgIHRoaXMuX2dyYW1tYXJzID0ge1xuICAgICAgICAgICAgc2lnbmFsOiBbXSxcbiAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgc2NhbGU6IFtdLFxuICAgICAgICAgICAgY29vcmRpbmF0ZTogW10sXG4gICAgICAgICAgICBtYXJrOiBbXSxcbiAgICAgICAgICAgIGN1c3RvbWl6ZWQ6IFtdXG4gICAgICAgIH0sIHRoaXMuX2dyYW1tYXJNYXAgPSB7XG4gICAgICAgICAgICBzaWduYWw6IHt9LFxuICAgICAgICAgICAgZGF0YToge30sXG4gICAgICAgICAgICBzY2FsZToge30sXG4gICAgICAgICAgICBjb29yZGluYXRlOiB7fSxcbiAgICAgICAgICAgIG1hcms6IHt9LFxuICAgICAgICAgICAgY3VzdG9taXplZDoge31cbiAgICAgICAgfSwgdGhpcy5fc2l6ZSA9IDAsIHRoaXMuX21hcEtleSA9IGlzU3RyaW5nKG1hcEtleSkgPyBncmFtbWFyID0+IGdyYW1tYXJbbWFwS2V5XSA6IG1hcEtleSwgXG4gICAgICAgIHRoaXMuX3dhcm5pbmcgPSB3YXJuaW5nV2hlbkR1cGxpY2F0ZWQ7XG4gICAgfVxuICAgIHJlY29yZChncmFtbWFyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGdyYW1tYXJUeXBlID0gZ3JhbW1hci5ncmFtbWFyVHlwZSwga2V5ID0gdGhpcy5fbWFwS2V5KGdyYW1tYXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JhbW1hck1hcFtncmFtbWFyVHlwZV0gPyAodGhpcy5fZ3JhbW1hcnNbZ3JhbW1hclR5cGVdLnB1c2goZ3JhbW1hciksIFxuICAgICAgICBpc05pbChrZXkpIHx8ICh0aGlzLl9ncmFtbWFyTWFwW2dyYW1tYXJUeXBlXVtrZXldID8gbnVsbCA9PT0gKF9hID0gdGhpcy5fd2FybmluZykgfHwgdm9pZCAwID09PSBfYSB8fCBfYS5jYWxsKHRoaXMsIGtleSwgZ3JhbW1hcikgOiB0aGlzLl9ncmFtbWFyTWFwW2dyYW1tYXJUeXBlXVtrZXldID0gZ3JhbW1hcikpIDogKHRoaXMuX2dyYW1tYXJzLmN1c3RvbWl6ZWQucHVzaChncmFtbWFyKSwgXG4gICAgICAgIGlzTmlsKGtleSkgfHwgKHRoaXMuX2dyYW1tYXJNYXAuY3VzdG9taXplZFtrZXldID8gbnVsbCA9PT0gKF9iID0gdGhpcy5fd2FybmluZykgfHwgdm9pZCAwID09PSBfYiB8fCBfYi5jYWxsKHRoaXMsIGtleSwgZ3JhbW1hcikgOiB0aGlzLl9ncmFtbWFyTWFwLmN1c3RvbWl6ZWRba2V5XSA9IGdyYW1tYXIpKSwgXG4gICAgICAgIHRoaXMuX3NpemUgKz0gMSwgdGhpcztcbiAgICB9XG4gICAgdW5yZWNvcmQoZ3JhbW1hcikge1xuICAgICAgICBjb25zdCBncmFtbWFyVHlwZSA9IGdyYW1tYXIuZ3JhbW1hclR5cGUsIGtleSA9IHRoaXMuX21hcEtleShncmFtbWFyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJNYXBbZ3JhbW1hclR5cGVdID8gKHRoaXMuX2dyYW1tYXJzW2dyYW1tYXJUeXBlXSA9IHRoaXMuX2dyYW1tYXJzW2dyYW1tYXJUeXBlXS5maWx0ZXIoKHN0b3JlZEdyYW1tYXIgPT4gc3RvcmVkR3JhbW1hciAhPT0gZ3JhbW1hcikpLCBcbiAgICAgICAgaXNOaWwoa2V5KSB8fCB0aGlzLl9ncmFtbWFyTWFwW2dyYW1tYXJUeXBlXVtrZXldICE9PSBncmFtbWFyIHx8IGRlbGV0ZSB0aGlzLl9ncmFtbWFyTWFwW2dyYW1tYXJUeXBlXVtrZXldKSA6ICh0aGlzLl9ncmFtbWFycy5jdXN0b21pemVkID0gdGhpcy5fZ3JhbW1hcnMuY3VzdG9taXplZC5maWx0ZXIoKHN0b3JlZEdyYW1tYXIgPT4gc3RvcmVkR3JhbW1hciAhPT0gZ3JhbW1hcikpLCBcbiAgICAgICAgaXNOaWwoa2V5KSB8fCB0aGlzLl9ncmFtbWFyTWFwLmN1c3RvbWl6ZWRba2V5XSAhPT0gZ3JhbW1hciB8fCBkZWxldGUgdGhpcy5fZ3JhbW1hck1hcC5jdXN0b21pemVkW2tleV0pLCBcbiAgICAgICAgdGhpcy5fc2l6ZSAtPSAxLCB0aGlzO1xuICAgIH1cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG4gICAgZ2V0U2lnbmFsKGtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLl9ncmFtbWFyTWFwLnNpZ25hbFtrZXldKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBudWxsO1xuICAgIH1cbiAgICBnZXREYXRhKGtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLl9ncmFtbWFyTWFwLmRhdGFba2V5XSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0U2NhbGUoa2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMuX2dyYW1tYXJNYXAuc2NhbGVba2V5XSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0Q29vcmRpbmF0ZShrZXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gKF9hID0gdGhpcy5fZ3JhbW1hck1hcC5jb29yZGluYXRlW2tleV0pICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGw7XG4gICAgfVxuICAgIGdldE1hcmsoa2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IChfYSA9IHRoaXMuX2dyYW1tYXJNYXAubWFya1trZXldKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiBudWxsO1xuICAgIH1cbiAgICBnZXRDdXN0b21pemVkKGtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLl9ncmFtbWFyTWFwLmN1c3RvbWl6ZWRba2V5XSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0R3JhbW1hcihrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJNYXAuZGF0YVtrZXldID8gdGhpcy5fZ3JhbW1hck1hcC5kYXRhW2tleV0gOiB0aGlzLl9ncmFtbWFyTWFwLnNpZ25hbFtrZXldID8gdGhpcy5fZ3JhbW1hck1hcC5zaWduYWxba2V5XSA6IHRoaXMuX2dyYW1tYXJNYXAuc2NhbGVba2V5XSA/IHRoaXMuX2dyYW1tYXJNYXAuc2NhbGVba2V5XSA6IHRoaXMuX2dyYW1tYXJNYXAuY29vcmRpbmF0ZVtrZXldID8gdGhpcy5fZ3JhbW1hck1hcC5jb29yZGluYXRlW2tleV0gOiB0aGlzLl9ncmFtbWFyTWFwLm1hcmtba2V5XSA/IHRoaXMuX2dyYW1tYXJNYXAubWFya1trZXldIDogdGhpcy5fZ3JhbW1hck1hcC5jdXN0b21pemVkW2tleV0gPyB0aGlzLl9ncmFtbWFyTWFwLmN1c3RvbWl6ZWRba2V5XSA6IG51bGw7XG4gICAgfVxuICAgIGdldEFsbFNpZ25hbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncmFtbWFycy5zaWduYWw7XG4gICAgfVxuICAgIGdldEFsbERhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncmFtbWFycy5kYXRhO1xuICAgIH1cbiAgICBnZXRBbGxTY2FsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncmFtbWFycy5zY2FsZTtcbiAgICB9XG4gICAgZ2V0QWxsQ29vcmRpbmF0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncmFtbWFycy5jb29yZGluYXRlO1xuICAgIH1cbiAgICBnZXRBbGxNYXJrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyYW1tYXJzLm1hcms7XG4gICAgfVxuICAgIGdldEFsbEN1c3RvbWl6ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncmFtbWFycy5jdXN0b21pemVkO1xuICAgIH1cbiAgICB0cmF2ZXJzZShmdW5jKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhudWxsICE9PSAoX2EgPSB0aGlzLl9ncmFtbWFycykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge30pLmZvckVhY2goKGdyYW1tYXJzID0+IChudWxsICE9IGdyYW1tYXJzID8gZ3JhbW1hcnMgOiBbXSkuZm9yRWFjaCgoZ3JhbW1hciA9PiB7XG4gICAgICAgICAgICBmdW5jLmNhbGwobnVsbCwgZ3JhbW1hcik7XG4gICAgICAgIH0pKSkpO1xuICAgIH1cbiAgICBmaW5kKGZ1bmMpIHtcbiAgICAgICAgbGV0IHRhcmdldEdyYW1tYXIgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy50cmF2ZXJzZSgoZ3JhbW1hciA9PiAhMCA9PT0gZnVuYy5jYWxsKG51bGwsIGdyYW1tYXIpICYmICh0YXJnZXRHcmFtbWFyID0gZ3JhbW1hciwgXG4gICAgICAgICEwKSkpLCB0YXJnZXRHcmFtbWFyO1xuICAgIH1cbiAgICBmaWx0ZXIoZnVuYykge1xuICAgICAgICBjb25zdCB0YXJnZXRHcmFtbWFycyA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy50cmF2ZXJzZSgoZ3JhbW1hciA9PiB7XG4gICAgICAgICAgICAhMCA9PT0gZnVuYy5jYWxsKG51bGwsIGdyYW1tYXIpICYmIHRhcmdldEdyYW1tYXJzLnB1c2goZ3JhbW1hcik7XG4gICAgICAgIH0pKSwgdGFyZ2V0R3JhbW1hcnM7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9zaXplID0gMCwgdGhpcy5fZ3JhbW1hcnMgPSB7XG4gICAgICAgICAgICBzaWduYWw6IFtdLFxuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICBzY2FsZTogW10sXG4gICAgICAgICAgICBjb29yZGluYXRlOiBbXSxcbiAgICAgICAgICAgIG1hcms6IFtdLFxuICAgICAgICAgICAgY3VzdG9taXplZDogW11cbiAgICAgICAgfSwgdGhpcy5fZ3JhbW1hck1hcCA9IHtcbiAgICAgICAgICAgIHNpZ25hbDoge30sXG4gICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgIHNjYWxlOiB7fSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGU6IHt9LFxuICAgICAgICAgICAgbWFyazoge30sXG4gICAgICAgICAgICBjdXN0b21pemVkOiB7fVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICB0aGlzLl9zaXplID0gMCwgdGhpcy5fZ3JhbW1hcnMgPSBudWxsLCB0aGlzLl9ncmFtbWFyTWFwID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWNvcmRlZFRyZWVHcmFtbWFycyBleHRlbmRzIFJlY29yZGVkR3JhbW1hcnMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLl9tYXJrTm9kZXMgPSBbXTtcbiAgICB9XG4gICAgcmVjb3JkKGdyYW1tYXIpIHtcbiAgICAgICAgaWYgKHN1cGVyLnJlY29yZChncmFtbWFyKSwgXCJtYXJrXCIgPT09IGdyYW1tYXIuZ3JhbW1hclR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcmsgPSBncmFtbWFyLCBjdXJyZW50Tm9kZSA9IHtcbiAgICAgICAgICAgICAgICBtYXJrOiBtYXJrLFxuICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9tYXJrTm9kZXMuZm9yRWFjaCgobm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0TWFyayA9IG5vZGUubWFyaztcbiAgICAgICAgICAgICAgICB0YXJnZXRNYXJrLm1hcmtUeXBlID09PSBHcmFtbWFyTWFya1R5cGUuZ3JvdXAgJiYgdGFyZ2V0TWFyay5pbmNsdWRlc0NoaWxkKG1hcmssICExKSA/IChub2RlLmNoaWxkcmVuLnB1c2goY3VycmVudE5vZGUpLCBcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5wYXJlbnQgPSBub2RlKSA6IG1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCAmJiBtYXJrLmluY2x1ZGVzQ2hpbGQodGFyZ2V0TWFyaywgITEpICYmIChjdXJyZW50Tm9kZS5jaGlsZHJlbi5wdXNoKG5vZGUpLCBcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudCA9IGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy5fbWFya05vZGVzLnB1c2goY3VycmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB1bnJlY29yZChncmFtbWFyKSB7XG4gICAgICAgIGlmIChzdXBlci51bnJlY29yZChncmFtbWFyKSwgXCJtYXJrXCIgPT09IGdyYW1tYXIuZ3JhbW1hclR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcmsgPSBncmFtbWFyLCBjdXJyZW50Tm9kZSA9IHRoaXMuX21hcmtOb2Rlcy5maW5kKChub2RlID0+IG5vZGUubWFyayA9PT0gbWFyaykpO1xuICAgICAgICAgICAgdGhpcy5fbWFya05vZGVzLmZvckVhY2goKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgIG5vZGUubWFyay5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwICYmIG5vZGUuY2hpbGRyZW4uaW5jbHVkZXMoY3VycmVudE5vZGUpID8gKG5vZGUuY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuLmZpbHRlcigobiA9PiBuICE9PSBjdXJyZW50Tm9kZSkpLCBcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5wYXJlbnQgPSBudWxsKSA6IG1hcmsubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCAmJiBjdXJyZW50Tm9kZS5jaGlsZHJlbi5pbmNsdWRlcyhub2RlKSAmJiAoY3VycmVudE5vZGUuY2hpbGRyZW4gPSBjdXJyZW50Tm9kZS5jaGlsZHJlbi5maWx0ZXIoKG4gPT4gbiAhPT0gbm9kZSkpLCBcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudCA9IG51bGwpO1xuICAgICAgICAgICAgfSkpLCB0aGlzLl9tYXJrTm9kZXMgPSB0aGlzLl9tYXJrTm9kZXMuZmlsdGVyKChuID0+IG4gIT09IGN1cnJlbnROb2RlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldEFsbE1hcmtOb2RlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcmtOb2RlcztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHN1cGVyLmNsZWFyKCksIHRoaXMuX21hcmtOb2RlcyA9IFtdO1xuICAgIH1cbiAgICByZWxlYXNlKCkge1xuICAgICAgICBzdXBlci5yZWxlYXNlKCksIHRoaXMuX21hcmtOb2RlcyA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVsZWFzZVVwTWFya05vZGUgPSBub2RlID0+IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JhbW1hci1yZWNvcmQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-record.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/group.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/group.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroupMark: () => (/* binding */ GroupMark)\n/* harmony export */ });\n/* harmony import */ var _graph_attributes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/attributes */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isFunction.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass GroupMark extends _mark__WEBPACK_IMPORTED_MODULE_0__.Mark {\n    constructor(view, group) {\n        super(view, _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.group, group), this.children = [];\n    }\n    parseRenderContext() {\n        return {\n            large: !1\n        };\n    }\n    appendChild(mark) {\n        return this.children.push(mark), this;\n    }\n    removeChild(mark) {\n        return this.children = this.children.filter((child => child !== mark)), this;\n    }\n    includesChild(mark, descendant = !0) {\n        return !!this.children.includes(mark) || !!descendant && this.children.some((child => child.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_1__.GrammarMarkType.group && child.includesChild(mark, !0)));\n    }\n    updateLayoutChildren() {\n        return this.children.length ? (this.layoutChildren || (this.layoutChildren = []), \n        this.layoutChildren = this.children.filter((child => child.needLayout())), this) : this;\n    }\n    getAttributeTransforms() {\n        return _graph_attributes__WEBPACK_IMPORTED_MODULE_2__.transformsByType.rect;\n    }\n    evaluateJoin(data) {\n        if (!this.elements.length) {\n            const el = this.createElement();\n            el.updateData(_graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultKey, _graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultMarkData, (() => \"\")), this.elements = [ el ], \n            this.elementMap.set(_graph_constants__WEBPACK_IMPORTED_MODULE_3__.DefaultKey, el);\n        }\n    }\n    getChannelsFromConfig(element) {\n        const spec = this.spec, initAttrs = {};\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec.clip) || (initAttrs.clip = spec.clip), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec.zIndex) || (initAttrs.zIndex = spec.zIndex), \n        !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec.clipPath)) {\n            const paths = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(spec.clipPath) ? spec.clipPath([ element ]) : spec.clipPath;\n            paths && paths.length ? initAttrs.path = paths : (initAttrs.path = null, initAttrs.clip = !1);\n        }\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(spec.interactive) || (initAttrs.pickable = spec.interactive), initAttrs;\n    }\n    evaluateGroupEncode(elements, groupEncode, parameters) {\n        var _a;\n        const el = this.elements[0], nextAttrs = {}, items = [ Object.assign({}, null === (_a = el.items) || void 0 === _a ? void 0 : _a[0], {\n            nextAttrs: nextAttrs\n        }) ];\n        return (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_6__.invokeEncoderToItems)(el, items, groupEncode, parameters), this._groupEncodeResult = nextAttrs, \n        nextAttrs;\n    }\n    evaluateEncode(elements, encoders, parameters, noGroupEncode) {\n        const initAttrs = this.getChannelsFromConfig();\n        if (encoders) {\n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.BEFORE_ELEMENT_ENCODE, {\n                encoders: encoders,\n                parameters: parameters\n            }, this);\n            const groupEncodeAttrs = noGroupEncode ? null : this.evaluateGroupEncode(elements, encoders[_graph_enums__WEBPACK_IMPORTED_MODULE_1__.BuiltInEncodeNames.group], parameters);\n            elements.forEach((element => {\n                element.items.forEach((item => {\n                    item.nextAttrs = Object.assign(item.nextAttrs, initAttrs, groupEncodeAttrs);\n                })), element.encodeItems(element.items, encoders, this._isReentered, parameters);\n            })), this._isReentered = !1, this.evaluateTransform(this._getTransformsAfterEncodeItems(), elements, parameters), \n            elements.forEach((element => {\n                element.encodeGraphic();\n            })), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.AFTER_ELEMENT_ENCODE, {\n                encoders: encoders,\n                parameters: parameters\n            }, this);\n        } else elements.forEach((element => {\n            element.initGraphicItem(initAttrs);\n        }));\n    }\n    addGraphicItem(attrs, groupKey, newGraphicItem) {\n        const graphicItem = null != newGraphicItem ? newGraphicItem : (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_7__.createGraphicItem)(this, this.markType, attrs);\n        if (graphicItem) return this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.BEFORE_ADD_VRENDER_MARK, {\n            graphicItem: graphicItem\n        }), graphicItem.name = `${this.id() || this.markType}`, this.graphicParent.insertIntoKeepIdx(graphicItem, this.graphicIndex), \n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_1__.HOOK_EVENT.AFTER_ADD_VRENDER_MARK, {\n            graphicItem: graphicItem\n        }), graphicItem;\n    }\n}\n//# sourceMappingURL=group.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9ncm91cC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUQ7O0FBRVU7O0FBRWdCOztBQUV2Qjs7QUFFNUI7O0FBRXVCOztBQUVPOztBQUVyRCx3QkFBd0IsdUNBQUk7QUFDbkM7QUFDQSxvQkFBb0IseURBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpSEFBaUgseURBQWU7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwrREFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsd0RBQVUsRUFBRSw2REFBZTtBQUNyRCxnQ0FBZ0Msd0RBQVU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFLLDZDQUE2Qyw0REFBSztBQUNuRSxTQUFTLDREQUFLO0FBQ2QsMEJBQTBCLDREQUFVO0FBQ3BDO0FBQ0E7QUFDQSxlQUFlLDREQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw0QkFBNEI7QUFDL0U7QUFDQSxTQUFTO0FBQ1QsZUFBZSx3RUFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixvREFBVTtBQUNoQztBQUNBO0FBQ0EsYUFBYTtBQUNiLHdHQUF3Ryw0REFBa0I7QUFDMUg7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYSxjQUFjLG9EQUFVO0FBQ3JDO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsVUFBVTtBQUNWO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxzRUFBc0Usc0VBQWlCO0FBQ3ZGLDBDQUEwQyxvREFBVTtBQUNwRDtBQUNBLFNBQVMseUJBQXlCLDJCQUEyQjtBQUM3RCxrQkFBa0Isb0RBQVU7QUFDNUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L2dyb3VwLmpzPzcyZmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHJhbnNmb3Jtc0J5VHlwZSB9IGZyb20gXCIuLi9ncmFwaC9hdHRyaWJ1dGVzXCI7XG5cbmltcG9ydCB7IERlZmF1bHRLZXksIERlZmF1bHRNYXJrRGF0YSB9IGZyb20gXCIuLi9ncmFwaC9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgQnVpbHRJbkVuY29kZU5hbWVzLCBHcmFtbWFyTWFya1R5cGUsIEhPT0tfRVZFTlQgfSBmcm9tIFwiLi4vZ3JhcGgvZW51bXNcIjtcblxuaW1wb3J0IHsgY3JlYXRlR3JhcGhpY0l0ZW0gfSBmcm9tIFwiLi4vZ3JhcGgvdXRpbC9ncmFwaGljXCI7XG5cbmltcG9ydCB7IE1hcmsgfSBmcm9tIFwiLi9tYXJrXCI7XG5cbmltcG9ydCB7IGlzRnVuY3Rpb24sIGlzTmlsIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgaW52b2tlRW5jb2RlclRvSXRlbXMgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuZXhwb3J0IGNsYXNzIEdyb3VwTWFyayBleHRlbmRzIE1hcmsge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIGdyb3VwKSB7XG4gICAgICAgIHN1cGVyKHZpZXcsIEdyYW1tYXJNYXJrVHlwZS5ncm91cCwgZ3JvdXApLCB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgfVxuICAgIHBhcnNlUmVuZGVyQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhcmdlOiAhMVxuICAgICAgICB9O1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChtYXJrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLnB1c2gobWFyayksIHRoaXM7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkKG1hcmspIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuLmZpbHRlcigoY2hpbGQgPT4gY2hpbGQgIT09IG1hcmspKSwgdGhpcztcbiAgICB9XG4gICAgaW5jbHVkZXNDaGlsZChtYXJrLCBkZXNjZW5kYW50ID0gITApIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5jaGlsZHJlbi5pbmNsdWRlcyhtYXJrKSB8fCAhIWRlc2NlbmRhbnQgJiYgdGhpcy5jaGlsZHJlbi5zb21lKChjaGlsZCA9PiBjaGlsZC5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwICYmIGNoaWxkLmluY2x1ZGVzQ2hpbGQobWFyaywgITApKSk7XG4gICAgfVxuICAgIHVwZGF0ZUxheW91dENoaWxkcmVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggPyAodGhpcy5sYXlvdXRDaGlsZHJlbiB8fCAodGhpcy5sYXlvdXRDaGlsZHJlbiA9IFtdKSwgXG4gICAgICAgIHRoaXMubGF5b3V0Q2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuLmZpbHRlcigoY2hpbGQgPT4gY2hpbGQubmVlZExheW91dCgpKSksIHRoaXMpIDogdGhpcztcbiAgICB9XG4gICAgZ2V0QXR0cmlidXRlVHJhbnNmb3JtcygpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybXNCeVR5cGUucmVjdDtcbiAgICB9XG4gICAgZXZhbHVhdGVKb2luKGRhdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZWwgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoKTtcbiAgICAgICAgICAgIGVsLnVwZGF0ZURhdGEoRGVmYXVsdEtleSwgRGVmYXVsdE1hcmtEYXRhLCAoKCkgPT4gXCJcIikpLCB0aGlzLmVsZW1lbnRzID0gWyBlbCBdLCBcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudE1hcC5zZXQoRGVmYXVsdEtleSwgZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENoYW5uZWxzRnJvbUNvbmZpZyhlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNwZWMgPSB0aGlzLnNwZWMsIGluaXRBdHRycyA9IHt9O1xuICAgICAgICBpZiAoaXNOaWwoc3BlYy5jbGlwKSB8fCAoaW5pdEF0dHJzLmNsaXAgPSBzcGVjLmNsaXApLCBpc05pbChzcGVjLnpJbmRleCkgfHwgKGluaXRBdHRycy56SW5kZXggPSBzcGVjLnpJbmRleCksIFxuICAgICAgICAhaXNOaWwoc3BlYy5jbGlwUGF0aCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhzID0gaXNGdW5jdGlvbihzcGVjLmNsaXBQYXRoKSA/IHNwZWMuY2xpcFBhdGgoWyBlbGVtZW50IF0pIDogc3BlYy5jbGlwUGF0aDtcbiAgICAgICAgICAgIHBhdGhzICYmIHBhdGhzLmxlbmd0aCA/IGluaXRBdHRycy5wYXRoID0gcGF0aHMgOiAoaW5pdEF0dHJzLnBhdGggPSBudWxsLCBpbml0QXR0cnMuY2xpcCA9ICExKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNOaWwoc3BlYy5pbnRlcmFjdGl2ZSkgfHwgKGluaXRBdHRycy5waWNrYWJsZSA9IHNwZWMuaW50ZXJhY3RpdmUpLCBpbml0QXR0cnM7XG4gICAgfVxuICAgIGV2YWx1YXRlR3JvdXBFbmNvZGUoZWxlbWVudHMsIGdyb3VwRW5jb2RlLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLmVsZW1lbnRzWzBdLCBuZXh0QXR0cnMgPSB7fSwgaXRlbXMgPSBbIE9iamVjdC5hc3NpZ24oe30sIG51bGwgPT09IChfYSA9IGVsLml0ZW1zKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2FbMF0sIHtcbiAgICAgICAgICAgIG5leHRBdHRyczogbmV4dEF0dHJzXG4gICAgICAgIH0pIF07XG4gICAgICAgIHJldHVybiBpbnZva2VFbmNvZGVyVG9JdGVtcyhlbCwgaXRlbXMsIGdyb3VwRW5jb2RlLCBwYXJhbWV0ZXJzKSwgdGhpcy5fZ3JvdXBFbmNvZGVSZXN1bHQgPSBuZXh0QXR0cnMsIFxuICAgICAgICBuZXh0QXR0cnM7XG4gICAgfVxuICAgIGV2YWx1YXRlRW5jb2RlKGVsZW1lbnRzLCBlbmNvZGVycywgcGFyYW1ldGVycywgbm9Hcm91cEVuY29kZSkge1xuICAgICAgICBjb25zdCBpbml0QXR0cnMgPSB0aGlzLmdldENoYW5uZWxzRnJvbUNvbmZpZygpO1xuICAgICAgICBpZiAoZW5jb2RlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9FTEVNRU5UX0VOQ09ERSwge1xuICAgICAgICAgICAgICAgIGVuY29kZXJzOiBlbmNvZGVycyxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzXG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwRW5jb2RlQXR0cnMgPSBub0dyb3VwRW5jb2RlID8gbnVsbCA6IHRoaXMuZXZhbHVhdGVHcm91cEVuY29kZShlbGVtZW50cywgZW5jb2RlcnNbQnVpbHRJbkVuY29kZU5hbWVzLmdyb3VwXSwgcGFyYW1ldGVycyk7XG4gICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lml0ZW1zLmZvckVhY2goKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLm5leHRBdHRycyA9IE9iamVjdC5hc3NpZ24oaXRlbS5uZXh0QXR0cnMsIGluaXRBdHRycywgZ3JvdXBFbmNvZGVBdHRycyk7XG4gICAgICAgICAgICAgICAgfSkpLCBlbGVtZW50LmVuY29kZUl0ZW1zKGVsZW1lbnQuaXRlbXMsIGVuY29kZXJzLCB0aGlzLl9pc1JlZW50ZXJlZCwgcGFyYW1ldGVycyk7XG4gICAgICAgICAgICB9KSksIHRoaXMuX2lzUmVlbnRlcmVkID0gITEsIHRoaXMuZXZhbHVhdGVUcmFuc2Zvcm0odGhpcy5fZ2V0VHJhbnNmb3Jtc0FmdGVyRW5jb2RlSXRlbXMoKSwgZWxlbWVudHMsIHBhcmFtZXRlcnMpLCBcbiAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZW5jb2RlR3JhcGhpYygpO1xuICAgICAgICAgICAgfSkpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9FTEVNRU5UX0VOQ09ERSwge1xuICAgICAgICAgICAgICAgIGVuY29kZXJzOiBlbmNvZGVycyxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzXG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5pbml0R3JhcGhpY0l0ZW0oaW5pdEF0dHJzKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhZGRHcmFwaGljSXRlbShhdHRycywgZ3JvdXBLZXksIG5ld0dyYXBoaWNJdGVtKSB7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNJdGVtID0gbnVsbCAhPSBuZXdHcmFwaGljSXRlbSA/IG5ld0dyYXBoaWNJdGVtIDogY3JlYXRlR3JhcGhpY0l0ZW0odGhpcywgdGhpcy5tYXJrVHlwZSwgYXR0cnMpO1xuICAgICAgICBpZiAoZ3JhcGhpY0l0ZW0pIHJldHVybiB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfQUREX1ZSRU5ERVJfTUFSSywge1xuICAgICAgICAgICAgZ3JhcGhpY0l0ZW06IGdyYXBoaWNJdGVtXG4gICAgICAgIH0pLCBncmFwaGljSXRlbS5uYW1lID0gYCR7dGhpcy5pZCgpIHx8IHRoaXMubWFya1R5cGV9YCwgdGhpcy5ncmFwaGljUGFyZW50Lmluc2VydEludG9LZWVwSWR4KGdyYXBoaWNJdGVtLCB0aGlzLmdyYXBoaWNJbmRleCksIFxuICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9BRERfVlJFTkRFUl9NQVJLLCB7XG4gICAgICAgICAgICBncmFwaGljSXRlbTogZ3JhcGhpY0l0ZW1cbiAgICAgICAgfSksIGdyYXBoaWNJdGVtO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3VwLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/group.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark-animate-mixin.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark-animate-mixin.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerMarkAnimateAPI: () => (/* binding */ registerMarkAnimateAPI)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _graph_animation_animate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../graph/animation/animate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/animate.js\");\n/* harmony import */ var _mark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js\");\n\n\n\n\n\n\nclass MarkAnimateMixin {\n    constructor() {\n        this.animate = new _graph_animation_animate__WEBPACK_IMPORTED_MODULE_0__.Animate(this, {});\n    }\n    initAnimate(spec) {\n        this.animate || (this.animate = new _graph_animation_animate__WEBPACK_IMPORTED_MODULE_0__.Animate(this, spec.animation), this.needAnimate() && this.animate.updateState(spec.animationState));\n    }\n    reuseAnimate(mark) {\n        this.animate = mark.animate, this.animate.mark = this;\n    }\n    updateAnimate(spec) {\n        this.animate.updateConfig(spec.animation), this.animate.updateState(spec.animationState);\n    }\n}\n\nconst registerMarkAnimateAPI = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.mixin)(_mark__WEBPACK_IMPORTED_MODULE_2__.Mark, MarkAnimateMixin);\n};\n//# sourceMappingURL=mark-animate-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9tYXJrLWFuaW1hdGUtbWl4aW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5Qzs7QUFFWTs7QUFFdkI7O0FBRTlCO0FBQ0E7QUFDQSwyQkFBMkIsNkRBQU8sU0FBUztBQUMzQztBQUNBO0FBQ0EsNENBQTRDLDZEQUFPO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUCxJQUFJLHVEQUFLLENBQUMsdUNBQUk7QUFDZDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L21hcmstYW5pbWF0ZS1taXhpbi5qcz82NzY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1peGluIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgQW5pbWF0ZSB9IGZyb20gXCIuLi9ncmFwaC9hbmltYXRpb24vYW5pbWF0ZVwiO1xuXG5pbXBvcnQgeyBNYXJrIH0gZnJvbSBcIi4vbWFya1wiO1xuXG5jbGFzcyBNYXJrQW5pbWF0ZU1peGluIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hbmltYXRlID0gbmV3IEFuaW1hdGUodGhpcywge30pO1xuICAgIH1cbiAgICBpbml0QW5pbWF0ZShzcGVjKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0ZSB8fCAodGhpcy5hbmltYXRlID0gbmV3IEFuaW1hdGUodGhpcywgc3BlYy5hbmltYXRpb24pLCB0aGlzLm5lZWRBbmltYXRlKCkgJiYgdGhpcy5hbmltYXRlLnVwZGF0ZVN0YXRlKHNwZWMuYW5pbWF0aW9uU3RhdGUpKTtcbiAgICB9XG4gICAgcmV1c2VBbmltYXRlKG1hcmspIHtcbiAgICAgICAgdGhpcy5hbmltYXRlID0gbWFyay5hbmltYXRlLCB0aGlzLmFuaW1hdGUubWFyayA9IHRoaXM7XG4gICAgfVxuICAgIHVwZGF0ZUFuaW1hdGUoc3BlYykge1xuICAgICAgICB0aGlzLmFuaW1hdGUudXBkYXRlQ29uZmlnKHNwZWMuYW5pbWF0aW9uKSwgdGhpcy5hbmltYXRlLnVwZGF0ZVN0YXRlKHNwZWMuYW5pbWF0aW9uU3RhdGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyTWFya0FuaW1hdGVBUEkgPSAoKSA9PiB7XG4gICAgbWl4aW4oTWFyaywgTWFya0FuaW1hdGVNaXhpbik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFyay1hbmltYXRlLW1peGluLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark-animate-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Mark: () => (/* binding */ Mark)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isValid.js\");\n/* harmony import */ var _graph_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../graph/constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/constants.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _graph_mark_differ__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../graph/mark/differ */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/differ.js\");\n/* harmony import */ var _graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../graph/util/graphic */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/graphic.js\");\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_mark__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../parse/mark */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/mark.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _parse_transform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../parse/transform */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/transform.js\");\n/* harmony import */ var _graph_mark_encode__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../graph/mark/encode */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/mark/encode.js\");\n/* harmony import */ var _graph_attributes__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../graph/attributes */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/attributes/transform.js\");\n/* harmony import */ var _graph_util_events_extend__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graph/util/events-extend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _graph_element__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../graph/element */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/element.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Mark extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor(view, markType, group) {\n        super(view), this.grammarType = \"mark\", this.elements = [], this.elementMap = new Map, \n        this.isUpdated = !0, this._isReentered = !1, this.differ = new _graph_mark_differ__WEBPACK_IMPORTED_MODULE_1__.Differ([]), this.markType = markType, \n        this.spec.type = markType, this.spec.encode = {\n            update: {}\n        }, this.spec.group = group, group && (this.group = group, this.attach(group), group.appendChild(this));\n    }\n    parse(spec) {\n        var _a, _b, _c;\n        if (super.parse(spec), this.spec.group) {\n            const groupMark = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.spec.group) ? this.view.getMarkById(this.spec.group) : this.spec.group;\n            this.detach(groupMark);\n        }\n        const groupMark = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(spec.group) ? this.view.getMarkById(spec.group) : spec.group;\n        return this.attach(groupMark), this.join(null === (_a = spec.from) || void 0 === _a ? void 0 : _a.data, spec.key, spec.sort, spec.groupBy, spec.groupSort), \n        this.coordinate(spec.coordinate), this.state(spec.state, this.spec.stateSort), Object.keys(null !== (_b = this.spec.encode) && void 0 !== _b ? _b : {}).forEach((state => {\n            this.encodeState(state, {}, !0);\n        })), Object.keys(null !== (_c = spec.encode) && void 0 !== _c ? _c : {}).forEach((state => {\n            this.encodeState(state, spec.encode[state]);\n        })), this.animation(spec.animation), this.animationState(spec.animationState), this.morph(spec.morph, spec.morphKey, spec.morphElementKey), \n        this.layout(spec.layout), this.configure(spec), this.transform(spec.transform), \n        this.parseAddition(spec), this.spec = spec, this.markType = spec.type, this.commit(), \n        this;\n    }\n    parameters() {\n        var _a;\n        return null !== (_a = this._finalParameters) && void 0 !== _a ? _a : super.parameters();\n    }\n    parseAddition(spec) {\n        return this;\n    }\n    reuse(grammar) {\n        var _b;\n        if (grammar.grammarType !== this.grammarType) return this;\n        const mark = grammar;\n        return this.markType = mark.markType, this.coord = mark.coord, this.elementMap = mark.elementMap, \n        this.elements = mark.elements, this.elementMap.forEach((element => element.mark = this)), \n        this.differ = mark.differ, null === (_b = this.reuseAnimate) || void 0 === _b || _b.call(this, mark), \n        this._context = mark._context, this.graphicItem = mark.graphicItem, this.graphicIndex = mark.graphicIndex, \n        this.graphicParent = mark.graphicParent, this.needClear = mark.needClear, this.isUpdated = mark.isUpdated, \n        this;\n    }\n    needLayout() {\n        return !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.layout);\n    }\n    handleLayoutEnd() {}\n    handleRenderEnd() {\n        this.needClear && (this.cleanExitElements(), this.elementMap.forEach((element => {\n            element.diffState === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit ? element.clearGraphicAttributes() : element.clearChangedGraphicAttributes();\n        })), this.differ.updateToCurrent(), this.needClear = !1);\n    }\n    evaluateMainTasks(data, parameters) {\n        var _a, _b;\n        if (this.needSkipBeforeLayout() && this.view.getLayoutState() === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.LayoutState.before) return this;\n        const stage = null === (_a = this.view.renderer) || void 0 === _a ? void 0 : _a.stage();\n        this.init(stage, parameters);\n        const transformData = this.evaluateTransform(this._getTransformsBeforeJoin(), null != data ? data : _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultMarkData, parameters), progressiveTransform = null == transformData ? void 0 : transformData.progressive;\n        if (progressiveTransform ? this.renderContext = {\n            large: !1\n        } : (this.evaluateGroup(transformData), this.renderContext = this.parseRenderContext(transformData, parameters)), \n        null === (_b = this.renderContext) || void 0 === _b ? void 0 : _b.progressive) this.differ.reset(), \n        this.elementMap.clear(), this.evaluateProgressive(); else {\n            let inputData = null;\n            if (progressiveTransform) {\n                if (this.renderContext.parameters = parameters, this.renderContext.beforeTransformProgressive = transformData.progressive, \n                inputData = transformData.progressive.output(), transformData.progressive.canAnimate && transformData.progressive.unfinished()) return this.update(this.spec), \n                this;\n            } else inputData = transformData;\n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_JOIN), this.evaluateJoin(inputData), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_JOIN), \n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_STATE), this.evaluateState(this.elements, this.spec.state, parameters), \n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_STATE), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_ENCODE), \n            this.evaluateEncode(this.elements, this._getEncoders(), parameters), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_ENCODE);\n        }\n        return this.update(this.spec), this;\n    }\n    evaluateGroup(data) {\n        if (this.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group) return;\n        const res = (0,_graph_mark_differ__WEBPACK_IMPORTED_MODULE_1__.groupData)(null != data ? data : _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultMarkData, this.spec.groupBy, this.spec.groupSort);\n        this._groupEncodeResult = null, this._groupedData = res;\n    }\n    _getTransformsAfterEncodeItems() {\n        return this.transforms && this.transforms.filter((entry => \"afterEncodeItems\" === entry.markPhase));\n    }\n    _getTransformsAfterEncode() {\n        return this.transforms && this.transforms.filter((entry => (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(entry.markPhase) || \"afterEncode\" === entry.markPhase));\n    }\n    _getTransformsBeforeJoin() {\n        return this.transforms ? this.transforms.filter((entry => \"beforeJoin\" === entry.markPhase)) : [];\n    }\n    evaluate(data, parameters) {\n        var _a;\n        return this.evaluateMainTasks(data, parameters), (null === (_a = this.renderContext) || void 0 === _a ? void 0 : _a.progressive) || this.evaluateTransform(this._getTransformsAfterEncode(), this.elements, parameters), \n        this;\n    }\n    output() {\n        return this;\n    }\n    join(data, key, sort, groupBy, groupSort) {\n        return this.grammarSource && (this.detach(this.grammarSource), this.grammarSource = null), \n        this.spec.from = null, (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(data) || ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(data) ? this.grammarSource = this.view.getDataById(data) : this.grammarSource = data, \n        this.spec.from = {\n            data: data\n        }, this.attach(this.grammarSource)), this.spec.key = key, this.spec.sort = sort, \n        this.spec.groupBy = groupBy, this.spec.groupSort = groupSort, this.commit(), this;\n    }\n    coordinate(coordinate) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(coordinate) ? this.coord = this.view.getCoordinateById(coordinate) : this.coord = coordinate, \n        this.attach(this.coord), this.commit(), this;\n    }\n    state(state, stateSort) {\n        return this.spec.stateSort = stateSort, this.setFunctionSpec(state, \"state\");\n    }\n    encode(channel, value, clear) {\n        return this.encodeState(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.update, channel, value, clear);\n    }\n    encodeState(state, channel, value, clear) {\n        if (state === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter && (this._isReentered = !0), this.spec.encode[state]) {\n            const lastEncoder = this.spec.encode[state];\n            if ((0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.isFunctionType)(lastEncoder)) this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(lastEncoder, this.view)); else {\n                const isSingleChannel = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(channel);\n                isSingleChannel && clear || !isSingleChannel && value ? (Object.keys(lastEncoder).forEach((c => {\n                    this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(lastEncoder[c], this.view));\n                })), this.spec.encode[state] = {}) : isSingleChannel ? this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(lastEncoder[channel], this.view)) : Object.keys(channel).forEach((c => {\n                    this.detach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(lastEncoder[c], this.view));\n                }));\n            }\n        }\n        return channel && (this.spec.encode[state] || (this.spec.encode[state] = {}), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(channel) ? (this.spec.encode[state][channel] = value, \n        this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(value, this.view))) : (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.isFunctionType)(channel) ? (this.spec.encode[state] = channel, \n        this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(channel, this.view))) : channel && (Object.assign(this.spec.encode[state], channel), \n        Object.values(channel).forEach((channelEncoder => {\n            this.attach((0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.parseEncodeType)(channelEncoder, this.view));\n        })))), this.commit(), this;\n    }\n    _getEncoders() {\n        var _a;\n        return null !== (_a = this.spec.encode) && void 0 !== _a ? _a : {};\n    }\n    animation(animationConfig) {\n        return this.spec.animation = animationConfig, this;\n    }\n    animationState(animationState) {\n        return this.setFunctionSpec(animationState, \"animationState\");\n    }\n    layout(layout) {\n        return this.spec.layout = layout, this.commit(), this;\n    }\n    morph(enableMorph, morphKey, morphElementKey) {\n        return this.spec.morph = enableMorph, this.spec.morphKey = morphKey, this.spec.morphElementKey = morphElementKey, \n        this;\n    }\n    transform(transforms) {\n        const prevTransforms = (0,_parse_transform__WEBPACK_IMPORTED_MODULE_8__.parseTransformSpec)(this.spec.transform, this.view);\n        prevTransforms && (this.detach(prevTransforms.refs), this.transforms = []);\n        const nextTransforms = (0,_parse_transform__WEBPACK_IMPORTED_MODULE_8__.parseTransformSpec)(transforms, this.view);\n        return nextTransforms && (this.attach(nextTransforms.refs), this.transforms = nextTransforms.transforms), \n        this.spec.transform = transforms, this.commit(), this;\n    }\n    configure(config) {\n        const keys = [ \"clip\", \"clipPath\", \"zIndex\", \"interactive\", \"context\", \"setCustomizedShape\", \"large\", \"largeThreshold\", \"progressiveStep\", \"progressiveThreshold\", \"support3d\", \"morph\", \"morphKey\", \"morphElementKey\", \"attributeTransforms\", \"skipTheme\", \"enableSegments\", \"stateSort\", \"graphicName\", \"overflow\" ];\n        return null === config ? (keys.forEach((key => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec[key]) || (this.spec[key] = void 0);\n        })), this) : (keys.forEach((key => {\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(config[key]) || (this.spec[key] = config[key]);\n        })), this);\n    }\n    context(context) {\n        return this.spec.context = context, this._context = context, this;\n    }\n    isCollectionMark() {\n        return _graph_constants__WEBPACK_IMPORTED_MODULE_5__.CollectionMarkType.includes(this.markType);\n    }\n    needAnimate() {\n        var _a;\n        return !(null === (_a = this.renderContext) || void 0 === _a ? void 0 : _a.progressive) && !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.spec.animation);\n    }\n    getAllElements() {\n        const elements = this.elements.slice();\n        return this.elementMap.forEach((element => {\n            element.diffState !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit || elements.includes(element) || elements.push(element);\n        })), this.spec.sort && elements.sort(((elementA, elementB) => this.spec.sort(elementA.getDatum(), elementB.getDatum()))), \n        elements;\n    }\n    getScales() {\n        const scales = {};\n        return this.references.forEach(((count, ref) => {\n            ref.grammarType === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarTypeEnum.scale && (scales[ref.id()] = ref.output());\n        })), scales;\n    }\n    getScalesByChannel() {\n        const encoders = this.spec.encode;\n        if (!encoders) return {};\n        const res = {}, params = this.parameters();\n        return Object.keys(encoders).forEach((state => {\n            const useEncoders = encoders[state];\n            useEncoders && !(0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.isFunctionType)(useEncoders) && Object.keys(useEncoders).forEach((channel => {\n                (0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.isScaleEncode)(useEncoders[channel]) && (res[channel] = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.getGrammarOutput)(useEncoders[channel].scale, params));\n            }));\n        })), res;\n    }\n    getFieldsByChannel() {\n        const encoders = this.spec.encode;\n        if (!encoders) return {};\n        const res = {};\n        return Object.keys(encoders).forEach((state => {\n            const useEncoders = encoders[state];\n            (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.isFunctionType)(useEncoders) || Object.keys(useEncoders).forEach((channel => {\n                (0,_parse_mark__WEBPACK_IMPORTED_MODULE_7__.isFieldEncode)(useEncoders[channel]) && (res[channel] = useEncoders[channel].field);\n            }));\n        })), res;\n    }\n    init(stage, parameters) {\n        var _b, _c, _d, _e, _f;\n        if (this._delegateEvent || (this._delegateEvent = (event, type) => {\n            const extendedEvt = (0,_graph_util_events_extend__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.view, event, type, _constants__WEBPACK_IMPORTED_MODULE_10__.EVENT_SOURCE_VIEW), activeElement = event.element;\n            (null == activeElement ? void 0 : activeElement.mark) === this && this.emitGrammarEvent(type, extendedEvt, activeElement);\n        }, this.initEvent()), null === (_b = this.initAnimate) || void 0 === _b || _b.call(this, this.spec), \n        !this.group) {\n            const group = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.getGrammarOutput)(this.spec.group, parameters);\n            this.group = group, group && group.appendChild(this);\n        }\n        const groupGraphicItem = this.group ? this.group.getGroupGraphicItem() : stage.defaultLayer, markIndex = null !== (_e = null === (_d = null === (_c = this.group) || void 0 === _c ? void 0 : _c.children) || void 0 === _d ? void 0 : _d.indexOf(this)) && void 0 !== _e ? _e : 0;\n        if (this.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group) {\n            if (!this.graphicItem) {\n                const graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__.createGraphicItem)(this, _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group, {\n                    pickable: !1,\n                    zIndex: null !== (_f = this.spec.zIndex) && void 0 !== _f ? _f : 0,\n                    overflow: this.spec.overflow\n                });\n                (this.spec.support3d || _graph_constants__WEBPACK_IMPORTED_MODULE_5__.Mark3DType.includes(this.markType)) && graphicItem.setMode(\"3d\"), \n                graphicItem.name = `${this.id() || this.markType}`, this.graphicItem = graphicItem;\n            }\n            this.graphicParent = this.graphicItem, !groupGraphicItem || this.graphicIndex === markIndex && this.graphicItem.parent === groupGraphicItem || groupGraphicItem.insertIntoKeepIdx(this.graphicItem, markIndex);\n        } else this.graphicParent = groupGraphicItem, this.graphicParent.setAttributes({\n            overflow: this.spec.overflow\n        });\n        this.graphicIndex = markIndex;\n    }\n    update(spec) {\n        var _b;\n        if (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_UPDATE), this._context = this.spec.context, \n        this.isUpdated = !0, this.renderContext.progressive || null === (_b = this.updateAnimate) || void 0 === _b || _b.call(this, spec), \n        this.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group) {\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.zIndex) || this.graphicItem.setAttribute(\"zIndex\", spec.zIndex), \n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.clip) || this.graphicItem.setAttribute(\"clip\", spec.clip), !(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.clipPath)) {\n                const paths = (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(spec.clipPath) ? spec.clipPath : spec.clipPath(this.elements);\n                paths && paths.length ? this.graphicItem.setAttribute(\"path\", paths) : this.graphicItem.setAttributes({\n                    path: paths,\n                    clip: !1\n                });\n            }\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.overflow) || this.graphicItem.setAttribute(\"overflow\", spec.overflow), \n            this.elementMap.forEach((element => {\n                element.updateGraphicItem();\n            }));\n        } else this.elementMap.forEach((element => {\n            element.updateGraphicItem();\n        }));\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_UPDATE);\n    }\n    createElement() {\n        return new _graph_element__WEBPACK_IMPORTED_MODULE_13__.Element(this);\n    }\n    evaluateJoin(data) {\n        var _a, _b, _c, _d;\n        this.needClear = !0;\n        const keyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.parseField)(null !== (_c = null !== (_a = this.spec.key) && void 0 !== _a ? _a : null === (_b = this.grammarSource) || void 0 === _b ? void 0 : _b.getDataIDKey()) && void 0 !== _c ? _c : () => _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultKey), groupKeyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.parseField)(null !== (_d = this.spec.groupBy) && void 0 !== _d ? _d : () => _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultKey), sort = this.spec.sort, isCollectionMark = this.isCollectionMark(), enterElements = new Set(this.elements.filter((element => element.diffState === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter))), elements = [];\n        this.differ.setCallback(((key, data, prevData) => {\n            var _a;\n            const elementKey = key;\n            let element;\n            if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(data)) element = this.elementMap.get(elementKey), element && (element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit); else if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(prevData)) {\n                if (element = this.elementMap.has(elementKey) ? this.elementMap.get(elementKey) : this.createElement(), \n                element.diffState === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit) {\n                    element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter;\n                    const animators = null === (_a = this.animate) || void 0 === _a ? void 0 : _a.getElementAnimators(element, _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit);\n                    animators && animators.forEach((animator => animator.stop(\"start\")));\n                }\n                element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter;\n                const groupKey = isCollectionMark ? key : groupKeyGetter(data[0]);\n                element.updateData(groupKey, data, keyGetter), this.elementMap.set(elementKey, element), \n                elements.push(element);\n            } else if (element = this.elementMap.get(elementKey), element) {\n                element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.update;\n                const groupKey = isCollectionMark ? key : groupKeyGetter(data[0]);\n                element.updateData(groupKey, data, keyGetter), elements.push(element);\n            }\n            enterElements.delete(element);\n        }));\n        const currentData = null != data ? data : _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultMarkData;\n        isCollectionMark ? this.differ.setCurrentData(this._groupedData) : this.differ.setCurrentData((0,_graph_mark_differ__WEBPACK_IMPORTED_MODULE_1__.groupData)(currentData, (datum => `${groupKeyGetter(datum)}-${keyGetter(datum)}`), void 0)), \n        this.differ.doDiff(), enterElements.forEach((element => {\n            this.elementMap.delete(isCollectionMark ? element.groupKey : `${element.groupKey}-${element.key}`), \n            element.remove(), element.release();\n        })), this.elements = elements, sort && this.elements.length >= 2 && this.elements.sort(((elementA, elementB) => sort(elementA.getDatum(), elementB.getDatum())));\n    }\n    evaluateState(elements, stateSpec, parameters) {\n        stateSpec && elements.forEach((element => {\n            element.state(stateSpec, parameters);\n        }));\n    }\n    evaluateGroupEncode(elements, groupEncode, parameters) {\n        if (!this._groupedData || !groupEncode) return;\n        const res = {};\n        return this._groupedData.keys.forEach((key => {\n            const el = elements.find((el => el.groupKey === key));\n            el && (res[key] = (0,_graph_mark_encode__WEBPACK_IMPORTED_MODULE_14__.invokeEncoder)(groupEncode, el.items && el.items[0] && el.items[0].datum, el, parameters));\n        })), this._groupEncodeResult = res, res;\n    }\n    getChannelsFromConfig(element) {\n        const spec = this.spec;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(spec.interactive) ? null : {\n            pickable: spec.interactive\n        };\n    }\n    evaluateEncode(elements, encoders, parameters, noGroupEncode) {\n        const initAttrs = this.getChannelsFromConfig();\n        if (encoders) {\n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_ELEMENT_ENCODE, {\n                encoders: encoders,\n                parameters: parameters\n            }, this);\n            const groupEncodeAttrs = noGroupEncode ? null : this.evaluateGroupEncode(elements, encoders[_graph_enums__WEBPACK_IMPORTED_MODULE_4__.BuiltInEncodeNames.group], parameters);\n            elements.forEach((element => {\n                this.markType === _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.glyph && this._groupEncodeResult ? element.items.forEach((item => {\n                    item.nextAttrs = Object.assign(item.nextAttrs, initAttrs, this._groupEncodeResult[element.groupKey]);\n                })) : (null == groupEncodeAttrs ? void 0 : groupEncodeAttrs[element.groupKey]) && !this.isCollectionMark() ? element.items.forEach((item => {\n                    item.nextAttrs = Object.assign(item.nextAttrs, initAttrs, groupEncodeAttrs[element.groupKey]);\n                })) : initAttrs && element.items.forEach((item => {\n                    item.nextAttrs = Object.assign(item.nextAttrs, initAttrs);\n                })), element.encodeItems(element.items, encoders, this._isReentered, parameters), \n                this.isCollectionMark() && (null == groupEncodeAttrs ? void 0 : groupEncodeAttrs[element.groupKey]) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(groupEncodeAttrs[element.groupKey].defined) && (element.items.forEach((item => {\n                    item.nextAttrs.defined = groupEncodeAttrs[element.groupKey].defined;\n                })), delete groupEncodeAttrs[element.groupKey].defined);\n            })), this._isReentered = !1, this.evaluateTransform(this._getTransformsAfterEncodeItems(), elements, parameters), \n            elements.forEach((element => {\n                element.encodeGraphic(this.isCollectionMark() ? null == groupEncodeAttrs ? void 0 : groupEncodeAttrs[element.groupKey] : null);\n            })), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_ELEMENT_ENCODE, {\n                encoders: encoders,\n                parameters: parameters\n            }, this);\n        } else elements.forEach((element => {\n            element.initGraphicItem(initAttrs);\n        }));\n    }\n    addGraphicItem(attrs, groupKey, newGraphicItem) {\n        var _a;\n        const graphicItem = null != newGraphicItem ? newGraphicItem : (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__.createGraphicItem)(this, this.markType, attrs);\n        if (graphicItem) {\n            if (null === (_a = this.renderContext) || void 0 === _a ? void 0 : _a.progressive) {\n                let group;\n                if (this._groupedData) {\n                    const index = this._groupedData.keys.indexOf(groupKey);\n                    index >= 0 && (group = this.graphicParent.getChildAt(index));\n                } else group = this.graphicParent.at(0);\n                this.isCollectionMark() ? (graphicItem.incremental = 1, group.appendChild(graphicItem)) : group.incrementalAppendChild(graphicItem);\n            } else this.graphicParent.appendChild(graphicItem);\n            return graphicItem;\n        }\n    }\n    parseRenderContext(data, parameters) {\n        const enableProgressive = this.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group && this.spec.progressiveStep > 0 && this.spec.progressiveThreshold > 0 && this.spec.progressiveStep < this.spec.progressiveThreshold, large = this.spec.large && this.spec.largeThreshold > 0 && data.length >= this.spec.largeThreshold;\n        if (enableProgressive) {\n            const groupedData = this._groupedData;\n            return groupedData && groupedData.keys && groupedData.keys.some((key => groupedData.data.get(key).length > this.spec.progressiveThreshold)) ? {\n                large: large,\n                parameters: parameters,\n                progressive: {\n                    data: data,\n                    step: this.spec.progressiveStep,\n                    currentIndex: 0,\n                    totalStep: groupedData.keys.reduce(((total, key) => Math.max(Math.ceil(groupedData.data.get(key).length / this.spec.progressiveStep), total)), 1),\n                    groupedData: groupedData.data\n                }\n            } : {\n                large: large\n            };\n        }\n        return {\n            large: large\n        };\n    }\n    isProgressive() {\n        return this.renderContext && (!!this.renderContext.progressive || !!this.renderContext.beforeTransformProgressive);\n    }\n    canAnimateAfterProgressive() {\n        return this.renderContext && this.renderContext.beforeTransformProgressive && this.renderContext.beforeTransformProgressive.canAnimate();\n    }\n    isDoingProgressive() {\n        return this.renderContext && (this.renderContext.progressive && this.renderContext.progressive.currentIndex < this.renderContext.progressive.totalStep || this.renderContext.beforeTransformProgressive && this.renderContext.beforeTransformProgressive.unfinished());\n    }\n    clearProgressive() {\n        this.renderContext && this.renderContext.progressive && (this.elements = [], this.graphicParent.children.forEach((group => {\n            group.incrementalClearChild();\n        })), this.graphicParent.removeAllChild()), this.renderContext && this.renderContext.beforeTransformProgressive && this.renderContext.beforeTransformProgressive.release(), \n        this.renderContext = null;\n    }\n    restartProgressive() {\n        this.renderContext && this.renderContext.progressive && (this.renderContext.progressive.currentIndex = 0);\n    }\n    evaluateJoinProgressive() {\n        var _a, _b, _c;\n        const currentIndex = this.renderContext.progressive.currentIndex, keyGetter = (0,_parse_util__WEBPACK_IMPORTED_MODULE_6__.parseField)(null !== (_c = null !== (_a = this.spec.key) && void 0 !== _a ? _a : null === (_b = this.grammarSource) || void 0 === _b ? void 0 : _b.getDataIDKey()) && void 0 !== _c ? _c : () => _graph_constants__WEBPACK_IMPORTED_MODULE_5__.DefaultKey), elements = [];\n        if (this.isCollectionMark()) return this._groupedData.keys.forEach(((key, index) => {\n            const data = this.renderContext.progressive.groupedData.get(key), groupStep = this.renderContext.progressive.step, dataSlice = data.slice(currentIndex * groupStep, (currentIndex + 1) * groupStep);\n            if (0 === currentIndex) {\n                const element = this.createElement();\n                element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter, element.updateData(key, dataSlice, keyGetter), \n                elements.push(element);\n            } else {\n                const element = this.elements[index];\n                element.updateData(key, dataSlice, keyGetter), elements.push(element);\n            }\n        })), elements;\n        const groupElements = {};\n        return this._groupedData.keys.forEach((key => {\n            const data = this.renderContext.progressive.groupedData.get(key), groupStep = this.renderContext.progressive.step, dataSlice = data.slice(currentIndex * groupStep, (currentIndex + 1) * groupStep), group = [];\n            dataSlice.forEach((entry => {\n                const element = this.createElement();\n                element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.enter, element.updateData(key, [ entry ], keyGetter), \n                group.push(element), elements.push(element);\n            })), groupElements[key] = group;\n        })), {\n            groupElements: groupElements,\n            elements: elements\n        };\n    }\n    evaluateEncodeProgressive(elements, encoders, parameters) {\n        const progressiveIndex = this.renderContext.progressive.currentIndex;\n        if (0 === progressiveIndex) {\n            if (this.evaluateEncode(elements, encoders, parameters), 0 === progressiveIndex && this._groupEncodeResult && !this.isCollectionMark() && this.markType !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.glyph) {\n                const firstElement = elements[0], firstChild = firstElement.getGraphicItem(), group = null == firstChild ? void 0 : firstChild.parent;\n                group && this._groupEncodeResult[firstElement.groupKey] && group.setTheme({\n                    common: this._groupEncodeResult[firstElement.groupKey]\n                });\n            }\n        } else this.evaluateEncode(elements, encoders, parameters, !0);\n    }\n    evaluateProgressive() {\n        var _a, _b, _c;\n        if (null === (_a = this.renderContext) || void 0 === _a ? void 0 : _a.beforeTransformProgressive) {\n            const transform = this.renderContext.beforeTransformProgressive;\n            transform.progressiveRun();\n            const output = transform.output();\n            if (transform.canAnimate) {\n                if (transform.unfinished()) return;\n                this.evaluateGroup(output);\n            }\n            return this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_JOIN), this.evaluateJoin(output), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_JOIN), \n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_STATE), this.evaluateState(this.elements, this.spec.state, this.renderContext.parameters), \n            this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_STATE), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_ENCODE), \n            this.evaluateEncode(this.elements, this._getEncoders(), this.renderContext.parameters), \n            void this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_ENCODE);\n        }\n        if (!(null === (_b = this.renderContext) || void 0 === _b ? void 0 : _b.progressive)) return;\n        const parameters = this.renderContext.parameters;\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_JOIN);\n        const result = this.evaluateJoinProgressive(), elements = Array.isArray(result) ? result : result.elements;\n        if (this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_JOIN), 0 === this.renderContext.progressive.currentIndex ? (this.graphicParent.removeAllChild(), \n        this._groupedData.keys.forEach((key => {\n            const graphicItem = (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__.createGraphicItem)(this, _graph_enums__WEBPACK_IMPORTED_MODULE_4__.GrammarMarkType.group, {\n                pickable: !1,\n                zIndex: this.spec.zIndex\n            });\n            graphicItem.incremental = this.renderContext.progressive.step, this.graphicParent.appendChild(graphicItem);\n        })), this.elements = elements) : this.elements = this.elements.concat(elements), \n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_STATE), this.evaluateState(elements, this.spec.state, parameters), \n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_STATE), this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.BEFORE_MARK_ENCODE), \n        Array.isArray(result)) this.evaluateEncodeProgressive(elements, this._getEncoders(), parameters); else {\n            const groupElements = result.groupElements;\n            Object.keys(groupElements).forEach((key => {\n                this.evaluateEncodeProgressive(groupElements[key], this._getEncoders(), parameters);\n            }));\n        }\n        this.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_4__.HOOK_EVENT.AFTER_MARK_ENCODE);\n        const progressiveTransforms = null === (_c = this._getTransformsAfterEncode()) || void 0 === _c ? void 0 : _c.filter((entry => !0 === entry.canProgressive));\n        (null == progressiveTransforms ? void 0 : progressiveTransforms.length) && this.evaluateTransform(progressiveTransforms, this.elements, parameters), \n        this.renderContext.progressive.currentIndex += 1;\n    }\n    isLargeMode() {\n        return this.renderContext && this.renderContext.large;\n    }\n    cleanExitElements() {\n        this.elementMap.forEach(((element, key) => {\n            element.diffState !== _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit || element.isReserved || (this.elementMap.delete(key), \n            element.remove(), element.release());\n        }));\n    }\n    getGroupGraphicItem() {\n        if (this.elements && this.elements[0] && this.elements[0].getGraphicItem) return this.elements[0].getGraphicItem();\n    }\n    getBounds() {\n        var _a;\n        return this.graphicItem ? this.graphicItem.AABBBounds : null === (_a = this.getGroupGraphicItem()) || void 0 === _a ? void 0 : _a.AABBBounds;\n    }\n    getMorphConfig() {\n        var _a;\n        return {\n            morph: null !== (_a = this.spec.morph) && void 0 !== _a && _a,\n            morphKey: this.spec.morphKey,\n            morphElementKey: this.spec.morphElementKey\n        };\n    }\n    getAttributeTransforms() {\n        var _a;\n        return null !== (_a = this.spec.attributeTransforms) && void 0 !== _a ? _a : _graph_attributes__WEBPACK_IMPORTED_MODULE_16__.transformsByType[this.markType];\n    }\n    getContext() {\n        return this._context;\n    }\n    needSkipBeforeLayout() {\n        var _a, _b;\n        if (!0 === (null === (_a = this.spec.layout) || void 0 === _a ? void 0 : _a.skipBeforeLayouted)) return !0;\n        let group = this.group;\n        for (;group; ) {\n            if (!0 === (null === (_b = group.getSpec().layout) || void 0 === _b ? void 0 : _b.skipBeforeLayouted)) return !0;\n            group = group.group;\n        }\n        return !1;\n    }\n    initEvent() {\n        if (this._delegateEvent) {\n            const stage = this.view.renderer.stage();\n            stage && stage.on(\"*\", this._delegateEvent);\n        }\n    }\n    releaseEvent() {\n        if (this._delegateEvent) {\n            const stage = this.view.renderer.stage();\n            stage && stage.off(\"*\", this._delegateEvent);\n        }\n    }\n    clear() {\n        var _a;\n        this.releaseEvent(), this.transforms = null, this.elementMap = null, this.elements = null, \n        this.graphicItem = null, this.animate = null, null === (_a = this.group) || void 0 === _a || _a.removeChild(this), \n        this.group = null, super.clear();\n    }\n    prepareRelease() {\n        var _a;\n        this.differ.setCurrentData(null), null === (_a = this.animate) || void 0 === _a || _a.stop(), \n        this.elementMap.forEach((element => element.diffState = _graph_enums__WEBPACK_IMPORTED_MODULE_4__.DiffState.exit)), this._finalParameters = this.parameters();\n    }\n    release() {\n        this.releaseEvent(), this.elements.forEach((element => element.release())), this.differ = null, \n        this.elements = [], this.elementMap.clear(), this._finalParameters = null, this.animate && this.animate.release(), \n        this.graphicItem && (0,_graph_util_graphic__WEBPACK_IMPORTED_MODULE_11__.removeGraphicItem)(this.graphicItem), this.detachAll(), super.release();\n    }\n}\n//# sourceMappingURL=mark.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9tYXJrLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFxRTs7QUFFNEI7O0FBRXlCOztBQUVqRTs7QUFFb0I7O0FBRWhDOztBQUVpQzs7QUFFRDs7QUFFckI7O0FBRUg7O0FBRUU7O0FBRUs7O0FBRVo7O0FBRUw7O0FBRXBDLG1CQUFtQixzREFBVztBQUNyQztBQUNBO0FBQ0EsdUVBQXVFLHNEQUFNO0FBQzdFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNERBQVE7QUFDdEM7QUFDQTtBQUNBLDBCQUEwQiw0REFBUTtBQUNsQztBQUNBLDhKQUE4SjtBQUM5SixzQ0FBc0M7QUFDdEMsU0FBUyxzRUFBc0U7QUFDL0U7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtREFBUztBQUMzQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLHFEQUFXO0FBQ3JGO0FBQ0E7QUFDQSw0R0FBNEcsNkRBQWU7QUFDM0g7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLHNCQUFzQixvREFBVSw0REFBNEQsb0RBQVU7QUFDdEcsc0JBQXNCLG9EQUFVO0FBQ2hDLHNCQUFzQixvREFBVSw4QkFBOEIsb0RBQVU7QUFDeEUsMkZBQTJGLG9EQUFVO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlEQUFlO0FBQzdDLG9CQUFvQiw2REFBUyx1QkFBdUIsNkRBQWU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLDREQUFLO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNERBQUssV0FBVyw0REFBUTtBQUN2RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG1EQUFTO0FBQ3pDO0FBQ0E7QUFDQSxzQkFBc0IsbURBQVM7QUFDL0I7QUFDQSxnQkFBZ0IsMkRBQWMsMkJBQTJCLDREQUFlLDJCQUEyQjtBQUNuRyx3Q0FBd0MsNERBQVE7QUFDaEQ7QUFDQSxnQ0FBZ0MsNERBQWU7QUFDL0MsaUJBQWlCLGdDQUFnQyxrQ0FBa0MsNERBQWU7QUFDbEcsZ0NBQWdDLDREQUFlO0FBQy9DLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsbUZBQW1GLEdBQUcsNERBQVE7QUFDOUYsb0JBQW9CLDREQUFlLHVCQUF1QiwyREFBYztBQUN4RSxvQkFBb0IsNERBQWU7QUFDbkM7QUFDQSx3QkFBd0IsNERBQWU7QUFDdkMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9FQUFrQjtBQUNqRDtBQUNBLCtCQUErQixvRUFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0REFBSztBQUNqQixTQUFTO0FBQ1QsWUFBWSw0REFBSztBQUNqQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0VBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRyw0REFBSztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtREFBUztBQUMzQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx5REFBZTtBQUMvQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLDRCQUE0QiwyREFBYztBQUMxQyxnQkFBZ0IsMERBQWEsMENBQTBDLDZEQUFnQjtBQUN2RixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyREFBYztBQUMxQixnQkFBZ0IsMERBQWE7QUFDN0IsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxRUFBaUIseUJBQXlCLDBEQUFpQjtBQUMzRjtBQUNBLFNBQVM7QUFDVDtBQUNBLDBCQUEwQiw2REFBZ0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlEQUFlO0FBQzdDO0FBQ0Esb0NBQW9DLHVFQUFpQixPQUFPLHlEQUFlO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQix3Q0FBd0Msd0RBQVU7QUFDbEQsc0NBQXNDLDJCQUEyQjtBQUNqRTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9EQUFVO0FBQ2hDO0FBQ0EsMEJBQTBCLHlEQUFlO0FBQ3pDLGdCQUFnQiw0REFBSztBQUNyQixZQUFZLDREQUFLLGtFQUFrRSw0REFBSztBQUN4Riw4QkFBOEIsNkRBQU87QUFDckM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsWUFBWSw0REFBSztBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFVBQVU7QUFDVjtBQUNBLFNBQVM7QUFDVCxrQkFBa0Isb0RBQVU7QUFDNUI7QUFDQTtBQUNBLG1CQUFtQixvREFBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBVSxzTEFBc0wsd0RBQVUsb0JBQW9CLHVEQUFVLGlFQUFpRSx3REFBVSxxSkFBcUosbURBQVM7QUFDM2U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQUssbUZBQW1GLG1EQUFTLFFBQVEsU0FBUyw0REFBSztBQUN2STtBQUNBLHNDQUFzQyxtREFBUztBQUMvQyx3Q0FBd0MsbURBQVM7QUFDakQsK0hBQStILG1EQUFTO0FBQ3hJO0FBQ0E7QUFDQSxvQ0FBb0MsbURBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLG9DQUFvQyxtREFBUztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxrREFBa0QsNkRBQWU7QUFDakUsc0dBQXNHLDZEQUFTLDJCQUEyQixzQkFBc0IsR0FBRyxpQkFBaUI7QUFDcEw7QUFDQSw0RUFBNEUsaUJBQWlCLEdBQUcsWUFBWTtBQUM1RztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0VBQWE7QUFDM0MsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9EQUFVO0FBQ2hDO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isd0dBQXdHLDREQUFrQjtBQUMxSDtBQUNBLGtDQUFrQyx5REFBZTtBQUNqRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQix1SEFBdUgsNkRBQU87QUFDOUg7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhLGNBQWMsb0RBQVU7QUFDckM7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1Y7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLHVFQUFpQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QseURBQWU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLHVEQUFVLHNMQUFzTCx3REFBVTtBQUNoUztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxtREFBUztBQUM3QztBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxtREFBUztBQUM3QztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3S0FBd0sseURBQWU7QUFDdkw7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0RBQVUseURBQXlELG9EQUFVO0FBQzFHLHNCQUFzQixvREFBVTtBQUNoQyxzQkFBc0Isb0RBQVUsOEJBQThCLG9EQUFVO0FBQ3hFO0FBQ0EsMkJBQTJCLG9EQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvREFBVTtBQUM1QjtBQUNBLHNCQUFzQixvREFBVTtBQUNoQztBQUNBLGdDQUFnQyx1RUFBaUIsT0FBTyx5REFBZTtBQUN2RTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNULGtCQUFrQixvREFBVTtBQUM1QixrQkFBa0Isb0RBQVUsOEJBQThCLG9EQUFVO0FBQ3BFLDBHQUEwRztBQUMxRztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxrQkFBa0Isb0RBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG1EQUFTO0FBQzNDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRixnRUFBZ0I7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLG1EQUFTO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVFQUFpQjtBQUM3QztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhY3Rvci1uZXh0LXRlbXBsYXRlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aXNhY3Rvcit2Z3JhbW1hci1jb3JlQDAuMTYuMTEvbm9kZV9tb2R1bGVzL0B2aXNhY3Rvci92Z3JhbW1hci1jb3JlL2VzL3ZpZXcvbWFyay5qcz8wMjMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXksIGlzTmlsLCBpc1N0cmluZywgaXNWYWxpZCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IENvbGxlY3Rpb25NYXJrVHlwZSwgRGVmYXVsdEtleSwgRGVmYXVsdE1hcmtEYXRhLCBNYXJrM0RUeXBlIH0gZnJvbSBcIi4uL2dyYXBoL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBEaWZmU3RhdGUsIEdyYW1tYXJNYXJrVHlwZSwgTGF5b3V0U3RhdGUsIEhPT0tfRVZFTlQsIEdyYW1tYXJUeXBlRW51bSwgQnVpbHRJbkVuY29kZU5hbWVzIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IERpZmZlciwgZ3JvdXBEYXRhIH0gZnJvbSBcIi4uL2dyYXBoL21hcmsvZGlmZmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUdyYXBoaWNJdGVtLCByZW1vdmVHcmFwaGljSXRlbSB9IGZyb20gXCIuLi9ncmFwaC91dGlsL2dyYXBoaWNcIjtcblxuaW1wb3J0IHsgR3JhbW1hckJhc2UgfSBmcm9tIFwiLi9ncmFtbWFyLWJhc2VcIjtcblxuaW1wb3J0IHsgaXNGaWVsZEVuY29kZSwgaXNTY2FsZUVuY29kZSwgcGFyc2VFbmNvZGVUeXBlIH0gZnJvbSBcIi4uL3BhcnNlL21hcmtcIjtcblxuaW1wb3J0IHsgZ2V0R3JhbW1hck91dHB1dCwgcGFyc2VGaWVsZCwgaXNGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi4vcGFyc2UvdXRpbFwiO1xuXG5pbXBvcnQgeyBwYXJzZVRyYW5zZm9ybVNwZWMgfSBmcm9tIFwiLi4vcGFyc2UvdHJhbnNmb3JtXCI7XG5cbmltcG9ydCB7IGludm9rZUVuY29kZXIgfSBmcm9tIFwiLi4vZ3JhcGgvbWFyay9lbmNvZGVcIjtcblxuaW1wb3J0IHsgdHJhbnNmb3Jtc0J5VHlwZSB9IGZyb20gXCIuLi9ncmFwaC9hdHRyaWJ1dGVzXCI7XG5cbmltcG9ydCBnZXRFeHRlbmRlZEV2ZW50cyBmcm9tIFwiLi4vZ3JhcGgvdXRpbC9ldmVudHMtZXh0ZW5kXCI7XG5cbmltcG9ydCB7IEVWRU5UX1NPVVJDRV9WSUVXIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi4vZ3JhcGgvZWxlbWVudFwiO1xuXG5leHBvcnQgY2xhc3MgTWFyayBleHRlbmRzIEdyYW1tYXJCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBtYXJrVHlwZSwgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIodmlldyksIHRoaXMuZ3JhbW1hclR5cGUgPSBcIm1hcmtcIiwgdGhpcy5lbGVtZW50cyA9IFtdLCB0aGlzLmVsZW1lbnRNYXAgPSBuZXcgTWFwLCBcbiAgICAgICAgdGhpcy5pc1VwZGF0ZWQgPSAhMCwgdGhpcy5faXNSZWVudGVyZWQgPSAhMSwgdGhpcy5kaWZmZXIgPSBuZXcgRGlmZmVyKFtdKSwgdGhpcy5tYXJrVHlwZSA9IG1hcmtUeXBlLCBcbiAgICAgICAgdGhpcy5zcGVjLnR5cGUgPSBtYXJrVHlwZSwgdGhpcy5zcGVjLmVuY29kZSA9IHtcbiAgICAgICAgICAgIHVwZGF0ZToge31cbiAgICAgICAgfSwgdGhpcy5zcGVjLmdyb3VwID0gZ3JvdXAsIGdyb3VwICYmICh0aGlzLmdyb3VwID0gZ3JvdXAsIHRoaXMuYXR0YWNoKGdyb3VwKSwgZ3JvdXAuYXBwZW5kQ2hpbGQodGhpcykpO1xuICAgIH1cbiAgICBwYXJzZShzcGVjKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAoc3VwZXIucGFyc2Uoc3BlYyksIHRoaXMuc3BlYy5ncm91cCkge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBNYXJrID0gaXNTdHJpbmcodGhpcy5zcGVjLmdyb3VwKSA/IHRoaXMudmlldy5nZXRNYXJrQnlJZCh0aGlzLnNwZWMuZ3JvdXApIDogdGhpcy5zcGVjLmdyb3VwO1xuICAgICAgICAgICAgdGhpcy5kZXRhY2goZ3JvdXBNYXJrKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncm91cE1hcmsgPSBpc1N0cmluZyhzcGVjLmdyb3VwKSA/IHRoaXMudmlldy5nZXRNYXJrQnlJZChzcGVjLmdyb3VwKSA6IHNwZWMuZ3JvdXA7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaChncm91cE1hcmspLCB0aGlzLmpvaW4obnVsbCA9PT0gKF9hID0gc3BlYy5mcm9tKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EuZGF0YSwgc3BlYy5rZXksIHNwZWMuc29ydCwgc3BlYy5ncm91cEJ5LCBzcGVjLmdyb3VwU29ydCksIFxuICAgICAgICB0aGlzLmNvb3JkaW5hdGUoc3BlYy5jb29yZGluYXRlKSwgdGhpcy5zdGF0ZShzcGVjLnN0YXRlLCB0aGlzLnNwZWMuc3RhdGVTb3J0KSwgT2JqZWN0LmtleXMobnVsbCAhPT0gKF9iID0gdGhpcy5zcGVjLmVuY29kZSkgJiYgdm9pZCAwICE9PSBfYiA/IF9iIDoge30pLmZvckVhY2goKHN0YXRlID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlU3RhdGUoc3RhdGUsIHt9LCAhMCk7XG4gICAgICAgIH0pKSwgT2JqZWN0LmtleXMobnVsbCAhPT0gKF9jID0gc3BlYy5lbmNvZGUpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IHt9KS5mb3JFYWNoKChzdGF0ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZVN0YXRlKHN0YXRlLCBzcGVjLmVuY29kZVtzdGF0ZV0pO1xuICAgICAgICB9KSksIHRoaXMuYW5pbWF0aW9uKHNwZWMuYW5pbWF0aW9uKSwgdGhpcy5hbmltYXRpb25TdGF0ZShzcGVjLmFuaW1hdGlvblN0YXRlKSwgdGhpcy5tb3JwaChzcGVjLm1vcnBoLCBzcGVjLm1vcnBoS2V5LCBzcGVjLm1vcnBoRWxlbWVudEtleSksIFxuICAgICAgICB0aGlzLmxheW91dChzcGVjLmxheW91dCksIHRoaXMuY29uZmlndXJlKHNwZWMpLCB0aGlzLnRyYW5zZm9ybShzcGVjLnRyYW5zZm9ybSksIFxuICAgICAgICB0aGlzLnBhcnNlQWRkaXRpb24oc3BlYyksIHRoaXMuc3BlYyA9IHNwZWMsIHRoaXMubWFya1R5cGUgPSBzcGVjLnR5cGUsIHRoaXMuY29tbWl0KCksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBwYXJhbWV0ZXJzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLl9maW5hbFBhcmFtZXRlcnMpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IHN1cGVyLnBhcmFtZXRlcnMoKTtcbiAgICB9XG4gICAgcGFyc2VBZGRpdGlvbihzcGVjKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXVzZShncmFtbWFyKSB7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgaWYgKGdyYW1tYXIuZ3JhbW1hclR5cGUgIT09IHRoaXMuZ3JhbW1hclR5cGUpIHJldHVybiB0aGlzO1xuICAgICAgICBjb25zdCBtYXJrID0gZ3JhbW1hcjtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya1R5cGUgPSBtYXJrLm1hcmtUeXBlLCB0aGlzLmNvb3JkID0gbWFyay5jb29yZCwgdGhpcy5lbGVtZW50TWFwID0gbWFyay5lbGVtZW50TWFwLCBcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IG1hcmsuZWxlbWVudHMsIHRoaXMuZWxlbWVudE1hcC5mb3JFYWNoKChlbGVtZW50ID0+IGVsZW1lbnQubWFyayA9IHRoaXMpKSwgXG4gICAgICAgIHRoaXMuZGlmZmVyID0gbWFyay5kaWZmZXIsIG51bGwgPT09IChfYiA9IHRoaXMucmV1c2VBbmltYXRlKSB8fCB2b2lkIDAgPT09IF9iIHx8IF9iLmNhbGwodGhpcywgbWFyayksIFxuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbWFyay5fY29udGV4dCwgdGhpcy5ncmFwaGljSXRlbSA9IG1hcmsuZ3JhcGhpY0l0ZW0sIHRoaXMuZ3JhcGhpY0luZGV4ID0gbWFyay5ncmFwaGljSW5kZXgsIFxuICAgICAgICB0aGlzLmdyYXBoaWNQYXJlbnQgPSBtYXJrLmdyYXBoaWNQYXJlbnQsIHRoaXMubmVlZENsZWFyID0gbWFyay5uZWVkQ2xlYXIsIHRoaXMuaXNVcGRhdGVkID0gbWFyay5pc1VwZGF0ZWQsIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBuZWVkTGF5b3V0KCkge1xuICAgICAgICByZXR1cm4gIWlzTmlsKHRoaXMuc3BlYy5sYXlvdXQpO1xuICAgIH1cbiAgICBoYW5kbGVMYXlvdXRFbmQoKSB7fVxuICAgIGhhbmRsZVJlbmRlckVuZCgpIHtcbiAgICAgICAgdGhpcy5uZWVkQ2xlYXIgJiYgKHRoaXMuY2xlYW5FeGl0RWxlbWVudHMoKSwgdGhpcy5lbGVtZW50TWFwLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5kaWZmU3RhdGUgPT09IERpZmZTdGF0ZS5leGl0ID8gZWxlbWVudC5jbGVhckdyYXBoaWNBdHRyaWJ1dGVzKCkgOiBlbGVtZW50LmNsZWFyQ2hhbmdlZEdyYXBoaWNBdHRyaWJ1dGVzKCk7XG4gICAgICAgIH0pKSwgdGhpcy5kaWZmZXIudXBkYXRlVG9DdXJyZW50KCksIHRoaXMubmVlZENsZWFyID0gITEpO1xuICAgIH1cbiAgICBldmFsdWF0ZU1haW5UYXNrcyhkYXRhLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0aGlzLm5lZWRTa2lwQmVmb3JlTGF5b3V0KCkgJiYgdGhpcy52aWV3LmdldExheW91dFN0YXRlKCkgPT09IExheW91dFN0YXRlLmJlZm9yZSkgcmV0dXJuIHRoaXM7XG4gICAgICAgIGNvbnN0IHN0YWdlID0gbnVsbCA9PT0gKF9hID0gdGhpcy52aWV3LnJlbmRlcmVyKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc3RhZ2UoKTtcbiAgICAgICAgdGhpcy5pbml0KHN0YWdlLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtRGF0YSA9IHRoaXMuZXZhbHVhdGVUcmFuc2Zvcm0odGhpcy5fZ2V0VHJhbnNmb3Jtc0JlZm9yZUpvaW4oKSwgbnVsbCAhPSBkYXRhID8gZGF0YSA6IERlZmF1bHRNYXJrRGF0YSwgcGFyYW1ldGVycyksIHByb2dyZXNzaXZlVHJhbnNmb3JtID0gbnVsbCA9PSB0cmFuc2Zvcm1EYXRhID8gdm9pZCAwIDogdHJhbnNmb3JtRGF0YS5wcm9ncmVzc2l2ZTtcbiAgICAgICAgaWYgKHByb2dyZXNzaXZlVHJhbnNmb3JtID8gdGhpcy5yZW5kZXJDb250ZXh0ID0ge1xuICAgICAgICAgICAgbGFyZ2U6ICExXG4gICAgICAgIH0gOiAodGhpcy5ldmFsdWF0ZUdyb3VwKHRyYW5zZm9ybURhdGEpLCB0aGlzLnJlbmRlckNvbnRleHQgPSB0aGlzLnBhcnNlUmVuZGVyQ29udGV4dCh0cmFuc2Zvcm1EYXRhLCBwYXJhbWV0ZXJzKSksIFxuICAgICAgICBudWxsID09PSAoX2IgPSB0aGlzLnJlbmRlckNvbnRleHQpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5wcm9ncmVzc2l2ZSkgdGhpcy5kaWZmZXIucmVzZXQoKSwgXG4gICAgICAgIHRoaXMuZWxlbWVudE1hcC5jbGVhcigpLCB0aGlzLmV2YWx1YXRlUHJvZ3Jlc3NpdmUoKTsgZWxzZSB7XG4gICAgICAgICAgICBsZXQgaW5wdXREYXRhID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc2l2ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlckNvbnRleHQucGFyYW1ldGVycyA9IHBhcmFtZXRlcnMsIHRoaXMucmVuZGVyQ29udGV4dC5iZWZvcmVUcmFuc2Zvcm1Qcm9ncmVzc2l2ZSA9IHRyYW5zZm9ybURhdGEucHJvZ3Jlc3NpdmUsIFxuICAgICAgICAgICAgICAgIGlucHV0RGF0YSA9IHRyYW5zZm9ybURhdGEucHJvZ3Jlc3NpdmUub3V0cHV0KCksIHRyYW5zZm9ybURhdGEucHJvZ3Jlc3NpdmUuY2FuQW5pbWF0ZSAmJiB0cmFuc2Zvcm1EYXRhLnByb2dyZXNzaXZlLnVuZmluaXNoZWQoKSkgcmV0dXJuIHRoaXMudXBkYXRlKHRoaXMuc3BlYyksIFxuICAgICAgICAgICAgICAgIHRoaXM7XG4gICAgICAgICAgICB9IGVsc2UgaW5wdXREYXRhID0gdHJhbnNmb3JtRGF0YTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX0pPSU4pLCB0aGlzLmV2YWx1YXRlSm9pbihpbnB1dERhdGEpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9NQVJLX0pPSU4pLCBcbiAgICAgICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX1NUQVRFKSwgdGhpcy5ldmFsdWF0ZVN0YXRlKHRoaXMuZWxlbWVudHMsIHRoaXMuc3BlYy5zdGF0ZSwgcGFyYW1ldGVycyksIFxuICAgICAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfTUFSS19TVEFURSksIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX0VOQ09ERSksIFxuICAgICAgICAgICAgdGhpcy5ldmFsdWF0ZUVuY29kZSh0aGlzLmVsZW1lbnRzLCB0aGlzLl9nZXRFbmNvZGVycygpLCBwYXJhbWV0ZXJzKSwgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfTUFSS19FTkNPREUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh0aGlzLnNwZWMpLCB0aGlzO1xuICAgIH1cbiAgICBldmFsdWF0ZUdyb3VwKGRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMubWFya1R5cGUgPT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCkgcmV0dXJuO1xuICAgICAgICBjb25zdCByZXMgPSBncm91cERhdGEobnVsbCAhPSBkYXRhID8gZGF0YSA6IERlZmF1bHRNYXJrRGF0YSwgdGhpcy5zcGVjLmdyb3VwQnksIHRoaXMuc3BlYy5ncm91cFNvcnQpO1xuICAgICAgICB0aGlzLl9ncm91cEVuY29kZVJlc3VsdCA9IG51bGwsIHRoaXMuX2dyb3VwZWREYXRhID0gcmVzO1xuICAgIH1cbiAgICBfZ2V0VHJhbnNmb3Jtc0FmdGVyRW5jb2RlSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybXMgJiYgdGhpcy50cmFuc2Zvcm1zLmZpbHRlcigoZW50cnkgPT4gXCJhZnRlckVuY29kZUl0ZW1zXCIgPT09IGVudHJ5Lm1hcmtQaGFzZSkpO1xuICAgIH1cbiAgICBfZ2V0VHJhbnNmb3Jtc0FmdGVyRW5jb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1zICYmIHRoaXMudHJhbnNmb3Jtcy5maWx0ZXIoKGVudHJ5ID0+IGlzTmlsKGVudHJ5Lm1hcmtQaGFzZSkgfHwgXCJhZnRlckVuY29kZVwiID09PSBlbnRyeS5tYXJrUGhhc2UpKTtcbiAgICB9XG4gICAgX2dldFRyYW5zZm9ybXNCZWZvcmVKb2luKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1zID8gdGhpcy50cmFuc2Zvcm1zLmZpbHRlcigoZW50cnkgPT4gXCJiZWZvcmVKb2luXCIgPT09IGVudHJ5Lm1hcmtQaGFzZSkpIDogW107XG4gICAgfVxuICAgIGV2YWx1YXRlKGRhdGEsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gdGhpcy5ldmFsdWF0ZU1haW5UYXNrcyhkYXRhLCBwYXJhbWV0ZXJzKSwgKG51bGwgPT09IChfYSA9IHRoaXMucmVuZGVyQ29udGV4dCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnByb2dyZXNzaXZlKSB8fCB0aGlzLmV2YWx1YXRlVHJhbnNmb3JtKHRoaXMuX2dldFRyYW5zZm9ybXNBZnRlckVuY29kZSgpLCB0aGlzLmVsZW1lbnRzLCBwYXJhbWV0ZXJzKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIG91dHB1dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGpvaW4oZGF0YSwga2V5LCBzb3J0LCBncm91cEJ5LCBncm91cFNvcnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbW1hclNvdXJjZSAmJiAodGhpcy5kZXRhY2godGhpcy5ncmFtbWFyU291cmNlKSwgdGhpcy5ncmFtbWFyU291cmNlID0gbnVsbCksIFxuICAgICAgICB0aGlzLnNwZWMuZnJvbSA9IG51bGwsIGlzTmlsKGRhdGEpIHx8IChpc1N0cmluZyhkYXRhKSA/IHRoaXMuZ3JhbW1hclNvdXJjZSA9IHRoaXMudmlldy5nZXREYXRhQnlJZChkYXRhKSA6IHRoaXMuZ3JhbW1hclNvdXJjZSA9IGRhdGEsIFxuICAgICAgICB0aGlzLnNwZWMuZnJvbSA9IHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfSwgdGhpcy5hdHRhY2godGhpcy5ncmFtbWFyU291cmNlKSksIHRoaXMuc3BlYy5rZXkgPSBrZXksIHRoaXMuc3BlYy5zb3J0ID0gc29ydCwgXG4gICAgICAgIHRoaXMuc3BlYy5ncm91cEJ5ID0gZ3JvdXBCeSwgdGhpcy5zcGVjLmdyb3VwU29ydCA9IGdyb3VwU29ydCwgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgY29vcmRpbmF0ZShjb29yZGluYXRlKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb29yZGluYXRlKSA/IHRoaXMuY29vcmQgPSB0aGlzLnZpZXcuZ2V0Q29vcmRpbmF0ZUJ5SWQoY29vcmRpbmF0ZSkgOiB0aGlzLmNvb3JkID0gY29vcmRpbmF0ZSwgXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMuY29vcmQpLCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBzdGF0ZShzdGF0ZSwgc3RhdGVTb3J0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuc3RhdGVTb3J0ID0gc3RhdGVTb3J0LCB0aGlzLnNldEZ1bmN0aW9uU3BlYyhzdGF0ZSwgXCJzdGF0ZVwiKTtcbiAgICB9XG4gICAgZW5jb2RlKGNoYW5uZWwsIHZhbHVlLCBjbGVhcikge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVTdGF0ZShEaWZmU3RhdGUudXBkYXRlLCBjaGFubmVsLCB2YWx1ZSwgY2xlYXIpO1xuICAgIH1cbiAgICBlbmNvZGVTdGF0ZShzdGF0ZSwgY2hhbm5lbCwgdmFsdWUsIGNsZWFyKSB7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gRGlmZlN0YXRlLmVudGVyICYmICh0aGlzLl9pc1JlZW50ZXJlZCA9ICEwKSwgdGhpcy5zcGVjLmVuY29kZVtzdGF0ZV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RFbmNvZGVyID0gdGhpcy5zcGVjLmVuY29kZVtzdGF0ZV07XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvblR5cGUobGFzdEVuY29kZXIpKSB0aGlzLmRldGFjaChwYXJzZUVuY29kZVR5cGUobGFzdEVuY29kZXIsIHRoaXMudmlldykpOyBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NpbmdsZUNoYW5uZWwgPSBpc1N0cmluZyhjaGFubmVsKTtcbiAgICAgICAgICAgICAgICBpc1NpbmdsZUNoYW5uZWwgJiYgY2xlYXIgfHwgIWlzU2luZ2xlQ2hhbm5lbCAmJiB2YWx1ZSA/IChPYmplY3Qua2V5cyhsYXN0RW5jb2RlcikuZm9yRWFjaCgoYyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoKHBhcnNlRW5jb2RlVHlwZShsYXN0RW5jb2RlcltjXSwgdGhpcy52aWV3KSk7XG4gICAgICAgICAgICAgICAgfSkpLCB0aGlzLnNwZWMuZW5jb2RlW3N0YXRlXSA9IHt9KSA6IGlzU2luZ2xlQ2hhbm5lbCA/IHRoaXMuZGV0YWNoKHBhcnNlRW5jb2RlVHlwZShsYXN0RW5jb2RlcltjaGFubmVsXSwgdGhpcy52aWV3KSkgOiBPYmplY3Qua2V5cyhjaGFubmVsKS5mb3JFYWNoKChjID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXRhY2gocGFyc2VFbmNvZGVUeXBlKGxhc3RFbmNvZGVyW2NdLCB0aGlzLnZpZXcpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5uZWwgJiYgKHRoaXMuc3BlYy5lbmNvZGVbc3RhdGVdIHx8ICh0aGlzLnNwZWMuZW5jb2RlW3N0YXRlXSA9IHt9KSwgaXNTdHJpbmcoY2hhbm5lbCkgPyAodGhpcy5zcGVjLmVuY29kZVtzdGF0ZV1bY2hhbm5lbF0gPSB2YWx1ZSwgXG4gICAgICAgIHRoaXMuYXR0YWNoKHBhcnNlRW5jb2RlVHlwZSh2YWx1ZSwgdGhpcy52aWV3KSkpIDogaXNGdW5jdGlvblR5cGUoY2hhbm5lbCkgPyAodGhpcy5zcGVjLmVuY29kZVtzdGF0ZV0gPSBjaGFubmVsLCBcbiAgICAgICAgdGhpcy5hdHRhY2gocGFyc2VFbmNvZGVUeXBlKGNoYW5uZWwsIHRoaXMudmlldykpKSA6IGNoYW5uZWwgJiYgKE9iamVjdC5hc3NpZ24odGhpcy5zcGVjLmVuY29kZVtzdGF0ZV0sIGNoYW5uZWwpLCBcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjaGFubmVsKS5mb3JFYWNoKChjaGFubmVsRW5jb2RlciA9PiB7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaChwYXJzZUVuY29kZVR5cGUoY2hhbm5lbEVuY29kZXIsIHRoaXMudmlldykpO1xuICAgICAgICB9KSkpKSwgdGhpcy5jb21taXQoKSwgdGhpcztcbiAgICB9XG4gICAgX2dldEVuY29kZXJzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLnNwZWMuZW5jb2RlKSAmJiB2b2lkIDAgIT09IF9hID8gX2EgOiB7fTtcbiAgICB9XG4gICAgYW5pbWF0aW9uKGFuaW1hdGlvbkNvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmFuaW1hdGlvbiA9IGFuaW1hdGlvbkNvbmZpZywgdGhpcztcbiAgICB9XG4gICAgYW5pbWF0aW9uU3RhdGUoYW5pbWF0aW9uU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RnVuY3Rpb25TcGVjKGFuaW1hdGlvblN0YXRlLCBcImFuaW1hdGlvblN0YXRlXCIpO1xuICAgIH1cbiAgICBsYXlvdXQobGF5b3V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMubGF5b3V0ID0gbGF5b3V0LCB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBtb3JwaChlbmFibGVNb3JwaCwgbW9ycGhLZXksIG1vcnBoRWxlbWVudEtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLm1vcnBoID0gZW5hYmxlTW9ycGgsIHRoaXMuc3BlYy5tb3JwaEtleSA9IG1vcnBoS2V5LCB0aGlzLnNwZWMubW9ycGhFbGVtZW50S2V5ID0gbW9ycGhFbGVtZW50S2V5LCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgdHJhbnNmb3JtKHRyYW5zZm9ybXMpIHtcbiAgICAgICAgY29uc3QgcHJldlRyYW5zZm9ybXMgPSBwYXJzZVRyYW5zZm9ybVNwZWModGhpcy5zcGVjLnRyYW5zZm9ybSwgdGhpcy52aWV3KTtcbiAgICAgICAgcHJldlRyYW5zZm9ybXMgJiYgKHRoaXMuZGV0YWNoKHByZXZUcmFuc2Zvcm1zLnJlZnMpLCB0aGlzLnRyYW5zZm9ybXMgPSBbXSk7XG4gICAgICAgIGNvbnN0IG5leHRUcmFuc2Zvcm1zID0gcGFyc2VUcmFuc2Zvcm1TcGVjKHRyYW5zZm9ybXMsIHRoaXMudmlldyk7XG4gICAgICAgIHJldHVybiBuZXh0VHJhbnNmb3JtcyAmJiAodGhpcy5hdHRhY2gobmV4dFRyYW5zZm9ybXMucmVmcyksIHRoaXMudHJhbnNmb3JtcyA9IG5leHRUcmFuc2Zvcm1zLnRyYW5zZm9ybXMpLCBcbiAgICAgICAgdGhpcy5zcGVjLnRyYW5zZm9ybSA9IHRyYW5zZm9ybXMsIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIGNvbmZpZ3VyZShjb25maWcpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IFsgXCJjbGlwXCIsIFwiY2xpcFBhdGhcIiwgXCJ6SW5kZXhcIiwgXCJpbnRlcmFjdGl2ZVwiLCBcImNvbnRleHRcIiwgXCJzZXRDdXN0b21pemVkU2hhcGVcIiwgXCJsYXJnZVwiLCBcImxhcmdlVGhyZXNob2xkXCIsIFwicHJvZ3Jlc3NpdmVTdGVwXCIsIFwicHJvZ3Jlc3NpdmVUaHJlc2hvbGRcIiwgXCJzdXBwb3J0M2RcIiwgXCJtb3JwaFwiLCBcIm1vcnBoS2V5XCIsIFwibW9ycGhFbGVtZW50S2V5XCIsIFwiYXR0cmlidXRlVHJhbnNmb3Jtc1wiLCBcInNraXBUaGVtZVwiLCBcImVuYWJsZVNlZ21lbnRzXCIsIFwic3RhdGVTb3J0XCIsIFwiZ3JhcGhpY05hbWVcIiwgXCJvdmVyZmxvd1wiIF07XG4gICAgICAgIHJldHVybiBudWxsID09PSBjb25maWcgPyAoa2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgaXNOaWwodGhpcy5zcGVjW2tleV0pIHx8ICh0aGlzLnNwZWNba2V5XSA9IHZvaWQgMCk7XG4gICAgICAgIH0pKSwgdGhpcykgOiAoa2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgaXNOaWwoY29uZmlnW2tleV0pIHx8ICh0aGlzLnNwZWNba2V5XSA9IGNvbmZpZ1trZXldKTtcbiAgICAgICAgfSkpLCB0aGlzKTtcbiAgICB9XG4gICAgY29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuY29udGV4dCA9IGNvbnRleHQsIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0LCB0aGlzO1xuICAgIH1cbiAgICBpc0NvbGxlY3Rpb25NYXJrKCkge1xuICAgICAgICByZXR1cm4gQ29sbGVjdGlvbk1hcmtUeXBlLmluY2x1ZGVzKHRoaXMubWFya1R5cGUpO1xuICAgIH1cbiAgICBuZWVkQW5pbWF0ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gIShudWxsID09PSAoX2EgPSB0aGlzLnJlbmRlckNvbnRleHQpIHx8IHZvaWQgMCA9PT0gX2EgPyB2b2lkIDAgOiBfYS5wcm9ncmVzc2l2ZSkgJiYgIWlzTmlsKHRoaXMuc3BlYy5hbmltYXRpb24pO1xuICAgIH1cbiAgICBnZXRBbGxFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzLnNsaWNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRNYXAuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmRpZmZTdGF0ZSAhPT0gRGlmZlN0YXRlLmV4aXQgfHwgZWxlbWVudHMuaW5jbHVkZXMoZWxlbWVudCkgfHwgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgfSkpLCB0aGlzLnNwZWMuc29ydCAmJiBlbGVtZW50cy5zb3J0KCgoZWxlbWVudEEsIGVsZW1lbnRCKSA9PiB0aGlzLnNwZWMuc29ydChlbGVtZW50QS5nZXREYXR1bSgpLCBlbGVtZW50Qi5nZXREYXR1bSgpKSkpLCBcbiAgICAgICAgZWxlbWVudHM7XG4gICAgfVxuICAgIGdldFNjYWxlcygpIHtcbiAgICAgICAgY29uc3Qgc2NhbGVzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZXMuZm9yRWFjaCgoKGNvdW50LCByZWYpID0+IHtcbiAgICAgICAgICAgIHJlZi5ncmFtbWFyVHlwZSA9PT0gR3JhbW1hclR5cGVFbnVtLnNjYWxlICYmIChzY2FsZXNbcmVmLmlkKCldID0gcmVmLm91dHB1dCgpKTtcbiAgICAgICAgfSkpLCBzY2FsZXM7XG4gICAgfVxuICAgIGdldFNjYWxlc0J5Q2hhbm5lbCgpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlcnMgPSB0aGlzLnNwZWMuZW5jb2RlO1xuICAgICAgICBpZiAoIWVuY29kZXJzKSByZXR1cm4ge307XG4gICAgICAgIGNvbnN0IHJlcyA9IHt9LCBwYXJhbXMgPSB0aGlzLnBhcmFtZXRlcnMoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGVuY29kZXJzKS5mb3JFYWNoKChzdGF0ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1c2VFbmNvZGVycyA9IGVuY29kZXJzW3N0YXRlXTtcbiAgICAgICAgICAgIHVzZUVuY29kZXJzICYmICFpc0Z1bmN0aW9uVHlwZSh1c2VFbmNvZGVycykgJiYgT2JqZWN0LmtleXModXNlRW5jb2RlcnMpLmZvckVhY2goKGNoYW5uZWwgPT4ge1xuICAgICAgICAgICAgICAgIGlzU2NhbGVFbmNvZGUodXNlRW5jb2RlcnNbY2hhbm5lbF0pICYmIChyZXNbY2hhbm5lbF0gPSBnZXRHcmFtbWFyT3V0cHV0KHVzZUVuY29kZXJzW2NoYW5uZWxdLnNjYWxlLCBwYXJhbXMpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLCByZXM7XG4gICAgfVxuICAgIGdldEZpZWxkc0J5Q2hhbm5lbCgpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlcnMgPSB0aGlzLnNwZWMuZW5jb2RlO1xuICAgICAgICBpZiAoIWVuY29kZXJzKSByZXR1cm4ge307XG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZW5jb2RlcnMpLmZvckVhY2goKHN0YXRlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZUVuY29kZXJzID0gZW5jb2RlcnNbc3RhdGVdO1xuICAgICAgICAgICAgaXNGdW5jdGlvblR5cGUodXNlRW5jb2RlcnMpIHx8IE9iamVjdC5rZXlzKHVzZUVuY29kZXJzKS5mb3JFYWNoKChjaGFubmVsID0+IHtcbiAgICAgICAgICAgICAgICBpc0ZpZWxkRW5jb2RlKHVzZUVuY29kZXJzW2NoYW5uZWxdKSAmJiAocmVzW2NoYW5uZWxdID0gdXNlRW5jb2RlcnNbY2hhbm5lbF0uZmllbGQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSksIHJlcztcbiAgICB9XG4gICAgaW5pdChzdGFnZSwgcGFyYW1ldGVycykge1xuICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBpZiAodGhpcy5fZGVsZWdhdGVFdmVudCB8fCAodGhpcy5fZGVsZWdhdGVFdmVudCA9IChldmVudCwgdHlwZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXh0ZW5kZWRFdnQgPSBnZXRFeHRlbmRlZEV2ZW50cyh0aGlzLnZpZXcsIGV2ZW50LCB0eXBlLCBFVkVOVF9TT1VSQ0VfVklFVyksIGFjdGl2ZUVsZW1lbnQgPSBldmVudC5lbGVtZW50O1xuICAgICAgICAgICAgKG51bGwgPT0gYWN0aXZlRWxlbWVudCA/IHZvaWQgMCA6IGFjdGl2ZUVsZW1lbnQubWFyaykgPT09IHRoaXMgJiYgdGhpcy5lbWl0R3JhbW1hckV2ZW50KHR5cGUsIGV4dGVuZGVkRXZ0LCBhY3RpdmVFbGVtZW50KTtcbiAgICAgICAgfSwgdGhpcy5pbml0RXZlbnQoKSksIG51bGwgPT09IChfYiA9IHRoaXMuaW5pdEFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbCh0aGlzLCB0aGlzLnNwZWMpLCBcbiAgICAgICAgIXRoaXMuZ3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gZ2V0R3JhbW1hck91dHB1dCh0aGlzLnNwZWMuZ3JvdXAsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgdGhpcy5ncm91cCA9IGdyb3VwLCBncm91cCAmJiBncm91cC5hcHBlbmRDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncm91cEdyYXBoaWNJdGVtID0gdGhpcy5ncm91cCA/IHRoaXMuZ3JvdXAuZ2V0R3JvdXBHcmFwaGljSXRlbSgpIDogc3RhZ2UuZGVmYXVsdExheWVyLCBtYXJrSW5kZXggPSBudWxsICE9PSAoX2UgPSBudWxsID09PSAoX2QgPSBudWxsID09PSAoX2MgPSB0aGlzLmdyb3VwKSB8fCB2b2lkIDAgPT09IF9jID8gdm9pZCAwIDogX2MuY2hpbGRyZW4pIHx8IHZvaWQgMCA9PT0gX2QgPyB2b2lkIDAgOiBfZC5pbmRleE9mKHRoaXMpKSAmJiB2b2lkIDAgIT09IF9lID8gX2UgOiAwO1xuICAgICAgICBpZiAodGhpcy5tYXJrVHlwZSAhPT0gR3JhbW1hck1hcmtUeXBlLmdyb3VwKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY0l0ZW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncmFwaGljSXRlbSA9IGNyZWF0ZUdyYXBoaWNJdGVtKHRoaXMsIEdyYW1tYXJNYXJrVHlwZS5ncm91cCwge1xuICAgICAgICAgICAgICAgICAgICBwaWNrYWJsZTogITEsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogbnVsbCAhPT0gKF9mID0gdGhpcy5zcGVjLnpJbmRleCkgJiYgdm9pZCAwICE9PSBfZiA/IF9mIDogMCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IHRoaXMuc3BlYy5vdmVyZmxvd1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICh0aGlzLnNwZWMuc3VwcG9ydDNkIHx8IE1hcmszRFR5cGUuaW5jbHVkZXModGhpcy5tYXJrVHlwZSkpICYmIGdyYXBoaWNJdGVtLnNldE1vZGUoXCIzZFwiKSwgXG4gICAgICAgICAgICAgICAgZ3JhcGhpY0l0ZW0ubmFtZSA9IGAke3RoaXMuaWQoKSB8fCB0aGlzLm1hcmtUeXBlfWAsIHRoaXMuZ3JhcGhpY0l0ZW0gPSBncmFwaGljSXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY1BhcmVudCA9IHRoaXMuZ3JhcGhpY0l0ZW0sICFncm91cEdyYXBoaWNJdGVtIHx8IHRoaXMuZ3JhcGhpY0luZGV4ID09PSBtYXJrSW5kZXggJiYgdGhpcy5ncmFwaGljSXRlbS5wYXJlbnQgPT09IGdyb3VwR3JhcGhpY0l0ZW0gfHwgZ3JvdXBHcmFwaGljSXRlbS5pbnNlcnRJbnRvS2VlcElkeCh0aGlzLmdyYXBoaWNJdGVtLCBtYXJrSW5kZXgpO1xuICAgICAgICB9IGVsc2UgdGhpcy5ncmFwaGljUGFyZW50ID0gZ3JvdXBHcmFwaGljSXRlbSwgdGhpcy5ncmFwaGljUGFyZW50LnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgb3ZlcmZsb3c6IHRoaXMuc3BlYy5vdmVyZmxvd1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ncmFwaGljSW5kZXggPSBtYXJrSW5kZXg7XG4gICAgfVxuICAgIHVwZGF0ZShzcGVjKSB7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgaWYgKHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX1VQREFURSksIHRoaXMuX2NvbnRleHQgPSB0aGlzLnNwZWMuY29udGV4dCwgXG4gICAgICAgIHRoaXMuaXNVcGRhdGVkID0gITAsIHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZSB8fCBudWxsID09PSAoX2IgPSB0aGlzLnVwZGF0ZUFuaW1hdGUpIHx8IHZvaWQgMCA9PT0gX2IgfHwgX2IuY2FsbCh0aGlzLCBzcGVjKSwgXG4gICAgICAgIHRoaXMubWFya1R5cGUgIT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCkge1xuICAgICAgICAgICAgaWYgKGlzTmlsKHNwZWMuekluZGV4KSB8fCB0aGlzLmdyYXBoaWNJdGVtLnNldEF0dHJpYnV0ZShcInpJbmRleFwiLCBzcGVjLnpJbmRleCksIFxuICAgICAgICAgICAgaXNOaWwoc3BlYy5jbGlwKSB8fCB0aGlzLmdyYXBoaWNJdGVtLnNldEF0dHJpYnV0ZShcImNsaXBcIiwgc3BlYy5jbGlwKSwgIWlzTmlsKHNwZWMuY2xpcFBhdGgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aHMgPSBpc0FycmF5KHNwZWMuY2xpcFBhdGgpID8gc3BlYy5jbGlwUGF0aCA6IHNwZWMuY2xpcFBhdGgodGhpcy5lbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgcGF0aHMgJiYgcGF0aHMubGVuZ3RoID8gdGhpcy5ncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGUoXCJwYXRoXCIsIHBhdGhzKSA6IHRoaXMuZ3JhcGhpY0l0ZW0uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGhzLFxuICAgICAgICAgICAgICAgICAgICBjbGlwOiAhMVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNOaWwoc3BlYy5vdmVyZmxvdykgfHwgdGhpcy5ncmFwaGljSXRlbS5zZXRBdHRyaWJ1dGUoXCJvdmVyZmxvd1wiLCBzcGVjLm92ZXJmbG93KSwgXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRNYXAuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC51cGRhdGVHcmFwaGljSXRlbSgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2UgdGhpcy5lbGVtZW50TWFwLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC51cGRhdGVHcmFwaGljSXRlbSgpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX01BUktfVVBEQVRFKTtcbiAgICB9XG4gICAgY3JlYXRlRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICBldmFsdWF0ZUpvaW4oZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHRoaXMubmVlZENsZWFyID0gITA7XG4gICAgICAgIGNvbnN0IGtleUdldHRlciA9IHBhcnNlRmllbGQobnVsbCAhPT0gKF9jID0gbnVsbCAhPT0gKF9hID0gdGhpcy5zcGVjLmtleSkgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogbnVsbCA9PT0gKF9iID0gdGhpcy5ncmFtbWFyU291cmNlKSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IuZ2V0RGF0YUlES2V5KCkpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6ICgpID0+IERlZmF1bHRLZXkpLCBncm91cEtleUdldHRlciA9IHBhcnNlRmllbGQobnVsbCAhPT0gKF9kID0gdGhpcy5zcGVjLmdyb3VwQnkpICYmIHZvaWQgMCAhPT0gX2QgPyBfZCA6ICgpID0+IERlZmF1bHRLZXkpLCBzb3J0ID0gdGhpcy5zcGVjLnNvcnQsIGlzQ29sbGVjdGlvbk1hcmsgPSB0aGlzLmlzQ29sbGVjdGlvbk1hcmsoKSwgZW50ZXJFbGVtZW50cyA9IG5ldyBTZXQodGhpcy5lbGVtZW50cy5maWx0ZXIoKGVsZW1lbnQgPT4gZWxlbWVudC5kaWZmU3RhdGUgPT09IERpZmZTdGF0ZS5lbnRlcikpKSwgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5kaWZmZXIuc2V0Q2FsbGJhY2soKChrZXksIGRhdGEsIHByZXZEYXRhKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50S2V5ID0ga2V5O1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoaXNOaWwoZGF0YSkpIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRNYXAuZ2V0KGVsZW1lbnRLZXkpLCBlbGVtZW50ICYmIChlbGVtZW50LmRpZmZTdGF0ZSA9IERpZmZTdGF0ZS5leGl0KTsgZWxzZSBpZiAoaXNOaWwocHJldkRhdGEpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRNYXAuaGFzKGVsZW1lbnRLZXkpID8gdGhpcy5lbGVtZW50TWFwLmdldChlbGVtZW50S2V5KSA6IHRoaXMuY3JlYXRlRWxlbWVudCgpLCBcbiAgICAgICAgICAgICAgICBlbGVtZW50LmRpZmZTdGF0ZSA9PT0gRGlmZlN0YXRlLmV4aXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kaWZmU3RhdGUgPSBEaWZmU3RhdGUuZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdG9ycyA9IG51bGwgPT09IChfYSA9IHRoaXMuYW5pbWF0ZSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmdldEVsZW1lbnRBbmltYXRvcnMoZWxlbWVudCwgRGlmZlN0YXRlLmV4aXQpO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRvcnMgJiYgYW5pbWF0b3JzLmZvckVhY2goKGFuaW1hdG9yID0+IGFuaW1hdG9yLnN0b3AoXCJzdGFydFwiKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50LmRpZmZTdGF0ZSA9IERpZmZTdGF0ZS5lbnRlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cEtleSA9IGlzQ29sbGVjdGlvbk1hcmsgPyBrZXkgOiBncm91cEtleUdldHRlcihkYXRhWzBdKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnVwZGF0ZURhdGEoZ3JvdXBLZXksIGRhdGEsIGtleUdldHRlciksIHRoaXMuZWxlbWVudE1hcC5zZXQoZWxlbWVudEtleSwgZWxlbWVudCksIFxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRNYXAuZ2V0KGVsZW1lbnRLZXkpLCBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kaWZmU3RhdGUgPSBEaWZmU3RhdGUudXBkYXRlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwS2V5ID0gaXNDb2xsZWN0aW9uTWFyayA/IGtleSA6IGdyb3VwS2V5R2V0dGVyKGRhdGFbMF0pO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlRGF0YShncm91cEtleSwgZGF0YSwga2V5R2V0dGVyKSwgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVudGVyRWxlbWVudHMuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRhID0gbnVsbCAhPSBkYXRhID8gZGF0YSA6IERlZmF1bHRNYXJrRGF0YTtcbiAgICAgICAgaXNDb2xsZWN0aW9uTWFyayA/IHRoaXMuZGlmZmVyLnNldEN1cnJlbnREYXRhKHRoaXMuX2dyb3VwZWREYXRhKSA6IHRoaXMuZGlmZmVyLnNldEN1cnJlbnREYXRhKGdyb3VwRGF0YShjdXJyZW50RGF0YSwgKGRhdHVtID0+IGAke2dyb3VwS2V5R2V0dGVyKGRhdHVtKX0tJHtrZXlHZXR0ZXIoZGF0dW0pfWApLCB2b2lkIDApKSwgXG4gICAgICAgIHRoaXMuZGlmZmVyLmRvRGlmZigpLCBlbnRlckVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50TWFwLmRlbGV0ZShpc0NvbGxlY3Rpb25NYXJrID8gZWxlbWVudC5ncm91cEtleSA6IGAke2VsZW1lbnQuZ3JvdXBLZXl9LSR7ZWxlbWVudC5rZXl9YCksIFxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKSwgZWxlbWVudC5yZWxlYXNlKCk7XG4gICAgICAgIH0pKSwgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzLCBzb3J0ICYmIHRoaXMuZWxlbWVudHMubGVuZ3RoID49IDIgJiYgdGhpcy5lbGVtZW50cy5zb3J0KCgoZWxlbWVudEEsIGVsZW1lbnRCKSA9PiBzb3J0KGVsZW1lbnRBLmdldERhdHVtKCksIGVsZW1lbnRCLmdldERhdHVtKCkpKSk7XG4gICAgfVxuICAgIGV2YWx1YXRlU3RhdGUoZWxlbWVudHMsIHN0YXRlU3BlYywgcGFyYW1ldGVycykge1xuICAgICAgICBzdGF0ZVNwZWMgJiYgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LnN0YXRlKHN0YXRlU3BlYywgcGFyYW1ldGVycyk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXZhbHVhdGVHcm91cEVuY29kZShlbGVtZW50cywgZ3JvdXBFbmNvZGUsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ncm91cGVkRGF0YSB8fCAhZ3JvdXBFbmNvZGUpIHJldHVybjtcbiAgICAgICAgY29uc3QgcmVzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cGVkRGF0YS5rZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGVsZW1lbnRzLmZpbmQoKGVsID0+IGVsLmdyb3VwS2V5ID09PSBrZXkpKTtcbiAgICAgICAgICAgIGVsICYmIChyZXNba2V5XSA9IGludm9rZUVuY29kZXIoZ3JvdXBFbmNvZGUsIGVsLml0ZW1zICYmIGVsLml0ZW1zWzBdICYmIGVsLml0ZW1zWzBdLmRhdHVtLCBlbCwgcGFyYW1ldGVycykpO1xuICAgICAgICB9KSksIHRoaXMuX2dyb3VwRW5jb2RlUmVzdWx0ID0gcmVzLCByZXM7XG4gICAgfVxuICAgIGdldENoYW5uZWxzRnJvbUNvbmZpZyhlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNwZWMgPSB0aGlzLnNwZWM7XG4gICAgICAgIHJldHVybiBpc05pbChzcGVjLmludGVyYWN0aXZlKSA/IG51bGwgOiB7XG4gICAgICAgICAgICBwaWNrYWJsZTogc3BlYy5pbnRlcmFjdGl2ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBldmFsdWF0ZUVuY29kZShlbGVtZW50cywgZW5jb2RlcnMsIHBhcmFtZXRlcnMsIG5vR3JvdXBFbmNvZGUpIHtcbiAgICAgICAgY29uc3QgaW5pdEF0dHJzID0gdGhpcy5nZXRDaGFubmVsc0Zyb21Db25maWcoKTtcbiAgICAgICAgaWYgKGVuY29kZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfRUxFTUVOVF9FTkNPREUsIHtcbiAgICAgICAgICAgICAgICBlbmNvZGVyczogZW5jb2RlcnMsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczogcGFyYW1ldGVyc1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICBjb25zdCBncm91cEVuY29kZUF0dHJzID0gbm9Hcm91cEVuY29kZSA/IG51bGwgOiB0aGlzLmV2YWx1YXRlR3JvdXBFbmNvZGUoZWxlbWVudHMsIGVuY29kZXJzW0J1aWx0SW5FbmNvZGVOYW1lcy5ncm91cF0sIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrVHlwZSA9PT0gR3JhbW1hck1hcmtUeXBlLmdseXBoICYmIHRoaXMuX2dyb3VwRW5jb2RlUmVzdWx0ID8gZWxlbWVudC5pdGVtcy5mb3JFYWNoKChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5uZXh0QXR0cnMgPSBPYmplY3QuYXNzaWduKGl0ZW0ubmV4dEF0dHJzLCBpbml0QXR0cnMsIHRoaXMuX2dyb3VwRW5jb2RlUmVzdWx0W2VsZW1lbnQuZ3JvdXBLZXldKTtcbiAgICAgICAgICAgICAgICB9KSkgOiAobnVsbCA9PSBncm91cEVuY29kZUF0dHJzID8gdm9pZCAwIDogZ3JvdXBFbmNvZGVBdHRyc1tlbGVtZW50Lmdyb3VwS2V5XSkgJiYgIXRoaXMuaXNDb2xsZWN0aW9uTWFyaygpID8gZWxlbWVudC5pdGVtcy5mb3JFYWNoKChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5uZXh0QXR0cnMgPSBPYmplY3QuYXNzaWduKGl0ZW0ubmV4dEF0dHJzLCBpbml0QXR0cnMsIGdyb3VwRW5jb2RlQXR0cnNbZWxlbWVudC5ncm91cEtleV0pO1xuICAgICAgICAgICAgICAgIH0pKSA6IGluaXRBdHRycyAmJiBlbGVtZW50Lml0ZW1zLmZvckVhY2goKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLm5leHRBdHRycyA9IE9iamVjdC5hc3NpZ24oaXRlbS5uZXh0QXR0cnMsIGluaXRBdHRycyk7XG4gICAgICAgICAgICAgICAgfSkpLCBlbGVtZW50LmVuY29kZUl0ZW1zKGVsZW1lbnQuaXRlbXMsIGVuY29kZXJzLCB0aGlzLl9pc1JlZW50ZXJlZCwgcGFyYW1ldGVycyksIFxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb2xsZWN0aW9uTWFyaygpICYmIChudWxsID09IGdyb3VwRW5jb2RlQXR0cnMgPyB2b2lkIDAgOiBncm91cEVuY29kZUF0dHJzW2VsZW1lbnQuZ3JvdXBLZXldKSAmJiBpc1ZhbGlkKGdyb3VwRW5jb2RlQXR0cnNbZWxlbWVudC5ncm91cEtleV0uZGVmaW5lZCkgJiYgKGVsZW1lbnQuaXRlbXMuZm9yRWFjaCgoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ubmV4dEF0dHJzLmRlZmluZWQgPSBncm91cEVuY29kZUF0dHJzW2VsZW1lbnQuZ3JvdXBLZXldLmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSkpLCBkZWxldGUgZ3JvdXBFbmNvZGVBdHRyc1tlbGVtZW50Lmdyb3VwS2V5XS5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0pKSwgdGhpcy5faXNSZWVudGVyZWQgPSAhMSwgdGhpcy5ldmFsdWF0ZVRyYW5zZm9ybSh0aGlzLl9nZXRUcmFuc2Zvcm1zQWZ0ZXJFbmNvZGVJdGVtcygpLCBlbGVtZW50cywgcGFyYW1ldGVycyksIFxuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5lbmNvZGVHcmFwaGljKHRoaXMuaXNDb2xsZWN0aW9uTWFyaygpID8gbnVsbCA9PSBncm91cEVuY29kZUF0dHJzID8gdm9pZCAwIDogZ3JvdXBFbmNvZGVBdHRyc1tlbGVtZW50Lmdyb3VwS2V5XSA6IG51bGwpO1xuICAgICAgICAgICAgfSkpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9FTEVNRU5UX0VOQ09ERSwge1xuICAgICAgICAgICAgICAgIGVuY29kZXJzOiBlbmNvZGVycyxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzXG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5pbml0R3JhcGhpY0l0ZW0oaW5pdEF0dHJzKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhZGRHcmFwaGljSXRlbShhdHRycywgZ3JvdXBLZXksIG5ld0dyYXBoaWNJdGVtKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSBudWxsICE9IG5ld0dyYXBoaWNJdGVtID8gbmV3R3JhcGhpY0l0ZW0gOiBjcmVhdGVHcmFwaGljSXRlbSh0aGlzLCB0aGlzLm1hcmtUeXBlLCBhdHRycyk7XG4gICAgICAgIGlmIChncmFwaGljSXRlbSkge1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IChfYSA9IHRoaXMucmVuZGVyQ29udGV4dCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLnByb2dyZXNzaXZlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ncm91cGVkRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2dyb3VwZWREYXRhLmtleXMuaW5kZXhPZihncm91cEtleSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID49IDAgJiYgKGdyb3VwID0gdGhpcy5ncmFwaGljUGFyZW50LmdldENoaWxkQXQoaW5kZXgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgZ3JvdXAgPSB0aGlzLmdyYXBoaWNQYXJlbnQuYXQoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbGxlY3Rpb25NYXJrKCkgPyAoZ3JhcGhpY0l0ZW0uaW5jcmVtZW50YWwgPSAxLCBncm91cC5hcHBlbmRDaGlsZChncmFwaGljSXRlbSkpIDogZ3JvdXAuaW5jcmVtZW50YWxBcHBlbmRDaGlsZChncmFwaGljSXRlbSk7XG4gICAgICAgICAgICB9IGVsc2UgdGhpcy5ncmFwaGljUGFyZW50LmFwcGVuZENoaWxkKGdyYXBoaWNJdGVtKTtcbiAgICAgICAgICAgIHJldHVybiBncmFwaGljSXRlbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJzZVJlbmRlckNvbnRleHQoZGF0YSwgcGFyYW1ldGVycykge1xuICAgICAgICBjb25zdCBlbmFibGVQcm9ncmVzc2l2ZSA9IHRoaXMubWFya1R5cGUgIT09IEdyYW1tYXJNYXJrVHlwZS5ncm91cCAmJiB0aGlzLnNwZWMucHJvZ3Jlc3NpdmVTdGVwID4gMCAmJiB0aGlzLnNwZWMucHJvZ3Jlc3NpdmVUaHJlc2hvbGQgPiAwICYmIHRoaXMuc3BlYy5wcm9ncmVzc2l2ZVN0ZXAgPCB0aGlzLnNwZWMucHJvZ3Jlc3NpdmVUaHJlc2hvbGQsIGxhcmdlID0gdGhpcy5zcGVjLmxhcmdlICYmIHRoaXMuc3BlYy5sYXJnZVRocmVzaG9sZCA+IDAgJiYgZGF0YS5sZW5ndGggPj0gdGhpcy5zcGVjLmxhcmdlVGhyZXNob2xkO1xuICAgICAgICBpZiAoZW5hYmxlUHJvZ3Jlc3NpdmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwZWREYXRhID0gdGhpcy5fZ3JvdXBlZERhdGE7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBlZERhdGEgJiYgZ3JvdXBlZERhdGEua2V5cyAmJiBncm91cGVkRGF0YS5rZXlzLnNvbWUoKGtleSA9PiBncm91cGVkRGF0YS5kYXRhLmdldChrZXkpLmxlbmd0aCA+IHRoaXMuc3BlYy5wcm9ncmVzc2l2ZVRocmVzaG9sZCkpID8ge1xuICAgICAgICAgICAgICAgIGxhcmdlOiBsYXJnZSxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHByb2dyZXNzaXZlOiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IHRoaXMuc3BlYy5wcm9ncmVzc2l2ZVN0ZXAsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleDogMCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxTdGVwOiBncm91cGVkRGF0YS5rZXlzLnJlZHVjZSgoKHRvdGFsLCBrZXkpID0+IE1hdGgubWF4KE1hdGguY2VpbChncm91cGVkRGF0YS5kYXRhLmdldChrZXkpLmxlbmd0aCAvIHRoaXMuc3BlYy5wcm9ncmVzc2l2ZVN0ZXApLCB0b3RhbCkpLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBlZERhdGE6IGdyb3VwZWREYXRhLmRhdGFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgIGxhcmdlOiBsYXJnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFyZ2U6IGxhcmdlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlzUHJvZ3Jlc3NpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckNvbnRleHQgJiYgKCEhdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlIHx8ICEhdGhpcy5yZW5kZXJDb250ZXh0LmJlZm9yZVRyYW5zZm9ybVByb2dyZXNzaXZlKTtcbiAgICB9XG4gICAgY2FuQW5pbWF0ZUFmdGVyUHJvZ3Jlc3NpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckNvbnRleHQgJiYgdGhpcy5yZW5kZXJDb250ZXh0LmJlZm9yZVRyYW5zZm9ybVByb2dyZXNzaXZlICYmIHRoaXMucmVuZGVyQ29udGV4dC5iZWZvcmVUcmFuc2Zvcm1Qcm9ncmVzc2l2ZS5jYW5BbmltYXRlKCk7XG4gICAgfVxuICAgIGlzRG9pbmdQcm9ncmVzc2l2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQ29udGV4dCAmJiAodGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlICYmIHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZS5jdXJyZW50SW5kZXggPCB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUudG90YWxTdGVwIHx8IHRoaXMucmVuZGVyQ29udGV4dC5iZWZvcmVUcmFuc2Zvcm1Qcm9ncmVzc2l2ZSAmJiB0aGlzLnJlbmRlckNvbnRleHQuYmVmb3JlVHJhbnNmb3JtUHJvZ3Jlc3NpdmUudW5maW5pc2hlZCgpKTtcbiAgICB9XG4gICAgY2xlYXJQcm9ncmVzc2l2ZSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJDb250ZXh0ICYmIHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZSAmJiAodGhpcy5lbGVtZW50cyA9IFtdLCB0aGlzLmdyYXBoaWNQYXJlbnQuY2hpbGRyZW4uZm9yRWFjaCgoZ3JvdXAgPT4ge1xuICAgICAgICAgICAgZ3JvdXAuaW5jcmVtZW50YWxDbGVhckNoaWxkKCk7XG4gICAgICAgIH0pKSwgdGhpcy5ncmFwaGljUGFyZW50LnJlbW92ZUFsbENoaWxkKCkpLCB0aGlzLnJlbmRlckNvbnRleHQgJiYgdGhpcy5yZW5kZXJDb250ZXh0LmJlZm9yZVRyYW5zZm9ybVByb2dyZXNzaXZlICYmIHRoaXMucmVuZGVyQ29udGV4dC5iZWZvcmVUcmFuc2Zvcm1Qcm9ncmVzc2l2ZS5yZWxlYXNlKCksIFxuICAgICAgICB0aGlzLnJlbmRlckNvbnRleHQgPSBudWxsO1xuICAgIH1cbiAgICByZXN0YXJ0UHJvZ3Jlc3NpdmUoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyQ29udGV4dCAmJiB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUgJiYgKHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZS5jdXJyZW50SW5kZXggPSAwKTtcbiAgICB9XG4gICAgZXZhbHVhdGVKb2luUHJvZ3Jlc3NpdmUoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUuY3VycmVudEluZGV4LCBrZXlHZXR0ZXIgPSBwYXJzZUZpZWxkKG51bGwgIT09IChfYyA9IG51bGwgIT09IChfYSA9IHRoaXMuc3BlYy5rZXkpICYmIHZvaWQgMCAhPT0gX2EgPyBfYSA6IG51bGwgPT09IChfYiA9IHRoaXMuZ3JhbW1hclNvdXJjZSkgfHwgdm9pZCAwID09PSBfYiA/IHZvaWQgMCA6IF9iLmdldERhdGFJREtleSgpKSAmJiB2b2lkIDAgIT09IF9jID8gX2MgOiAoKSA9PiBEZWZhdWx0S2V5KSwgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuaXNDb2xsZWN0aW9uTWFyaygpKSByZXR1cm4gdGhpcy5fZ3JvdXBlZERhdGEua2V5cy5mb3JFYWNoKCgoa2V5LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZS5ncm91cGVkRGF0YS5nZXQoa2V5KSwgZ3JvdXBTdGVwID0gdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlLnN0ZXAsIGRhdGFTbGljZSA9IGRhdGEuc2xpY2UoY3VycmVudEluZGV4ICogZ3JvdXBTdGVwLCAoY3VycmVudEluZGV4ICsgMSkgKiBncm91cFN0ZXApO1xuICAgICAgICAgICAgaWYgKDAgPT09IGN1cnJlbnRJbmRleCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmRpZmZTdGF0ZSA9IERpZmZTdGF0ZS5lbnRlciwgZWxlbWVudC51cGRhdGVEYXRhKGtleSwgZGF0YVNsaWNlLCBrZXlHZXR0ZXIpLCBcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgZWxlbWVudC51cGRhdGVEYXRhKGtleSwgZGF0YVNsaWNlLCBrZXlHZXR0ZXIpLCBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIGVsZW1lbnRzO1xuICAgICAgICBjb25zdCBncm91cEVsZW1lbnRzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cGVkRGF0YS5rZXlzLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlLmdyb3VwZWREYXRhLmdldChrZXkpLCBncm91cFN0ZXAgPSB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUuc3RlcCwgZGF0YVNsaWNlID0gZGF0YS5zbGljZShjdXJyZW50SW5kZXggKiBncm91cFN0ZXAsIChjdXJyZW50SW5kZXggKyAxKSAqIGdyb3VwU3RlcCksIGdyb3VwID0gW107XG4gICAgICAgICAgICBkYXRhU2xpY2UuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmRpZmZTdGF0ZSA9IERpZmZTdGF0ZS5lbnRlciwgZWxlbWVudC51cGRhdGVEYXRhKGtleSwgWyBlbnRyeSBdLCBrZXlHZXR0ZXIpLCBcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKGVsZW1lbnQpLCBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSkpLCBncm91cEVsZW1lbnRzW2tleV0gPSBncm91cDtcbiAgICAgICAgfSkpLCB7XG4gICAgICAgICAgICBncm91cEVsZW1lbnRzOiBncm91cEVsZW1lbnRzLFxuICAgICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzXG4gICAgICAgIH07XG4gICAgfVxuICAgIGV2YWx1YXRlRW5jb2RlUHJvZ3Jlc3NpdmUoZWxlbWVudHMsIGVuY29kZXJzLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIGNvbnN0IHByb2dyZXNzaXZlSW5kZXggPSB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUuY3VycmVudEluZGV4O1xuICAgICAgICBpZiAoMCA9PT0gcHJvZ3Jlc3NpdmVJbmRleCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZXZhbHVhdGVFbmNvZGUoZWxlbWVudHMsIGVuY29kZXJzLCBwYXJhbWV0ZXJzKSwgMCA9PT0gcHJvZ3Jlc3NpdmVJbmRleCAmJiB0aGlzLl9ncm91cEVuY29kZVJlc3VsdCAmJiAhdGhpcy5pc0NvbGxlY3Rpb25NYXJrKCkgJiYgdGhpcy5tYXJrVHlwZSAhPT0gR3JhbW1hck1hcmtUeXBlLmdseXBoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RFbGVtZW50ID0gZWxlbWVudHNbMF0sIGZpcnN0Q2hpbGQgPSBmaXJzdEVsZW1lbnQuZ2V0R3JhcGhpY0l0ZW0oKSwgZ3JvdXAgPSBudWxsID09IGZpcnN0Q2hpbGQgPyB2b2lkIDAgOiBmaXJzdENoaWxkLnBhcmVudDtcbiAgICAgICAgICAgICAgICBncm91cCAmJiB0aGlzLl9ncm91cEVuY29kZVJlc3VsdFtmaXJzdEVsZW1lbnQuZ3JvdXBLZXldICYmIGdyb3VwLnNldFRoZW1lKHtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB0aGlzLl9ncm91cEVuY29kZVJlc3VsdFtmaXJzdEVsZW1lbnQuZ3JvdXBLZXldXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB0aGlzLmV2YWx1YXRlRW5jb2RlKGVsZW1lbnRzLCBlbmNvZGVycywgcGFyYW1ldGVycywgITApO1xuICAgIH1cbiAgICBldmFsdWF0ZVByb2dyZXNzaXZlKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKG51bGwgPT09IChfYSA9IHRoaXMucmVuZGVyQ29udGV4dCkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLmJlZm9yZVRyYW5zZm9ybVByb2dyZXNzaXZlKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLnJlbmRlckNvbnRleHQuYmVmb3JlVHJhbnNmb3JtUHJvZ3Jlc3NpdmU7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucHJvZ3Jlc3NpdmVSdW4oKTtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IHRyYW5zZm9ybS5vdXRwdXQoKTtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0uY2FuQW5pbWF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0udW5maW5pc2hlZCgpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5ldmFsdWF0ZUdyb3VwKG91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX01BUktfSk9JTiksIHRoaXMuZXZhbHVhdGVKb2luKG91dHB1dCksIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX01BUktfSk9JTiksIFxuICAgICAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX01BUktfU1RBVEUpLCB0aGlzLmV2YWx1YXRlU3RhdGUodGhpcy5lbGVtZW50cywgdGhpcy5zcGVjLnN0YXRlLCB0aGlzLnJlbmRlckNvbnRleHQucGFyYW1ldGVycyksIFxuICAgICAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfTUFSS19TVEFURSksIHRoaXMuZW1pdChIT09LX0VWRU5ULkJFRk9SRV9NQVJLX0VOQ09ERSksIFxuICAgICAgICAgICAgdGhpcy5ldmFsdWF0ZUVuY29kZSh0aGlzLmVsZW1lbnRzLCB0aGlzLl9nZXRFbmNvZGVycygpLCB0aGlzLnJlbmRlckNvbnRleHQucGFyYW1ldGVycyksIFxuICAgICAgICAgICAgdm9pZCB0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9NQVJLX0VOQ09ERSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEobnVsbCA9PT0gKF9iID0gdGhpcy5yZW5kZXJDb250ZXh0KSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2IucHJvZ3Jlc3NpdmUpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB0aGlzLnJlbmRlckNvbnRleHQucGFyYW1ldGVycztcbiAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX01BUktfSk9JTik7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZXZhbHVhdGVKb2luUHJvZ3Jlc3NpdmUoKSwgZWxlbWVudHMgPSBBcnJheS5pc0FycmF5KHJlc3VsdCkgPyByZXN1bHQgOiByZXN1bHQuZWxlbWVudHM7XG4gICAgICAgIGlmICh0aGlzLmVtaXQoSE9PS19FVkVOVC5BRlRFUl9NQVJLX0pPSU4pLCAwID09PSB0aGlzLnJlbmRlckNvbnRleHQucHJvZ3Jlc3NpdmUuY3VycmVudEluZGV4ID8gKHRoaXMuZ3JhcGhpY1BhcmVudC5yZW1vdmVBbGxDaGlsZCgpLCBcbiAgICAgICAgdGhpcy5fZ3JvdXBlZERhdGEua2V5cy5mb3JFYWNoKChrZXkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3JhcGhpY0l0ZW0gPSBjcmVhdGVHcmFwaGljSXRlbSh0aGlzLCBHcmFtbWFyTWFya1R5cGUuZ3JvdXAsIHtcbiAgICAgICAgICAgICAgICBwaWNrYWJsZTogITEsXG4gICAgICAgICAgICAgICAgekluZGV4OiB0aGlzLnNwZWMuekluZGV4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdyYXBoaWNJdGVtLmluY3JlbWVudGFsID0gdGhpcy5yZW5kZXJDb250ZXh0LnByb2dyZXNzaXZlLnN0ZXAsIHRoaXMuZ3JhcGhpY1BhcmVudC5hcHBlbmRDaGlsZChncmFwaGljSXRlbSk7XG4gICAgICAgIH0pKSwgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzKSA6IHRoaXMuZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzLmNvbmNhdChlbGVtZW50cyksIFxuICAgICAgICB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfTUFSS19TVEFURSksIHRoaXMuZXZhbHVhdGVTdGF0ZShlbGVtZW50cywgdGhpcy5zcGVjLnN0YXRlLCBwYXJhbWV0ZXJzKSwgXG4gICAgICAgIHRoaXMuZW1pdChIT09LX0VWRU5ULkFGVEVSX01BUktfU1RBVEUpLCB0aGlzLmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfTUFSS19FTkNPREUpLCBcbiAgICAgICAgQXJyYXkuaXNBcnJheShyZXN1bHQpKSB0aGlzLmV2YWx1YXRlRW5jb2RlUHJvZ3Jlc3NpdmUoZWxlbWVudHMsIHRoaXMuX2dldEVuY29kZXJzKCksIHBhcmFtZXRlcnMpOyBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwRWxlbWVudHMgPSByZXN1bHQuZ3JvdXBFbGVtZW50cztcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGdyb3VwRWxlbWVudHMpLmZvckVhY2goKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmFsdWF0ZUVuY29kZVByb2dyZXNzaXZlKGdyb3VwRWxlbWVudHNba2V5XSwgdGhpcy5fZ2V0RW5jb2RlcnMoKSwgcGFyYW1ldGVycyk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KEhPT0tfRVZFTlQuQUZURVJfTUFSS19FTkNPREUpO1xuICAgICAgICBjb25zdCBwcm9ncmVzc2l2ZVRyYW5zZm9ybXMgPSBudWxsID09PSAoX2MgPSB0aGlzLl9nZXRUcmFuc2Zvcm1zQWZ0ZXJFbmNvZGUoKSkgfHwgdm9pZCAwID09PSBfYyA/IHZvaWQgMCA6IF9jLmZpbHRlcigoZW50cnkgPT4gITAgPT09IGVudHJ5LmNhblByb2dyZXNzaXZlKSk7XG4gICAgICAgIChudWxsID09IHByb2dyZXNzaXZlVHJhbnNmb3JtcyA/IHZvaWQgMCA6IHByb2dyZXNzaXZlVHJhbnNmb3Jtcy5sZW5ndGgpICYmIHRoaXMuZXZhbHVhdGVUcmFuc2Zvcm0ocHJvZ3Jlc3NpdmVUcmFuc2Zvcm1zLCB0aGlzLmVsZW1lbnRzLCBwYXJhbWV0ZXJzKSwgXG4gICAgICAgIHRoaXMucmVuZGVyQ29udGV4dC5wcm9ncmVzc2l2ZS5jdXJyZW50SW5kZXggKz0gMTtcbiAgICB9XG4gICAgaXNMYXJnZU1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckNvbnRleHQgJiYgdGhpcy5yZW5kZXJDb250ZXh0LmxhcmdlO1xuICAgIH1cbiAgICBjbGVhbkV4aXRFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50TWFwLmZvckVhY2goKChlbGVtZW50LCBrZXkpID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuZGlmZlN0YXRlICE9PSBEaWZmU3RhdGUuZXhpdCB8fCBlbGVtZW50LmlzUmVzZXJ2ZWQgfHwgKHRoaXMuZWxlbWVudE1hcC5kZWxldGUoa2V5KSwgXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpLCBlbGVtZW50LnJlbGVhc2UoKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0R3JvdXBHcmFwaGljSXRlbSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMgJiYgdGhpcy5lbGVtZW50c1swXSAmJiB0aGlzLmVsZW1lbnRzWzBdLmdldEdyYXBoaWNJdGVtKSByZXR1cm4gdGhpcy5lbGVtZW50c1swXS5nZXRHcmFwaGljSXRlbSgpO1xuICAgIH1cbiAgICBnZXRCb3VuZHMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhpY0l0ZW0gPyB0aGlzLmdyYXBoaWNJdGVtLkFBQkJCb3VuZHMgOiBudWxsID09PSAoX2EgPSB0aGlzLmdldEdyb3VwR3JhcGhpY0l0ZW0oKSkgfHwgdm9pZCAwID09PSBfYSA/IHZvaWQgMCA6IF9hLkFBQkJCb3VuZHM7XG4gICAgfVxuICAgIGdldE1vcnBoQ29uZmlnKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb3JwaDogbnVsbCAhPT0gKF9hID0gdGhpcy5zcGVjLm1vcnBoKSAmJiB2b2lkIDAgIT09IF9hICYmIF9hLFxuICAgICAgICAgICAgbW9ycGhLZXk6IHRoaXMuc3BlYy5tb3JwaEtleSxcbiAgICAgICAgICAgIG1vcnBoRWxlbWVudEtleTogdGhpcy5zcGVjLm1vcnBoRWxlbWVudEtleVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRBdHRyaWJ1dGVUcmFuc2Zvcm1zKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2EgPSB0aGlzLnNwZWMuYXR0cmlidXRlVHJhbnNmb3JtcykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDogdHJhbnNmb3Jtc0J5VHlwZVt0aGlzLm1hcmtUeXBlXTtcbiAgICB9XG4gICAgZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQ7XG4gICAgfVxuICAgIG5lZWRTa2lwQmVmb3JlTGF5b3V0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoITAgPT09IChudWxsID09PSAoX2EgPSB0aGlzLnNwZWMubGF5b3V0KSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2Euc2tpcEJlZm9yZUxheW91dGVkKSkgcmV0dXJuICEwO1xuICAgICAgICBsZXQgZ3JvdXAgPSB0aGlzLmdyb3VwO1xuICAgICAgICBmb3IgKDtncm91cDsgKSB7XG4gICAgICAgICAgICBpZiAoITAgPT09IChudWxsID09PSAoX2IgPSBncm91cC5nZXRTcGVjKCkubGF5b3V0KSB8fCB2b2lkIDAgPT09IF9iID8gdm9pZCAwIDogX2Iuc2tpcEJlZm9yZUxheW91dGVkKSkgcmV0dXJuICEwO1xuICAgICAgICAgICAgZ3JvdXAgPSBncm91cC5ncm91cDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGluaXRFdmVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlbGVnYXRlRXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy52aWV3LnJlbmRlcmVyLnN0YWdlKCk7XG4gICAgICAgICAgICBzdGFnZSAmJiBzdGFnZS5vbihcIipcIiwgdGhpcy5fZGVsZWdhdGVFdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVsZWFzZUV2ZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fZGVsZWdhdGVFdmVudCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhZ2UgPSB0aGlzLnZpZXcucmVuZGVyZXIuc3RhZ2UoKTtcbiAgICAgICAgICAgIHN0YWdlICYmIHN0YWdlLm9mZihcIipcIiwgdGhpcy5fZGVsZWdhdGVFdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5yZWxlYXNlRXZlbnQoKSwgdGhpcy50cmFuc2Zvcm1zID0gbnVsbCwgdGhpcy5lbGVtZW50TWFwID0gbnVsbCwgdGhpcy5lbGVtZW50cyA9IG51bGwsIFxuICAgICAgICB0aGlzLmdyYXBoaWNJdGVtID0gbnVsbCwgdGhpcy5hbmltYXRlID0gbnVsbCwgbnVsbCA9PT0gKF9hID0gdGhpcy5ncm91cCkgfHwgdm9pZCAwID09PSBfYSB8fCBfYS5yZW1vdmVDaGlsZCh0aGlzKSwgXG4gICAgICAgIHRoaXMuZ3JvdXAgPSBudWxsLCBzdXBlci5jbGVhcigpO1xuICAgIH1cbiAgICBwcmVwYXJlUmVsZWFzZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmRpZmZlci5zZXRDdXJyZW50RGF0YShudWxsKSwgbnVsbCA9PT0gKF9hID0gdGhpcy5hbmltYXRlKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLnN0b3AoKSwgXG4gICAgICAgIHRoaXMuZWxlbWVudE1hcC5mb3JFYWNoKChlbGVtZW50ID0+IGVsZW1lbnQuZGlmZlN0YXRlID0gRGlmZlN0YXRlLmV4aXQpKSwgdGhpcy5fZmluYWxQYXJhbWV0ZXJzID0gdGhpcy5wYXJhbWV0ZXJzKCk7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMucmVsZWFzZUV2ZW50KCksIHRoaXMuZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCA9PiBlbGVtZW50LnJlbGVhc2UoKSkpLCB0aGlzLmRpZmZlciA9IG51bGwsIFxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW10sIHRoaXMuZWxlbWVudE1hcC5jbGVhcigpLCB0aGlzLl9maW5hbFBhcmFtZXRlcnMgPSBudWxsLCB0aGlzLmFuaW1hdGUgJiYgdGhpcy5hbmltYXRlLnJlbGVhc2UoKSwgXG4gICAgICAgIHRoaXMuZ3JhcGhpY0l0ZW0gJiYgcmVtb3ZlR3JhcGhpY0l0ZW0odGhpcy5ncmFwaGljSXRlbSksIHRoaXMuZGV0YWNoQWxsKCksIHN1cGVyLnJlbGVhc2UoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXJrLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/mark.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/scale.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/scale.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Scale: () => (/* binding */ Scale),\n/* harmony export */   registerScale: () => (/* binding */ registerScale)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _visactor_vscale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vscale */ \"(ssr)/./node_modules/.pnpm/@visactor+vscale@0.19.7/node_modules/@visactor/vscale/es/type.js\");\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_scale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/scale */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/scale.js\");\n/* harmony import */ var _graph_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graph/enums */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/enums.js\");\n/* harmony import */ var _core_factory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/factory */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/core/factory.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nclass Scale extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor(view, scaleType) {\n        super(view), this.grammarType = \"scale\", this.spec.type = scaleType, this.scale = (0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.createScale)(scaleType);\n    }\n    parse(spec) {\n        return super.parse(spec), this.domain(spec.domain), this.range(spec.range), this.configure(spec), \n        this.commit(), this;\n    }\n    evaluate(upstream, parameters) {\n        return this.view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.HOOK_EVENT.BEFORE_EVALUATE_SCALE), this.spec.type || (this.spec.type = \"linear\"), \n        this.scale && this.scale.type === this.spec.type || (this.scale = (0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.createScale)(this.spec.type)), \n        (0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.configureScale)(this.spec, this.scale, parameters), this.scale && (0,_visactor_vscale__WEBPACK_IMPORTED_MODULE_3__.supportRangeFactor)(this.scale.type) && (this._rangeFactor ? this.scale.rangeFactor(this._rangeFactor) : this.scale.rangeFactor() && this.scale.rangeFactor(null, !1, !0), \n        this._fishEyeOptions ? this.scale.fishEye(this._fishEyeOptions) : this.scale.fishEye() && this.scale.fishEye(null, !1, !0)), \n        this.view.emit(_graph_enums__WEBPACK_IMPORTED_MODULE_2__.HOOK_EVENT.BEFORE_EVALUATE_SCALE), this;\n    }\n    output() {\n        return this.scale;\n    }\n    getScaleType() {\n        return this.spec.type;\n    }\n    getScale() {\n        return this.scale;\n    }\n    ticks(count) {\n        var _a, _b, _c;\n        return null !== (_c = null === (_b = null === (_a = this.scale) || void 0 === _a ? void 0 : _a.tickData) || void 0 === _b ? void 0 : _b.call(_a, count)) && void 0 !== _c ? _c : [];\n    }\n    domain(domain) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.domain) || this.detach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleDomainRange)(this.spec.domain, this.view)), \n        this.spec.domain = domain, this.attach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleDomainRange)(domain, this.view)), \n        this.commit(), this;\n    }\n    range(range) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this.spec.range) || this.detach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleDomainRange)(this.spec.range, this.view)), \n        this.spec.range = range, this.attach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleDomainRange)(range, this.view)), this.commit(), \n        this;\n    }\n    tickCount(tickCount) {\n        return this.setFunctionSpec(tickCount, \"tickCount\");\n    }\n    setRangeFactor(range) {\n        return this._rangeFactor = range, this;\n    }\n    getRangeFactor() {\n        return this._rangeFactor;\n    }\n    setFishEye(fishEyeOptions) {\n        return this._fishEyeOptions = fishEyeOptions, this;\n    }\n    getFishEye() {\n        return this._fishEyeOptions;\n    }\n    getCoordinateAxisPosition() {\n        const rangeSpec = this.spec.range, coord = null == rangeSpec ? void 0 : rangeSpec.coordinate;\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(coord)) {\n            const dim = rangeSpec.dimension, isSub = rangeSpec.isSubshaft, reversed = rangeSpec.reversed, coordinate = this.parameters()[coord];\n            return null == coordinate ? void 0 : coordinate.getVisualPositionByDimension(dim, isSub, reversed);\n        }\n        return null;\n    }\n    getCoordinateAxisPoints(baseValue) {\n        const rangeSpec = this.spec.range, coord = null == rangeSpec ? void 0 : rangeSpec.coordinate;\n        if (!(0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(coord)) {\n            const dim = rangeSpec.dimension, isSub = rangeSpec.isSubshaft, reversed = rangeSpec.reversed, coordinate = this.parameters()[coord];\n            return null == coordinate ? void 0 : coordinate.getAxisPointsByDimension(dim, isSub, reversed, baseValue);\n        }\n        return null;\n    }\n    getCoordinate() {\n        const rangeSpec = this.spec.range, coord = null == rangeSpec ? void 0 : rangeSpec.coordinate;\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(coord) ? null : this.parameters()[coord];\n    }\n    configure(config) {\n        return this.detach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleConfig)(this.spec.type, config, this.view)), (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(config) ? this.spec = {\n            type: this.spec.type,\n            domain: this.spec.domain,\n            range: this.spec.range\n        } : (Object.assign(this.spec, config), this.attach((0,_parse_scale__WEBPACK_IMPORTED_MODULE_1__.parseScaleConfig)(this.spec.type, config, this.view))), \n        this.commit(), this;\n    }\n    reuse(grammar) {\n        return grammar.grammarType !== this.grammarType || (this.scale = grammar.output()), \n        this;\n    }\n    clear() {\n        super.clear(), this.scale = null;\n    }\n}\n\nconst registerScale = () => {\n    _core_factory__WEBPACK_IMPORTED_MODULE_5__.Factory.registerGrammar(\"scale\", Scale, \"scales\");\n};\n//# sourceMappingURL=scale.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9zY2FsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF5Qzs7QUFFYTs7QUFFVDs7QUFFeUQ7O0FBRTFEOztBQUVGOztBQUVuQyxvQkFBb0Isc0RBQVc7QUFDdEM7QUFDQSwwRkFBMEYseURBQVc7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG9EQUFVO0FBQ3hDLDBFQUEwRSx5REFBVztBQUNyRixRQUFRLDREQUFjLG1EQUFtRCxvRUFBa0I7QUFDM0Y7QUFDQSx1QkFBdUIsb0RBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBSyxrQ0FBa0MsbUVBQXFCO0FBQzNFLCtDQUErQyxtRUFBcUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBSyxpQ0FBaUMsbUVBQXFCO0FBQzFFLDZDQUE2QyxtRUFBcUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0REFBSztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBLDJCQUEyQiw4REFBZ0Isc0NBQXNDLDREQUFLO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaURBQWlELDhEQUFnQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQLElBQUksa0RBQU87QUFDWDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L3NjYWxlLmpzP2YzODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tIFwiQHZpc2FjdG9yL3Z1dGlsc1wiO1xuXG5pbXBvcnQgeyBzdXBwb3J0UmFuZ2VGYWN0b3IgfSBmcm9tIFwiQHZpc2FjdG9yL3ZzY2FsZVwiO1xuXG5pbXBvcnQgeyBHcmFtbWFyQmFzZSB9IGZyb20gXCIuL2dyYW1tYXItYmFzZVwiO1xuXG5pbXBvcnQgeyBjb25maWd1cmVTY2FsZSwgY3JlYXRlU2NhbGUsIHBhcnNlU2NhbGVDb25maWcsIHBhcnNlU2NhbGVEb21haW5SYW5nZSB9IGZyb20gXCIuLi9wYXJzZS9zY2FsZVwiO1xuXG5pbXBvcnQgeyBIT09LX0VWRU5UIH0gZnJvbSBcIi4uL2dyYXBoL2VudW1zXCI7XG5cbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiLi4vY29yZS9mYWN0b3J5XCI7XG5cbmV4cG9ydCBjbGFzcyBTY2FsZSBleHRlbmRzIEdyYW1tYXJCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBzY2FsZVR5cGUpIHtcbiAgICAgICAgc3VwZXIodmlldyksIHRoaXMuZ3JhbW1hclR5cGUgPSBcInNjYWxlXCIsIHRoaXMuc3BlYy50eXBlID0gc2NhbGVUeXBlLCB0aGlzLnNjYWxlID0gY3JlYXRlU2NhbGUoc2NhbGVUeXBlKTtcbiAgICB9XG4gICAgcGFyc2Uoc3BlYykge1xuICAgICAgICByZXR1cm4gc3VwZXIucGFyc2Uoc3BlYyksIHRoaXMuZG9tYWluKHNwZWMuZG9tYWluKSwgdGhpcy5yYW5nZShzcGVjLnJhbmdlKSwgdGhpcy5jb25maWd1cmUoc3BlYyksIFxuICAgICAgICB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICBldmFsdWF0ZSh1cHN0cmVhbSwgcGFyYW1ldGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmVtaXQoSE9PS19FVkVOVC5CRUZPUkVfRVZBTFVBVEVfU0NBTEUpLCB0aGlzLnNwZWMudHlwZSB8fCAodGhpcy5zcGVjLnR5cGUgPSBcImxpbmVhclwiKSwgXG4gICAgICAgIHRoaXMuc2NhbGUgJiYgdGhpcy5zY2FsZS50eXBlID09PSB0aGlzLnNwZWMudHlwZSB8fCAodGhpcy5zY2FsZSA9IGNyZWF0ZVNjYWxlKHRoaXMuc3BlYy50eXBlKSksIFxuICAgICAgICBjb25maWd1cmVTY2FsZSh0aGlzLnNwZWMsIHRoaXMuc2NhbGUsIHBhcmFtZXRlcnMpLCB0aGlzLnNjYWxlICYmIHN1cHBvcnRSYW5nZUZhY3Rvcih0aGlzLnNjYWxlLnR5cGUpICYmICh0aGlzLl9yYW5nZUZhY3RvciA/IHRoaXMuc2NhbGUucmFuZ2VGYWN0b3IodGhpcy5fcmFuZ2VGYWN0b3IpIDogdGhpcy5zY2FsZS5yYW5nZUZhY3RvcigpICYmIHRoaXMuc2NhbGUucmFuZ2VGYWN0b3IobnVsbCwgITEsICEwKSwgXG4gICAgICAgIHRoaXMuX2Zpc2hFeWVPcHRpb25zID8gdGhpcy5zY2FsZS5maXNoRXllKHRoaXMuX2Zpc2hFeWVPcHRpb25zKSA6IHRoaXMuc2NhbGUuZmlzaEV5ZSgpICYmIHRoaXMuc2NhbGUuZmlzaEV5ZShudWxsLCAhMSwgITApKSwgXG4gICAgICAgIHRoaXMudmlldy5lbWl0KEhPT0tfRVZFTlQuQkVGT1JFX0VWQUxVQVRFX1NDQUxFKSwgdGhpcztcbiAgICB9XG4gICAgb3V0cHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZTtcbiAgICB9XG4gICAgZ2V0U2NhbGVUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLnR5cGU7XG4gICAgfVxuICAgIGdldFNjYWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZTtcbiAgICB9XG4gICAgdGlja3MoY291bnQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHJldHVybiBudWxsICE9PSAoX2MgPSBudWxsID09PSAoX2IgPSBudWxsID09PSAoX2EgPSB0aGlzLnNjYWxlKSB8fCB2b2lkIDAgPT09IF9hID8gdm9pZCAwIDogX2EudGlja0RhdGEpIHx8IHZvaWQgMCA9PT0gX2IgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBjb3VudCkpICYmIHZvaWQgMCAhPT0gX2MgPyBfYyA6IFtdO1xuICAgIH1cbiAgICBkb21haW4oZG9tYWluKSB7XG4gICAgICAgIHJldHVybiBpc05pbCh0aGlzLnNwZWMuZG9tYWluKSB8fCB0aGlzLmRldGFjaChwYXJzZVNjYWxlRG9tYWluUmFuZ2UodGhpcy5zcGVjLmRvbWFpbiwgdGhpcy52aWV3KSksIFxuICAgICAgICB0aGlzLnNwZWMuZG9tYWluID0gZG9tYWluLCB0aGlzLmF0dGFjaChwYXJzZVNjYWxlRG9tYWluUmFuZ2UoZG9tYWluLCB0aGlzLnZpZXcpKSwgXG4gICAgICAgIHRoaXMuY29tbWl0KCksIHRoaXM7XG4gICAgfVxuICAgIHJhbmdlKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiBpc05pbCh0aGlzLnNwZWMucmFuZ2UpIHx8IHRoaXMuZGV0YWNoKHBhcnNlU2NhbGVEb21haW5SYW5nZSh0aGlzLnNwZWMucmFuZ2UsIHRoaXMudmlldykpLCBcbiAgICAgICAgdGhpcy5zcGVjLnJhbmdlID0gcmFuZ2UsIHRoaXMuYXR0YWNoKHBhcnNlU2NhbGVEb21haW5SYW5nZShyYW5nZSwgdGhpcy52aWV3KSksIHRoaXMuY29tbWl0KCksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICB0aWNrQ291bnQodGlja0NvdW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZ1bmN0aW9uU3BlYyh0aWNrQ291bnQsIFwidGlja0NvdW50XCIpO1xuICAgIH1cbiAgICBzZXRSYW5nZUZhY3RvcihyYW5nZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmFuZ2VGYWN0b3IgPSByYW5nZSwgdGhpcztcbiAgICB9XG4gICAgZ2V0UmFuZ2VGYWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5nZUZhY3RvcjtcbiAgICB9XG4gICAgc2V0RmlzaEV5ZShmaXNoRXllT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlzaEV5ZU9wdGlvbnMgPSBmaXNoRXllT3B0aW9ucywgdGhpcztcbiAgICB9XG4gICAgZ2V0RmlzaEV5ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zpc2hFeWVPcHRpb25zO1xuICAgIH1cbiAgICBnZXRDb29yZGluYXRlQXhpc1Bvc2l0aW9uKCkge1xuICAgICAgICBjb25zdCByYW5nZVNwZWMgPSB0aGlzLnNwZWMucmFuZ2UsIGNvb3JkID0gbnVsbCA9PSByYW5nZVNwZWMgPyB2b2lkIDAgOiByYW5nZVNwZWMuY29vcmRpbmF0ZTtcbiAgICAgICAgaWYgKCFpc05pbChjb29yZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpbSA9IHJhbmdlU3BlYy5kaW1lbnNpb24sIGlzU3ViID0gcmFuZ2VTcGVjLmlzU3Vic2hhZnQsIHJldmVyc2VkID0gcmFuZ2VTcGVjLnJldmVyc2VkLCBjb29yZGluYXRlID0gdGhpcy5wYXJhbWV0ZXJzKClbY29vcmRdO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0gY29vcmRpbmF0ZSA/IHZvaWQgMCA6IGNvb3JkaW5hdGUuZ2V0VmlzdWFsUG9zaXRpb25CeURpbWVuc2lvbihkaW0sIGlzU3ViLCByZXZlcnNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldENvb3JkaW5hdGVBeGlzUG9pbnRzKGJhc2VWYWx1ZSkge1xuICAgICAgICBjb25zdCByYW5nZVNwZWMgPSB0aGlzLnNwZWMucmFuZ2UsIGNvb3JkID0gbnVsbCA9PSByYW5nZVNwZWMgPyB2b2lkIDAgOiByYW5nZVNwZWMuY29vcmRpbmF0ZTtcbiAgICAgICAgaWYgKCFpc05pbChjb29yZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpbSA9IHJhbmdlU3BlYy5kaW1lbnNpb24sIGlzU3ViID0gcmFuZ2VTcGVjLmlzU3Vic2hhZnQsIHJldmVyc2VkID0gcmFuZ2VTcGVjLnJldmVyc2VkLCBjb29yZGluYXRlID0gdGhpcy5wYXJhbWV0ZXJzKClbY29vcmRdO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0gY29vcmRpbmF0ZSA/IHZvaWQgMCA6IGNvb3JkaW5hdGUuZ2V0QXhpc1BvaW50c0J5RGltZW5zaW9uKGRpbSwgaXNTdWIsIHJldmVyc2VkLCBiYXNlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRDb29yZGluYXRlKCkge1xuICAgICAgICBjb25zdCByYW5nZVNwZWMgPSB0aGlzLnNwZWMucmFuZ2UsIGNvb3JkID0gbnVsbCA9PSByYW5nZVNwZWMgPyB2b2lkIDAgOiByYW5nZVNwZWMuY29vcmRpbmF0ZTtcbiAgICAgICAgcmV0dXJuIGlzTmlsKGNvb3JkKSA/IG51bGwgOiB0aGlzLnBhcmFtZXRlcnMoKVtjb29yZF07XG4gICAgfVxuICAgIGNvbmZpZ3VyZShjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGV0YWNoKHBhcnNlU2NhbGVDb25maWcodGhpcy5zcGVjLnR5cGUsIGNvbmZpZywgdGhpcy52aWV3KSksIGlzTmlsKGNvbmZpZykgPyB0aGlzLnNwZWMgPSB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnNwZWMudHlwZSxcbiAgICAgICAgICAgIGRvbWFpbjogdGhpcy5zcGVjLmRvbWFpbixcbiAgICAgICAgICAgIHJhbmdlOiB0aGlzLnNwZWMucmFuZ2VcbiAgICAgICAgfSA6IChPYmplY3QuYXNzaWduKHRoaXMuc3BlYywgY29uZmlnKSwgdGhpcy5hdHRhY2gocGFyc2VTY2FsZUNvbmZpZyh0aGlzLnNwZWMudHlwZSwgY29uZmlnLCB0aGlzLnZpZXcpKSksIFxuICAgICAgICB0aGlzLmNvbW1pdCgpLCB0aGlzO1xuICAgIH1cbiAgICByZXVzZShncmFtbWFyKSB7XG4gICAgICAgIHJldHVybiBncmFtbWFyLmdyYW1tYXJUeXBlICE9PSB0aGlzLmdyYW1tYXJUeXBlIHx8ICh0aGlzLnNjYWxlID0gZ3JhbW1hci5vdXRwdXQoKSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgc3VwZXIuY2xlYXIoKSwgdGhpcy5zY2FsZSA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTY2FsZSA9ICgpID0+IHtcbiAgICBGYWN0b3J5LnJlZ2lzdGVyR3JhbW1hcihcInNjYWxlXCIsIFNjYWxlLCBcInNjYWxlc1wiKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/scale.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/signal.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/signal.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Signal: () => (/* binding */ Signal)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isArray.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isNil.js\");\n/* harmony import */ var _grammar_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grammar-base */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/grammar-base.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n\n\n\n\n\n\nclass Signal extends _grammar_base__WEBPACK_IMPORTED_MODULE_0__.GrammarBase {\n    constructor() {\n        super(...arguments), this.grammarType = \"signal\", this.spec = {\n            value: null,\n            update: null\n        };\n    }\n    parse(spec) {\n        return super.parse(spec), this.value(spec.value), this.update(spec.update), this.commit(), \n        this;\n    }\n    evaluate(upstream, parameters) {\n        return this._signal = this.spec.update ? (0,_parse_util__WEBPACK_IMPORTED_MODULE_1__.invokeFunctionType)(this.spec.update, parameters, this._signal) : this.spec.value, \n        this.spec.value = this._signal, this;\n    }\n    output() {\n        return this._signal;\n    }\n    getValue() {\n        return this.output();\n    }\n    set(value) {\n        if ((0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value) && (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.value) && value.length === this.value.length) {\n            for (let i = 0; i < value.length; i++) if (this.value[i] !== value[i]) return this._signal = value, \n            this.spec.value = value, !0;\n            return !1;\n        }\n        return this._signal !== value && (this._signal = value, this.spec.value = value, \n        !0);\n    }\n    update(update) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(update) || this.value(void 0), this.setFunctionSpec(update, \"update\");\n    }\n    value(value) {\n        return (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(value) || this.update(void 0), this.spec.value = value, this.commit(), \n        this;\n    }\n    reuse(grammar) {\n        return grammar.grammarType !== this.grammarType || (this._signal = grammar.output()), \n        this;\n    }\n    clear() {\n        super.clear(), this._signal = null;\n    }\n}\n//# sourceMappingURL=signal.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9zaWduYWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0Q7O0FBRUw7O0FBRU07O0FBRTVDLHFCQUFxQixzREFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELCtEQUFrQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFPLFdBQVcsNERBQU87QUFDckMsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBLGVBQWUsNERBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy9zaWduYWwuanM/NzY5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0FycmF5LCBpc05pbCB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCB7IEdyYW1tYXJCYXNlIH0gZnJvbSBcIi4vZ3JhbW1hci1iYXNlXCI7XG5cbmltcG9ydCB7IGludm9rZUZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuLi9wYXJzZS91dGlsXCI7XG5cbmV4cG9ydCBjbGFzcyBTaWduYWwgZXh0ZW5kcyBHcmFtbWFyQmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuZ3JhbW1hclR5cGUgPSBcInNpZ25hbFwiLCB0aGlzLnNwZWMgPSB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHVwZGF0ZTogbnVsbFxuICAgICAgICB9O1xuICAgIH1cbiAgICBwYXJzZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wYXJzZShzcGVjKSwgdGhpcy52YWx1ZShzcGVjLnZhbHVlKSwgdGhpcy51cGRhdGUoc3BlYy51cGRhdGUpLCB0aGlzLmNvbW1pdCgpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgZXZhbHVhdGUodXBzdHJlYW0sIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hbCA9IHRoaXMuc3BlYy51cGRhdGUgPyBpbnZva2VGdW5jdGlvblR5cGUodGhpcy5zcGVjLnVwZGF0ZSwgcGFyYW1ldGVycywgdGhpcy5fc2lnbmFsKSA6IHRoaXMuc3BlYy52YWx1ZSwgXG4gICAgICAgIHRoaXMuc3BlYy52YWx1ZSA9IHRoaXMuX3NpZ25hbCwgdGhpcztcbiAgICB9XG4gICAgb3V0cHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmFsO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0KCk7XG4gICAgfVxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkgJiYgaXNBcnJheSh0aGlzLnZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IHRoaXMudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSBpZiAodGhpcy52YWx1ZVtpXSAhPT0gdmFsdWVbaV0pIHJldHVybiB0aGlzLl9zaWduYWwgPSB2YWx1ZSwgXG4gICAgICAgICAgICB0aGlzLnNwZWMudmFsdWUgPSB2YWx1ZSwgITA7XG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hbCAhPT0gdmFsdWUgJiYgKHRoaXMuX3NpZ25hbCA9IHZhbHVlLCB0aGlzLnNwZWMudmFsdWUgPSB2YWx1ZSwgXG4gICAgICAgICEwKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICByZXR1cm4gaXNOaWwodXBkYXRlKSB8fCB0aGlzLnZhbHVlKHZvaWQgMCksIHRoaXMuc2V0RnVuY3Rpb25TcGVjKHVwZGF0ZSwgXCJ1cGRhdGVcIik7XG4gICAgfVxuICAgIHZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc05pbCh2YWx1ZSkgfHwgdGhpcy51cGRhdGUodm9pZCAwKSwgdGhpcy5zcGVjLnZhbHVlID0gdmFsdWUsIHRoaXMuY29tbWl0KCksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICByZXVzZShncmFtbWFyKSB7XG4gICAgICAgIHJldHVybiBncmFtbWFyLmdyYW1tYXJUeXBlICE9PSB0aGlzLmdyYW1tYXJUeXBlIHx8ICh0aGlzLl9zaWduYWwgPSBncmFtbWFyLm91dHB1dCgpKSwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBzdXBlci5jbGVhcigpLCB0aGlzLl9zaWduYWwgPSBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpZ25hbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/signal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-animate-mixin.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-animate-mixin.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerViewAnimateAPI: () => (/* binding */ registerViewAnimateAPI)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./View */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/View.js\");\n/* harmony import */ var _animate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animate */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/animate.js\");\n\n\n\n\n\n\nclass ViewAnimateMixin {\n    initAnimate(view) {\n        return this.animate = new _animate__WEBPACK_IMPORTED_MODULE_0__.ViewAnimate(view), this.animate;\n    }\n}\n\nconst registerViewAnimateAPI = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.mixin)(_View__WEBPACK_IMPORTED_MODULE_2__[\"default\"], ViewAnimateMixin);\n};\n//# sourceMappingURL=view-animate-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy92aWV3LWFuaW1hdGUtbWl4aW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5Qzs7QUFFZjs7QUFFYzs7QUFFeEM7QUFDQTtBQUNBLGtDQUFrQyxpREFBVztBQUM3QztBQUNBOztBQUVPO0FBQ1AsSUFBSSx1REFBSyxDQUFDLDZDQUFJO0FBQ2Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2FjdG9yLW5leHQtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy92aWV3LWFuaW1hdGUtbWl4aW4uanM/ZjRlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtaXhpbiB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCBWaWV3IGZyb20gXCIuL1ZpZXdcIjtcblxuaW1wb3J0IHsgVmlld0FuaW1hdGUgfSBmcm9tIFwiLi9hbmltYXRlXCI7XG5cbmNsYXNzIFZpZXdBbmltYXRlTWl4aW4ge1xuICAgIGluaXRBbmltYXRlKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0ZSA9IG5ldyBWaWV3QW5pbWF0ZSh2aWV3KSwgdGhpcy5hbmltYXRlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVmlld0FuaW1hdGVBUEkgPSAoKSA9PiB7XG4gICAgbWl4aW4oVmlldywgVmlld0FuaW1hdGVNaXhpbik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy1hbmltYXRlLW1peGluLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-animate-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-event-mixin.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-event-mixin.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerViewEventsAPI: () => (/* binding */ registerViewEventsAPI)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isString.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/isObject.js\");\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _parse_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parse/event */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/event.js\");\n/* harmony import */ var _parse_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parse/util */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/parse/util.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/constants.js\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/events.js\");\n/* harmony import */ var _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @visactor/vrender-core */ \"(ssr)/./node_modules/.pnpm/@visactor+vrender-core@0.22.16/node_modules/@visactor/vrender-core/es/modules.js\");\n/* harmony import */ var _graph_util_events_extend__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graph/util/events-extend */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/util/events-extend.js\");\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./View */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/View.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ViewEventsMixin {\n    event(eventSpec) {\n        if (\"between\" in eventSpec) {\n            const [starEvent, endEvent] = eventSpec.between, id = `${starEvent.type}-${eventSpec.type}-${endEvent.type}`;\n            let unbindEndEvent;\n            this.bindEvents(Object.assign({}, starEvent, {\n                callback: () => {\n                    if (this._eventCache || (this._eventCache = {}), !this._eventCache[id]) {\n                        const unbindEvent = this.bindEvents(eventSpec);\n                        this._eventCache[id] = unbindEvent;\n                    }\n                    unbindEndEvent || (unbindEndEvent = this.bindEvents(Object.assign({}, endEvent, {\n                        callback: () => {\n                            this._eventCache[id] && (this._eventCache[id](), this._eventCache[id] = null);\n                        }\n                    })));\n                }\n            }));\n        } else \"merge\" in eventSpec ? eventSpec.merge.forEach((entry => {\n            const singleEvent = Object.assign({}, eventSpec);\n            (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(entry) ? singleEvent.type = entry : (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(entry) && Object.assign(singleEvent, entry), \n            singleEvent.debounce = 50, this.bindEvents(singleEvent);\n        })) : this.bindEvents(eventSpec);\n    }\n    bindEvents(eventSpec) {\n        if (this._eventConfig.disable) return;\n        const {type: evtType, filter: filter, callback: callback, throttle: throttle, debounce: debounce, consume: consume, target: target, dependency: dependency} = eventSpec, eventSelector = (0,_parse_event__WEBPACK_IMPORTED_MODULE_2__.parseEventSelector)(evtType);\n        if (!eventSelector) return;\n        const {source: source, type: type} = eventSelector, markFilter = (0,_parse_event__WEBPACK_IMPORTED_MODULE_2__.generateFilterByMark)(eventSelector), validateSignals = (Array.isArray(target) && target.length ? target.map((entry => ({\n            signal: this.getSignalById(entry.target),\n            callback: entry.callback\n        }))) : [ {\n            signal: (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target) ? this.getSignalById(target) : null,\n            callback: callback\n        } ]).filter((entry => entry.signal || entry.callback)), refs = (0,_parse_util__WEBPACK_IMPORTED_MODULE_3__.parseReference)(dependency, this), send = (0,_parse_event__WEBPACK_IMPORTED_MODULE_2__.parseHandler)((evt => {\n            const needPreventDefault = source === _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_VIEW && (0,_events__WEBPACK_IMPORTED_MODULE_5__.prevent)(this._eventConfig, type) || consume && (void 0 === evt.cancelable || evt.cancelable);\n            source === _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_WINDOW && (evt = (0,_graph_util_events_extend__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, evt, type, _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_WINDOW));\n            let hasCommitted = !1;\n            if ((!filter || filter(evt)) && (!markFilter || markFilter(evt.element)) && validateSignals.length) {\n                const params = refs.reduce(((params, ref) => (params[ref.id()] = ref.output(), params)), {});\n                validateSignals.forEach((entry => {\n                    if (entry.callback && entry.signal) {\n                        entry.signal.set(entry.callback(evt, params)) && (this.commit(entry.signal), hasCommitted = !0);\n                    } else entry.callback ? entry.callback(evt, params) : (this.commit(entry.signal), \n                    hasCommitted = !0);\n                }));\n            }\n            needPreventDefault && evt.preventDefault(), consume && evt.stopPropagation(), hasCommitted && this.run();\n        }), {\n            throttle: throttle,\n            debounce: debounce\n        });\n        if (source === _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_VIEW) {\n            if ((0,_events__WEBPACK_IMPORTED_MODULE_5__.permit)(this._eventConfig, _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_VIEW, type)) return this.addEventListener(type, send, _constants__WEBPACK_IMPORTED_MODULE_4__.NO_TRAP), \n            () => {\n                this.removeEventListener(type, send);\n            };\n        } else if (source === _constants__WEBPACK_IMPORTED_MODULE_4__.EVENT_SOURCE_WINDOW) return _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.vglobal.addEventListener(type, send), \n        this._eventListeners.push({\n            type: type,\n            source: _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.vglobal,\n            handler: send\n        }), () => {\n            _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.vglobal.removeEventListener(type, send);\n            const index = this._eventListeners.findIndex((entry => entry.type === type && entry.source === _visactor_vrender_core__WEBPACK_IMPORTED_MODULE_7__.vglobal && entry.handler === send));\n            index >= 0 && this._eventListeners.splice(index, 1);\n        };\n    }\n}\n\nconst registerViewEventsAPI = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_8__.mixin)(_View__WEBPACK_IMPORTED_MODULE_9__[\"default\"], ViewEventsMixin);\n};\n//# sourceMappingURL=view-event-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy92aWV3LWV2ZW50LW1peGluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTZEOztBQUUyQjs7QUFFekM7O0FBRStCOztBQUVuQzs7QUFFTTs7QUFFVzs7QUFFbEM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxlQUFlLEdBQUcsZUFBZSxHQUFHLGNBQWM7QUFDdkg7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1YsZ0RBQWdEO0FBQ2hELFlBQVksNERBQVEscUNBQXFDLDREQUFRO0FBQ2pFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUpBQXFKLDZCQUE2QixnRUFBa0I7QUFDbk47QUFDQSxlQUFlLDRCQUE0Qiw4QkFBOEIsa0VBQW9CO0FBQzdGO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLDREQUFRO0FBQzVCO0FBQ0EsVUFBVSw2REFBNkQsMkRBQWMsMkJBQTJCLDBEQUFZO0FBQzVILGtEQUFrRCx5REFBaUIsSUFBSSxnREFBTztBQUM5RSx1QkFBdUIsMkRBQW1CLFdBQVcscUVBQWlCLGtCQUFrQiwyREFBbUI7QUFDM0c7QUFDQTtBQUNBLDJHQUEyRztBQUMzRztBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULHVCQUF1Qix5REFBaUI7QUFDeEMsZ0JBQWdCLCtDQUFNLG9CQUFvQix5REFBaUIsa0RBQWtELCtDQUFPO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0JBQW9CLDJEQUFtQixTQUFTLDJEQUFPO0FBQ2pFO0FBQ0E7QUFDQSxvQkFBb0IsMkRBQU87QUFDM0I7QUFDQSxTQUFTO0FBQ1QsWUFBWSwyREFBTztBQUNuQiwyR0FBMkcsMkRBQU87QUFDbEg7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUCxJQUFJLHVEQUFLLENBQUMsNkNBQUk7QUFDZDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L3ZpZXctZXZlbnQtbWl4aW4uanM/M2JjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc09iamVjdCwgaXNTdHJpbmcsIG1peGluIH0gZnJvbSBcIkB2aXNhY3Rvci92dXRpbHNcIjtcblxuaW1wb3J0IHsgZ2VuZXJhdGVGaWx0ZXJCeU1hcmssIHBhcnNlRXZlbnRTZWxlY3RvciwgcGFyc2VIYW5kbGVyIH0gZnJvbSBcIi4uL3BhcnNlL2V2ZW50XCI7XG5cbmltcG9ydCB7IHBhcnNlUmVmZXJlbmNlIH0gZnJvbSBcIi4uL3BhcnNlL3V0aWxcIjtcblxuaW1wb3J0IHsgRVZFTlRfU09VUkNFX1ZJRVcsIEVWRU5UX1NPVVJDRV9XSU5ET1csIE5PX1RSQVAgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgcGVybWl0LCBwcmV2ZW50IH0gZnJvbSBcIi4vZXZlbnRzXCI7XG5cbmltcG9ydCB7IHZnbG9iYWwgfSBmcm9tIFwiQHZpc2FjdG9yL3ZyZW5kZXItY29yZVwiO1xuXG5pbXBvcnQgZ2V0RXh0ZW5kZWRFdmVudHMgZnJvbSBcIi4uL2dyYXBoL3V0aWwvZXZlbnRzLWV4dGVuZFwiO1xuXG5pbXBvcnQgVmlldyBmcm9tIFwiLi9WaWV3XCI7XG5cbmNsYXNzIFZpZXdFdmVudHNNaXhpbiB7XG4gICAgZXZlbnQoZXZlbnRTcGVjKSB7XG4gICAgICAgIGlmIChcImJldHdlZW5cIiBpbiBldmVudFNwZWMpIHtcbiAgICAgICAgICAgIGNvbnN0IFtzdGFyRXZlbnQsIGVuZEV2ZW50XSA9IGV2ZW50U3BlYy5iZXR3ZWVuLCBpZCA9IGAke3N0YXJFdmVudC50eXBlfS0ke2V2ZW50U3BlYy50eXBlfS0ke2VuZEV2ZW50LnR5cGV9YDtcbiAgICAgICAgICAgIGxldCB1bmJpbmRFbmRFdmVudDtcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cyhPYmplY3QuYXNzaWduKHt9LCBzdGFyRXZlbnQsIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRDYWNoZSB8fCAodGhpcy5fZXZlbnRDYWNoZSA9IHt9KSwgIXRoaXMuX2V2ZW50Q2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1bmJpbmRFdmVudCA9IHRoaXMuYmluZEV2ZW50cyhldmVudFNwZWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRDYWNoZVtpZF0gPSB1bmJpbmRFdmVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1bmJpbmRFbmRFdmVudCB8fCAodW5iaW5kRW5kRXZlbnQgPSB0aGlzLmJpbmRFdmVudHMoT2JqZWN0LmFzc2lnbih7fSwgZW5kRXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRDYWNoZVtpZF0gJiYgKHRoaXMuX2V2ZW50Q2FjaGVbaWRdKCksIHRoaXMuX2V2ZW50Q2FjaGVbaWRdID0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2UgXCJtZXJnZVwiIGluIGV2ZW50U3BlYyA/IGV2ZW50U3BlYy5tZXJnZS5mb3JFYWNoKChlbnRyeSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzaW5nbGVFdmVudCA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50U3BlYyk7XG4gICAgICAgICAgICBpc1N0cmluZyhlbnRyeSkgPyBzaW5nbGVFdmVudC50eXBlID0gZW50cnkgOiBpc09iamVjdChlbnRyeSkgJiYgT2JqZWN0LmFzc2lnbihzaW5nbGVFdmVudCwgZW50cnkpLCBcbiAgICAgICAgICAgIHNpbmdsZUV2ZW50LmRlYm91bmNlID0gNTAsIHRoaXMuYmluZEV2ZW50cyhzaW5nbGVFdmVudCk7XG4gICAgICAgIH0pKSA6IHRoaXMuYmluZEV2ZW50cyhldmVudFNwZWMpO1xuICAgIH1cbiAgICBiaW5kRXZlbnRzKGV2ZW50U3BlYykge1xuICAgICAgICBpZiAodGhpcy5fZXZlbnRDb25maWcuZGlzYWJsZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB7dHlwZTogZXZ0VHlwZSwgZmlsdGVyOiBmaWx0ZXIsIGNhbGxiYWNrOiBjYWxsYmFjaywgdGhyb3R0bGU6IHRocm90dGxlLCBkZWJvdW5jZTogZGVib3VuY2UsIGNvbnN1bWU6IGNvbnN1bWUsIHRhcmdldDogdGFyZ2V0LCBkZXBlbmRlbmN5OiBkZXBlbmRlbmN5fSA9IGV2ZW50U3BlYywgZXZlbnRTZWxlY3RvciA9IHBhcnNlRXZlbnRTZWxlY3RvcihldnRUeXBlKTtcbiAgICAgICAgaWYgKCFldmVudFNlbGVjdG9yKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHtzb3VyY2U6IHNvdXJjZSwgdHlwZTogdHlwZX0gPSBldmVudFNlbGVjdG9yLCBtYXJrRmlsdGVyID0gZ2VuZXJhdGVGaWx0ZXJCeU1hcmsoZXZlbnRTZWxlY3RvciksIHZhbGlkYXRlU2lnbmFscyA9IChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgdGFyZ2V0Lmxlbmd0aCA/IHRhcmdldC5tYXAoKGVudHJ5ID0+ICh7XG4gICAgICAgICAgICBzaWduYWw6IHRoaXMuZ2V0U2lnbmFsQnlJZChlbnRyeS50YXJnZXQpLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGVudHJ5LmNhbGxiYWNrXG4gICAgICAgIH0pKSkgOiBbIHtcbiAgICAgICAgICAgIHNpZ25hbDogaXNTdHJpbmcodGFyZ2V0KSA/IHRoaXMuZ2V0U2lnbmFsQnlJZCh0YXJnZXQpIDogbnVsbCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgICB9IF0pLmZpbHRlcigoZW50cnkgPT4gZW50cnkuc2lnbmFsIHx8IGVudHJ5LmNhbGxiYWNrKSksIHJlZnMgPSBwYXJzZVJlZmVyZW5jZShkZXBlbmRlbmN5LCB0aGlzKSwgc2VuZCA9IHBhcnNlSGFuZGxlcigoZXZ0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5lZWRQcmV2ZW50RGVmYXVsdCA9IHNvdXJjZSA9PT0gRVZFTlRfU09VUkNFX1ZJRVcgJiYgcHJldmVudCh0aGlzLl9ldmVudENvbmZpZywgdHlwZSkgfHwgY29uc3VtZSAmJiAodm9pZCAwID09PSBldnQuY2FuY2VsYWJsZSB8fCBldnQuY2FuY2VsYWJsZSk7XG4gICAgICAgICAgICBzb3VyY2UgPT09IEVWRU5UX1NPVVJDRV9XSU5ET1cgJiYgKGV2dCA9IGdldEV4dGVuZGVkRXZlbnRzKHRoaXMsIGV2dCwgdHlwZSwgRVZFTlRfU09VUkNFX1dJTkRPVykpO1xuICAgICAgICAgICAgbGV0IGhhc0NvbW1pdHRlZCA9ICExO1xuICAgICAgICAgICAgaWYgKCghZmlsdGVyIHx8IGZpbHRlcihldnQpKSAmJiAoIW1hcmtGaWx0ZXIgfHwgbWFya0ZpbHRlcihldnQuZWxlbWVudCkpICYmIHZhbGlkYXRlU2lnbmFscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSByZWZzLnJlZHVjZSgoKHBhcmFtcywgcmVmKSA9PiAocGFyYW1zW3JlZi5pZCgpXSA9IHJlZi5vdXRwdXQoKSwgcGFyYW1zKSksIHt9KTtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZVNpZ25hbHMuZm9yRWFjaCgoZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuY2FsbGJhY2sgJiYgZW50cnkuc2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5zaWduYWwuc2V0KGVudHJ5LmNhbGxiYWNrKGV2dCwgcGFyYW1zKSkgJiYgKHRoaXMuY29tbWl0KGVudHJ5LnNpZ25hbCksIGhhc0NvbW1pdHRlZCA9ICEwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGVudHJ5LmNhbGxiYWNrID8gZW50cnkuY2FsbGJhY2soZXZ0LCBwYXJhbXMpIDogKHRoaXMuY29tbWl0KGVudHJ5LnNpZ25hbCksIFxuICAgICAgICAgICAgICAgICAgICBoYXNDb21taXR0ZWQgPSAhMCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmVlZFByZXZlbnREZWZhdWx0ICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpLCBjb25zdW1lICYmIGV2dC5zdG9wUHJvcGFnYXRpb24oKSwgaGFzQ29tbWl0dGVkICYmIHRoaXMucnVuKCk7XG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICB0aHJvdHRsZTogdGhyb3R0bGUsXG4gICAgICAgICAgICBkZWJvdW5jZTogZGVib3VuY2VcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IEVWRU5UX1NPVVJDRV9WSUVXKSB7XG4gICAgICAgICAgICBpZiAocGVybWl0KHRoaXMuX2V2ZW50Q29uZmlnLCBFVkVOVF9TT1VSQ0VfVklFVywgdHlwZSkpIHJldHVybiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgc2VuZCwgTk9fVFJBUCksIFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBzZW5kKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlID09PSBFVkVOVF9TT1VSQ0VfV0lORE9XKSByZXR1cm4gdmdsb2JhbC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHNlbmQpLCBcbiAgICAgICAgdGhpcy5fZXZlbnRMaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgc291cmNlOiB2Z2xvYmFsLFxuICAgICAgICAgICAgaGFuZGxlcjogc2VuZFxuICAgICAgICB9KSwgKCkgPT4ge1xuICAgICAgICAgICAgdmdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHNlbmQpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9ldmVudExpc3RlbmVycy5maW5kSW5kZXgoKGVudHJ5ID0+IGVudHJ5LnR5cGUgPT09IHR5cGUgJiYgZW50cnkuc291cmNlID09PSB2Z2xvYmFsICYmIGVudHJ5LmhhbmRsZXIgPT09IHNlbmQpKTtcbiAgICAgICAgICAgIGluZGV4ID49IDAgJiYgdGhpcy5fZXZlbnRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclZpZXdFdmVudHNBUEkgPSAoKSA9PiB7XG4gICAgbWl4aW4oVmlldywgVmlld0V2ZW50c01peGluKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LWV2ZW50LW1peGluLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-event-mixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-morph-mixin.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-morph-mixin.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerViewMorphAPI: () => (/* binding */ registerViewMorphAPI)\n/* harmony export */ });\n/* harmony import */ var _visactor_vutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @visactor/vutils */ \"(ssr)/./node_modules/.pnpm/@visactor+vutils@0.19.7/node_modules/@visactor/vutils/es/common/mixin.js\");\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./View */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/View.js\");\n/* harmony import */ var _graph_animation_morph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../graph/animation/morph */ \"(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/graph/animation/morph.js\");\n\n\n\n\n\n\nclass ViewMorphMixin {\n    morph(normalizedRunningConfig) {\n        var _a;\n        null === (_a = this._willMorphMarks) || void 0 === _a || _a.forEach((morphMarks => {\n            (0,_graph_animation_morph__WEBPACK_IMPORTED_MODULE_0__.morph)(morphMarks.prev, morphMarks.next, normalizedRunningConfig);\n        })), this._willMorphMarks = null;\n    }\n    addMorphMarks(mark) {\n        this._willMorphMarks || (this._willMorphMarks = []), this._willMorphMarks.push(mark);\n    }\n}\n\nconst registerViewMorphAPI = () => {\n    (0,_visactor_vutils__WEBPACK_IMPORTED_MODULE_1__.mixin)(_View__WEBPACK_IMPORTED_MODULE_2__[\"default\"], ViewMorphMixin);\n};\n//# sourceMappingURL=view-morph-mixin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpc2FjdG9yK3ZncmFtbWFyLWNvcmVAMC4xNi4xMS9ub2RlX21vZHVsZXMvQHZpc2FjdG9yL3ZncmFtbWFyLWNvcmUvZXMvdmlldy92aWV3LW1vcnBoLW1peGluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7O0FBRWY7O0FBRXVCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQUs7QUFDakIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUCxJQUFJLHVEQUFLLENBQUMsNkNBQUk7QUFDZDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlzYWN0b3ItbmV4dC10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmlzYWN0b3IrdmdyYW1tYXItY29yZUAwLjE2LjExL25vZGVfbW9kdWxlcy9AdmlzYWN0b3IvdmdyYW1tYXItY29yZS9lcy92aWV3L3ZpZXctbW9ycGgtbWl4aW4uanM/ZWYzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtaXhpbiB9IGZyb20gXCJAdmlzYWN0b3IvdnV0aWxzXCI7XG5cbmltcG9ydCBWaWV3IGZyb20gXCIuL1ZpZXdcIjtcblxuaW1wb3J0IHsgbW9ycGggfSBmcm9tIFwiLi4vZ3JhcGgvYW5pbWF0aW9uL21vcnBoXCI7XG5cbmNsYXNzIFZpZXdNb3JwaE1peGluIHtcbiAgICBtb3JwaChub3JtYWxpemVkUnVubmluZ0NvbmZpZykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIG51bGwgPT09IChfYSA9IHRoaXMuX3dpbGxNb3JwaE1hcmtzKSB8fCB2b2lkIDAgPT09IF9hIHx8IF9hLmZvckVhY2goKG1vcnBoTWFya3MgPT4ge1xuICAgICAgICAgICAgbW9ycGgobW9ycGhNYXJrcy5wcmV2LCBtb3JwaE1hcmtzLm5leHQsIG5vcm1hbGl6ZWRSdW5uaW5nQ29uZmlnKTtcbiAgICAgICAgfSkpLCB0aGlzLl93aWxsTW9ycGhNYXJrcyA9IG51bGw7XG4gICAgfVxuICAgIGFkZE1vcnBoTWFya3MobWFyaykge1xuICAgICAgICB0aGlzLl93aWxsTW9ycGhNYXJrcyB8fCAodGhpcy5fd2lsbE1vcnBoTWFya3MgPSBbXSksIHRoaXMuX3dpbGxNb3JwaE1hcmtzLnB1c2gobWFyayk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJWaWV3TW9ycGhBUEkgPSAoKSA9PiB7XG4gICAgbWl4aW4oVmlldywgVmlld01vcnBoTWl4aW4pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXctbW9ycGgtbWl4aW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@visactor+vgrammar-core@0.16.11/node_modules/@visactor/vgrammar-core/es/view/view-morph-mixin.js\n");

/***/ })

};
;